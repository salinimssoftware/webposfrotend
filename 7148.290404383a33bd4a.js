(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[7148],{49457:function(R,M){var p;void 0!==(p=function(){"use strict";function h(m,_,E){var b=new XMLHttpRequest;b.open("GET",m),b.responseType="blob",b.onload=function(){N(b.response,_,E)},b.onerror=function(){console.error("could not download file")},b.send()}function t(m){var _=new XMLHttpRequest;_.open("HEAD",m,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function g(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(_)}}var C="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,v=C.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),N=C.saveAs||("object"!=typeof window||window!==C?function(){}:"download"in HTMLAnchorElement.prototype&&!v?function(m,_,E){var b=C.URL||C.webkitURL,A=document.createElement("a");A.download=_=_||m.name||"download",A.rel="noopener","string"==typeof m?(A.href=m,A.origin===location.origin?g(A):t(A.href)?h(m,_,E):g(A,A.target="_blank")):(A.href=b.createObjectURL(m),setTimeout(function(){b.revokeObjectURL(A.href)},4e4),setTimeout(function(){g(A)},0))}:"msSaveOrOpenBlob"in navigator?function(m,_,E){if(_=_||m.name||"download","string"!=typeof m)navigator.msSaveOrOpenBlob(function a(m,_){return typeof _>"u"?_={autoBom:!1}:"object"!=typeof _&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\ufeff",m],{type:m.type}):m}(m,E),_);else if(t(m))h(m,_,E);else{var b=document.createElement("a");b.href=m,b.target="_blank",setTimeout(function(){g(b)})}}:function(m,_,E,b){if((b=b||open("","_blank"))&&(b.document.title=b.document.body.innerText="downloading..."),"string"==typeof m)return h(m,_,E);var A="application/octet-stream"===m.type,S=/constructor/i.test(C.HTMLElement)||C.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||A&&S||v)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var y=I.result;y=P?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=y:location=y,b=null},I.readAsDataURL(m)}else{var U=C.URL||C.webkitURL,D=U.createObjectURL(m);b?b.location=D:location.href=D,b=null,setTimeout(function(){U.revokeObjectURL(D)},4e4)}});C.saveAs=N.saveAs=N,R.exports=N}.apply(M,[]))&&(R.exports=p)},39773:(R,M,l)=>{"use strict";l.d(M,{X:()=>a});var f=l(88692),p=l(64537);let a=(()=>{class h{static forRoot(){return{ngModule:h}}}return h.\u0275fac=function(g){return new(g||h)},h.\u0275mod=p.oAB({type:h}),h.\u0275inj=p.cJS({imports:[f.ez]}),h})()},8630:(R,M,l)=>{"use strict";l.d(M,{n:()=>h});var f=l(64537),p=l(67297),a=l(53074);let h=(()=>{class t{constructor(C,v,N,m){this.authService=C,this.el=v,this.renderer=N,this.masterService=m,this.disallowSalesRateChangeValue=!1}ngOnInit(){this.userSetting=this.authService.getSetting();let C=this.masterService.userProfile.userRights.find(v=>"AllowRateChangeInSO"==v.right);C&&0==C?.value&&(this.disallowSalesRateChangeValue=!0,this.renderer.setAttribute(this.el.nativeElement,"disabled","true"))}disallowSalesRateChange(){return this.disallowSalesRateChangeValue}}return t.\u0275fac=function(C){return new(C||t)(f.Y36(p.e),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(a.P))},t.\u0275dir=f.lG2({type:t,selectors:[["","appSalesRateDisableFromUserProfile",""]],exportAs:["appSalesRateDisableFromUserProfile"]}),t})()},92849:(R,M,l)=>{"use strict";l.d(M,{S:()=>a});var f=l(88692),p=l(64537);let a=(()=>{class h{}return h.\u0275fac=function(g){return new(g||h)},h.\u0275mod=p.oAB({type:h}),h.\u0275inj=p.cJS({imports:[f.ez]}),h})()},55618:(R,M,l)=>{"use strict";l.d(M,{c:()=>m});var f=l(88692),p=l(71800),a=l(72533),h=l(18488),t=l(53074),g=l(20092),C=l(47766),v=l(64537);let N=(()=>{class _{static forRoot(){return{ngModule:_}}}return _.\u0275fac=function(b){return new(b||_)},_.\u0275mod=v.oAB({type:_}),_.\u0275inj=v.cJS({imports:[f.ez,g.u5,g.UX,a.JX]}),_})(),m=(()=>{class _{static forRoot(){return{ngModule:_,providers:[t.P,h.G]}}}return _.\u0275fac=function(b){return new(b||_)},_.\u0275mod=v.oAB({type:_}),_.\u0275inj=v.cJS({imports:[f.ez,p.zk.forRoot(),a.JX,f.ez,g.u5,g.UX,C.e,N.forRoot()]}),_})()},53158:(R,M,l)=>{"use strict";l.d(M,{i:()=>t});var f=l(88692),p=l(72533),a=l(20092),h=l(64537);let t=(()=>{class g{static forRoot(){return{ngModule:g}}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275mod=h.oAB({type:g}),g.\u0275inj=h.cJS({imports:[f.ez,a.u5,a.UX,p.JX]}),g})()},77879:(R,M,l)=>{"use strict";l.d(M,{H:()=>a});var f=l(64537),p=l(53074);let a=(()=>{class h{constructor(g){this.masterRepo=g}ngOnInit(){}isOldFYearDB(){return 1===this.masterRepo.userSetting.IsOldFyearDB}}return h.\u0275fac=function(g){return new(g||h)(f.Y36(p.P))},h.\u0275dir=f.lG2({type:h,selectors:[["","appOldFYearDB",""]],exportAs:["appOldFYearDB"]}),h})()},27148:(R,M,l)=>{"use strict";l.r(M),l.d(M,{ProductMasterModule:()=>Eo});var f=l(56893),p=l(88692),a=l(20092),h=l(7976),t=l(64537),g=l(51405),C=l(67297),v=l(47767),N=l(79765),m=l(19344),_=l(49457),E=l(38011),b=l(92340),A=l(40216),S=l(67311),P=l(53074),I=l(69389),U=l(14970),D=l(97811),y=l(77879);const it=["*"];let F=(()=>{class r{constructor(){this.active=!1}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["hometab"]],inputs:{title:["tabTitle","title"],active:"active"},ngContentSelectors:it,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&e&&t.Q6J("hidden",!n.active)},styles:[".pane[_ngcontent-%COMP%]{padding:0}"]}),r})();var L=l(91605);function rt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tab",2)(1,"alternateunittab",6),t.NdJ("returnsaveObj",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(o))}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("tabTitle","Alternate Unit"),t.xp6(1),t.Q6J("productObj",e.productObj)("AlternateUnits",e.AlternateUnits)}}function st(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tab",2)(1,"inventorycontroltab",7),t.NdJ("returnsaveObj",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(o))}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("tabTitle","Inventory Control"),t.xp6(1),t.Q6J("productObj",e.productObj)("mode",e.mode)}}function ct(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tab",2)(1,"itemwise-acc",8),t.NdJ("returnsaveObj",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(o))}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("tabTitle","Account Mapping"),t.xp6(1),t.Q6J("productObj",e.productObj)}}function at(r,s){if(1&r&&(t.TgZ(0,"tab",2),t._UZ(1,"multipleretail-price",9),t.qZA()),2&r){const e=t.oxw();t.Q6J("tabTitle","Multiple Retail Price"),t.xp6(1),t.Q6J("productObj",e.productObj)("mode",e.mode)("PMultipleRetailPrice",e.PMultipleRetailPrice)("PBarCodeCollection",e.PBarCodeCollection)("AlternateUnits",e.AlternateUnits)}}function lt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tab",2)(1,"imageuploadtab",8),t.NdJ("returnsaveObj",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(o))}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("tabTitle","Image Upload"),t.xp6(1),t.Q6J("productObj",e.productObj)}}function dt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tab",2)(1,"itemwise-price",8),t.NdJ("returnsaveObj",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(o))}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("tabTitle","Batch Wise Price"),t.xp6(1),t.Q6J("productObj",e.productObj)}}function ut(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tab",2)(1,"yieldtab",10),t.NdJ("returnsaveObj",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(o))}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("tabTitle","Yield"),t.xp6(1),t.Q6J("productObj",e.productObj)("PYieldCollection",e.PYieldCollection)}}let q=(()=>{class r{constructor(e,n){this.setting=e,this.masterService=n,this.productObj={},this.AlternateUnits=[],this.RGLIST=[],this.mode="",this.PBarCodeCollection=[],this.PYieldCollection=[],this.PMultipleRetailPrice=[],this.BrandModelList=[],this.subscribeonevalue=0,this.AppMode=b.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(o){alert(o)}}returnsaveObj(e){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(I.R),t.Y36(P.P))},r.\u0275cmp=t.Xpm({type:r,selectors:[["productmastertab"]],inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits",RGLIST:"RGLIST",mode:"mode",PBarCodeCollection:"PBarCodeCollection",PYieldCollection:"PYieldCollection",PMultipleRetailPrice:"PMultipleRetailPrice",BrandModelList:"BrandModelList",EnableMultiStockLevel:"EnableMultiStockLevel",settingData:"settingData"},decls:13,vars:15,consts:[[1,"col-md-12",2,"margin-left","-10px","margin-top","-15px"],[2,"padding","0px 2px 0px 2px"],[3,"tabTitle"],[3,"productObj","AlternateUnits","mode","returnsaveObj"],[3,"tabTitle",4,"ngIf"],[3,"productObj","PBarCodeCollection","AlternateUnits","returnsaveObj"],[3,"productObj","AlternateUnits","returnsaveObj"],[3,"productObj","mode","returnsaveObj"],[3,"productObj","returnsaveObj"],[3,"productObj","mode","PMultipleRetailPrice","PBarCodeCollection","AlternateUnits"],[3,"productObj","PYieldCollection","returnsaveObj"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"tabs",1)(2,"tab",2)(3,"Detail_Information",3),t.NdJ("returnsaveObj",function(i){return n.returnsaveObj(i)}),t.qZA()(),t.YNc(4,rt,2,3,"tab",4),t.YNc(5,st,2,3,"tab",4),t.TgZ(6,"tab",2)(7,"barcodetab",5),t.NdJ("returnsaveObj",function(i){return n.returnsaveObj(i)}),t.qZA()(),t.YNc(8,ct,2,2,"tab",4),t.YNc(9,at,2,6,"tab",4),t.YNc(10,lt,2,2,"tab",4),t.YNc(11,dt,2,2,"tab",4),t.YNc(12,ut,2,3,"tab",4),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("tabTitle","Detailed Information"),t.xp6(1),t.Q6J("productObj",n.productObj)("AlternateUnits",n.AlternateUnits)("mode",n.mode),t.xp6(1),t.Q6J("ngIf","lite"!=n.AppMode),t.xp6(1),t.Q6J("ngIf","lite"!=n.AppMode),t.xp6(1),t.Q6J("tabTitle","Barcode Mapping"),t.xp6(1),t.Q6J("productObj",n.productObj)("PBarCodeCollection",n.PBarCodeCollection)("AlternateUnits",n.AlternateUnits),t.xp6(1),t.Q6J("ngIf",1==n.masterService.userSetting.EnableProductWiseAccMapping&&"lite"!=n.AppMode),t.xp6(1),t.Q6J("ngIf",1==n.masterService.userSetting.ENABLESINGLEBATCHMODE&&"lite"!=n.AppMode),t.xp6(1),t.Q6J("ngIf","lite"!=n.AppMode),t.xp6(1),t.Q6J("ngIf",0==n.masterService.userSetting.ENABLESINGLEBATCHMODE&&"lite"!=n.AppMode),t.xp6(1),t.Q6J("ngIf",1==n.masterService.userSetting.EnableServiceCharge))},encapsulation:2}),r})();const pt=["childModal"],gt=["smBrand"],_t=["smModel"],ht=["loginModal"],mt=["brandtree"];function bt(r,s){if(1&r&&(t.TgZ(0,"div",20)(1,"label",21),t._uU(2,"Item Stock :"),t.qZA(),t.TgZ(3,"label",22),t._uU(4),t.qZA()()),2&r){const e=t.oxw();t.xp6(4),t.Oqu(e.productObj.AVAILABLESTOCK)}}function Ct(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",23,24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSave())}),t._uU(2," Save [End] "),t.qZA()}if(2&r){const e=t.MAs(1);t.Q6J("disabled",e.isOldFYearDB())}}function ft(r,s){1&r&&t._UZ(0,"brand-tree",null,25)}let H=(()=>{class r{constructor(e,n,o,i,c,u,d,x,j){this._loadingService=e,this._alertService=n,this.ProductService=o,this.masterService=i,this.router=c,this.activatedRoute=u,this.setting=d,this.authservice=x,this.fb=j,this.AlternateUnits=[],this.tab={},this.activeTabEmit=new t.vpe,this.productObj={},this.returnsaveObj=new t.vpe,this.selectedGroupInfo={},this.mode="add",this.DialogMessage="Saving data please wait ...",this.modeTitle="",this.initialTextReadOnly=!1,this.SetDIChecked=!1,this.Units=[],this.RGLIST=[],this.MCat1List=[],this.MCatList=[],this.SupplierList=[],this.KotCategoryList=[],this.BrandList=[],this.ModelList=[],this.AllModelList=[],this.WarehouseList=[],this.PBarCodeCollection=[],this.PYieldCollection=[],this.PMultipleRetailPrice=[],this.BrandModelList=[],this.SelectedModel={},this.subscriptions=[],this.BrandObject={},this.userProfile={},this.showBrand=!1,this.PBarCode={},this.disableSave=!1,this.disableAll=!1,this.imgUrl="",this.accountList=[],this.appType=this.masterService.appType,this.userProfile=this.authservice.getUserProfile(),this.OrgType=this.userProfile.CompanyInfo.ORG_TYPE,this.settingData=this.authservice.getSetting();try{this.showBrand=!1,this.AppSettings=this.setting.appSetting,this.SelectedModel.ModelId="";let T=this.masterService.apiUrl;this.imgUrl=T.substring(T.length-3,0),this.masterService.productImgURL=""}catch(T){this._alertService.error(T)}}ngOnChanges(e){if(console.log(this.productObj,"input product obj in ngOnChanges"),e.selectedGroupInfo)if(null!=this.selectedGroupInfo){if("add"==this.tab.mode){if(this.Parent=this.selectedGroupInfo.DESCA,this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.ItemCostCenter=this.selectedGroupInfo.ItemCostCenter,this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.MENUCODE=this.selectedGroupInfo?.MENUCODE,this.masterService.userSetting.ITEMGROUPCODELEVEL>this.selectedGroupInfo.LEVEL)return this.disableAll=!0,this.productObj.MENUCODE="",void(this.productObj.DESCA="");console.log("product object watch",this.productObj.MCAT),this.disableAll=!1,0==this.masterService.userSetting.AUTOCODEMODE&&this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE,this.selectedGroupInfo.MCAT),this.PBarCodeCollection=[]}else if("edit"==this.tab.mode){if(console.log("selecred group info",this.selectedGroupInfo),this.masterService.userSetting.ITEMGROUPCODELEVEL>this.selectedGroupInfo.LEVEL)return this.disableAll=!0,this.productObj.MENUCODE="",this.productObj.BASEUNIT="",void(this.productObj.MCAT="");this.disableAll=!1,"PRG99999999"==this.selectedGroupInfo.PARENT?(console.log("MAIN GROUP CHANGED",this.selectedGroupInfo.MGROUP,this.tempMGROUP),this.selectedGroupInfo.MGROUP==this.tempMGROUP?this.productObj.MENUCODE=this.tempMENUCODE:1==this.masterService.userSetting.EnableMenucodeGenerationInEdit&&(console.log("generate menu code in edit",this.productObj.MCAT),this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE,this.selectedGroupInfo.MCAT))):(console.log("NOT PARENT PRG99999"),this.masterService.userSetting.ITEMGROUPCODELEVEL>1&&(console.log("not parent  PRG999",this.selectedGroupInfo.MCODE,this.tempPARENT),this.selectedGroupInfo.MCODE==this.tempPARENT?this.productObj.MENUCODE=this.tempMENUCODE:1==this.masterService.userSetting.EnableMenucodeGenerationInEdit&&(console.log("watch mcode in edit",this.productObj.MCAT),this.generateUniqueKey(this.selectedGroupInfo.MGROUP,this.selectedGroupInfo.MCODE,this.selectedGroupInfo.MCAT)))),this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.ItemCostCenter=this.selectedGroupInfo.ItemCostCenter}}else this.Parent=""}ngAfterViewInit(){this.masterService.getMotherPack().subscribe(e=>{this.BrandList.push(e)}),0===this.AppSettings.GblMultiBrandModel&&this.masterService.getModelList().subscribe(e=>{this.AllModelList.push(e)}),this.masterService.getMCat1List().subscribe(e=>{this.MCat1List.push(e)})}ngOnInit(){0==this.masterService.userSetting.MANUALCODE?setTimeout(()=>{document.getElementById("mainGroup").focus()},500):setTimeout(()=>{document.getElementById("productCode").focus()},500),"add"==this.tab.mode&&this.uniqueKey(),this.form=this.fb.group({MENUCODE:["",a.kI.required]});try{this.mode=this.tab.mode,this.productObj.Weighable="kg",this.productObj.COLOR="",this.productObj.VOLUME="",this.productObj.SETTING="no",this.productObj.STATUS=1,this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0;let e=this;this.productObj.ItemRateDiscount={},this.productObj.MultiStockLevels=[],null!=this.tab.mode&&null!=this.tab.mcode?(this._loadingService.show("Please wait.Loading Data"),this.ProductService.getProductForEdit(this.tab.mcode).subscribe(n=>{if(console.log("get product for edit !!@@",n),"ok"===n.status){this.masterService.isAddFormShown_1=!0,this.productObj=n.result,console.log("product check after edit",this.productObj),this.masterService.ProductMcode=this.productObj.MCODE,this.productObj.MARGIN=this.productObj.RECRATE;let o=n.result.CRATE>0?n.result.CRATE:n.result.PRATE_A;this.ProductService.pObj.RecMarginOnPRate=o>0?100*(n.result.RATE_A-o)/o:0,this.productObj.ItemWisePrice.forEach(c=>{c.EXPDATE="0001-01-01T00:00:00"==c.EXPDATE?"":c.EXPDATE.toString().substring(0,10)}),this.ProductService.pObj.RecMarginOnRate=this.productObj.SMARGIN,this.ProductService.TempProductObj.RATE_A=Number(n.result.RATE_A).toFixed(2),this.ProductService.TempProductObj.RATE_B=Number(n.result.RATE_B).toFixed(2),this.ProductService.TempProductObj.RATE_C=Number(n.result.RATE_C).toFixed(2),this.ProductService.TempProductObj.PRATE_A=Number(n.result.PRATE_A).toFixed(2),this.ProductService.TempProductObj.IN_RATE_A=Number(n.result.IN_RATE_A).toFixed(2),this.ProductService.TempProductObj.IN_PRATE_A=Number(n.result.IN_PRATE_A).toFixed(2),this.ProductService.TempProductObj.IN_RATE_B=Number(n.result.IN_RATE_B).toFixed(2),this.ProductService.TempProductObj.IN_RATE_C=Number(n.result.IN_RATE_C).toFixed(2),this.ProductService.TempProductObj.ECSRATE=n.result.ECSRATE,this.masterService.isGroup=!1,this.masterService.editMode=!0,this.masterService.productImgURL=this.imgUrl+this.productObj.ImageUpload+"",this.tempMGROUP=this.productObj.MGROUP,this.tempMENUCODE=this.productObj.MENUCODE,this.tempPARENT=this.productObj.PARENT,this.PMultipleRetailPrice=this.productObj.MultipleRetailPrice,console.log("product parent",this.productObj.PARENT),this.ProductService.getProductInfo(this.productObj.PARENT).subscribe(c=>{this.selectedGroupInfo=c.result[0],"edit"==this.mode&&1==this.masterService.userSetting.AUTOCODEMODE&&(this.selectedGroupInfo.MENUCODE=this.productObj.MENUCODE,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP),console.log("seleccted group ma haleko",this.selectedGroupInfo)});let i=n.result2[0];this.masterService.groupSelectObj.MGROUP=i.L1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.MGROUP).subscribe(c=>{c.length>0?(this.masterService.subGroupAList=c,this.masterService.groupSelectObj.SUBGROUP_A=i.L2,this.masterService.disabledSubgroupA=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_A).subscribe(u=>{u.length>0?(this.masterService.subGroupBList=u,this.masterService.groupSelectObj.SUBGROUP_B=i.L3,this.masterService.disabledSubgroupB=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_B).subscribe(d=>{d.length>0?(this.masterService.subGroupCList=d,this.masterService.groupSelectObj.SUBGROUP_C=i.L4,this.masterService.disabledSubgroupC=!1):this.masterService.disabledSubgroupC=!0})):this.masterService.disabledSubgroupB=!0})):this.masterService.disabledSubgroupA=!0}),this.productObj.SupplierName&&(this.ProductService.suppilierName=this.productObj.SupplierName),this.productObj.SUPCODE&&!this.productObj.SupplierName&&this.masterService.getCustomerByACID(this.productObj.SUPCODE).subscribe(c=>{c&&(this.ProductService.suppilierName=c[0].ACNAME)}),0==this.masterService.nullToZeroConverter(this.productObj.DISAMOUNT)?(this.ProductService.pObj.DiscountValue=this.productObj.DISRATE,this.ProductService.pObj.Dismode=1):0==this.masterService.nullToZeroConverter(this.productObj.DISRATE)&&(this.ProductService.pObj.DiscountValue=this.productObj.DISAMOUNT,this.ProductService.pObj.Dismode=0),this.ProductService.checkProductTransaction(this.tab.mcode).subscribe(c=>{this.masterService.disableOnCheckTran="BLOCK"==c}),1==this.masterService.userSetting.EnableProductWiseAccMapping&&this.masterService.getAcList().subscribe(c=>{this.accountList=c;let u=this.accountList.filter(d=>d.ACID==this.productObj.SAC||d.ACID==this.productObj.SRAC||d.ACID==this.productObj.PAC||d.ACID==this.productObj.PRAC);u.length>0&&(this.productObj.SAC_ACNAME=u.filter(d=>d.ACID==this.productObj.SAC).length>0?u.filter(d=>d.ACID==this.productObj.SAC)[0].ACNAME:"",this.productObj.SRAC_ACNAME=u.filter(d=>d.ACID==this.productObj.SRAC).length>0?u.filter(d=>d.ACID==this.productObj.SRAC)[0].ACNAME:"",this.productObj.PAC_ACNAME=u.filter(d=>d.ACID==this.productObj.PAC).length>0?u.filter(d=>d.ACID==this.productObj.PAC)[0].ACNAME:"",this.productObj.PRAC_ACNAME=u.filter(d=>d.ACID==this.productObj.PRAC).length>0?u.filter(d=>d.ACID==this.productObj.PRAC)[0].ACNAME:"")}),this.ProductService.isrowClicked=!0,this.BrandObject=this.BrandList.filter(c=>c.BrandId===n.result.BRAND)[0],e.mode="edit",e.modeTitle="Edit Product",e.initialTextReadOnly=!0,this.productObj.Location=n.result.SelectedLocationList,this._loadingService.hide()}else this.mode="",this.modeTitle="Edit -Error in Product",this.initialTextReadOnly=!0},n=>{this._loadingService.hide(),this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - getProductForEdit")}),this.ProductService.getListFromKey("/GetMultiBrandModeByMCode/",this.tab.mcode).subscribe(n=>{if("ok"===n.status){let o=n.result;this.BrandModelList=[],o.forEach(i=>{this.BrandModelList.push(i)})}},n=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - getMultiBrandModelForEdit")}),this.ProductService.getListFromKey("/GetAlternateUnitList/",this.tab.mcode).subscribe(n=>{"ok"===n.status&&n.result.forEach(i=>{this.AlternateUnits.push(i)})},n=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - GetAlternateUnitListForEdit")}),this.ProductService.getListFromKey("/GetBarcodeMappingList/",this.tab.mcode).subscribe(n=>{"ok"===n.status&&n.result.forEach(i=>{this.PBarCodeCollection.push(i)})},n=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - GetBarcodeMappingListForEdit")}),this.ProductService.getListFromKey("/getProductYield/",this.tab.mcode).subscribe(n=>{"ok"===n.status&&n.result.forEach(i=>{this.PYieldCollection.push(i)})},n=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(n,"addproducts (ProductMaster) - GetYieldListForEdit")}),console.log("barcode mapping on edit",this.PBarCodeCollection)):(console.log("product new"),this.productObj.guid=L(),this.mode="add",this.modeTitle="Add Product",this.initialTextReadOnly=!1,this._loadingService.hide())}catch(e){this._alertService.error(e)}}onChangeProdCode(e){1==this.masterService.userSetting.MANUALCODE&&(this.productObj.MENUCODE=e)}uniqueKey(){(0==this.masterService.userSetting.MANUALCODE||1==this.masterService.userSetting.MANUALCODE)&&(console.log("CheckProfdu",this.masterService.TreeID,this.masterService.SelectedProductGrpID),this.masterService.TreeID&&(console.log("seleced group ID",this.getTreeNodeValueObj.id),(1==this.masterService.userSetting.AUTOCODEMODE||0==this.masterService.userSetting.MANUALCODE)&&this.ProductService.getAutoGenerateMenuCode(this.masterService.TreeID,this.masterService.SelectedProductGrpID).subscribe(e=>{"ok"==e.status&&(this.productObj.MENUCODE=e.result)}),this.masterService.SelectedProductGrpID&&(this.ProductService.getProductInfo(this.masterService.SelectedProductGrpID).subscribe(e=>{this.selectedGroupInfo=e.result[0],this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.selectedGroupInfo.MENUCODE=this.productObj.MENUCODE,this.productObj.ItemCostCenter=this.selectedGroupInfo.ItemCostCenter}),this.ProductService.getGroupHierarchy(this.getTreeNodeValueObj.id).subscribe(e=>{let n=e[0];this.masterService.groupSelectObj.MGROUP=n.L1,this.productObj.MGROUP=n.L1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.MGROUP).subscribe(o=>{o.length>0?(this.masterService.subGroupAList=o,this.masterService.groupSelectObj.SUBGROUP_A=n.L2,this.masterService.disabledSubgroupA=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_A).subscribe(i=>{i.length>0?(this.masterService.subGroupBList=i,this.masterService.groupSelectObj.SUBGROUP_B=n.L3,this.masterService.disabledSubgroupB=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_B).subscribe(c=>{c.length>0?(this.masterService.subGroupCList=c,this.masterService.groupSelectObj.SUBGROUP_C=n.L4,this.masterService.disabledSubgroupC=!1):this.masterService.disabledSubgroupC=!0})):this.masterService.disabledSubgroupB=!0})):this.masterService.disabledSubgroupA=!0})}))))}generateUniqueKey(e,n,o){1==this.masterService.userSetting.AUTOCODEMODE?this.ProductService.getAutoGenerateMenuCode(e,n,o).subscribe(i=>{"ok"==i.status&&(this.productObj.MENUCODE=i.result,this.selectedGroupInfo.MENUCODE=i.result)}):this.ProductService.getAutoGenerateMenuCode(e,n).subscribe(i=>{"ok"==i.status&&(this.productObj.MENUCODE=i.result)})}ngOnDestroy(){try{this.subscriptions.forEach(e=>{e.unsubscribe()})}catch(e){this._alertService.error(e)}}onSave(){try{if(this.masterService.userSetting.ITEMGROUPCODELEVEL>1&&this.masterService.userSetting.ITEMGROUPCODELEVEL>this.masterService.ITEM_LEVEL)return void this._alertService.info("Cannot Add Product In This Level!!");this.onSaveClicked()}catch(e){this._alertService.error(e)}}onSaveClicked(){if(1==this.masterService.userSetting.EnableItemWiseLocationMapping&&this.productObj?.Location){let e=[];this.productObj?.Location.forEach(n=>{e.push(n.NAME)}),this.productObj.Location=e.length>0?e.toString():""}else this.productObj.Location="";try{if(null!=this.productObj.SubCatA&&""!=this.productObj.SubCatA&&null!=this.productObj.SubCatA||null!=this.productObj.SubCatB&&""!=this.productObj.SubCatB&&null!=this.productObj.SubCatB?""==this.productObj.SubCatA&&null==this.productObj.SubCatA&&null==this.productObj.SubCatA||""!=this.productObj.SubCatB&&null!=this.productObj.SubCatB&&null!=this.productObj.SubCatB?(""!=this.productObj.SubCatB||null!=this.productObj.SubCatB||null!=this.productObj.SubCatB)&&(this.productObj.MCAT=this.productObj.SubCatB):this.productObj.MCAT=this.productObj.SubCatA:this.productObj.MCAT=this.productObj.MCAT,this.productObj.PCL="pc002",this.productObj.TYPE="A",this.productObj.LEVELS=0,"edit"!=this.mode&&(this.productObj.MCODE=this.productObj.MENUCODE),1==this.masterService.userSetting.AUTOCODEMODE&&(this.productObj.MENUCODE?this.selectedGroupInfo.MENUCODE=this.productObj.MENUCODE:this.productObj.MENUCODE=this.selectedGroupInfo.MENUCODE,this.productObj.MGROUP=this.masterService.groupSelectObj.MGROUP),1==this.masterService.userSetting.AUTOCODEMODE&&(this.masterService.groupSelectObj.SUBGROUP_B?this.productObj.PARENT=this.masterService.groupSelectObj.SUBGROUP_B:""!=this.masterService.groupSelectObj.SUBGROUP_B&&null!=this.masterService.groupSelectObj.SUBGROUP_B&&null!=this.masterService.groupSelectObj.SUBGROUP_B||!this.masterService.groupSelectObj.SUBGROUP_A?(""==this.masterService.groupSelectObj.SUBGROUP_B||null==this.masterService.groupSelectObj.SUBGROUP_B||null==this.masterService.groupSelectObj.SUBGROUP_B)&&(""==this.masterService.groupSelectObj.SUBGROUP_A||null==this.masterService.groupSelectObj.SUBGROUP_A||null==this.masterService.groupSelectObj.SUBGROUP_A)&&this.masterService.groupSelectObj.MGROUP&&(this.productObj.PARENT=this.masterService.groupSelectObj.MGROUP):this.productObj.PARENT=this.masterService.groupSelectObj.SUBGROUP_A),!this.masterService.groupSelectObj.MGROUP)return void this._alertService.warning("Major group is required for the item");if(1!=this.masterService.userSetting.AUTOCODEMODE&&!this.productObj.MGROUP)return void this._alertService.warning("Major group is required for the item");if(!this.productObj.BASEUNIT)return void this._alertService.warning("Base unit is required");if(!this.productObj.DISMODE)return void this._alertService.warning("Discount Mode is required");if(!this.productObj.MCAT&&1!=this.masterService.userSetting.AUTOCODEMODE)return void this._alertService.warning("Category is required");if(this.productObj.ROLEVEL<this.productObj.MINLEVEL)return void this._alertService.warning("Re-Order level cannot be less than Min-stock level");if(this.productObj.ROLEVEL>this.productObj.MAXLEVEL)return void this._alertService.warning("Re-Order level cannot be greater than Max-stock level");if(this.productObj.MINLEVEL>this.productObj.MAXLEVEL)return void this._alertService.warning("Min-stock level cannot be greater than Max-stock level");if(this.masterService.userSetting.CompulsoryHSCodeInput&&!this.productObj.HSNCode)return void this._alertService.warning("HS Code is required");if("edit"!=this.mode&&(this.productObj.FCODE=1==this.masterService.userSetting.MANUALCODE?0:Number(this.productObj.MENUCODE)),"edit"==this.mode&&this.productObj.MENUCODE!=this.tempMENUCODE){let o={};o.BCODE=this.productObj.MENUCODE,o.MCODE=this.productObj.MCODE,o.UNIT=this.productObj.BASEUNIT,o.MRP=this.productObj.IN_RATE_A,o.MRP_WO_VAT=this.productObj.RATE_A,o.SRATE=this.productObj.RATE_A,o.DISCONTINUE=0,console.log("new brcode",o);let i=this.PBarCodeCollection.filter(c=>c.BCODE==this.productObj.MENUCODE);console.log("duplicatebc",i),0==i.length&&this.PBarCodeCollection.push(o),this.PBarCodeCollection.forEach(c=>{c.BCODE==this.tempMENUCODE&&(c.DISCONTINUE=1)})}if(this.SetDIChecked=!0,""===this.productObj.MENUCODE||null==this.productObj.MENUCODE||void 0===this.productObj.MENUCODE)return void this._alertService.error("Product Code is required");if(""===this.productObj.DESCA||null==this.productObj.DESCA||void 0===this.productObj.DESCA)return void this._alertService.error("Product Name is required");let e=this.productObj;e.Parent=null,this._loadingService.show("Please wait! Saving Product"),this.productObj.RECRATE=this.productObj.MARGIN,this.productObj.MARGIN=this.ProductService.pObj.RecMarginOnPRate,this.productObj.SMARGIN=this.ProductService.pObj.RecMarginOnPRate,this.productObj.MRP=this.productObj.IN_RATE_A,"add"===this.mode&&this.AddBCode(),this.returnsaveObj.emit(this.productObj),1==this.masterService.userSetting.EnableProductWiseAccMapping&&((null===e.SAC||""===e.SAC||void 0===e.SAC)&&(e.SAC=this.masterService.userSetting.SalesAc),(null===e.SRAC||""===e.SRAC||void 0===e.SRAC)&&(e.SRAC=this.masterService.userSetting.SalesReturnAc),(null===e.PAC||""===e.PAC||void 0===e.PAC)&&(e.PAC=this.masterService.userSetting.PurchaseAc),(null===e.PRAC||""===e.PRAC||void 0===e.PRAC)&&(e.PRAC=this.masterService.userSetting.PurchaseReturnAc));let n=this.masterService.saveProduct(this.mode,e,this.RGLIST,this.AlternateUnits,this.PBarCodeCollection,this.BrandModelList,this.PMultipleRetailPrice,this.PYieldCollection).subscribe(o=>{if("ok"===o.status)this.productObj.MENUCODE="",this.productObj.MCODE="",this.productObj.BRAND="",this.productObj.DESCA="",this.productObj.Description="",this.productObj.BRANDCODE="",this.productObj.GWEIGHT="",this.productObj.LENGTH=null,this.productObj.WIDTH=null,this.productObj.BREADTH=null,this.productObj.SHELFLIFE=0,this.productObj.MRP=0,this.productObj.DESCB="",this.productObj.PTYPE=0,this.productObj.BASEUNIT="",this.productObj.SUPCODE=null,this.productObj.SUPITEMCODE="",this.productObj.PRATE_A=0,this.productObj.DISMODE="",this.productObj.IN_RATE_A=0,this.productObj.IN_RATE_B=0,this.productObj.IN_RATE_C=0,this.productObj.RATE_A=0,this.productObj.RATE_B=0,this.productObj.RATE_C=0,this.productObj.ISUNKNOWN=0,this.productObj.ISAMOUNTWISEBILL=0,this.productObj.REQEXPDATE=0,this.productObj.IsQtyUnknown=0,this.productObj.HASSERVICECHARGE=0,this.productObj.HASECSCHARGE=0,this.productObj.Description="",this.ProductService.suppilierName="",this.productObj.SHELFLIFE=0,this.productObj.guid=L(),this.productObj={},this.AlternateUnits=[],this.PBarCodeCollection=[],this.PMultipleRetailPrice=[],this.PYieldCollection=[],this.selectedGroupInfo.MENUCODE="",this.masterService.isAddFormShown_1=!1,1==this.masterService.userSetting.EnableProductWiseAccMapping&&this.masterService.getSalesInfo().subscribe(i=>{const c=Object.values(i);let u=c.filter(T=>T.ACID==this.masterService.userSetting.SalesAc);this.productObj.SAC_ACNAME=u[0].ACNAME;let d=c.filter(T=>T.ACID==this.masterService.userSetting.SalesReturnAc);this.productObj.SRAC_ACNAME=d[0].ACNAME;let x=c.filter(T=>T.ACID==this.masterService.userSetting.PurchaseAc);this.productObj.PAC_ACNAME=x[0].ACNAME;let j=c.filter(T=>T.ACID==this.masterService.userSetting.PurchaseReturnAc);this.productObj.PRAC_ACNAME=j[0].ACNAME}),this._loadingService.hide(),this._alertService.success("Saved Successfully"),console.log("PRODOBJ",this.productObj),setTimeout(()=>{confirm("Do you want to continue adding products to this group ?")?(console.log("selectedGroup after save",this.selectedGroupInfo,this.productObj,this.masterService.groupSelectObj.MGROUP),this.mode="add",this.generateUniqueKey(1==this.masterService.userSetting.AUTOCODEMODE?this.selectedGroupInfo.MCODE:this.selectedGroupInfo.MGROUP,1==this.masterService.userSetting.AUTOCODEMODE?this.selectedGroupInfo.MCODE:this.selectedGroupInfo.MGROUP,1==this.masterService.userSetting.AUTOCODEMODE?"":this.selectedGroupInfo.MCAT),this.ProductService.TempProductObj.RATE_A=null,this.ProductService.TempProductObj.RATE_B=null,this.ProductService.TempProductObj.RATE_C=null,this.ProductService.TempProductObj.PRATE_A=null,this.ProductService.TempProductObj.IN_RATE_A=null,this.ProductService.TempProductObj.IN_PRATE_A=null,this.ProductService.TempProductObj.IN_RATE_B=null,this.ProductService.TempProductObj.IN_RATE_C=null,this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0,this.ProductService.pObj.Dismode=1,this.productObj.discontinueCheckbox=!1,this.productObj.DISMODE="Discountable",this.productObj.PRATE_A=0,this.productObj.IN_RATE_A=0,this.productObj.SHELFLIFE=0,this.productObj.MCAT=this.selectedGroupInfo.MCAT,this.productObj.ItemCostCenter=this.selectedGroupInfo.ItemCostCenter,this.productObj.MARGIN=this.selectedGroupInfo.MARGIN,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.guid=L(),this.masterService.getPTypeList().subscribe(i=>{i&&(console.log("PTYPE GETT",i),this.productObj.PTYPE=i[0].PTYPEID)})):(this.ProductService.getProductInfo("PRG99999999").subscribe(i=>{this.selectedGroupInfo=i.result[0]}),this.routeToHome(),this.ProductService.sortProduct="sortItemDate")},1e3);else{if("The ConnectionString property has not been initialized."===o.result._body)return this._loadingService.hide(),void this.router.navigate(["/login",this.router.url]);this._loadingService.hide(),this._alertService.error(o.result.error)}},o=>{this._loadingService.hide(),this._alertService.error(o)});this.subscriptions.push(n)}catch(e){alert(e)}}onCancel(){try{this.routeToHome()}catch(e){this._alertService.error(e)}}routeToHome(e=null,n=null){this.productObj={};let o={name:"productlist",active:!0};o.mode=n,o.from="product",o.savedValue=e,this.activeTabEmit.emit(o),this.masterService.groupSelectObj={},this.masterService.subGroupAList=[],this.masterService.subGroupBList=[],this.masterService.subGroupCList=[],this.selectedGroupInfo=void 0,this.masterService.SelectedProductGrpID="",this.masterService.TreeID="",this.productObj.MENUCODE=""}onSelectColor(e){this.selectedColor=e.target.value,this.productObj.COLOR=this.selectedColor}onSelectVolume(e){this.selectedVolume=e.target.value,this.productObj.DIMENSION=this.selectedVolume}onSelectSstting(e){this.selectedSetting=e.target.value,this.productObj.SIZE=this.selectedSetting}SaveModel(e,n){try{this.ProductService.saveModel({ModelName:e,BrandId:n}).subscribe(i=>{"ok"===i.status&&(this.ModelList.push(i.result),this.smModel.hide())})}catch(o){this._alertService.error(o)}}hideloginModal(){try{this.loginModal.hide()}catch(e){this._alertService.error(e)}}hideChildModal(){try{this.childModal.hide()}catch(e){this._alertService.error(e)}}changeDisStat(){"NONDISCOUNT"===this.productObj.DISMODE?(this.isDisabled=!0,this.productObj.DISAMOUNT=null,this.productObj.DISRATE=null):this.isDisabled=!1}onChangeSellingPrice(e){this.productObj.MRP=0,this.productObj.MRP=this.productObj.IN_RATE_A+this.productObj.IN_RATE_A*this.setting.appSetting.VATRate}onChangeMRP(e){this.productObj.IN_RATE_A=0,this.productObj.IN_RATE_A=this.productObj.MRP/(1+this.setting.appSetting.VATRate)}focusProductName(){setTimeout(()=>{document.getElementById("productName").focus()},0)}AddBCode(){try{this.PBarCodeCollection.forEach(n=>{n.MRP=this.productObj.IN_RATE_A,n.MRP_WO_VAT=this.productObj.RATE_A,n.SRATE=this.productObj.RATE_A}),this.PBarCode.BCODE=null==this.productObj.BARCODE||"0"===this.productObj.BARCODE||void 0===this.productObj.BARCODE?this.productObj.MENUCODE:this.productObj.BARCODE,this.PBarCode.MCODE=this.productObj.MCODE,this.PBarCode.UNIT=this.productObj.BASEUNIT,this.PBarCode.MRP=this.productObj.IN_RATE_A,this.PBarCode.MRP_WO_VAT=this.productObj.RATE_A,this.PBarCode.SRATE=this.productObj.RATE_A,this.PBarCode.DISCONTINUE=0,this.PBarCode.ISDEFAULT=1,0==this.PBarCodeCollection.filter(n=>n.BCODE==this.productObj.MENUCODE).length&&this.PBarCodeCollection.push(this.PBarCode)}catch(e){console.log(e),alert(e)}}handleKeyDownboardEvent(e){"End"==e.code&&(e.preventDefault(),this.onSave())}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(U.V),t.Y36(S.c),t.Y36(g.L),t.Y36(P.P),t.Y36(h.F0),t.Y36(h.gz),t.Y36(I.R),t.Y36(C.e),t.Y36(a.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["addproductmaster"]],viewQuery:function(e,n){if(1&e&&(t.Gf(pt,5),t.Gf(gt,5),t.Gf(_t,5),t.Gf(ht,5),t.Gf(mt,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.childModal=o.first),t.iGM(o=t.CRH())&&(n.smBrand=o.first),t.iGM(o=t.CRH())&&(n.smModel=o.first),t.iGM(o=t.CRH())&&(n.loginModal=o.first),t.iGM(o=t.CRH())&&(n.brandtree=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(i){return n.handleKeyDownboardEvent(i)},!1,t.evT)},inputs:{AlternateUnits:"AlternateUnits",tab:"tab",ProductHomeTabs:"ProductHomeTabs",getTreeNodeValueObj:"getTreeNodeValueObj",productObj:"productObj",colorLists:"colorLists",isAddFormShown:"isAddFormShown",selectedGroupInfo:"selectedGroupInfo"},outputs:{activeTabEmit:"activeTabEmit",returnsaveObj:"returnsaveObj"},features:[t._Bn([g.L]),t.TTD],decls:23,vars:19,consts:[[1,"row",2,"margin-left","15px","background","white","margin-top","5px","padding-bottom","15px"],[1,"col-lg-12"],[2,"width","100%","border","none","padding","0","margin","0","overflow","scroll","overflow-x","hidden","height","80vh",3,"disabled"],[1,"row",2,"margin-left","5px","align-items","end"],[1,"col-md-10",2,"padding","5px"],[1,"row",2,"margin-left","5px"],[1,"col-md-5",2,"margin-left","-15px"],[1,"label-class"],["id","productCode","type","text","autocomplete","off",2,"width","150px","margin-left","1.5%",3,"ngModel","readonly","disabled","keydown.tab","ngModelChange"],[1,"col-md-12","row"],[1,"col-md-9","pd0",2,"margin-left","-15px"],["id","productName","type","text","autocomplete","off",2,"width","80%","margin-left","5px",3,"ngModel","disabled","ngModelChange"],["class","col-md-3 pd0",4,"ngIf"],[1,"row"],[1,"col-md-2"],["appOldFYearDB","","type","button","style","font-size: 12px; width: 83px; ","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"row",2,"height","120px"],[2,"width","100%"],[3,"productObj","AlternateUnits","RGLIST","PBarCodeCollection","PYieldCollection","BrandModelList","settingData","PMultipleRetailPrice","mode","EnableMultiStockLevel"],[4,"ngIf"],[1,"col-md-3","pd0"],[1,"stockLabel"],[1,"stockLabel",2,"font-size","14px"],["appOldFYearDB","","type","button",1,"btn","btn-info",2,"font-size","12px","width","83px",3,"disabled","click"],["isOldFYearDB","appOldFYearDB"],["brandTree",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"fieldset",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),t._uU(8,"Product Code :"),t.qZA(),t.TgZ(9,"input",8),t.NdJ("keydown.tab",function(){return n.focusProductName()})("ngModelChange",function(i){return n.onChangeProdCode(i)})("ngModelChange",function(i){return 1==n.masterService.userSetting.AUTOCODEMODE&&"add"==n.mode?null==n.selectedGroupInfo?null:n.selectedGroupInfo.MENUCODE:n.productObj.MENUCODE=i}),t.qZA()()(),t.TgZ(10,"div",9)(11,"div",10)(12,"label",7),t._uU(13,"Product Name :"),t.qZA(),t.TgZ(14,"input",11),t.NdJ("ngModelChange",function(i){return n.productObj.DESCA=i}),t.qZA()(),t.YNc(15,bt,5,1,"div",12),t.qZA()(),t.TgZ(16,"div",13)(17,"div",14),t.YNc(18,Ct,3,1,"button",15),t.qZA()()(),t.TgZ(19,"div",16)(20,"div",17),t._UZ(21,"productmastertab",18),t.qZA()()()()(),t.YNc(22,ft,2,0,"brand-tree",19)),2&e&&(t.xp6(2),t.Q6J("disabled","view"==n.tab.mode||n.disableAll),t.xp6(7),t.Q6J("ngModel",1==n.masterService.userSetting.AUTOCODEMODE&&"add"==n.mode?null==n.selectedGroupInfo?null:n.selectedGroupInfo.MENUCODE:n.productObj.MENUCODE)("readonly",0==n.masterService.userSetting.MANUALCODE)("disabled","edit"==n.mode&&0==n.masterService.userSetting.MANUALCODE||"view"==n.mode),t.xp6(5),t.Q6J("ngModel",n.productObj.DESCA)("disabled","view"==n.mode),t.xp6(1),t.Q6J("ngIf","view"==n.tab.mode&&1==n.masterService.userSetting.ShowStockInProductMaster),t.xp6(3),t.Q6J("ngIf","view"!=n.tab.mode),t.xp6(3),t.Q6J("productObj",n.productObj)("AlternateUnits",n.AlternateUnits)("RGLIST",n.RGLIST)("PBarCodeCollection",n.PBarCodeCollection)("PYieldCollection",n.PYieldCollection)("BrandModelList",n.BrandModelList)("settingData",n.settingData)("PMultipleRetailPrice",n.PMultipleRetailPrice)("mode",n.tab.mode)("EnableMultiStockLevel",n.EnableMultiStockLevel),t.xp6(1),t.Q6J("ngIf",n.showBrand))},dependencies:[p.O5,a.Fj,a.JJ,a.On,D.G,y.H,q],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".label-class[_ngcontent-%COMP%] {\n    width: 96px;\n  }\n\n  .stockLabel[_ngcontent-%COMP%] {\n    width: 5rem;\n    font-weight: bold;\n  }"]}),r})();var k=l(71259);const Tt=["childModal"];function Ot(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSave())}),t._uU(1,"Save"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("disabled","MI"==e.productObj.PARENT&&(null==e.productObj.FCODE||e.productObj.FCODE<0)||null==e.productObj.DESCA||""==e.productObj.DESCA||"view"==e.tab.mode)}}function At(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",21),t._uU(2,"Group Code : "),t.qZA(),t.TgZ(3,"div",10)(4,"input",22),t.NdJ("keypress",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.keyPress(o))})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.MENUCODE=o)}),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("type",2==e.masterService.userSetting.AUTOCODEMODE?"text":"number")("ngModel",e.productObj.MENUCODE)("disabled","view"==e.tab.mode||1==e.hasSubGrpOrItem)}}function Pt(r,s){if(1&r&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.MENUCAT),t.xp6(1),t.Oqu(e.MENUCAT)}}function Mt(r,s){if(1&r&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.CCID),t.xp6(1),t.Oqu(e.COSTCENTERNAME)}}function St(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",14),t._uU(2,"Cost Center : "),t.qZA(),t.TgZ(3,"div",10)(4,"select",23),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.itemCostCenterDisplay=o)}),t._UZ(5,"option",16),t.YNc(6,Mt,2,2,"option",17),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.itemCostCenterDisplay)("disabled","view"==e.tab.mode),t.xp6(2),t.Q6J("ngForOf",e.costLists)}}const vt=function(){return{standalone:!0}};function Et(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",24),t._uU(2,"User Name : "),t.qZA(),t.TgZ(3,"div",10)(4,"ng-multiselect-dropdown",25),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.USER=o)})("onSelect",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onItemSelect(o))}),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("placeholder","Select User Name")("settings",e.usernamedropdownSettings)("ngModel",e.productObj.USER)("data",e.userLists)("ngModelOptions",t.DdM(6,vt))("disabled","view"==e.tab.mode)}}function xt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",26),t._uU(2,"Alias : "),t.qZA(),t.TgZ(3,"div",10)(4,"input",27),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ALIAS=o)}),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.productObj.ALIAS)("disabled","view"==e.tab.mode)}}function It(r,s){if(1&r&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.MENUCAT),t.xp6(1),t.Oqu(e.MENUCAT)}}function wt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",28),t._uU(2,"Extra Category : "),t.qZA(),t.TgZ(3,"div",10)(4,"select",29),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.MCAT1=o)}),t._UZ(5,"option",16),t.YNc(6,It,2,2,"option",17),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.productObj.MCAT1)("disabled","view"==e.tab.mode),t.xp6(2),t.Q6J("ngForOf",e.MCat1List)}}function Nt(r,s){1&r&&(t.TgZ(0,"label",30),t._uU(1,"Billing Display : "),t.qZA())}function Rt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",31),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.BillingDisplay=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.BillingDisplay=o.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.BillingDisplay)("disabled","view"==e.tab.mode)}}let V=(()=>{class r{constructor(e,n,o,i,c,u,d){this.ProductService=e,this.masterService=n,this.router=o,this.activatedRoute=i,this.setting=c,this._alertService=u,this.loadingService=d,this.tab={},this.productObj={},this.activeTabEmit=new t.vpe,this.DialogMessage="Saving data please wait ...",this.mode="add",this.modeTitle="",this.WarehouseList=[],this.UserList=[],this.MCatList=[],this.MCat1List=[],this.userLists=[],this.selectedItem=[],this.AppMode=b.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(x){alert(x)}}ngOnInit(){this.getCostCenter(),this.usernamedropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"username",textField:"username",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:7,allowSearchFilter:!0,maxHeight:100},"addgroup"==this.groupType?0==this.masterService.userSetting.ITEMGROUPCODELEVEL||1==this.masterService.userSetting.ITEMGROUPCODELEVEL?setTimeout(()=>{document.getElementById("GC").focus()},1200):setTimeout(()=>{document.getElementById("GN").focus()},500):this.masterService.ITEM_LEVEL+1==this.masterService.userSetting.ITEMGROUPCODELEVEL?setTimeout(()=>{document.getElementById("GC").focus()},1200):setTimeout(()=>{document.getElementById("GN").focus()},500);try{this.masterService.getWarehouseList().subscribe(e=>{this.WarehouseList=e}),this.masterService.getMCatList().subscribe(e=>{this.MCatList=e}),this.masterService.getMCat1List().subscribe(e=>{this.MCat1List=e}),this.masterService.getUserList().subscribe(e=>{"ok"==e.status&&(this.userLists=e.result)},e=>{this.userLists=[]}),this.productObj.Par={},this.productObj.MajorGroup={},this.productObj.ALIAS=null,"addgroup"==this.groupType?(this.productObj.MajorGroup.DESCA="Products",this.productObj.PARENT="PRG99999999",this.getTreeNodeValueObj={},this.getTreeNodeValueObj.id="PRG99999999"):(this.productObj.MajorGroup.DESCA=this.getTreeNodeValueObj.name,this.productObj.PARENT=this.getTreeNodeValueObj.id),"add"==this.tab.mode?(this.getTreeNodeValueObj.id="addgroup"==this.groupType?this.getTreeNodeValueObj.id="PRG99999999":this.getTreeNodeValueObj.id,this.ProductService.getInitialValuesForNewProduct(this.getTreeNodeValueObj.id).subscribe(e=>{"ok"==e.status&&(this.productObj.Par=e.result.parent,this.itemCostCenterDisplay=e.result.parent.ItemCostCenter,null==this.productObj.MajorGroup&&(this.productObj.MajorGroup={}))},e=>{this.masterService.resolveError(e,"addproductGroup (ProductMaster) - getInitialValuesForNewProduct")}),this.ProductService.getMCATbyId(this.getTreeNodeValueObj.id).subscribe(e=>{e.length>0&&(this.productObj.MCAT=e[0].MCAT)}),this.ProductService.getMCAT1byId(this.getTreeNodeValueObj.id).subscribe(e=>{e.length>0&&(this.productObj.MCAT1=e[0].MCAT1)}),this.ProductService.getRecMargin(this.getTreeNodeValueObj.id).subscribe(e=>{e.length>0&&(this.productObj.RECRATE=e[0].MARGIN)})):("edit"==this.tab.mode||"view"==this.tab.mode)&&(this.masterService.isGroup=!0,"addgroup"==this.tab.name&&this.ProductService.getChildrenGrpAndItem(this.tab.mcode).subscribe(e=>{"ok"==e.status&&(this.hasSubGrpOrItem=0==e.result.length?0:1)}),this.ProductService.getProductForEdit(this.tab.mcode).subscribe(e=>{"ok"==e.status?(this.productObj=e.result,this.masterService.isAddFormShown_1=!0,this.productObj.Par=e.result.Parent,null==this.productObj.Par&&(this.productObj.Par={}),this.masterService.ProductMcode=this.productObj.MCODE,this.mode="edit",this.modeTitle="Edit Product"):(this.mode="",this.modeTitle="Edit -Error in Product")},e=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(e,"addproducts (ProductMaster) - getProductForEdit")}))}catch(e){alert(e)}}onItemSelect(e){}onSave(){if(1==this.masterService.userSetting.AUTOCODEMODE&&null!=this?.productObj.USER){let e=[];this.productObj.USER.forEach(n=>{e.push(n.username)}),e.length>0&&(this.productObj.USER=e.toString())}else this.productObj.USER="";try{if(console.log("group Type",this.groupType),"addgroup"==this.groupType){if(0==this.masterService.userSetting.ITEMGROUPCODELEVEL||1==this.masterService.userSetting.ITEMGROUPCODELEVEL){if(!this.productObj.MENUCODE)return void alert("Please Enter Group Code!");if(1==this.masterService.userSetting.AUTOCODEMODE&&0==this.masterService.userSetting.MANUALCODE&&!this.productObj.ALIAS)return void alert("Please Enter Alias!")}}else if(this.masterService.ITEM_LEVEL+1==this.masterService.userSetting.ITEMGROUPCODELEVEL&&!this.productObj.MENUCODE)return void alert("Please Enter Group Code!");"add"==this.tab.mode&&(this.productObj.LEVELS=(this.productObj.Par.LEVELS??0)+1),this.productObj.TYPE="G",this.productObj.Parent=null,"add"==this.tab.mode&&(this.productObj.FCODE=1==this.masterService.userSetting.MANUALCODE?0:Number(this.productObj.MENUCODE),this.masterService.userSetting.ITEMGROUPCODELEVEL==this.masterService.ITEM_LEVEL+1&&(this.productObj.FCODE=Number(this.productObj.MENUCODE))),this.loadingService.show("Saving sub group, Please wait.."),this.productObj.ItemCostCenter=this.itemCostCenterDisplay,this.masterService.saveProductGroup(this.mode,this.productObj,this.groupType).subscribe(o=>{if("ok"===o.status)console.log("r1"),this.masterService.updateBrandTreeSubject.next(this.productObj),this.productObj.MENUCODE="",this.productObj.MCODE="",this.productObj.BRAND="",this.productObj.DESCA="",this.productObj.Description="",this.productObj.BRANDCODE="",this.productObj.GWEIGHT="",this.productObj.SHELFLIFE=0,this.productObj.MRP=0,this.productObj.MajorGroup.DESCA="",this.productObj.FCODE=0,this.productObj.RECRATE=0,this.productObj.ALIAS=null,this.productObj.USER="",this.UserList=[],this.masterService.isAddFormShown_1=!1,setTimeout(()=>{this.ProductService.getProductGroupListByIDandDate(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,"sortitemgrpbydate").subscribe(i=>{this.masterService.productGroupLists=i.result}),this.ProductService.getMainGroupList().subscribe(i=>{console.log("Main group adter group save",i),this.masterService.mainGroupList=i.length>0?i:[]}),this.loadingService.hide(),this._alertService.success("Saved Successfully"),this.routeToHome()},1e3);else{if("The ConnectionString property has not been initialized."===o.result._body)return void this.router.navigate(["/login",this.router.url]);this.loadingService.hide()}},o=>{this.loadingService.hide()})}catch(e){this.loadingService.hide(),alert(e)}}onCancel(){try{this.routeToHome()}catch(e){alert(e)}}routeToHome(e=null,n=null){let o={name:"productlist"};o.selectedNode=this.tab.selectedNode,o.active=!0,o.mode=n,o.from="group",o.savedValue=e,this.activeTabEmit.emit(o)}keyPress(e){if(0==this.masterService.userSetting.MANUALCODE&&2!=this.masterService.userSetting.AUTOCODEMODE){const n=/[0-9]/,o=String.fromCharCode(e.charCode);n.test(o)||e.preventDefault()}else{const n=/[a-zA-Z0-9]/,o=String.fromCharCode(e.charCode);n.test(o)||e.preventDefault()}}validateProduct(){console.log("validate product",this.groupType,this.mode),this.productObj.TYPE="G",this.productObj.LEVELS=this.masterService.ITEM_LEVEL+1,this.productObj.MENUCODE&&this.masterService.validateProduct(this.mode,this.productObj,this.groupType).subscribe(e=>{})}getCostCenter(){1===this.masterService.userSetting.EnableItemWiseCostCenter&&this.masterService.getAllCostCenter().subscribe(e=>{this.costLists=e||[]},e=>{throw this.costLists=[],new Error("Error in getting CostList")})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.L),t.Y36(P.P),t.Y36(h.F0),t.Y36(h.gz),t.Y36(I.R),t.Y36(S.c),t.Y36(U.V))},r.\u0275cmp=t.Xpm({type:r,selectors:[["addproductgroup"]],viewQuery:function(e,n){if(1&e&&t.Gf(Tt,5),2&e){let o;t.iGM(o=t.CRH())&&(n.childModal=o.first)}},inputs:{tab:"tab",ProductHomeTabs:"ProductHomeTabs",productObj:"productObj",groupType:"groupType",getTreeNodeValueObj:"getTreeNodeValueObj",isAddFormShown:"isAddFormShown"},outputs:{activeTabEmit:"activeTabEmit"},features:[t._Bn([g.L])],decls:36,vars:17,consts:[[2,"margin-top","20px"],[1,"form-horizontal"],[1,"form-group","row"],[1,"offset-sm-3","col-sm-9"],["type","submit ","class","btn btn-info pull-right","style","font-size: 12px; width: 89px;",3,"disabled","click",4,"ngIf"],["for","MG",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"col-sm-8","col-md-8"],["type","text","id","MG","name","MG","readonly","","placeholder","Major Group Generate from tree",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["class","form-group row",4,"ngIf"],["for","GN",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"col-sm-8"],["type","text","id","GN","name","GN","placeholder","Group Name","autocomplete","off",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","RMG",1,"col-sm-3","form-control-label",2,"width","190px"],["type","number","id","RMG","name","RMG","placeholder","Recommended Margin (%)",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","C",1,"col-sm-3","form-control-label",2,"width","190px"],["id","C","name","C",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","billingDisplay","class","col-sm-3 form-control-label","style","width:190px",4,"ngIf"],["id","billingDisplay","name","billingDisplay","style","width: 17px; height: 35px;","type","checkbox",3,"ngModel","disabled","ngModelChange","change",4,"ngIf"],["type","submit ",1,"btn","btn-info","pull-right",2,"font-size","12px","width","89px",3,"disabled","click"],["for","GC",1,"col-sm-3","form-control-label","LabelSize",2,"width","190px"],["id","GC","name","GC","placeholder","Group Code","autocomplete","off",2,"width","inherit",3,"type","ngModel","disabled","keypress","ngModelChange"],["id","Cost-Center","name","cost center",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","U",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"custom-asset-dropdown",3,"placeholder","settings","ngModel","data","ngModelOptions","disabled","ngModelChange","onSelect"],["for","Alias",1,"col-sm-3","form-control-label",2,"width","190px"],["type","text","id","Alias","name","Alias","placeholder","Alias Name","autocomplete","off",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","C1",1,"col-sm-3","form-control-label",2,"width","190px"],["id","C1","name","C1",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["for","billingDisplay",1,"col-sm-3","form-control-label",2,"width","190px"],["id","billingDisplay","name","billingDisplay","type","checkbox",2,"width","17px","height","35px",3,"ngModel","disabled","ngModelChange","change"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),t.YNc(4,Ot,2,1,"button",4),t.qZA()(),t.TgZ(5,"div",2)(6,"label",5),t._uU(7,"Parent Group : "),t.qZA(),t.TgZ(8,"div",6)(9,"input",7),t.NdJ("ngModelChange",function(i){return n.productObj.MajorGroup.DESCA=i}),t.qZA()()(),t.YNc(10,At,5,3,"div",8),t.TgZ(11,"div",2)(12,"label",9),t._uU(13,"Group Name : "),t.qZA(),t.TgZ(14,"div",10)(15,"input",11),t.NdJ("ngModelChange",function(i){return n.productObj.DESCA=i}),t.qZA()()(),t.TgZ(16,"div",2)(17,"label",12),t._uU(18,"Recommended Margin (%) : "),t.qZA(),t.TgZ(19,"div",10)(20,"input",13),t.NdJ("ngModelChange",function(i){return n.productObj.RECRATE=i}),t.qZA()()(),t.TgZ(21,"div",2)(22,"label",14),t._uU(23,"Category : "),t.qZA(),t.TgZ(24,"div",10)(25,"select",15),t.NdJ("ngModelChange",function(i){return n.productObj.MCAT=i}),t._UZ(26,"option",16),t.YNc(27,Pt,2,2,"option",17),t.qZA()()(),t.YNc(28,St,7,3,"div",8),t.YNc(29,Et,5,7,"div",8),t.YNc(30,xt,5,2,"div",8),t.YNc(31,wt,7,3,"div",8),t.TgZ(32,"div",2),t.YNc(33,Nt,2,0,"label",18),t.TgZ(34,"div",10),t.YNc(35,Rt,1,2,"input",19),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf","view"!=n.tab.mode),t.xp6(5),t.Q6J("ngModel",n.productObj.MajorGroup.DESCA)("disabled","view"==n.tab.mode),t.xp6(1),t.Q6J("ngIf","addgroup"==n.tab.name&&(0==n.masterService.userSetting.ITEMGROUPCODELEVEL||1==n.masterService.userSetting.ITEMGROUPCODELEVEL)||"addSubgroup"==n.tab.name&&n.masterService.ITEM_LEVEL+1==n.masterService.userSetting.ITEMGROUPCODELEVEL),t.xp6(5),t.Q6J("ngModel",n.productObj.DESCA)("disabled","view"==n.tab.mode),t.xp6(5),t.Q6J("ngModel",n.productObj.RECRATE)("disabled","view"==n.tab.mode),t.xp6(5),t.Q6J("ngModel",n.productObj.MCAT)("disabled","view"==n.tab.mode),t.xp6(2),t.Q6J("ngForOf",n.MCatList),t.xp6(1),t.Q6J("ngIf",1===n.masterService.userSetting.EnableItemWiseCostCenter),t.xp6(1),t.Q6J("ngIf",1==n.masterService.userSetting.AUTOCODEMODE&&"addgroup"==n.tab.name&&(0==n.masterService.userSetting.ITEMGROUPCODELEVEL||1==n.masterService.userSetting.ITEMGROUPCODELEVEL)),t.xp6(1),t.Q6J("ngIf",1==n.masterService.userSetting.AUTOCODEMODE&&0==n.masterService.userSetting.MANUALCODE),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode&&1==n.masterService.userSetting.ENABLEEXTRACATEGORY),t.xp6(2),t.Q6J("ngIf",1==n.masterService.userSetting.ItemWiseDisplaySettingInBilling),t.xp6(2),t.Q6J("ngIf",1==n.masterService.userSetting.ItemWiseDisplaySettingInBilling))},dependencies:[p.sg,p.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.Wl,a.EJ,a.JJ,a.JL,a.On,a.F,k.O],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}"]}),r})();var G=l(64298),Q=l(45435),Y=l(54395),K=l(87519),W=l(68307),z=l(22759),B=l(72533);const Ut=["childModal"],yt=["genericGrid"],jt=["genericGridForAllProductList"],Dt=["genericGridForAllGroupList"],Zt=["searchInput"],Lt=["searchInputGrp"],kt=["sortItemName"],Gt=["sortitembydate"];function Bt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",44),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td",44),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",45),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td",46),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onViewClick(i))}),t._uU(22,"View"),t.qZA(),t.TgZ(23,"td",46),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onEditClick(i))}),t._uU(24,"Edit"),t.qZA()()}if(2&r){const e=s.$implicit,n=s.index,o=t.oxw(2);t.xp6(2),t.Oqu(n+1+(o.masterService.currentPage-1)*o.itemPerPage),t.xp6(2),t.Oqu(e.ITEM_NAME),t.xp6(2),t.Oqu(e.ITEM_CODE),t.xp6(2),t.Oqu(e.UNIT),t.xp6(2),t.Oqu(t.xi3(11,9,e.PRATE,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(14,12,e.SRATE,"1.2-2")),t.xp6(3),t.Oqu(e.VAT),t.xp6(2),t.Oqu(e.PARENT),t.xp6(2),t.Oqu(e.SUPPLIER)}}const Jt=function(r,s,e){return{itemsPerPage:r,currentPage:s,totalItems:e}};function Ft(r,s){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,Bt,25,15,"tr",43),t.ALo(2,"paginate"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.masterService.productLists,t.kEZ(4,Jt,e.itemPerPage,e.masterService.currentPage,e.masterService.productSearchTotalCount)))}}function qt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",47)(1,"pagination-controls",48),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productListPagination(o))}),t.qZA()()}}function Ht(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",46),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onViewGroup(i))}),t._uU(16,"View"),t.qZA(),t.TgZ(17,"td",46),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onEditGroup(i))}),t._uU(18,"Edit"),t.qZA()()}if(2&r){const e=s.$implicit,n=s.index,o=t.oxw(2);t.xp6(2),t.Oqu(n+1+(o.groupListCurrentPage-1)*o.itemPerPage),t.xp6(2),t.Oqu(e.GROUP_NAME),t.xp6(2),t.Oqu(e.PARENT_GROUP),t.xp6(2),t.Oqu(e.GROUP_CODE),t.xp6(2),t.Oqu(e.CATEGORY),t.xp6(2),t.Oqu(e.EXTRA_CATEGORY),t.xp6(2),t.Oqu(e.REC_MARGIN)}}const Vt=function(r,s,e){return{id:"pagination1",itemsPerPage:r,currentPage:s,totalItems:e}};function Qt(r,s){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,Ht,19,7,"tr",43),t.ALo(2,"paginate"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.masterService.productGroupLists,t.kEZ(4,Vt,e.itemPerPage,e.groupListCurrentPage,e.masterService.productGroupSearchTotalCount)))}}function Yt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",49)(1,"pagination-controls",50),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productGroupListPagination(o))}),t.qZA()()}}let Kt=(()=>{class r{constructor(e,n,o,i,c,u,d){this._alertService=e,this._authService=n,this.ProductService=o,this.masterService=i,this.arouter=c,this.cdref=u,this.authService=d,this.activeTabEmit=new t.vpe,this.productListsortByDateEmit=new t.vpe,this.DialogMessage="You are not authorized",this.userProfile={},this.productGroupList=[],this.productListByID=[],this.imsGridSettings=new G.U5,this.imsGridSettingsforProductList=new G.U5,this.imsGridSettingsforGroupList=new G.U5,this.mcodeFromBcode=[],this.userProfile=n.getUserProfile(),this.settings=this.ProductService.productMasterTableSetting(this.userProfile.CompanyInfo.ORG_TYPE),this.imsGridSettings=this.ProductService.getimsgridSetting(),this.imsGridSettingsforProductList=this.ProductService.getProductList(),this.imsGridSettingsforGroupList=this.ProductService.getGroupList(),this.searchProductGrp="searchGrpName",this.ProductService.sortProduct="sortItemName",this.ProductService.sortProductGrp="sortGrpName",console.log("from master rrepo",this.masterService.productLists),this.masterService.modeIs=""}ngOnInit(){const e=localStorage.getItem("SearchValue");this.searchProduct=e||"searchItemName",this.StayFocusOnItemSearch()}StayFocusOnItemSearch(){setTimeout(()=>{document.getElementById("productSearch").focus()},100)}ngAfterViewInit(){this.getTreeNodeValueObj&&this.ItemBar(),(0,z.R)(this.searchInput.nativeElement,"keyup").pipe((0,Q.h)(Boolean),(0,Y.b)(800),(0,K.x)(),(0,W.b)(e=>{this.triggerSearch(e)})).subscribe(),(0,z.R)(this.searchInputGrp.nativeElement,"keyup").pipe((0,Q.h)(Boolean),(0,Y.b)(800),(0,K.x)(),(0,W.b)(e=>{this.triggerGroupSearch(e)})).subscribe()}InsertEnterKey(e){e.preventDefault(),document.getElementById("productSearch").select()}ngAfterContentChecked(){this.cdref.detectChanges()}onSearchClick(e){if(null==e||""==e)return;let n=[];this.source=new m.nC,this.ProductService.getSearchProducts(e).subscribe(o=>{n.push(o),this.source.load(n)})}AddItem(){}AddGroup(){}ItemBar(){this.StayFocusOnItemSearch(),localStorage.setItem("SearchValue",this.searchProduct),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct,this.finalFilterValue).subscribe(e=>{console.log("ItemBar",e),this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount}),this.finalFilterValue=""}GrpBar(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}reserGrpValue(){this.finalGroupFilterValue=""}triggerSearch(e){this.masterService.currentPage=1,this.masterService.filter?("searchItemCode"==this.searchProduct&&(this.finalFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("MENUCODE",this.masterService.filter,1):this.getFilterOption("MENUCODE",this.masterService.filter),this.ItemBar()),"searchItemBarcode"==this.searchProduct&&(console.log("search by barcode"),this.finalFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("BARCODE",this.masterService.filter,1):this.getFilterOption("BARCODE",this.masterService.filter),this.ItemBar()),"searchItemName"==this.searchProduct&&(this.finalFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("DESCA",this.masterService.filter,1):this.getFilterOption("DESCA",this.masterService.filter),this.sortProductListByName())):this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct).subscribe(n=>{this.productListByID=n.result,this.masterService.productLists=n.result,this.masterService.productSearchTotalCount=n.totalCount})}triggerGroupSearch(e){this.masterService.filters?("searchGrpName"==this.searchProductGrp&&(this.finalGroupFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("DESCA",this.masterService.filter,1):this.getFilterOption("DESCA",this.masterService.filter),this.sortProductGrpByName()),"searchGrpCode"==this.searchProductGrp&&(this.finalGroupFilterValue=1===this.authService.getSetting()?.ProductSearchMode?this.getFilterOption("FCODE",this.masterService.filter,1):this.getFilterOption("FCODE",this.masterService.filter),this.GrpBar())):(console.log("Group filter is empty",this.masterService.filters),this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp).subscribe(n=>{this.productGroupList=n.result.result,this.masterService.productGroupLists=n.result.result,this.masterService.productGroupSearchTotalCount=n.totalCount}))}onDeleteConfirm(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}onEditClick(e){if(0!=this.masterService.checkIsBranch()){if(this.masterService.checkUserRights("edit","productmaster"))try{let o={name:"addproduct"};o.mcode=e.MCODE,o.mode="edit",o.active=!0,this.activeTabEmit.emit(o)}catch(o){this._alertService.error(o)}}else this._alertService.warning("Cannot edit product from branch office")}onViewClick(e){try{let n={name:"addproduct"};n.mcode=e.MCODE,n.mode="view",n.active=!0,this.activeTabEmit.emit(n)}catch(n){this._alertService.error(n)}}hideChildModal(){try{this.childModal.hide()}catch(e){this._alertService.error(e)}}searchProductList(){if(""==this.masterService.filter||void 0===this.masterService.filter)this.setDefaultList();else if("searchItemName"==this.searchProduct&&""!=this.masterService.filter){let e=this.masterService.filter.toUpperCase();this.productListByID=this.productListByID.filter(function(n){return 0==n.ITEM_NAME.toUpperCase().indexOf(e)}),this.masterService.productLists=this.searchItemName(this.masterService.productLists,this.masterService.filter)}else if("searchItemCode"==this.searchProduct&&""!=this.masterService.filter){let e=this.masterService.filter;this.productListByID=this.productListByID.filter(n=>n.ITEM_CODE==e),this.masterService.productLists=this.masterService.productLists.filter(n=>n.ITEM_CODE==e)}else"searchItemBarcode"==this.searchProduct&&""!=this.masterService.filter&&this.ProductService.getMCODEusingBARCODE(this.masterService.filter).subscribe(e=>{"ok"==e.status?(this.mcodeFromBcode=e.result,this.productListByID=this.productListByID.filter(n=>n.MCODE==this.mcodeFromBcode),this.masterService.productLists=this.masterService.productLists.filter(n=>n.MCODE==this.mcodeFromBcode)):(this._alertService.warning("cannot find product with this barcode"),this.masterService.productLists=this.masterService.productLists)})}searchProductGroup(){if(""==this.masterService.filters||void 0===this.masterService.filters)this.setDefaultList();else if("searchGrpName"==this.searchProductGrp&&""!=this.masterService.filters){let e=this.masterService.filters.toUpperCase();this.productGroupList=this.productGroupList.filter(function(n){return 0==n.GROUP_NAME.toUpperCase().indexOf(e)}),this.masterService.productGroupLists=this.masterService.productGroupLists.filter(function(n){return 0==n.GROUP_NAME.toUpperCase().indexOf(e)})}else if("searchGrpCode"==this.searchProductGrp&&""!=this.masterService.filters){let e=this.masterService.filters;this.productGroupList=this.productGroupList.filter(n=>n.GROUP_CODE==e),this.masterService.productGroupLists=this.masterService.productGroupLists.filter(n=>n.GROUP_CODE==e)}}setDefaultList(){""==this.masterService.filter&&this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct).subscribe(e=>{this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount}),""==this.masterService.filters&&this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}onEditGroup(e){try{let n={};n.name="PRG99999999"==e.PARENT?"addgroup":"addSubgroup",n.mcode=e.MCODE,n.mode="edit",n.active=!0,this.activeTabEmit.emit(n)}catch(n){this._alertService.error(n)}}onViewGroup(e){try{let n={};n.name="PRG99999999"==e.PARENT?"addgroup":"addSubgroup",n.mcode=e.MCODE,n.mode="view",n.active=!0,this.activeTabEmit.emit(n)}catch(n){this._alertService.error(n)}}sortProductListByDate(){this.productListsortByDateEmit.emit(this.ProductService.sortProduct),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,"sortitembydate",this.finalFilterValue).subscribe(e=>{this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount})}sortProductListByName(){console.log("sortProductList by name"),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct,this.finalFilterValue).subscribe(e=>{console.log("sort product List by name",e),this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount})}sortProductGrpByName(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.result.totalCount})}sortProductGrpByDate(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,"sortitemgrpbydate").subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}handleKeyDownloadEvent(e){"Enter"==e.code&&(e.preventDefault(),(""!=this.masterService.filter||null!=this.masterService.filter)&&this.searchProductList(),(""!=this.masterService.filters||null!=this.masterService.filters)&&this.searchProductGroup()),"Escape"==e.code&&(e.preventDefault(),(""!=this.masterService.filter||null!=this.masterService.filter)&&(this.masterService.filter="",this.setDefaultList()),(""!=this.masterService.filters||null!=this.masterService.filters)&&(this.masterService.filters="",this.setDefaultList()))}searchItemName(e,n){if(e)return n?e.filter(o=>{const i=n.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(o.ITEM_NAME?o.ITEM_NAME.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(i))return o}):e}productListPagination(e){this.masterService.currentPage=e,(null==this.masterService.filter||""==this.masterService.filter||null==this.masterService.filter)&&(this.finalFilterValue=null),console.log("getTreeNodeValueObj",this.getTreeNodeValueObj,"pages",this.masterService.currentPage,"item per page",this.itemPerPage,"sortproduct",this.ProductService.sortProduct),console.log("filter",this.finalFilterValue),this.sortProductListByName()}productGroupListPagination(e){this.groupListCurrentPage=e,this.finalGroupFilterValue=null,this.sortProductGrpByName()}getFilterOption(e,n,o=0){let i=[];return null==n||null==n||""==n||null==e||null==e||""==e?"":(i.push({Field:e,Value:n,SearchMode:o}),`${encodeURIComponent(JSON.stringify(i))}`)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(S.c),t.Y36(C.e),t.Y36(g.L),t.Y36(P.P),t.Y36(h.gz),t.Y36(t.sBO),t.Y36(C.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["productlist"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ut,5),t.Gf(yt,5),t.Gf(jt,5),t.Gf(Dt,5),t.Gf(Zt,7),t.Gf(Lt,7),t.Gf(kt,7),t.Gf(Gt,7)),2&e){let o;t.iGM(o=t.CRH())&&(n.childModal=o.first),t.iGM(o=t.CRH())&&(n.genericGrid=o.first),t.iGM(o=t.CRH())&&(n.genericGridForAllProductList=o.first),t.iGM(o=t.CRH())&&(n.genericGridForAllGroupList=o.first),t.iGM(o=t.CRH())&&(n.searchInput=o.first),t.iGM(o=t.CRH())&&(n.searchInputGrp=o.first),t.iGM(o=t.CRH())&&(n.sortItemName=o.first),t.iGM(o=t.CRH())&&(n.sortitembydate=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(i){return n.handleKeyDownloadEvent(i)},!1,t.evT)},inputs:{source:"source",productGroupList:"productGroupList",productListByID:"productListByID",getTreeNodeValueObj:"getTreeNodeValueObj",itemPerPage:"itemPerPage",pages:"pages",groupListCurrentPage:"groupListCurrentPage"},outputs:{activeTabEmit:"activeTabEmit",productListsortByDateEmit:"productListsortByDateEmit"},features:[t._Bn([C.e,g.L])],decls:90,vars:15,consts:[[2,"margin-top","0"],[1,"row"],[1,"col-md-12",2,"width","100%"],["id","warehouse-tabs",1,"tabbable"],[1,"nav","nav-tabs"],[1,"nav-item"],["href","#ProductList","data-toggle","tab",1,"nav-link","active",2,"font-size","14px"],["href","#ProductGroupList","data-toggle","tab",1,"nav-link",2,"font-size","14px"],[1,"tab-content","mr5"],["id","ProductList",1,"tab-pane","active"],[2,"display","inline-block","width","100%"],[1,"clearfix"],[1,"col-md-12",2,"margin-bottom","10px","font-size","14px","display","flex","align-items","center"],["type","radio","name","item","value","searchItemName",3,"ngModel","ngModelChange","change","click"],["type","radio","name","item","value","searchItemCode",3,"ngModel","ngModelChange","change","click"],["type","radio","name","item","value","searchItemBarcode",3,"ngModel","ngModelChange","change","click"],["type","search","id","productSearch","placeholder","Search...","autocomplete","off","name","filter","autocomplete","off",2,"width","25%",3,"ngModel","ngModelChange","keydown.enter"],["searchInput",""],["type","radio","name","sortItem","value","sortItemName",3,"ngModel","ngModelChange","change"],["type","radio","name","sortItem","value","sortitembydate",3,"ngModel","ngModelChange","change"],[1,"col-md-12","productlistTable",2,"overflow-y","auto","height","100%","padding-right","8px !important","margin-left","-4px","white-space","nowrap","padding-left","0"],[1,"table","table-striped"],[1,"stickHead"],["colspan","1",2,"width","3%","padding-left","0px"],["colspan","1",2,"width","15%","padding-left","0px"],["colspan","1",2,"width","8%","padding-left","0px"],["colspan","1",2,"width","5%","padding-left","0px"],["colspan","1",2,"width","6%","padding-left","0px"],["colspan","1",2,"width","5%","padding-left","18px"],["colspan","2",2,"width","5%","padding-left","0px"],[4,"ngIf"],["style","margin-left: 22%;height: 30px; ",4,"ngIf"],["id","ProductGroupList",1,"tab-pane"],["type","radio","name","group","value","searchGrpName",3,"ngModel","ngModelChange","change","click"],["type","radio","name","group","value","searchGrpCode",3,"ngModel","ngModelChange","change","click"],["type","search","placeholder","Search...","name","filters","autocomplete","off",2,"width","25%",3,"ngModel","ngModelChange"],["searchInputGrp",""],["type","radio","name","sortGroup","value","sortGrpName",3,"ngModel","ngModelChange","change"],["type","radio","name","sortGroup","value","sortGrpDate",3,"ngModel","ngModelChange","change"],[1,"productlistTable",2,"overflow-y","auto","height","100%"],["colspan","1",2,"width","1%","padding-left","0px"],["colspan","1",2,"width","10%","padding-left","0px"],["style","margin-left:12.3rem;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[2,"text-align","center"],[1,"isLink",3,"click"],[2,"margin-left","22%","height","30px"],["directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page",1,"my-pagination",3,"pageChange"],[2,"margin-left","12.3rem"],["id","pagination1",1,"my-pagination",3,"pageChange"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),t._uU(7,"Product List"),t.qZA()(),t.TgZ(8,"li",5)(9,"a",7),t._uU(10,"Product Group List"),t.qZA()()(),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"input",13),t.NdJ("ngModelChange",function(i){return n.searchProduct=i})("change",function(){return n.ItemBar()})("click",function(){return n.masterService.filter=""}),t.qZA(),t._uU(17,"\xa0 Search By Name \xa0\xa0 "),t.TgZ(18,"input",14),t.NdJ("ngModelChange",function(i){return n.searchProduct=i})("change",function(){return n.ItemBar()})("click",function(){return n.masterService.filter=""}),t.qZA(),t._uU(19,"\xa0 Search By Code\xa0\xa0 "),t.TgZ(20,"input",15),t.NdJ("ngModelChange",function(i){return n.searchProduct=i})("change",function(){return n.ItemBar()})("click",function(){return n.masterService.filter=""}),t.qZA(),t._uU(21,"\xa0 Barcode \xa0\xa0 "),t.TgZ(22,"input",16,17),t.NdJ("ngModelChange",function(i){return n.masterService.filter=i})("keydown.enter",function(i){return n.InsertEnterKey(i)}),t.qZA(),t._uU(24,"\xa0\xa0 "),t.TgZ(25,"input",18),t.NdJ("ngModelChange",function(i){return n.ProductService.sortProduct=i})("change",function(){return n.sortProductListByName()}),t.qZA(),t._uU(26,"\xa0Sort By Name \xa0 \xa0 "),t.TgZ(27,"input",19),t.NdJ("ngModelChange",function(i){return n.ProductService.sortProduct=i})("change",function(){return n.sortProductListByDate()}),t.qZA(),t._uU(28,"\xa0Sort By C-Date "),t.qZA(),t.TgZ(29,"div",20)(30,"table",21)(31,"thead",22)(32,"tr")(33,"th",23),t._uU(34,"SN"),t.qZA(),t.TgZ(35,"th",24),t._uU(36,"Item Name"),t.qZA(),t.TgZ(37,"th",25),t._uU(38,"Item Code"),t.qZA(),t.TgZ(39,"th",26),t._uU(40,"Unit"),t.qZA(),t.TgZ(41,"th",27),t._uU(42,"P-Rate"),t.qZA(),t.TgZ(43,"th",27),t._uU(44,"S-Rate"),t.qZA(),t.TgZ(45,"th",28),t._uU(46,"Vat"),t.qZA(),t.TgZ(47,"th",24),t._uU(48,"Parent"),t.qZA(),t.TgZ(49,"th",24),t._uU(50,"Supplier"),t.qZA(),t.TgZ(51,"th",29),t._uU(52,"Actions"),t.qZA()()(),t.YNc(53,Ft,3,8,"tbody",30),t.qZA()(),t.YNc(54,qt,2,0,"div",31),t.qZA()()(),t.TgZ(55,"div",32)(56,"div",12)(57,"input",33),t.NdJ("ngModelChange",function(i){return n.searchProductGrp=i})("change",function(){return n.reserGrpValue(),n.GrpBar()})("click",function(){return n.masterService.filters=""}),t.qZA(),t._uU(58,"\xa0 Search By Name \xa0\xa0 "),t.TgZ(59,"input",34),t.NdJ("ngModelChange",function(i){return n.searchProductGrp=i})("change",function(){return n.reserGrpValue(),n.GrpBar()})("click",function(){return n.masterService.filters=""}),t.qZA(),t._uU(60,"\xa0 Search By Code\xa0\xa0 "),t.TgZ(61,"input",35,36),t.NdJ("ngModelChange",function(i){return n.masterService.filters=i}),t.qZA(),t._uU(63,"\xa0\xa0 "),t.TgZ(64,"input",37),t.NdJ("ngModelChange",function(i){return n.ProductService.sortProductGrp=i})("change",function(){return n.sortProductGrpByName()}),t.qZA(),t._uU(65,"\xa0Sort By Name \xa0\xa0 "),t.TgZ(66,"input",38),t.NdJ("ngModelChange",function(i){return n.ProductService.sortProductGrp=i})("change",function(){return n.sortProductGrpByDate()}),t.qZA(),t._uU(67,"\xa0Sort By C-Date "),t.qZA(),t.TgZ(68,"div",39)(69,"table",21)(70,"thead",22)(71,"tr")(72,"th",40),t._uU(73,"SN"),t.qZA(),t.TgZ(74,"th",24),t._uU(75,"Group Name"),t.qZA(),t.TgZ(76,"th",24),t._uU(77,"Parent Group"),t.qZA(),t.TgZ(78,"th",25),t._uU(79,"Group Code"),t.qZA(),t.TgZ(80,"th",41),t._uU(81,"Category"),t.qZA(),t.TgZ(82,"th",41),t._uU(83,"Extra Category"),t.qZA(),t.TgZ(84,"th",25),t._uU(85,"Rec-Margin"),t.qZA(),t.TgZ(86,"th",29),t._uU(87,"Actions"),t.qZA()()(),t.YNc(88,Qt,3,8,"tbody",30),t.qZA()(),t.YNc(89,Yt,2,0,"div",42),t.qZA()()()()()()),2&e&&(t.xp6(16),t.Q6J("ngModel",n.searchProduct),t.xp6(2),t.Q6J("ngModel",n.searchProduct),t.xp6(2),t.Q6J("ngModel",n.searchProduct),t.xp6(2),t.Q6J("ngModel",n.masterService.filter),t.xp6(3),t.Q6J("ngModel",n.ProductService.sortProduct),t.xp6(2),t.Q6J("ngModel",n.ProductService.sortProduct),t.xp6(26),t.Q6J("ngIf",null==n.masterService.productLists?null:n.masterService.productLists.length),t.xp6(1),t.Q6J("ngIf",n.masterService.productLists&&n.masterService.productLists.length),t.xp6(3),t.Q6J("ngModel",n.searchProductGrp),t.xp6(2),t.Q6J("ngModel",n.searchProductGrp),t.xp6(2),t.Q6J("ngModel",n.masterService.filters),t.xp6(3),t.Q6J("ngModel",n.ProductService.sortProductGrp),t.xp6(2),t.Q6J("ngModel",n.ProductService.sortProductGrp),t.xp6(22),t.Q6J("ngIf",null==n.masterService.productGroupLists?null:n.masterService.productGroupLists.length),t.xp6(1),t.Q6J("ngIf",n.masterService.productGroupLists&&n.masterService.productGroupLists.length))},dependencies:[p.sg,p.O5,a.Fj,a._,a.JJ,a.On,B.LS,p.JJ,B._s],styles:[".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}","td[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n    font-size: 13px;\n    padding-left: 5px !important;\n    padding: 3px !important;\n  }\n\n  .isLink[_ngcontent-%COMP%]{\n    cursor: pointer;\n  }\n\n  .isLink[_ngcontent-%COMP%]:hover {\n    text-decoration: underline;\n  }\n\n  .isLink[_ngcontent-%COMP%]:active {\n    text-decoration: underline;\n  }\n\n  th[_ngcontent-%COMP%] {\n    font-size: 15px;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current {\n    background: #17a2b8 !important;\n    border: transparent !important;\n    border-radius: 20px !important;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover {\n    background: #74d4e2 !important;\n    border-radius: 20px !important;\n    border: transparent !important;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\n    background: #c2c2c2;\n    border-radius: 20px !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{\n    background-color: #336799 !important;\n    border-color: #dee2e6 #dee2e6 #fff;\n    color: #fff !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{\n    color:#fff !important;\n\n  }\n  .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{\n    padding: 0 !important;\n    padding-left: 6px !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]{\n  padding:4px !important;\n}\n.productlistTable[_ngcontent-%COMP%]{\n  height: 62vh !important;\n}"]}),r})();function Wt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"productlist",7),t.NdJ("searchItemEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.searchItemEmitEvent(o))})("activeTabEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(o))})("productListsortByDateEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onsortByDateClicked(o))}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("source",e.source)("productGroupList",e.productGroupList)("productListByID",e.productListByID)("getTreeNodeValueObj",e.getTreeNodeValueObj)("itemPerPage",e.itemPerPage)("pages",e.pages)("groupListCurrentPage",e.groupListCurrentPage)}}function zt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"addproductgroup",8),t.NdJ("activeTabEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(o))}),t.qZA()}if(2&r){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("tab",e)("productObj",n.productObj)("groupType",n.groupType)("getTreeNodeValueObj",n.getTreeNodeValueObj)("isAddFormShown",n.isAddFormShown)}}function Xt(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"addproductgroup",8),t.NdJ("activeTabEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(o))}),t.qZA()}if(2&r){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("tab",e)("productObj",n.productObj)("groupType",n.groupType)("getTreeNodeValueObj",n.getTreeNodeValueObj)("isAddFormShown",n.isAddFormShown)}}function $t(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"addproductmaster",9),t.NdJ("activeTabEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(o))}),t.qZA()}if(2&r){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("colorLists",n.colorLists)("productObj",n.productObj)("tab",e)("ProductHomeTabs",n.ProductHomeTabs)("getTreeNodeValueObj",n.getTreeNodeValueObj)("isAddFormShown",n.isAddFormShown)("selectedGroupInfo",n.selectedGroupInfo)}}function te(r,s){if(1&r&&(t.TgZ(0,"li",2)(1,"hometab",3),t.YNc(2,Wt,1,7,"productlist",4),t.YNc(3,zt,1,5,"addproductgroup",5),t.YNc(4,Xt,1,5,"addproductgroup",5),t.YNc(5,$t,1,7,"addproductmaster",6),t.qZA()()),2&r){const e=s.$implicit;t.Q6J("hidden",!e.active),t.xp6(1),t.Q6J("active",e.active),t.xp6(1),t.Q6J("ngIf","productlist"==e.name),t.xp6(1),t.Q6J("ngIf","addgroup"==e.name),t.xp6(1),t.Q6J("ngIf","addSubgroup"==e.name),t.xp6(1),t.Q6J("ngIf","addproduct"==e.name)}}const ee=["*"];let ne=(()=>{class r{constructor(e,n){this.productMasterService=e,this.cdref=n,this.ProductHomeTabs=[],this.searchItemEmit=new t.vpe,this.activeTabEmit=new t.vpe,this.sortByDateEmit=new t.vpe,this.selectedGroupInfo={},this.pages=1}ngAfterContentInit(){try{this.cdref.detectChanges()}catch(e){alert(e)}}onsortByDateClicked(e){this.sortByDateEmit.emit(e)}ngOnInit(){0==JSON.parse(localStorage.getItem("setting")).DISPLAY&&(this.productMasterService.getColorGroup().subscribe(n=>{this.colorLists=n&&"ok"===n.status&&null!==n.result&&n&&n.result?n.result:[]},n=>{this.colorLists=[]}),console.log(this.pages))}onTabClose(e){this.ProductHomeTabs.splice(e,1),this.ProductHomeTabs.length>0&&(this.ProductHomeTabs[this.ProductHomeTabs.length-1].active=!0)}searchItemEmitEvent(e){this.searchItemEmit.emit(e)}activeTabEmitEvent(e){this.activeTabEmit.emit(e)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.L),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["hometabs"]],contentQueries:function(e,n,o){if(1&e&&t.Suo(o,F,4),2&e){let i;t.iGM(i=t.CRH())&&(n.tabs=i)}},inputs:{ProductHomeTabs:"ProductHomeTabs",source:"source",tab:"tab",productObj:"productObj",getTreeNodeValueObj:"getTreeNodeValueObj",groupType:"groupType",productGroupList:"productGroupList",productListByID:"productListByID",isAddFormShown:"isAddFormShown",selectedGroupInfo:"selectedGroupInfo",itemPerPage:"itemPerPage",pages:"pages",totalCount:"totalCount",groupListCurrentPage:"groupListCurrentPage"},outputs:{searchItemEmit:"searchItemEmit",activeTabEmit:"activeTabEmit",sortByDateEmit:"sortByDateEmit"},ngContentSelectors:ee,decls:3,vars:1,consts:[[2,"padding","0px"],["style","float:inherit",3,"hidden",4,"ngFor","ngForOf"],[2,"float","inherit",3,"hidden"],[3,"active"],[3,"source","productGroupList","productListByID","getTreeNodeValueObj","itemPerPage","pages","groupListCurrentPage","searchItemEmit","activeTabEmit","productListsortByDateEmit",4,"ngIf"],[3,"tab","productObj","groupType","getTreeNodeValueObj","isAddFormShown","activeTabEmit",4,"ngIf"],[3,"colorLists","productObj","tab","ProductHomeTabs","getTreeNodeValueObj","isAddFormShown","selectedGroupInfo","activeTabEmit",4,"ngIf"],[3,"source","productGroupList","productListByID","getTreeNodeValueObj","itemPerPage","pages","groupListCurrentPage","searchItemEmit","activeTabEmit","productListsortByDateEmit"],[3,"tab","productObj","groupType","getTreeNodeValueObj","isAddFormShown","activeTabEmit"],[3,"colorLists","productObj","tab","ProductHomeTabs","getTreeNodeValueObj","isAddFormShown","selectedGroupInfo","activeTabEmit"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"ul",0),t.YNc(1,te,6,6,"li",1),t.qZA(),t.Hsn(2)),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.ProductHomeTabs))},dependencies:[p.sg,p.O5,H,V,F,Kt],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left;list-style:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:5px;text-decoration:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#98b2b7;cursor:pointer;cursor:hand}"]}),r})();const oe=["multiselectGenericGrid"],ie=["fileUploadPopup"];function re(r,s){if(1&r&&(t.TgZ(0,"label",18),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij("\xa0>> ",e.MasterRepo.modeIs,"")}}function se(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.ExportReportInExcel())}),t._uU(1," Export Product "),t.qZA()}}function ce(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showFileUploadPopUp())}),t._uU(1," Import Product [F2] "),t.qZA()}}function ae(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",20,21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onMenuClick("addproduct"))}),t._uU(2,"Add Product"),t.qZA()}if(2&r){const e=t.MAs(1);t.Q6J("disabled",e.isOldFYearDB())}}function le(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",20,21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onMenuClick("addSubgroup"))}),t._uU(2,"Add Sub Group"),t.qZA()}if(2&r){const e=t.MAs(1),n=t.oxw();t.Q6J("disabled","productlist"!=n.ProductHomeTabs[0].name||0==n.MasterRepo.isTreeNodeClicked||1==n.isMainParentNodeClicked||e.isOldFYearDB())}}function de(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",20,21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onMenuClick("addgroup"))}),t._uU(2,"Add Main Group"),t.qZA()}if(2&r){const e=t.MAs(1),n=t.oxw();t.Q6J("disabled","productlist"!=n.ProductHomeTabs[0].name||e.isOldFYearDB())}}function ue(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Delete())}),t._uU(1," Delete "),t.qZA()}}function pe(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCancel())}),t._uU(1," Reset "),t.qZA()}}function ge(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onExportAltUnit())}),t._uU(1," Export AltUnit "),t.qZA()}}function _e(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",27),t._uU(5,"Group Selection"),t.qZA(),t.TgZ(6,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeGroupModal())}),t.TgZ(7,"span",29),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",30)(10,"div",31)(11,"div",32)(12,"label",33),t._uU(13,"Group Name :"),t.qZA()(),t.TgZ(14,"div",34)(15,"input",35),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.groupSelectObj.DESCA=o)})("keydown.enter",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(o))})("keydown.Tab",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(o))})("keyup",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(o))})("keypress",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.keyPress(o))}),t.qZA()()(),t.TgZ(16,"div",31)(17,"div",32)(18,"label",36),t._uU(19,"Discontinued Item :"),t.qZA()(),t.TgZ(20,"div",34)(21,"input",37),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.clickedActive(1==o.target.checked?1:0))}),t.qZA()()()(),t.TgZ(22,"div",38)(23,"div",39)(24,"span",40)(25,"strong"),t._uU(26,"Note:"),t.qZA(),t._uU(27," All groups are selected if Group Name is left blank."),t.qZA()(),t.TgZ(28,"div",34)(29,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onExport())}),t._uU(30,"Export"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(15),t.Q6J("ngModel",e.groupSelectObj.DESCA)}}const he={mouse:{dblClick:(r,s,e)=>{s.hasChildren&&f.iM.TOGGLE_EXPANDED(r,s,e)},click:(r,s,e)=>{e.shiftKey?f.iM.TOGGLE_ACTIVE_MULTI(r,s,e):f.iM.TOGGLE_SELECTED(r,s,e)}},keys:{[f.tW.ENTER]:(r,s,e)=>s.setActiveAndVisible()}},me=[{path:"",component:(()=>{class r extends v.c{constructor(e,n,o,i,c,u,d,x,j,T){super(n),this._alertService=e,this.injector=n,this.MasterRepo=o,this._authService=i,this.ProductService=c,this.setting=u,this._spinnerservice=d,this.alertService=x,this.router=j,this.cdref=T,this._treeEnable=!0,this.sortByDateFilter="",this.nodes=[],this.source=new m.nC,this.isChecked=0,this.ProductHomeTabs=[],this.loadListSubject=new N.xQ,this.loadList$=this.loadListSubject.asObservable(),this.homeTab={},this.menudata=[],this.userProfile={},this.reportHeaders=["Product Code123","Product Name123","Mother Pack","Brand","Business Unit","Base Unit","Weight","Unit","Shelf Life","Description","Status","Alternate Unit","Conversion Factor","MRP","Selling Price","Approval"],this.reportBody=["MENUCODE","DESCA","MotherPack33","Brand","BusinessUnit","BASEUNIT","GWEIGHT","Weighable","SHELFLIFE","Description","STATUS","ALTUNIT","CONFACTOR","MRP","SellingPrice","APPROVAL"],this.reportData=[],this.productGroupList=[],this.productListByID=[],this.selectMultiItems=0,this.itemPerPage=15,this.pages=1,this.groupListCurrentPage=1,this.totalCount=new t.vpe,this.multiselectPopupSettings=new E.oe,this.fileUploadPopupSettings=new A.s,this.selectGroupForExport=!1,this.groupSelectObj={DESCA:"",MCODE:{}},this.listForExport=[],this.items=[],this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),actionMapping:he,allowDrag:!1},this.contextMenuActions=[{html:O=>"Edit",tag:"edit",enabled:O=>!0,visible:O=>!0},{divider:!0,visible:!0},{html:O=>"Delete",tag:"delete",enabled:O=>!0,visible:O=>!0}],this.isMainParentNodeClicked=!0,this.userProfile=this._authService.getUserProfile(),this.orgType=this.userProfile.CompanyInfo.ORG_TYPE,this.AppMode=b.N.appMode;try{this.AppSettings=this.setting.appSetting,this.InilizedProductObj(),this.source=this.source=new m.zV(this._http,{endPoint:`${this.apiUrl}/GetAllProduct`,dataKey:"data",pagerPageKey:"currentPage",pagerLimitKey:"maxResultCount"}),this.onMenuClick("productlist")}catch(O){this._alertService.error(O)}this.MasterRepo.isAddFormShown_1=!1}get treeEnable(){return this._treeEnable}set treeEnable(e){this._treeEnable=e}handleKeyDownloadEvent(e){"F2"==e.code&&(e.preventDefault(),this.showFileUploadPopUp())}onsortByDate(e){this.sortByDateFilter=e}ngOnInit(){this.MasterRepo.isTreeNodeClicked=!1,this.isMainParentNodeClicked=!0,this.MasterRepo.isAddFormShown_1=!1;let e="Product Master";"lite"==this.AppMode&&(e="ProductMaster_Lite"),this.fileUploadPopupSettings=Object.assign(new A.s,{title:"Import Product",sampleFileUrl:`/downloadSampleExcelforMasterMigration?importName=${e}`,uploadEndpoints:`/masterImport/${e}/`,allowMultiple:!1,acceptFormat:".xlsx",filename:"Import Product Sample"})}ngAfterContentInit(){try{this.cdref.detectChanges()}catch(e){alert(e)}}ngOnDestroy(){this.MasterRepo.productLists=[],this.MasterRepo.productGroupLists=[],this.MasterRepo.groupSelectObj={},this.MasterRepo.subGroupAList=[],this.MasterRepo.subGroupBList=[],this.MasterRepo.subGroupCList=[],this.selectedGroupInfo=void 0,this.MasterRepo.groupSelectObj.MGROUP="",this.MasterRepo.SelectedProductGrpID="",this.MasterRepo.TreeID=""}InilizedProductObj(){this.ProductService.productObj={},this.ProductService.productObj.Par={},this.ProductService.productObj.MajorGroup={},this.ProductService.productObj.ItemRateDiscount={},this.ProductService.productObj.MultiStockLevels=[],this.ProductService.productObj.VAT=0}getChildren(e){try{return new Promise((n,o)=>{setTimeout(()=>n(this.asyncChildren.map(i=>Object.assign({},i,{hasChildren:e.level<5}))),1e3)})}catch(n){this._alertService.error(n)}}addNode(e){try{null==this.tree.treeModel.getFocusedNode()?this.tree.treeModel.nodes.push(e):this.tree.treeModel.getFocusedNode().data.children.push(e),this.tree.treeModel.update()}catch(o){this._alertService.error(o)}}childrenCount(e){try{return e&&e.children?`(${e.children.length})`:""}catch(n){this._alertService.error(n)}}filterNodes(e,n){try{n.treeModel.filterNodes(e,!0)}catch(o){this._alertService.error(o)}}activateSubSub(e){try{e.treeModel.getNodeById("PRG57952").setActiveAndVisible()}catch(n){this._alertService.error(n)}}onEvent(e){}searchItemEmitEvent(e){this.activateSubSub(this.tree),null!=this.tree.treeModel.getNodeById("PRG4047P")&&this.tree.treeModel.getNodeById("PRG4047P")}AddItem(){}onselect(e,n){try{this.source=new m.nC,this.selectedNode=e.treeModel.getFocusedNode().data,this.loadListSubject.next(this.selectedNode)}catch(o){console.log(o),this._alertService.error(o)}}go(e){try{e.stopPropagation()}catch(n){this._alertService.error(n)}}onTreeEnable(e){try{this.treeEnable=e}catch(n){this._alertService.error(n)}}onMenuClick(e){if("productlist"!=e){if(0==this.MasterRepo.checkUserRights("add","productmaster"))return;let i=this.MasterRepo.checkIsBranch();if(console.log("isbranch",i),0==i)return void this.alertService.warning("Cannot add product from branch office")}if("addproduct"==e&&this.MasterRepo.userSetting.ITEMGROUPCODELEVEL>this.MasterRepo.ITEM_LEVEL)this._alertService.info("Cannot Add Product In This Level!!");else{if("addSubgroup"==e){console.log("masterrepo",this.MasterRepo.subGroupLevel);let o=4;if("lite"==b.N.appMode&&(o=3),this.MasterRepo.subGroupLevel>=o)return void this._alertService.warning("Cannot add sub group in this level")}this.homeTab.name=e,this.homeTab.selectedNode=this.selectedNode,this.homeTab.mode="productlist"==e?"List":"add",this.homeTab.active=!0,this.ProductHomeTabs=[],this.ProductHomeTabs.push(this.homeTab),this.groupType=e,this.MasterRepo.isAddFormShown_1=!0,"addgroup"==e?this.MasterRepo.modeIs="Add Main Group":"addSubgroup"==e?this.MasterRepo.modeIs="Add Sub Group":"addproduct"==e&&(this.MasterRepo.modeIs="Add Product",this.MasterRepo.disabledSubgroupA=!0,this.MasterRepo.disabledSubgroupB=!0,this.MasterRepo.disabledSubgroupC=!0,this.MasterRepo.disableOnCheckTran=!1,this.MasterRepo.subCategoryAList=[],this.MasterRepo.subCategoryBList=[])}}activeTabEmitEvent(e){if(console.log("active tab emit event",e),this.ProductHomeTabs=[],this.modeForHideAddProduct=e.mode,console.log("home mode",this.modeForHideAddProduct),"addgroup"==e.name?this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Main Group":"addSubgroup"==e.name?this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Sub Group":"addproduct"==e.name&&(this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Product"),e.mode||(this.MasterRepo.modeIs=""),this.ProductHomeTabs.push(e),null!=e.savedValue&&"add"==e.mode){if("group"==e.from)this.addNode({id:e.savedValue.MCODE,name:e.savedValue.DESCA,menucode:e.savedValue.MENUCODE,children:[]}),this.InilizedProductObj();else if("product"==e.from){this.MasterRepo.PartialProductList.push({MCODE:e.savedValue.MCODE,MENUCODE:e.savedValue.MENUCODE,DESCA:e.savedValue.DESCA,BASEUNIT:e.savedValue.BASEUNIT,PARENT:e.savedValue.PARENT});var n=this.MasterRepo.PartialProductList.filter(i=>i.PARENT==this.selectedNode.id);n.length>0&&this.source.load(n),this.InilizedProductObj()}}else if(null!=e.savedValue&&"edit"==e.mode)if("product"==e.from){let o={MCODE:e.savedValue.MCODE,MENUCODE:e.savedValue.MENUCODE,DESCA:e.savedValue.DESCA,BASEUNIT:e.savedValue.BASEUNIT,PARENT:e.savedValue.PARENT};this.MasterRepo.PartialProductList.splice(this.MasterRepo.PartialProductList.findIndex(i=>i.MCODE==o.MCODE),1),this.MasterRepo.PartialProductList.push(o)}else"group"==e.from&&this.MasterRepo.ProductGroupTree.length>0&&(this.loopingtreeForEdit(this.MasterRepo.ProductGroupTree,e.savedValue.MCODE,e.savedValue.DESCA),this.nodes=this.MasterRepo.ProductGroupTree)}loopingtreeForEdit(e,n,o){for(let i of e){if(i.id==n){i.name=o;break}this.loopingtreeForEdit(i.children,n,o)}}contextMenuClick(e,n){if("edit"==n.tag){let o={name:"addgroup"};o.selectedEditNode=e,o.mode="edit",o.active=!0,this.ProductHomeTabs=[],this.ProductHomeTabs.push(o)}}fileEvent(e){let n=e.target.files;if(n.length>0){let o=n[0],i=new FormData;i.append("uploadFile",o,o.name),this.ProductService.getUploadFile(i)}}getTreeNodeValue(e){this.MasterRepo.pagesubject.next(1),this.MasterRepo.ProdGroupSubject.next(1),this.pages=1,this.MasterRepo.currentPage=1,this.getTreeNodeValueObj=e,this.MasterRepo.isTreeNodeClicked=!0,this.MasterRepo.TreeID=e.mgroup,this.MasterRepo.SelectedProductPrarentID=e.parentId,this.MasterRepo.SelectedProductGrpID=e.id,this.MasterRepo.subGroupLevel=e.LEVELS,"PRG99999999"==e.menucode?(this.isMainParentNodeClicked=!0,this.MasterRepo.isMainGroup=!0):(this.isMainParentNodeClicked=!1,this.MasterRepo.isMainGroup=!1),this.ProductService.getProductGroupListByID(e.id,e.parentId,e.children.length,this.groupListCurrentPage,this.itemPerPage).subscribe(n=>{this.productGroupList=n.result.result,this.MasterRepo.productGroupLists=n.result.result,this.MasterRepo.productGroupSearchTotalCount=n.result.totalCount,this.totalCount.emit(n.result.totalCount),this.MasterRepo.filter="",this.MasterRepo.filters="",this.MasterRepo.ITEM_LEVEL=n.result2&&n.result2[0].ITEM_LEVEL}),this.ProductService.getProductListByID(e.id,e.parentId,e.children.length,this.MasterRepo.currentPage,this.itemPerPage).subscribe(n=>{this.productListByID=n.result,console.log(this.productListByID),this.MasterRepo.productLists=n.result,this.MasterRepo.productSearchTotalCount=n.totalCount})}clickedActive(e){this.isChecked=e}getSelectedGroupInfo(e){this.selectedGroupInfo=e}excelReportNameProvide(){return"productmaster-report"}ExportReportInExcel(){this.selectGroupForExport=!0}onExportAltUnit(){this._spinnerservice.show("Downloading Alternate Unit report, Please wait..."),this.ProductService.getExcelFileForAltUnit().subscribe(n=>{this._spinnerservice.hide();let o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});_.saveAs(o,"AlternateUnit.xlsx")},n=>{this._alertService.info("data could not found"),this._spinnerservice.hide()})}onExport(){this._spinnerservice.show("Downloading product master report, Please wait..."),""==this.groupSelectObj.DESCA&&(this.listForExport=[]),this.MasterRepo.getExcelFile(this.isChecked,this.listForExport).subscribe(n=>{this._spinnerservice.hide();let o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});console.log("blob1",o,n),_.saveAs(o,"Product Master.xlsx")},n=>{this.alertService.info("data could not found"),this._spinnerservice.hide()}),this.closeGroupModal(),this.isChecked=0}GroupEnterCommand(e){this.getGroupList(),this.multiselectGenericGrid.show()}getGroupList(){this.multiselectPopupSettings=this.MasterRepo.getGenericGridPopUpSettings("GroupsList")}onMultiItemSelected(e){console.log("group mulitple selected",e),this.groupSelectObj.DESCA=e.DESCA,this.items=e.MCODE.split(","),this.groupSelectObj.MCODE=this.items,this.items.forEach(n=>{this.listForExport.push({mcode:n})}),console.log(this.items,this.listForExport)}closeGroupModal(){this.selectGroupForExport=!1,this.groupSelectObj.DESCA="",this.listForExport=[]}excelDownloadFromHtml_manualTable(e){try{this.reportData=this.menudata[0];let d='<table style="border: thin solid black;">  <thead>   <tr>';for(let x of this.reportHeaders)d+='<th style="border: thin solid black;">'+x+"</th>";d+="</tr> </thead>",d+="<tbody>";for(let x of this.reportData){d+="<tr>";for(let j of this.reportBody){var n=x[j];null==n&&(n=""),d+='<td style="border: thin solid black;">'+n+"</td>"}}d+="</tbody></table>";var i=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),c=URL.createObjectURL(i),u=document.createElement("a");u.href=c,u.download=this.excelReportNameProvide()+".xlsx",document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(d){alert(d)}}onCancel(){try{this.routeToHome()}catch(e){this._alertService.error(e)}}routeToHome(e=null,n=null){let o={name:"productlist",active:!0};o.mode=n,o.from="product",o.savedValue=e,this.MasterRepo.groupSelectObj={},this.MasterRepo.subGroupAList=[],this.MasterRepo.subGroupBList=[],this.MasterRepo.subGroupCList=[],this.selectedGroupInfo=void 0,this.MasterRepo.groupSelectObj.MGROUP="",this.MasterRepo.SelectedProductGrpID="",this.MasterRepo.TreeID="",this.activeTabEmitEvent(o),this.ProductService.productObj={},this.MasterRepo.isAddFormShown_1=!1,console.log("group select",this.ProductService.groupSelectObj)}Delete(){this.MasterRepo.checkUserRights("delete","productmaster")&&confirm("Do you want to delete?")&&(this.alertService.info("Deleting data, Please wait."),this.ProductService.deleteMenuitem(this.MasterRepo.ProductMcode,this.MasterRepo.isGroup).subscribe(e=>{console.log("@@res",e),"ok"==e.status?(this.MasterRepo.updateBrandTreeSubject.next(e),this.ProductService.productObj={},this.MasterRepo.isAddFormShown_1=!1,setTimeout(()=>{1==this.MasterRepo.isGroup&&this.alertService.hide(),this._alertService.success(e.result),this.routeToHome()},1e3),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.MasterRepo.currentPage,this.itemPerPage).subscribe(n=>{this.productListByID=n.result,this.MasterRepo.productLists=n.result}),this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage).subscribe(n=>{this.MasterRepo.productGroupLists=n.result.result})):"error"==e.staus&&this.alertService.info(e.result)}))}productListWhileLoad(){let e="PRG99999999";this.ProductService.getProductListByID(e,"MI",53,this.MasterRepo.currentPage,10).subscribe(i=>{this.productListByID=i.result,this.MasterRepo.productLists=i.result,this.MasterRepo.productSearchTotalCount=i.totalCount}),this.ProductService.getProductGroupListByID(e,"MI",53,this.groupListCurrentPage,10).subscribe(i=>{this.MasterRepo.productGroupLists=i.result.result,this.MasterRepo.productGroupSearchTotalCount=i.result.totalCount})}showFileUploadPopUp(){this.fileUploadPopup.show()}fileUploadSuccess(e){console.log("upload success",e,e.result.result,e.result),"ok"==e.status?this.alertService.success(e.result.result):this.alertService.error(e.result)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(S.c),t.Y36(t.zs3),t.Y36(P.P),t.Y36(C.e),t.Y36(g.L),t.Y36(I.R),t.Y36(U.V),t.Y36(S.c),t.Y36(h.F0),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["products"]],viewQuery:function(e,n){if(1&e&&(t.Gf(f.qr,5),t.Gf(oe,5),t.Gf(ie,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.tree=o.first),t.iGM(o=t.CRH())&&(n.multiselectGenericGrid=o.first),t.iGM(o=t.CRH())&&(n.fileUploadPopup=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(i){return n.handleKeyDownloadEvent(i)},!1,t.evT)},outputs:{totalCount:"totalCount"},features:[t._Bn([g.L,C.e]),t.qOj],decls:26,vars:26,consts:[[1,"row"],[1,"col-md-6"],[2,"white-space","nowrap","font-family","Segoe UI Light","font-weight","bold","font-size","18px","padding-left","4%","width","192px"],["style","font-size: 14px;width: 130px;padding-top: 8px;",4,"ngIf"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],["class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","margin-left: 5px;font-size: 12px;","appOldFYearDB","",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],["class","btn btn-info pull-right","type","button","style","float: right; font-size: 12px",3,"click",4,"ngIf"],[1,"col-md-3",2,"padding","0px"],[3,"brandsortByDateFilter","isAddFormShown","selectedNode","selectedGroupInfo"],[1,"col-md-9",2,"margin-top","-0"],[3,"source","productObj","ProductHomeTabs","groupType","getTreeNodeValueObj","selectedGroupInfo","productGroupList","productListByID","isAddFormShown","itemPerPage","pages","groupListCurrentPage","sortByDateEmit","activeTabEmit"],[4,"ngIf"],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"popupsettings","onUploaded"],["fileUploadPopup",""],[2,"font-size","14px","width","130px","padding-top","8px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["type","button","appOldFYearDB","",1,"btn","btn-info","pull-right",2,"margin-left","5px","font-size","12px",3,"disabled","click"],["isOldFYearDB","appOldFYearDB"],["type","button",1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["type","button",1,"btn","btn-info","pull-right",2,"float","right","font-size","12px",3,"click"],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row",2,"margin","0.5rem"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Group List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-left","-10%","width","100%"],["type","checkbox",3,"change"],[1,"modal-footer"],[1,"col-9"],[2,"font-size","12px"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px","margin-right","20px","float","right",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"PRODUCT MASTER"),t.qZA(),t.YNc(4,re,2,1,"label",3),t.qZA(),t.TgZ(5,"div",1)(6,"button",4),t._uU(7," Back "),t.qZA(),t.YNc(8,se,2,0,"button",5),t.YNc(9,ce,2,0,"button",5),t.YNc(10,ae,3,1,"button",6),t.YNc(11,le,3,1,"button",6),t.YNc(12,de,3,1,"button",6),t.YNc(13,ue,2,0,"button",7),t.YNc(14,pe,2,0,"button",7),t.YNc(15,ge,2,0,"button",8),t.qZA()(),t.TgZ(16,"div",0)(17,"div",9)(18,"brand-tree",10),t.NdJ("selectedNode",function(i){return n.getTreeNodeValue(i)})("selectedGroupInfo",function(i){return n.getSelectedGroupInfo(i)}),t.qZA()(),t.TgZ(19,"div",11)(20,"hometabs",12),t.NdJ("sortByDateEmit",function(i){return n.onsortByDate(i)})("activeTabEmit",function(i){return n.activeTabEmitEvent(i)}),t.qZA()()(),t.YNc(21,_e,31,1,"div",13),t.TgZ(22,"multiselect-generic-grid",14,15),t.NdJ("onItemsSelected",function(i){return n.onMultiItemSelected(i)}),t.qZA(),t.TgZ(24,"file-uploader-popup",16,17),t.NdJ("onUploaded",function(i){return n.fileUploadSuccess(i)}),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.MasterRepo.modeIs),t.xp6(4),t.Q6J("ngIf","productlist"==n.ProductHomeTabs[0].name),t.xp6(1),t.Q6J("ngIf","productlist"==n.ProductHomeTabs[0].name),t.xp6(1),t.Q6J("ngIf","view"!==n.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","view"!==n.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","view"!==n.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","productlist"!=n.ProductHomeTabs[0].name&&"view"==n.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","productlist"!=n.ProductHomeTabs[0].name),t.xp6(1),t.Q6J("ngIf","productlist"!=n.ProductHomeTabs[0].name),t.xp6(3),t.Q6J("brandsortByDateFilter",n.sortByDateFilter)("isAddFormShown",n.isAddFormShown),t.xp6(2),t.Q6J("source",n.source)("productObj",n.ProductService.productObj)("ProductHomeTabs",n.ProductHomeTabs)("groupType",n.groupType)("getTreeNodeValueObj",n.getTreeNodeValueObj)("selectedGroupInfo",n.selectedGroupInfo)("productGroupList",n.productGroupList)("productListByID",n.productListByID)("isAddFormShown",n.isAddFormShown)("itemPerPage",n.itemPerPage)("pages",n.pages)("groupListCurrentPage",n.groupListCurrentPage),t.xp6(1),t.Q6J("ngIf",n.selectGroupForExport),t.xp6(1),t.Q6J("popupsettings",n.multiselectPopupSettings),t.xp6(2),t.Q6J("popupsettings",n.fileUploadPopupSettings))},dependencies:[p.O5,a.Fj,a.JJ,a.On,h.rH,D.G,E.ky,y.H,A.U,ne],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}"]}),r})()},{path:"add-productmaster",component:H},{path:"add-product-group",component:V}];let be=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[h.Bz.forChild(me),h.Bz]}),r})();var Ce=l(63321),fe=l(59629),Te=l(93247),Oe=l(39773);const Ae=["*"];let X=(()=>{class r{constructor(){this.active=!1}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["tab"]],inputs:{title:["tabTitle","title"],active:"active"},ngContentSelectors:Ae,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&e&&t.Q6J("hidden",!n.active)},styles:[".pane[_ngcontent-%COMP%]{padding:1em}"]}),r})();function Pe(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"li",2),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selectTab(i))}),t.TgZ(1,"a"),t._uU(2),t.qZA()()}if(2&r){const e=s.$implicit;t.ekj("active",e.active),t.xp6(2),t.Oqu(e.title)}}const Me=["*"];let Se=(()=>{class r{ngAfterContentInit(){try{0===this.tabs.filter(n=>n.active).length&&this.selectTab(this.tabs.first)}catch(e){alert(e)}}selectTab(e){try{this.tabs.toArray().forEach(n=>n.active=!1),e.active=!0}catch(n){alert(n)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["tabs"]],contentQueries:function(e,n,o){if(1&e&&t.Suo(o,X,4),2&e){let i;t.iGM(i=t.CRH())&&(n.tabs=i)}},ngContentSelectors:Me,decls:3,vars:1,consts:[[1,"nav","nav-tabs",2,"height","29px","justify-content","start","width","101%"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"ul",0),t.YNc(1,Pe,3,3,"li",1),t.qZA(),t.Hsn(2)),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.tabs))},dependencies:[p.sg],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:5px;text-decoration:none;font-size:14px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff;cursor:pointer;cursor:hand}.active[_ngcontent-%COMP%]{color:#000;background-color:#336799;height:29px}@media (min-height: 1024px),(min-width: 768px){ul[_ngcontent-%COMP%]{justify-content:none}}"]}),r})();var ve=l(46543),w=l(28698);const Ee=["genericGridWarehouse"];function xe(r,s){if(1&r&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.UNITS),t.xp6(1),t.Oqu(e.UNITS)}}function Ie(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr",32),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw(3);return t.KtG(c.RowClick(i))}),t.TgZ(1,"td",33)(2,"input",34),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.WAREHOUSE=o)})("keydown.enter",function(o){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(o))})("keydown.Tab",function(o){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(o))})("keydown.enter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick())})("keydown.Tab",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick(o.warehouse))}),t.qZA()(),t.TgZ(3,"td",33)(4,"input",35),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ROLEVEL=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick("rolevel"))})("keydown.Tab",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick(o.rolevel))}),t.qZA()(),t.TgZ(5,"td",33)(6,"input",35),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.MINLEVEL=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick("minlevel"))})("keydown.Tab",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick(o.minlevel))}),t.qZA()(),t.TgZ(7,"td",33)(8,"input",35),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.MAXLEVEL=o)})("keydown.enter",function(){const i=t.CHM(e).index,c=t.oxw(3);return t.KtG(c.onaddnewRow(i))})("keydown.Tab",function(){const i=t.CHM(e).index,c=t.oxw(3);return t.KtG(c.onaddnewRow(i))}),t.qZA()()()}if(2&r){const e=s.$implicit,n=s.index;t.xp6(2),t.MGl("id","warehouse",n,""),t.Q6J("ngModel",e.WAREHOUSE),t.xp6(2),t.MGl("id","rolevel",n,""),t.Q6J("ngModel",e.ROLEVEL),t.xp6(2),t.MGl("id","minlevel",n,""),t.Q6J("ngModel",e.MINLEVEL),t.xp6(2),t.MGl("id","maxlevel",n,""),t.Q6J("ngModel",e.MAXLEVEL)}}function we(r,s){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,Ie,9,8,"tr",31),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.productObj.MultiStockLevels)}}function Ne(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr",32),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw(3);return t.KtG(c.TemptableRowClick(i))}),t.TgZ(1,"td",36)(2,"input",37),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.WAREHOUSE=o)})("keydown.enter",function(o){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(o))})("keydown.Tab",function(o){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(o))})("keyup",function(o){t.CHM(e);const i=t.oxw(3);return t.KtG(i.WarehouseEnterCommand(o))})("keydown.enter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick())})("keydown.Tab",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick(o.warehouse))}),t.qZA()(),t.TgZ(3,"td",38)(4,"input",35),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ROLEVEL=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick("rolevel"))})("keydown.Tab",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick(o.rolevel))}),t.qZA()(),t.TgZ(5,"td",39)(6,"input",35),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.MINLEVEL=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick("minlevel"))})("keydown.Tab",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.tabclick(o.minlevel))}),t.qZA()(),t.TgZ(7,"td",39)(8,"input",35),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.MAXLEVEL=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onaddnewRow("maxlevel"))})("keydown.Tab",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onaddnewRow("maxlevel"))}),t.qZA()()()}if(2&r){const e=s.$implicit,n=s.index;t.xp6(2),t.Q6J("ngModel",e.WAREHOUSE),t.xp6(2),t.MGl("id","rolevel",n,""),t.Q6J("ngModel",e.ROLEVEL),t.xp6(2),t.MGl("id","minlevel",n,""),t.Q6J("ngModel",e.MINLEVEL),t.xp6(2),t.MGl("id","maxlevel",n,""),t.Q6J("ngModel",e.MAXLEVEL)}}function Re(r,s){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,Ne,9,7,"tr",31),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.MultiStockLevelsTemp)}}function Ue(r,s){if(1&r&&(t.TgZ(0,"div",26),t._UZ(1,"br"),t.TgZ(2,"table",27)(3,"tr",28)(4,"td",29),t._uU(5,"Warehouse"),t.qZA(),t.TgZ(6,"td",29),t._uU(7,"Re-Order"),t.qZA(),t.TgZ(8,"td",29),t._uU(9,"Min Stock"),t.qZA(),t.TgZ(10,"td",29),t._uU(11,"Max Stock"),t.qZA()(),t.YNc(12,we,2,1,"tbody",30),t.YNc(13,Re,2,1,"tbody",30),t.qZA()()),2&r){const e=t.oxw();t.xp6(12),t.Q6J("ngIf",1==e.productService.isrowClicked),t.xp6(1),t.Q6J("ngIf",0==e.productService.isrowClicked)}}let ye=(()=>{class r{constructor(e,n,o){this.masterService=e,this.productService=n,this.alert=o,this.productObj={},this.EnableMultiStockLevel=!1,this.gridPopupSettingsForWarehouse=new w.im,this.WarehouseList=[],this.MSLevel={},this.activerowIndex=0,this.Units=[],this.MultiStockLevelsTemp=[],this.masterService.getUnits().subscribe(i=>{this.Units=i})}ngOnInit(){this.AppMode=b.N.appMode;try{this.masterService.getWarehouseList().subscribe(e=>{this.WarehouseList=e}),this.productService.isrowClicked=!1,this.EnableMultiStockLevel=!1,this.initialAddRow(),"view"==this.mode&&(this.EnableMultiStockLevel=!0),this.initialMultiStockLevels()}catch(e){alert(e)}}ngOnChanges(){this.initialMultiStockLevels()}initialMultiStockLevels(){let e={MAXLEVEL:0,MCODE:"",MINLEVEL:0,ROLEVEL:0,WAREHOUSE:""};return this.productObj.MultiStockLevels.push(e),console.log("initail step",this.productObj,e),!0}AddMultiStock(){try{if(null==this.MSLevel.WAREHOUSE||this.productObj.MultiStockLevels.filter(e=>e.WAREHOUSE==this.MSLevel.WAREHOUSE).length>0)return;null==this.productObj.MultiStockLevels&&(this.productObj.MultiStockLevels=[]),this.productObj.MultiStockLevels.push(this.MSLevel),this.MSLevel={}}catch(e){alert(e)}}removeMSLevel(e){try{this.productObj.MultiStockLevels.splice(e,1)}catch(n){alert(n)}}WarehouseWiseInventory(e){try{0==this.productObj.MultiStockLevels.length&&this.initialMultiStockLevels(),console.log("checkchecknewvalue",e),this.EnableMultiStockLevel=1==e}catch(n){alert(n)}}onaddnewRow(e){if(""==this.productObj.MultiStockLevels[e].WAREHOUSE)return void alert("please enter warehouse first");let n=this.activerowIndex+1;this.RowClick(n),this.productObj.MultiStockLevels.some(o=>""==o.WAREHOUSE)||(this.initialMultiStockLevels(),this.productService.isrowClicked=!0,setTimeout(()=>{document.getElementById("warehouse"+n).focus()},0))}RowClick(e){this.activerowIndex=e}TemptableRowClick(e){this.productService.isrowClicked=!0}tabclick(e){"warehouse"==e&&document.getElementById("rolevel"+this.activerowIndex).focus(),"rolevel"==e&&document.getElementById("minlevel"+this.activerowIndex).focus(),"minlevel"==e&&document.getElementById("maxlevel"+this.activerowIndex).focus()}WarehouseEnterCommand(e){this.gridPopupSettingsForWarehouse={title:"Warehouse",userWiseWarehouseOnly:!1,apiEndpoints:"/getAllWarehousePagedList",defaultFilterIndex:0,columns:[{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridWarehouse.show()}onWarehouseSelected(e){this.productObj.MultiStockLevels.find(n=>n.WAREHOUSE===e.NAME)?this.alert.error("Cannot enter same Warehouse !"):(this.productObj.MultiStockLevels[this.activerowIndex].WAREHOUSE=e.NAME,this.tabclick("warehouse"))}initialAddRow(e=0){let o={MAXLEVEL:0,MCODE:"",MINLEVEL:0,ROLEVEL:0,WAREHOUSE:""};for(let i=0;i<=4;i++)this.MultiStockLevelsTemp.push(o)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(g.L),t.Y36(S.c))},r.\u0275cmp=t.Xpm({type:r,selectors:[["inventorycontroltab"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ee,5),2&e){let o;t.iGM(o=t.CRH())&&(n.genericGridWarehouse=o.first)}},inputs:{productObj:"productObj",EnableMultiStockLevel:"EnableMultiStockLevel",mode:"mode"},features:[t.TTD],decls:64,vars:20,consts:[[1,"row",2,"margin-left","-15px !important"],[1,"col-md-5",2,"padding-left","0px"],[1,"fieldsColumnHeading"],[2,"width","105px"],["type","number",3,"ngModel","ngModelChange"],[2,"width","70px","margin-left","10px"],[1,"fieldsColumnHeading",2,"margin-top","30px"],[2,"width","97px"],["type","number",2,"width","70px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],[2,"width","20%",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number","placeholder","l",2,"width","46px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],["type","number","placeholder","w",2,"width","46px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],["type","number","placeholder","b",2,"width","47px","text-align","right","margin-right","5px",3,"ngModel","ngModelChange"],[2,"width","70px","margin-left","4px"],["type","number",2,"width","150px","text-align","right",3,"ngModel","ngModelChange"],[1,"offset-lg-1"],[1,"col-md-6",2,"padding-left","0px"],[2,"width","300px"],[2,"width","270px","height","20px"],["type","checkbox",2,"vertical-align","middle",3,"checked","change"],[2,"width","320px","height","20px"],["style","overflow:auto;",4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGridWarehouse",""],[3,"ngValue"],[2,"overflow","auto"],["id","BlueHeaderResizableTable"],[1,"tableHeading"],[1,"fontsize"],[4,"ngIf"],["style","border: 1 px solid gray;",3,"click",4,"ngFor","ngForOf"],[2,"border","1 px solid gray",3,"click"],[1,"fontsize",2,"border","1px solid #c3afaf"],["type","text","name","","autocomplete","off","placeholder","Press Enter or Tab",3,"id","ngModel","ngModelChange","keydown.enter","keydown.Tab"],["type","text","name","","id","",3,"id","ngModel","ngModelChange","keydown.enter","keydown.Tab"],[1,"fontsize",2,"width","150px","border","1px solid #c3afaf"],["type","text","name","","autocomplete","off","placeholder","Press Enter or Tab",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup"],[1,"fontsize",2,"width","85tabclickpx","border","1px solid #c3afaf"],[1,"fontsize",2,"width","85px","border","1px solid #c3afaf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Default Inventory Control Parameter"),t.qZA(),t.TgZ(4,"div")(5,"label",3),t._uU(6,"Re-Order Level :"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(i){return n.productObj.ROLEVEL=i}),t.qZA(),t.TgZ(8,"label",5),t._uU(9),t.qZA()(),t.TgZ(10,"div")(11,"label",3),t._uU(12,"Min Stock Level :"),t.qZA(),t.TgZ(13,"input",4),t.NdJ("ngModelChange",function(i){return n.productObj.MINLEVEL=i}),t.qZA(),t.TgZ(14,"label",5),t._uU(15),t.qZA()(),t.TgZ(16,"div")(17,"label",3),t._uU(18,"Max Stock Level :"),t.qZA(),t.TgZ(19,"input",4),t.NdJ("ngModelChange",function(i){return n.productObj.MAXLEVEL=i}),t.qZA(),t.TgZ(20,"label",5),t._uU(21),t.qZA()(),t.TgZ(22,"div",6),t._uU(23,"Inventory Packing Detail"),t.qZA(),t.TgZ(24,"div")(25,"label",7),t._uU(26,"Weight :"),t.qZA(),t.TgZ(27,"input",8),t.NdJ("ngModelChange",function(i){return n.productObj.GWEIGHT=i}),t.qZA(),t.TgZ(28,"select",9),t.NdJ("ngModelChange",function(i){return n.productObj.PACK=i}),t.YNc(29,xe,2,2,"option",10),t.qZA(),t.TgZ(30,"label",5),t._uU(31),t.qZA()(),t.TgZ(32,"div")(33,"label",7),t._uU(34,"Dimension :"),t.qZA(),t.TgZ(35,"input",11),t.NdJ("ngModelChange",function(i){return n.productObj.LENGTH=i}),t.qZA(),t.TgZ(36,"input",12),t.NdJ("ngModelChange",function(i){return n.productObj.WIDTH=i}),t.qZA(),t.TgZ(37,"input",13),t.NdJ("ngModelChange",function(i){return n.productObj.BREADTH=i}),t.qZA(),t.TgZ(38,"label",14),t._uU(39,"(Length/Width/Breadth)"),t.qZA()(),t.TgZ(40,"div")(41,"label",7),t._uU(42,"Total Quantity :"),t.qZA(),t.TgZ(43,"input",15),t.NdJ("ngModelChange",function(i){return n.productObj.CBM=i}),t.qZA(),t.TgZ(44,"label",5),t._uU(45," / CLD"),t.qZA()()(),t._UZ(46,"div",16),t.TgZ(47,"div",17)(48,"div",18)(49,"label",19)(50,"input",20),t.NdJ("change",function(i){return n.productObj.MINWARN=i.target.checked?1:0}),t.qZA(),t._uU(51,"\xa0Do Not Issue Stock After Min Stock Level."),t.qZA(),t.TgZ(52,"label",19)(53,"input",20),t.NdJ("change",function(i){return n.productObj.ROWARN=i.target.checked?1:0}),t.qZA(),t._uU(54,"\xa0Warn When Stock Reaches Re-Order Level."),t.qZA(),t.TgZ(55,"label",19)(56,"input",20),t.NdJ("change",function(i){return n.productObj.ZEROROLEVEL=i.target.checked?1:0}),t.qZA(),t._uU(57,"\xa0Take Zero Stock As Re-Order Level."),t.qZA()(),t.TgZ(58,"label",21)(59,"input",20),t.NdJ("change",function(i){return n.WarehouseWiseInventory(i.target.checked)}),t.qZA(),t._uU(60," Warehouse Wise Inventory Control Setting"),t.qZA(),t.YNc(61,Ue,14,2,"div",22),t.qZA()(),t.TgZ(62,"generic-popup-grid",23,24),t.NdJ("onItemDoubleClick",function(i){return n.onWarehouseSelected(i)}),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngModel",n.productObj.ROLEVEL),t.xp6(2),t.Oqu(n.productObj.BASEUNIT),t.xp6(4),t.Q6J("ngModel",n.productObj.MINLEVEL),t.xp6(2),t.Oqu(n.productObj.BASEUNIT),t.xp6(4),t.Q6J("ngModel",n.productObj.MAXLEVEL),t.xp6(2),t.Oqu(n.productObj.BASEUNIT),t.xp6(6),t.Q6J("ngModel",n.productObj.GWEIGHT),t.xp6(1),t.Q6J("ngModel",n.productObj.PACK),t.xp6(1),t.Q6J("ngForOf",n.Units),t.xp6(2),t.hij(" / ",n.productObj.BASEUNIT,""),t.xp6(4),t.Q6J("ngModel",n.productObj.LENGTH),t.xp6(1),t.Q6J("ngModel",n.productObj.WIDTH),t.xp6(1),t.Q6J("ngModel",n.productObj.BREADTH),t.xp6(6),t.Q6J("ngModel",n.productObj.CBM),t.xp6(7),t.Q6J("checked",1==n.productObj.MINWARN),t.xp6(3),t.Q6J("checked",1==n.productObj.ROWARN),t.xp6(3),t.Q6J("checked",1==n.productObj.ZEROROLEVEL),t.xp6(3),t.Q6J("checked",n.EnableMultiStockLevel),t.xp6(2),t.Q6J("ngIf",1==n.EnableMultiStockLevel),t.xp6(1),t.Q6J("popupsettings",n.gridPopupSettingsForWarehouse))},dependencies:[p.sg,p.O5,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.On,w.Zl],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n        border: 1px solid gray;\n    }\n\n    .col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .ThirtyTreeLabel[_ngcontent-%COMP%] {\n        width: 28.5%;\n    }\n\n    .fourtyfive[_ngcontent-%COMP%] {\n        width: 45%;\n    }\n\n    .thirtysix[_ngcontent-%COMP%] {\n        width: 36%;\n    }\n\n    .fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n        border: 1px solid gray;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n        \n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }"]}),r})(),$=(()=>{class r{onKeyDown(e){"Space"==e.code&&e.preventDefault()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=t.lG2({type:r,selectors:[["","WhiteSpaceRestriction",""]],hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(i){return n.onKeyDown(i)})}}),r})();const je=["smBarcode"];function De(r,s){1&r&&(t.TgZ(0,"label",22),t._uU(1,"Unit :"),t.qZA())}function Ze(r,s){if(1&r&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.ALTUNIT),t.xp6(1),t.Oqu(e.ALTUNIT)}}function Le(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"select",23),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.PBarCode.UNIT=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.BarcodeChangeEvent())}),t.TgZ(1,"option",24),t._uU(2),t.qZA(),t.YNc(3,Ze,2,2,"option",25),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.PBarCode.UNIT),t.xp6(1),t.Q6J("ngValue",e.productObj.BASEUNIT),t.xp6(1),t.Oqu(e.productObj.BASEUNIT),t.xp6(1),t.Q6J("ngForOf",e.Units)}}function ke(r,s){1&r&&(t.TgZ(0,"th",26),t._uU(1,"Unit"),t.qZA())}const Ge=function(r){return{tooltipChild:r}};function Be(r,s){if(1&r&&(t.ynx(0),t._UZ(1,"span",38),t.BQk()),2&r){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,Ge,n.hoverId==e))("innerHTML",n.stringValue,t.oJD)}}function Je(r,s){if(1&r&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.UNIT)}}function Fe(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr",27)(1,"td",28),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t.NdJ("mouseover",function(){const o=t.CHM(e),i=o.index,c=o.$implicit,u=t.oxw();return t.KtG(u.hover(i,c.BARCODEDETAILS))}),t._uU(4),t.YNc(5,Be,2,4,"ng-container",30),t.qZA(),t.YNc(6,Je,2,1,"td",31),t.TgZ(7,"td",32)(8,"input",33),t.NdJ("change",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.DISCONTINUE=o.target.checked?1:0)})("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.DISCONTINUE=o)}),t.qZA()(),t.TgZ(9,"td",34),t._uU(10),t.qZA(),t.TgZ(11,"td",35)(12,"button",36),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw();return t.KtG(c.editMSLevel(i))}),t._uU(13,"EDIT"),t.qZA(),t.TgZ(14,"button",37),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw();return t.KtG(c.removeMSLevel(i))}),t._uU(15,"Remove"),t.qZA()()()}if(2&r){const e=s.$implicit,n=s.index,o=t.oxw();t.xp6(2),t.Oqu(n+1),t.xp6(2),t.hij("",e.BCODE," "),t.xp6(1),t.Q6J("ngIf",e.BARCODEDETAILS),t.xp6(1),t.Q6J("ngIf","lite"!=o.AppMode),t.xp6(2),t.Q6J("ngModel",e.DISCONTINUE),t.xp6(2),t.Oqu(e.ISOLD)}}let qe=(()=>{class r{constructor(e,n,o,i,c){this.masterService=e,this.setting=n,this.alertSevice=o,this.productService=i,this.ProductService=c,this.productObj={},this.PBarCode={},this.PBarCodeCollection=[],this.AlternateUnits=[],this.BCodeDetails=[],this.SupplierList=[],this.DivisionList=[],this.Units=[],this.barcodeUnits=[],this.active=0,this.stringValue="",this.AppMode=b.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(u){alert(u)}}ngOnInit(){try{this.Units=this.AlternateUnits,console.log(this.Units),this.masterService.getBCodeDetails().subscribe(e=>{this.BCodeDetails.push(e)}),setTimeout(()=>{this.PBarCode.UNIT=this.productObj.BASEUNIT},3e3),this.PBarCode.ISOLD=0}catch(e){alert(e)}}supplierChangeEvent(){try{this.PBarCode.SUPCODE=this.PBarCode.SupplierAccount.ACID}catch(e){alert(e)}}divChangeEvent(){try{this.PBarCode.DIV=this.PBarCode.Division.INITIAL}catch(e){alert(e)}}PBarcodeInitialize(){try{this.PBarCode={},this.PBarCode.Division={},this.PBarCode.SupplierAccount={}}catch(e){alert(e)}}AddBCode(){try{console.log("PBARCODE on AddBCode",this.PBarCode),this.PBarCode.MCODE=this.masterService.ProductMcode,this.PBarCodeCollection.push(this.PBarCode),console.log("PbarCodeCollection",this.PBarCodeCollection)}catch(e){alert(e)}}removeMSLevel(e){try{this.masterService.checkBarcodeTransaction(this.PBarCodeCollection[e].BCODE).subscribe(n=>{"ok"===n.status?this.PBarCodeCollection.splice(e,1):this.alertSevice.info(n.result)})}catch(n){alert(n)}}editMSLevel(e){try{this.masterService.checkBarcodeTransaction(this.PBarCodeCollection[e].BCODE).subscribe(n=>{"ok"===n.status?(this.PBarCode=this.PBarCodeCollection[e],this.PBarCode.SRATE=this.PBarCodeCollection[e].MRP_WO_VAT,this.PBarCodeCollection.splice(e,1)):this.alertSevice.info(n.result)})}catch(n){alert(n)}}smBarcodeshow(){try{this.BCodeDetails=this.PBarCode.BCodeDetails,this.smBarcode.show()}catch(e){alert(e)}}smBarcodeSave(){try{this.PBarCode.BCodeDetails=this.BCodeDetails,this.smBarcode.hide()}catch(e){alert(e)}}ReCalculateVamAmt(){if(1==this.productObj.VAT){if(this.PBarCode.MRP||0==this.PBarCode.MRP||null==this.PBarCode.MRP){let e=(this.PBarCode.MRP/1.13).toFixed(5);this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE=Number(e)}}else this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE=this.PBarCode.MRP}ReCalculateNonVamAmt(){if(1==this.productObj.VAT&&(this.PBarCode.MRP_WO_VAT=this.PBarCode.SRATE,this.PBarCode.SRATE)){let e=(1.13*(this.PBarCode.SRATE+this.ProductService.nullToZeroConverter(this.PBarCode.MRP))).toFixed(5);this.PBarCode.MRP=Number(e)}}BarcodeChangeEvent(){"Edit Product"==this.masterService.modeIs&&(this.productService.PBarCodeList=this.PBarCodeCollection)}updateBarcode(){this.productObj.BARCODE=this.PBarCode.BCODE,this.PBarCode.BCODE?(this.AddBCode(),this.PBarCode={},this.productService.updateBarcodeMapping(this.PBarCodeCollection).subscribe(e=>{})):this.alertSevice.warning("BarCode can not be null")}discontinueBC(e){console.log("disconitnue BC",e),1==e?this.PBarCode.ISOLD=1:0==e&&(this.PBarCode.ISOLD=0)}hover(e,n){this.stringValue="",this.hoverId=e,null!==n&&(n=JSON.parse(n),this.hoverObj=n,this.propertiesName=Object.getOwnPropertyNames(n),this.propertiesName.forEach(o=>{this.stringValue=` ${this.stringValue}<b>${o}</b> : ${this.hoverObj[o]} `}))}addBarcode(){this.PBarCode.BCODE?null!=this.PBarCode.UNIT||"lite"==this.AppMode?this.PBarCodeCollection.find(e=>e.BCODE===this.PBarCode.BCODE)?this.alertSevice.info("Duplicate barcode is found"):""!=this.productObj.MENUCODE&&null!=this.productObj.MENUCODE&&null!=this.productObj.MENUCODE?this.productService.checkDuplicateBarcode(this.PBarCode.BCODE,this.productObj.MCODE).subscribe(e=>{if(console.log("checkduplicate",e),e.status="ok"){if("EXIST"==e.result)return void this.alertSevice.warning("Entered Barcode already exists for some other product");this.PBarCode.ISDEFAULT=0,this.PBarCode.DISCONTINUE=0,this.PBarCodeCollection.push(this.PBarCode),this.PBarCode={},this.PBarCode.ISOLD=0}}):this.alertSevice.warning("Product code not found !"):this.alertSevice.warning("Unit cannot be empty"):this.alertSevice.warning("BarCode can not be empty")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(I.R),t.Y36(S.c),t.Y36(g.L),t.Y36(g.L))},r.\u0275cmp=t.Xpm({type:r,selectors:[["barcodetab"]],viewQuery:function(e,n){if(1&e&&t.Gf(je,5),2&e){let o;t.iGM(o=t.CRH())&&(n.smBarcode=o.first)}},inputs:{productObj:"productObj",AppSettings:"AppSettings",PBarCodeCollection:"PBarCodeCollection",AlternateUnits:"AlternateUnits"},decls:35,vars:5,consts:[[2,"margin-left","5px"],[1,"col-md-12","row"],[1,"col-md-8",2,"margin-top","-11px","padding-right","5px"],[2,"width","60px","margin-left","-34px"],["type","text","WhiteSpaceRestriction","",2,"width","222px",3,"ngModel","ngModelChange","change","keydown.enter"],["style","width:40px;margin-left: 20px;",4,"ngIf"],["style","width:95px",3,"ngModel","ngModelChange","change",4,"ngIf"],[1,"btn","btn-info",2,"background-color","#17a2b8","font-size","12px",3,"click"],[1,"col-md-4",2,"margin-top","10px"],[1,"col-md-3",2,"margin-top","10px"],[2,"height","40vh","width","99%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead"],[2,"line-height","2rem"],[1,"fontsize",2,"width","7%","font-weight","bold"],[1,"fontsize",2,"width","20%","font-weight","bold"],["class","fontsize","style","width:8%;font-weight: bold;",4,"ngIf"],[1,"fontsize",2,"width","9%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","15%","font-weight","bold"],[1,"fontsize",2,"width","12%","font-weight","bold"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 25px;",4,"ngFor","ngForOf"],[2,"width","40px","margin-left","20px"],[2,"width","95px",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"fontsize",2,"width","8%","font-weight","bold"],[2,"line-height","25px"],[1,"fontsize",2,"width","7%"],[1,"fontsize","tooltipParent",2,"width","20%",3,"mouseover"],[4,"ngIf"],["class","fontsize","style","width: 8%;",4,"ngIf"],[1,"fontsize",2,"width","9%","text-align","center"],["type","checkbox",2,"width","25px","height","17px","margin-top","4px","margin-right","9px",3,"ngModel","change","ngModelChange"],[1,"fontsize",2,"width","15%"],[1,"fontsize",2,"width","12%"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","font-size","11px","line-height","10px",3,"click"],[2,"display","none",3,"ngClass","innerHTML"],[1,"fontsize",2,"width","8%"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"br"),t.TgZ(4,"label",3),t._uU(5,"Barcode :"),t.qZA(),t.TgZ(6,"input",4),t.NdJ("ngModelChange",function(i){return n.PBarCode.BCODE=i})("change",function(){return n.BarcodeChangeEvent()})("keydown.enter",function(){return n.addBarcode()}),t.qZA(),t.YNc(7,De,2,0,"label",5),t.YNc(8,Le,4,4,"select",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return n.addBarcode()}),t._uU(10,"Add"),t.qZA()(),t.TgZ(11,"div",8)(12,"table"),t._UZ(13,"tr"),t.qZA()(),t.TgZ(14,"div",9)(15,"table"),t._UZ(16,"tr"),t.qZA()()()(),t._UZ(17,"br"),t.TgZ(18,"div",10)(19,"table",11)(20,"thead",12)(21,"tr",13)(22,"th",14),t._uU(23,"SN"),t.qZA(),t.TgZ(24,"th",15),t._uU(25,"Barcode"),t.qZA(),t.YNc(26,ke,2,0,"th",16),t.TgZ(27,"th",17),t._uU(28,"Discontinue"),t.qZA(),t.TgZ(29,"th",18),t._uU(30,"Status"),t.qZA(),t.TgZ(31,"th",19),t._uU(32,"Actions"),t.qZA()()(),t.TgZ(33,"tbody",20),t.YNc(34,Fe,16,6,"tr",21),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngModel",n.PBarCode.BCODE),t.xp6(1),t.Q6J("ngIf","lite"!=n.AppMode),t.xp6(1),t.Q6J("ngIf","lite"!=n.AppMode),t.xp6(18),t.Q6J("ngIf","lite"!=n.AppMode),t.xp6(8),t.Q6J("ngForOf",n.PBarCodeCollection))},dependencies:[p.mk,p.sg,p.O5,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.On,$],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n  .tooltipParent[_ngcontent-%COMP%]{\n      position: relative;\n      cursor: pointer;\n  }\n  .tooltipChild[_ngcontent-%COMP%]{\n    display:block !important;\n    padding: 15px;\n    background: seagreen;\n    position: absolute;\n    border-radius: 17px;\n    text-align: center;\n    color: whiter;\n    color: white;\n    width: 100%;\n  }\n  \n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),r})();function He(r,s){if(1&r&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.UNITS),t.xp6(1),t.Oqu(e.UNITS)}}function Ve(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"fieldset")(1,"legend",25),t._uU(2,"Sales Price Discount"),t.qZA(),t.TgZ(3,"div",26),t._UZ(4,"label",27),t.TgZ(5,"label",28),t._uU(6,"Retail Price"),t.qZA(),t.TgZ(7,"label",29),t._uU(8,"Whole Sale Price"),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"a",30),t._uU(11,"Discount (%)"),t.qZA(),t.TgZ(12,"input",31),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.CurAltUnit.SRATE_DISCOUNT=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateVATAmount())}),t.qZA(),t.TgZ(13,"input",32),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.CurAltUnit.WSRATE_DISCOUNT=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateVATAmount())}),t.qZA(),t._UZ(14,"br"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(12),t.Q6J("ngModel",e.CurAltUnit.SRATE_DISCOUNT),t.xp6(1),t.Q6J("ngModel",e.CurAltUnit.WSRATE_DISCOUNT)}}function Qe(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr",33)(1,"td",34),t._uU(2),t.qZA(),t.TgZ(3,"td",35),t._uU(4),t.qZA(),t.TgZ(5,"td",36),t._uU(6),t.qZA(),t.TgZ(7,"td",36)(8,"input",37),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.SRATE_DISCOUNT=o)}),t.qZA()(),t.TgZ(9,"td",36)(10,"input",37),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.WSRATE_DISCOUNT=o)}),t.qZA()(),t.TgZ(11,"td",35)(12,"input",13),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ISDEFAULT=o)})("change",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ISDEFAULT=o.target.checked?1:0)}),t.qZA()(),t.TgZ(13,"td",35)(14,"input",13),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ISDEFAULTPRATE=o)})("change",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ISDEFAULTPRATE=o.target.checked?1:0)}),t.qZA()(),t.TgZ(15,"td",35)(16,"input",13),t.NdJ("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ISDISCONTINUE=o)})("change",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ISDISCONTINUE=o.target.checked?1:0)}),t.qZA()(),t.TgZ(17,"td",35)(18,"button",38),t.NdJ("click",function(){const o=t.CHM(e),i=o.$implicit,c=o.index,u=t.oxw();return t.KtG(u.Edit(i,c))}),t._uU(19,"EDIT"),t.qZA(),t.TgZ(20,"button",39),t.NdJ("click",function(){const o=t.CHM(e),i=o.$implicit,c=o.index,u=t.oxw();return t.KtG(u.Delete(i,c))}),t._uU(21,"-"),t.qZA()()()}if(2&r){const e=s.$implicit,n=s.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.ALTUNIT),t.xp6(2),t.Oqu(e.CONFACTOR),t.xp6(2),t.Q6J("ngModel",e.SRATE_DISCOUNT),t.xp6(2),t.Q6J("ngModel",e.WSRATE_DISCOUNT),t.xp6(2),t.Q6J("ngModel",e.ISDEFAULT)("checked",1==e.ISDEFAULT),t.xp6(2),t.Q6J("ngModel",e.ISDEFAULTPRATE)("checked",1==e.ISDEFAULTPRATE),t.xp6(2),t.Q6J("ngModel",e.ISDISCONTINUE)("checked",1==e.ISDISCONTINUE)}}let Ye=(()=>{class r{constructor(e,n,o,i){this.masterService=e,this._alertService=n,this.ProductService=o,this.authservice=i,this.Units=[],this.productObj={},this.CurAltUnit={},this.AlternateUnits=[],this.AlternateUnitsTemp=[],this.isrowAdded=!1,this.CurAltUnitTemp={},this.altUnitMode="",this.disableOnEdit=!1,this.countaddedItem=0,this.appType=this.masterService.appType,this.masterService.getUnits().subscribe(c=>{this.userSetting=this.authservice.getSetting(),this.Units=c})}ngOnInit(){try{this.isrowAdded=!1,this.initialAddRow()}catch(e){this._alertService.error(e)}this.CurAltUnit.ISDEFAULT=0,this.CurAltUnit.ISDISCONTINUE=0,this.CurAltUnit.ISDEFAULTPRATE=0}AddAltUnit(){try{if(this.productObj.BASEUNIT==this.CurAltUnit.ALTUNIT)return void this._alertService.error("Error! Stock Unit and Alternate Unit cannot be the same.");if(this.AlternateUnits.filter(e=>e.ALTUNIT==this.CurAltUnit.ALTUNIT).length>0)return void this._alertService.error("Error! You cannot have two Items with the same Alternate Unit.");this.AlternateUnits.push(this.CurAltUnit),this.CurAltUnit={},this.CurAltUnitTemp={},this.CurAltUnit.ISDEFAULT=0,this.CurAltUnit.ISDISCONTINUE=0,this.CurAltUnit.ISDEFAULTPRATE=0,this.disableOnEdit=!1,this.isrowAdded=!0}catch(e){this._alertService.error(e)}}removeAU(e){try{this.AlternateUnits.splice(e,1)}catch(n){this._alertService.error(n)}}editAU(e){try{this.CurAltUnit=this.AlternateUnits[e],this.AlternateUnits.splice(e,1)}catch(n){this._alertService.error(n)}}RecalculateVATAmount(){if(1==this.productObj.VAT){if(this.CurAltUnit.SRATE_DISCOUNT){let e=(this.CurAltUnit.SRATE_DISCOUNT/1.13).toFixed(5);this.CurAltUnit.EX_RATE=Number(e)}if(this.CurAltUnit.WSRATE_DISCOUNT){let e=(this.CurAltUnit.WSRATE_DISCOUNT/1.13).toFixed(5);this.CurAltUnit.EX_RATE_B=Number(e)}if(this.CurAltUnit.IN_PRATE){let e=(this.CurAltUnit.IN_PRATE/1.13).toFixed(5);this.CurAltUnit.PRATE=Number(e)}}else this.CurAltUnit.SRATE_DISCOUNT&&(this.CurAltUnit.EX_RATE=this.CurAltUnit.SRATE_DISCOUNT),this.CurAltUnit.WSRATE_DISCOUNT&&(this.CurAltUnit.EX_RATE_B=this.CurAltUnit.WSRATE_DISCOUNT),this.CurAltUnit.IN_PRATE&&(this.CurAltUnit.PRATE=this.CurAltUnit.IN_PRATE)}RecalculateNonVATAmount_EX_RATE(){if(1==this.productObj.VAT&&this.CurAltUnit.EX_RATE){let e=(1.13*(this.CurAltUnit.EX_RATE+this.ProductService.nullToZeroConverter(this.CurAltUnit.SRATE_DISCOUNT))).toFixed(5);this.CurAltUnit.SRATE_DISCOUNT=Number(e)}}RecalculateNonVATAmount_EX_RATE_B(){if(1==this.productObj.VAT&&this.CurAltUnit.EX_RATE_B){let e=(1.13*(this.CurAltUnit.EX_RATE_B+this.ProductService.nullToZeroConverter(this.CurAltUnit.WSRATE_DISCOUNT))).toFixed(5);this.CurAltUnit.WSRATE_DISCOUNT=Number(e)}}RecalculateNonVATAmount_Ex_Prate_A(){if(1==this.productObj.VAT&&this.CurAltUnit.PRATE){let e=(1.13*(this.CurAltUnit.PRATE+this.ProductService.nullToZeroConverter(this.CurAltUnit.IN_PRATE))).toFixed(5);this.CurAltUnit.IN_PRATE=Number(e)}}getValueFromDetailInfo(){this.CurAltUnit.BASEUOM=this.productObj.BASEUNIT}initialAddRow(e=0){for(let o=0;o<=4;o++)this.AlternateUnitsTemp.push(this.CurAltUnitTemp)}Edit(e,n){this.altUnitMode="edit",this.ProductService.validateAltUnitInProductMaster(e.MCODE,e.ALTUNIT,this.altUnitMode).subscribe(o=>{"ok"==o.status?(this.CurAltUnit=e,this.AlternateUnits.splice(n,1),this.disableOnEdit=!1):"transactiondone"==o.status&&(this.CurAltUnit=e,this.AlternateUnits.splice(n,1),this.disableOnEdit=!0)},o=>{})}Delete(e,n){this.altUnitMode="delete",this.ProductService.validateAltUnitInProductMaster(e.MCODE,e.ALTUNIT,this.altUnitMode).subscribe(o=>{"ok"==o.status?(this.AlternateUnits.splice(n,1),this._alertService.success(o.result)):"transactiondone"==o.status&&this._alertService.info(`Cannot delete alternateunit: ${e.ALTUNIT}. It is already used in transaction.`)},o=>{this._alertService.info(o.error)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(S.c),t.Y36(g.L),t.Y36(C.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["alternateunittab"]],inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits"},decls:60,vars:14,consts:[[1,"col-md-12","row",2,"margin-left","-15px !important"],[1,"col-md-4"],["type","text","readonly","",2,"width","20%",3,"ngModel","ngModelChange"],[2,"width","38%","margin-left","20px"],[2,"margin-top","-20px"],[2,"width","20%",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text",2,"width","38%","margin-left","20px",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"padding-left","20px"],["type","checkbox",3,"ngModel","ngModelChange","change"],[2,"margin-left","5px","font-size","11px"],["type","checkbox",2,"margin-left","5%",3,"ngModel","checked","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"btn","btn-info",2,"float","right","font-size","12px",3,"disabled","click"],[1,"col-md-12",2,"margin-left","-15px"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","4%","font-weight","bold"],[1,"fontsize",2,"width","9%","font-weight","bold"],[1,"fontsize",2,"width","11%","font-weight","bold"],[1,"fontsize",2,"width","7%","font-weight","bold"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 30px;",4,"ngFor","ngForOf"],[3,"ngValue"],[2,"font-size","12px","width","45%"],[2,"margin-top","-22px"],[2,"width","26%"],[2,"width","32%"],[2,"width","35%"],[2,"width","24%","font-size","12px","margin-left","1%","margin-right","1%"],["type","number",2,"width","30%","text-align","right",3,"ngModel","ngModelChange","change"],["type","number",2,"width","30%","margin-left","6%","text-align","right",3,"ngModel","ngModelChange","change"],[2,"line-height","30px"],[1,"fontsize",2,"width","4%"],[1,"fontsize",2,"width","9%"],[1,"fontsize",2,"width","11%"],["type","number",2,"width","60%",3,"ngModel","ngModelChange"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","line-height","10px",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div")(4,"div")(5,"label"),t._uU(6,"Stock unit"),t.qZA(),t.TgZ(7,"input",2),t.NdJ("ngModelChange",function(i){return n.productObj.BASEUNIT=i}),t.qZA(),t.TgZ(8,"label",3),t._uU(9,"Conversion Factor"),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"div",4)(12,"label"),t._uU(13,"Alternate unit"),t.qZA(),t.TgZ(14,"select",5),t.NdJ("ngModelChange",function(i){return n.CurAltUnit.ALTUNIT=i}),t.YNc(15,He,2,2,"option",6),t.qZA(),t.TgZ(16,"input",7),t.NdJ("ngModelChange",function(i){return n.CurAltUnit.CONFACTOR=i}),t.qZA()(),t._UZ(17,"br"),t.qZA(),t._UZ(18,"br"),t.qZA(),t.TgZ(19,"div",1),t.YNc(20,Ve,15,2,"fieldset",8),t.qZA(),t.TgZ(21,"div",1)(22,"div",9)(23,"input",10),t.NdJ("ngModelChange",function(i){return n.CurAltUnit.ISDEFAULT=i})("change",function(i){return n.CurAltUnit.ISDEFAULT=i.target.checked?1:0}),t.qZA(),t.TgZ(24,"a",11),t._uU(25,"Is Default unit for Sales"),t.qZA(),t.TgZ(26,"input",12),t.NdJ("ngModelChange",function(i){return n.CurAltUnit.ISDISCONTINUE=i})("change",function(i){return n.CurAltUnit.ISDISCONTINUE=i.target.checked?1:0}),t.qZA(),t.TgZ(27,"a",11),t._uU(28,"Set As Discontinue"),t.qZA(),t._UZ(29,"br"),t.TgZ(30,"input",13),t.NdJ("ngModelChange",function(i){return n.CurAltUnit.ISDEFAULTPRATE=i})("change",function(i){return n.CurAltUnit.ISDEFAULTPRATE=i.target.checked?1:0}),t.qZA(),t.TgZ(31,"a",11),t._uU(32,"Is Default unit for Purchase"),t.qZA(),t._UZ(33,"br"),t.TgZ(34,"button",14),t.NdJ("click",function(){return n.AddAltUnit()}),t._uU(35," Add"),t.qZA()()()()(),t.TgZ(36,"div",15)(37,"table",16)(38,"thead")(39,"tr",17)(40,"th",18),t._uU(41,"SN"),t.qZA(),t.TgZ(42,"th",19),t._uU(43,"Alternate Unit"),t.qZA(),t.TgZ(44,"th",20),t._uU(45,"Conversion Factor"),t.qZA(),t.TgZ(46,"th",21),t._uU(47,"SRate Disc"),t.qZA(),t.TgZ(48,"th",20),t._uU(49,"WSRate Discount"),t.qZA(),t.TgZ(50,"th",19),t._uU(51,"Is Default S-Unit"),t.qZA(),t.TgZ(52,"th",19),t._uU(53,"Is Default P-Unit"),t.qZA(),t.TgZ(54,"th",19),t._uU(55,"Discontinue"),t.qZA(),t.TgZ(56,"th",19),t._uU(57,"Actions"),t.qZA()()(),t.TgZ(58,"tbody",22),t.YNc(59,Qe,22,11,"tr",23),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("ngModel",n.productObj.BASEUNIT),t.xp6(7),t.Q6J("ngModel",n.CurAltUnit.ALTUNIT)("disabled",n.disableOnEdit),t.xp6(1),t.Q6J("ngForOf",n.Units),t.xp6(1),t.Q6J("ngModel",n.CurAltUnit.CONFACTOR)("disabled",n.disableOnEdit),t.xp6(4),t.Q6J("ngIf",1==(null==n.userSetting?null:n.userSetting.EnableDiscountInAltUnit)),t.xp6(3),t.Q6J("ngModel",n.CurAltUnit.ISDEFAULT),t.xp6(3),t.Q6J("ngModel",n.CurAltUnit.ISDISCONTINUE)("checked",1==n.CurAltUnit.ISDISCONTINUE),t.xp6(4),t.Q6J("ngModel",n.CurAltUnit.ISDEFAULTPRATE)("checked",1==n.CurAltUnit.ISDEFAULTPRATE),t.xp6(4),t.Q6J("disabled",null==n.CurAltUnit.ALTUNIT||null==n.CurAltUnit.CONFACTOR||""==n.CurAltUnit.ALTUNIT||0==n.CurAltUnit.CONFACTOR),t.xp6(25),t.Q6J("ngForOf",n.AlternateUnits))},dependencies:[p.sg,p.O5,a.YN,a.Kr,a.Fj,a.wV,a.Wl,a.EJ,a.JJ,a.On],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n    \n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n    \n    .ThirtyTreeLabel[_ngcontent-%COMP%] {\n        width: 28.5%;\n    }\n    \n    .fourtyfive[_ngcontent-%COMP%] {\n        width: 45%;\n    }\n    \n    .thirtysix[_ngcontent-%COMP%] {\n        width: 36%;\n    }\n    \n    .fontsize[_ngcontent-%COMP%] {\n        font-size: 12px;\n    }\n    \n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n        width: 100%;\n    }\n    \n    \n    \n    \n    \n    label[_ngcontent-%COMP%] {\n        font-size: 11px;\n    }\n\n    \n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),r})();var tt=l(79829),et=l(5615),Ke=l(8630);const We=["genericGridSupplierPopup"],ze=["genericGrid"],Xe=["genericGridWarehouse"],$e=["salesPriceIncludeVAT"],tn=["salesPriceExcludeVAT"];function en(r,s){if(1&r&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.UNITS),t.xp6(1),t.Oqu(e.UNITS)}}function nn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label"),t._uU(2,"Landing Price : "),t.qZA(),t.TgZ(3,"input",77),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.CRATE=o)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("disabled",!0)("ngModel",e.productObj.CRATE)}}function on(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",10),t._uU(2,"Label MRP : "),t.qZA(),t.TgZ(3,"input",78),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.LabeledMRP=o)})("keydown.Tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickLabelMRP())}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.LabeledMRP)}}function rn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",10),t._uU(2,"Location : "),t.qZA(),t.TgZ(3,"ng-multiselect-dropdown",79),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.Location=o)})("onSelect",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onItemSelect(o))}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("placeholder","Select Location")("disabled","view"==e.mode)("settings",e.locationlistdropdownSettings)("ngModel",e.productObj.Location)("data",e.LocationList)}}function sn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",10),t._uU(2,"Warehouse : "),t.qZA(),t.TgZ(3,"input",80),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.WHOUSE=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectWarehouse())})("keydown.Tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickWarehouse())})("keyup",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectWarehouse())})("keypress",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.keyPress(o))}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.WHOUSE)}}function cn(r,s){if(1&r&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.PTYPEID),t.xp6(1),t.Oqu(e.PTYPENAME)}}function an(r,s){if(1&r&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.ID),t.xp6(1),t.Oqu(e.NAME)}}function ln(r,s){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"label"),t._uU(3,"KOT Category : "),t.qZA(),t.TgZ(4,"select",14),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISBARITEM=o)})("keydown.Tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClick("ProductType"))}),t.YNc(5,an,2,2,"option",8),t.qZA()(),t.TgZ(6,"div",2)(7,"label"),t._uU(8,"Sec. Category : "),t.qZA(),t.TgZ(9,"select",81),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.MCAT1=o)}),t._UZ(10,"option"),t.TgZ(11,"option",82),t._uU(12,"BEVERAGE"),t.qZA(),t.TgZ(13,"option",83),t._uU(14,"FOOD"),t.qZA()()(),t.BQk()}if(2&r){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.productObj.ISBARITEM)("disabled",1==e.productObj.ISUNKNOWN&&"pro"!=e.AppMode||1==e.masterService.disableOnCheckTran),t.xp6(1),t.Q6J("ngForOf",e.KOTcatList),t.xp6(4),t.Q6J("ngModel",e.productObj.MCAT1)("disabled",1==e.productObj.ISUNKNOWN&&"pro"!=e.AppMode||1==e.masterService.disableOnCheckTran)}}function dn(r,s){if(1&r&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.MENUCAT),t.xp6(1),t.Oqu(e.MENUCAT)}}function un(r,s){if(1&r&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.CCID),t.xp6(1),t.Oqu(e.COSTCENTERNAME)}}function pn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label"),t._uU(2,"Item Cost Center: "),t.qZA(),t.TgZ(3,"select",84),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ItemCostCenter=o)}),t._UZ(4,"option",76),t.YNc(5,un,2,2,"option",8),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.ItemCostCenter),t.xp6(2),t.Q6J("ngForOf",e.costLists)}}function gn(r,s){if(1&r&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.MENUCAT),t.xp6(1),t.Oqu(e.MENUCAT)}}function _n(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",85),t._uU(2,"Extra Category : "),t.qZA(),t.TgZ(3,"select",86),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.MCAT1=o)})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickExtraCategory())}),t.YNc(4,gn,2,2,"option",8),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.MCAT1),t.xp6(1),t.Q6J("ngForOf",e.MCat1List)}}function hn(r,s){if(1&r&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.TCatId),t.xp6(1),t.Oqu(e.Category)}}function mn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label"),t._uU(2,"Tax Category : "),t.qZA(),t.TgZ(3,"select",87),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.TaxCategory=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectTaxCategory())})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickExtraCategory())}),t.YNc(4,hn,2,2,"option",8),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.TaxCategory),t.xp6(1),t.Q6J("ngForOf",e.TaxCatList)}}function bn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",27),t._uU(2,"Master Item : "),t.qZA(),t.TgZ(3,"input",88),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.SUPITEMNAME=o)})("keydown.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.ItemkeyEvent())})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickSupplierCode())})("keydown.delete",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.removeMasterItem())})("focusout",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.checkMasterItem())}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.SUPITEMNAME)}}function Cn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",27),t._uU(2,"Factor: "),t.qZA(),t.TgZ(3,"input",89),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.CONFACTOR=o)})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickSupplierCode())}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.CONFACTOR)("disabled",!e.productObj.SUPITEMNAME)}}function fn(r,s){1&r&&(t.TgZ(0,"option",90),t._uU(1,"Discounted"),t.qZA())}function Tn(r,s){1&r&&(t.TgZ(0,"label",38),t._uU(1,"Whole Sale Price :"),t.qZA())}function On(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",91,40),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ProductService.TempProductObj.IN_RATE_B=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateVATAmount())})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickWholeSalePrice())})("input",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateVATAmount())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.ProductService.TempProductObj.IN_RATE_B)}}function An(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",92,42),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ProductService.TempProductObj.RATE_B=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateNonVATAmount_Ex_Rate_B())})("input",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateNonVATAmount_Ex_Rate_B())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.ProductService.TempProductObj.RATE_B)}}function Pn(r,s){1&r&&(t.TgZ(0,"label",38),t._uU(1,"Inter-Branch Price :"),t.qZA())}function Mn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",93,40),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ProductService.TempProductObj.IN_RATE_C=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateVATAmount())})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickInterBranchPrice())})("input",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateVATAmount())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.ProductService.TempProductObj.IN_RATE_C)}}function Sn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",94,42),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.ProductService.TempProductObj.RATE_C=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateNonVATAmount_Ex_Rate_C())})("input",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.RecalculateNonVATAmount_Ex_Rate_C())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.ProductService.TempProductObj.RATE_C)}}function vn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.productlist=o)})("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.ISAMOUNTWISEBILL=o.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("ngModel",e.productObj.productlist)("checked",1==e.productObj.ISAMOUNTWISEBILL)}}function En(r,s){1&r&&(t.TgZ(0,"a",58),t._uU(1,"Enable Amount Wise Billing"),t.qZA())}function xn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.HASECSCHARGE=o)})("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.HASECSCHARGE=o.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("ngModel",e.productObj.HASECSCHARGE)("checked",1==e.productObj.HASECSCHARGE)}}function In(r,s){1&r&&(t.TgZ(0,"a",58),t._uU(1,"ECS Charge Applicable"),t.qZA())}function wn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",0),t.YNc(2,vn,1,2,"input",54),t._uU(3," \xa0"),t.YNc(4,En,2,0,"a",55),t.qZA(),t.TgZ(5,"div",0)(6,"input",95),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISUNKNOWN=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISUNKNOWN=o.target.checked?1:0)})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onChangeEvent(o))}),t.qZA(),t._uU(7," \xa0 "),t.TgZ(8,"a",58),t._uU(9," Is Unknown Item "),t.qZA()(),t.TgZ(10,"div",0),t.YNc(11,xn,1,2,"input",54),t.YNc(12,In,2,0,"a",55),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",0!=e.masterService.userSetting.EnableAmountWiseBill),t.xp6(2),t.Q6J("ngIf",0!=e.masterService.userSetting.EnableAmountWiseBill),t.xp6(2),t.Q6J("ngModel",e.productObj.ISUNKNOWN)("checked",1==e.productObj.ISUNKNOWN),t.xp6(5),t.Q6J("ngIf",0!=e.masterService.userSetting.ENABLE_ECS),t.xp6(1),t.Q6J("ngIf",0!=e.masterService.userSetting.ENABLE_ECS)}}function Nn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",53)(1,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.HASVARIANT=o)})("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.HASVARIANT=o.target.checked?1:0)}),t.qZA(),t._uU(2,"\xa0 "),t.TgZ(3,"a",58),t._uU(4," Enable variant category"),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.productObj.HASVARIANT)("checked",1==e.productObj.HASVARIANT)}}function Rn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.HASECSCHARGE=o)})("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.HASECSCHARGE=o.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("ngModel",e.productObj.HASECSCHARGE)("checked",1==e.productObj.HASECSCHARGE)}}function Un(r,s){1&r&&(t.TgZ(0,"a",58),t._uU(1,"ECS Charge Applicable"),t.qZA())}function yn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.ISRECURRING=o)})("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.productObj.ISRECURRING=o.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("ngModel",e.productObj.ISRECURRING)("checked",1==e.productObj.ISRECURRING)}}function jn(r,s){1&r&&(t.TgZ(0,"a",58),t._uU(1,"Is Recurring Item"),t.qZA())}const J=function(r){return{display:r}},Dn=function(){return{display:"block"}},Zn=function(){return{display:"none"}};function Ln(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",96)(1,"div",53)(2,"input",95),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISUNKNOWN=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISUNKNOWN=o.target.checked?1:0)})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onChangeEvent(o))}),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"a",58),t._uU(5," Is Unknown Item "),t.qZA()(),t.TgZ(6,"div",53)(7,"input",97),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.REQEXPDATE=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.REQEXPDATE=o.target.checked?1:0)}),t.qZA(),t._uU(8,"\xa0 "),t.TgZ(9,"a",58),t._uU(10,"Expiry Date Input Compulsory"),t.qZA()(),t.YNc(11,Nn,5,2,"div",98),t.TgZ(12,"div",56),t.YNc(13,Rn,1,2,"input",54),t._uU(14," \xa0"),t.YNc(15,Un,2,0,"a",55),t.qZA(),t.TgZ(16,"div",0)(17,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.IsQtyUnknown=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.IsQtyUnknown=o.target.checked?1:0)}),t.qZA(),t._uU(18,"\xa0 "),t.TgZ(19,"a",58),t._uU(20,"Sales Quantity Unknown"),t.qZA()(),t.TgZ(21,"div",99),t.YNc(22,yn,1,2,"input",54),t._uU(23," \xa0"),t.YNc(24,jn,2,0,"a",55),t.qZA(),t.TgZ(25,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISHOTITEM=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ISHOTITEM=o.target.checked?1:0)}),t.qZA(),t._uU(26," \xa0"),t.TgZ(27,"a",58),t._uU(28,"Is Hot Item"),t.qZA(),t._UZ(29,"br"),t.qZA()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.productObj.ISUNKNOWN)("checked",1==e.productObj.ISUNKNOWN),t.xp6(5),t.Q6J("ngModel",e.productObj.REQEXPDATE)("checked",1==e.productObj.REQEXPDATE)("disabled",e.disableExpCheckbox),t.xp6(4),t.Q6J("ngIf",1==e.masterService.userSetting.EnableVariantCategory),t.xp6(1),t.Q6J("ngStyle",t.VKq(16,J,0!=e.userSetting.ENABLE_ECS?"block":"none")),t.xp6(1),t.Q6J("ngIf",0!=e.masterService.userSetting.ENABLE_ECS),t.xp6(2),t.Q6J("ngIf",0!=e.masterService.userSetting.ENABLE_ECS),t.xp6(2),t.Q6J("ngModel",e.productObj.IsQtyUnknown)("checked",1==e.productObj.IsQtyUnknown),t.xp6(4),t.Q6J("ngStyle",0!=e.masterService.userSetting.EnableRecurringItem?t.DdM(18,Dn):t.DdM(19,Zn)),t.xp6(1),t.Q6J("ngIf",0!=e.masterService.userSetting.EnableRecurringItem),t.xp6(2),t.Q6J("ngIf",0!=e.masterService.userSetting.EnableRecurringItem),t.xp6(1),t.Q6J("ngModel",e.productObj.ISHOTITEM)("checked",1==e.productObj.ISHOTITEM)}}function kn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASCOMMISSIONCHARGE=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASCOMMISSIONCHARGE=o.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.HASCOMMISSIONCHARGE)("checked",1==e.productObj.HASCOMMISSIONCHARGE)}}function Gn(r,s){1&r&&(t.TgZ(0,"a",58),t._uU(1,"Is Commission Chargeable"),t.qZA())}function Bn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.BillingDisplay=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.BillingDisplay=o.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.BillingDisplay)("checked",1==e.productObj.BillingDisplay)}}function Jn(r,s){1&r&&(t.TgZ(0,"a",58),t._uU(1,"Billing Display"),t.qZA())}function Fn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"input",57),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASBATCH=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.HASBATCH=o.target.checked?1:0)}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("ngModel",e.productObj.HASBATCH)("checked",1==e.productObj.HASBATCH)}}function qn(r,s){1&r&&(t.TgZ(0,"a",58),t._uU(1,"Enable Batch Wise Price"),t.qZA())}function Hn(r,s){if(1&r&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&r){const e=s.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.GroupName)}}function Vn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"fieldset",100)(1,"legend",101),t._uU(2," Color Group Selection"),t.qZA(),t.TgZ(3,"select",102),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.COLOR=o)})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickColorItem())}),t.YNc(4,Hn,2,2,"option",8),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.COLOR),t.xp6(1),t.Q6J("ngForOf",e.colorGroupList)}}function Qn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",103)(1,"label"),t._uU(2,"ECS Rate"),t.qZA(),t.TgZ(3,"input",28),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.ECSRATE=o)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.ECSRATE)}}function Yn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"label",104),t._uU(2,"Warranty Period"),t.qZA(),t.TgZ(3,"input",105),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.WARRANTY=o)}),t.qZA(),t.TgZ(4,"label"),t._uU(5,"month"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.WARRANTY)("disabled",6!=e.productObj.PTYPE)}}function Kn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",106)(2,"div",107)(3,"div",108)(4,"h5",109),t._uU(5,"New Unit"),t.qZA(),t.TgZ(6,"button",110),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeUnitModal())}),t.TgZ(7,"span",111),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"form",112),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onUnitSubmit())}),t.TgZ(10,"div",113)(11,"div",114)(12,"label",115),t._uU(13,"Unit Name:"),t.qZA(),t.TgZ(14,"div",116),t._UZ(15,"input",117),t.qZA()()(),t.TgZ(16,"div",118)(17,"button",119),t._uU(18,"Save"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.unitForm),t.xp6(8),t.Q6J("disabled",!e.unitForm.valid)}}function Wn(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",106)(2,"div",107)(3,"div",108)(4,"h5",109),t._uU(5,"New Category"),t.qZA(),t.TgZ(6,"button",110),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeCatModal())}),t.TgZ(7,"span",111),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"form",112),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCategorySubmit())}),t.TgZ(10,"div",113)(11,"div",120)(12,"label",121),t._uU(13,"Category Name:"),t.qZA(),t.TgZ(14,"div",122),t._UZ(15,"input",123),t.qZA()()(),t.TgZ(16,"div",118)(17,"button",119),t._uU(18,"Save"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.catForm),t.xp6(8),t.Q6J("disabled",!e.catForm.valid)}}const zn=function(){return{height:"4.5rem"}},Xn=function(){return{height:""}},nt=function(){return{"vertical-align":"middle"}},ot=function(){return{"vertical-align":"top"}},$n=function(){return{"margin-top":"2%"}},to=function(){return{"margin-top":""}},eo=function(){return{"margin-top":"5px"}},no=function(){return{"margin-top":"-55px"}};let oo=(()=>{class r{constructor(e,n,o,i,c,u,d,x){this.masterService=e,this.ProductService=n,this.fb=o,this.unitMasterService=i,this.categoryMasterService=c,this.alertService=u,this.spinnerService=d,this.authservice=x,this.productObj={},this.AlternateUnits=[],this.gridPopupSettingsForSupplier=new w.im,this.gridPopupSettings=new w.im,this.gridWarehousePopupSettings=new w.im,this.Units=[],this.MCatList=[],this.LocationList=[],this.MCat1List=[],this.KOTcatList=[],this.TaxCatList=[],this.colorGroupList=[],this.PTypeList=[],this.addNewUnit=!1,this.unit=!1,this.disableExpCheckbox=!1,this.addNewCategory=!1,this.category=!1,this.applyPipeInRate=!0,this.mode={},this.initializeCostCenters(),this.userSetting=this.authservice.getSetting(),this.AppMode=b.N.appMode,this.masterService.getUnits().subscribe(T=>{this.Units=T,this.masterService.getPTypeList().subscribe(O=>{O?(this.PTypeList=O,"lite"==b.N.appMode&&(this.PTypeList=this.PTypeList.filter(Z=>0==Z.PTYPEID||10==Z.PTYPEID)),1!=this.masterService.editMode&&(this.productObj.PTYPE=this.PTypeList[0].PTYPEID,this.productObj.NATURETYPE=this.PTypeList[0].NATURETYPE)):this.PTypeList=[]},O=>{this.PTypeList=[]})}),this.masterService.getMCatList().subscribe(T=>{this.MCatList=T,this.productObj.MCAT=this.MCatList[0].MENUCAT}),this.masterService.getLocationList().subscribe(T=>{this.LocationList=T}),this.ProductService.getKOTCategory().subscribe(T=>{"ok"==T.status&&(this.KOTcatList=T.result)}),this.masterService.getMCat1List().subscribe(T=>{this.MCat1List=T}),this.masterService.getTaxCategoryList().subscribe(T=>{this.TaxCatList=T}),0==JSON.parse(localStorage.getItem("setting")).DISPLAY&&this.ProductService.getColorGroup().subscribe(T=>{this.colorGroupList=T&&"ok"===T.status&&null!==T.result&&T&&T.result?T.result:[]},T=>{this.colorGroupList=[]}),this.masterService.editMode=!1}updown(e){"Insert"===e.code&&this.onClickAdd()}ngOnChanges(){this.productObj.SUPITEMNAME&&this.productObj.REQEXPDATE&&(this.disableExpCheckbox=!0)}ngAfterViewInit(){0===this.userSetting?.VatExcludingRate?this.salesPriceExcludeVAT.forEach(e=>{e.nativeElement.disabled=!0}):1===this.userSetting?.VatExcludingRate&&this.salesPriceIncludeVAT.forEach(e=>{e.nativeElement.disabled=!0})}ngOnInit(){this.locationlistdropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"NAME",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!0},this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0,this.productObj.PRATE_A=0,this.productObj.IN_RATE_A=0,this.ProductService.pObj.Dismode=1,this.productObj.discontinueCheckbox=!1,this.productObj.DISMODE="Discountable",this.productObj.BillingDisplay=0,this.unitForm=this.fb.group({unitName:["",[a.kI.required]],notDecimal:[0]}),this.catForm=this.fb.group({CATEGORYNAME:["",[a.kI.required]],STATUS:[""]}),"add"==this.mode&&1==this.userSetting.AutoCheckInExpiryDateInput&&(this.productObj.REQEXPDATE=1)}onChangeEx_PRate_A(){this.ProductService.pObj.PurchasePriceWithoutVAT=this.productObj.PRATE_A,this.CalculateMargin()}onChangeEx_Rate_A(){this.ProductService.pObj.SalesPriceWithoutVAT=this.productObj.RATE_A,this.CalculateMargin()}CalculateMargin(){0==this.masterService.nullToZeroConverter(this.ProductService.pObj.PurchasePriceWithoutVAT)||0==this.masterService.nullToZeroConverter(this.ProductService.pObj.SalesPriceWithoutVAT)||(this.ProductService.pObj.RecMarginOnPRate=Number(100*(this.ProductService.pObj.SalesPriceWithoutVAT-this.ProductService.pObj.PurchasePriceWithoutVAT)/this.ProductService.pObj.PurchasePriceWithoutVAT).toFixed(5),this.ProductService.pObj.RecMarginOnRate=Number(100*(this.ProductService.pObj.SalesPriceWithoutVAT-this.ProductService.pObj.PurchasePriceWithoutVAT)/this.ProductService.pObj.SalesPriceWithoutVAT).toFixed(5))}DiscountModeChange(){1==this.ProductService.pObj.Dismode?(this.productObj.DISRATE=this.ProductService.pObj.DiscountValue,this.productObj.DISAMOUNT=0):(this.productObj.DISRATE=0,this.productObj.DISAMOUNT=this.ProductService.pObj.DiscountValue)}onChangeEvent(e){this.productObj.PTYPE=1==e?this.PTypeList.find(n=>10==n.PTYPEID).PTYPEID:this.PTypeList.find(n=>0==n.PTYPEID).PTYPEID}RecalculateVATAmount(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.IN_PRATE_A&&0!=this.ProductService.TempProductObj.IN_PRATE_A&&(this.productObj.IN_PRATE_A=this.ProductService.TempProductObj.IN_PRATE_A,this.onChangeEx_PRate_A()),this.ProductService.TempProductObj.IN_RATE_A||0==this.ProductService.TempProductObj.IN_RATE_A||null==this.ProductService.TempProductObj.IN_RATE_A){this.productObj.IN_RATE_A=this.ProductService.TempProductObj.IN_RATE_A;let e=(this.ProductService.TempProductObj.IN_RATE_A/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_A=Number(Number(e).toFixed(2)),this.productObj.RATE_A=Number(e),this.onChangeEx_Rate_A()}if(this.ProductService.TempProductObj.IN_RATE_B||0==this.ProductService.TempProductObj.IN_RATE_B||null==this.ProductService.TempProductObj.IN_RATE_B){this.productObj.IN_RATE_B=this.ProductService.TempProductObj.IN_RATE_B;let e=(this.ProductService.TempProductObj.IN_RATE_B/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_B=Number(Number(e).toFixed(2)),this.productObj.RATE_B=Number(e)}if(this.ProductService.TempProductObj.IN_RATE_C||0==this.ProductService.TempProductObj.IN_RATE_C||null==this.ProductService.TempProductObj.IN_RATE_C){this.productObj.IN_RATE_C=this.ProductService.TempProductObj.IN_RATE_C;let e=(this.ProductService.TempProductObj.IN_RATE_C/this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.RATE_C=Number(Number(e).toFixed(2)),this.productObj.RATE_C=Number(e)}}else this.ProductService.TempProductObj.IN_PRATE_A&&(this.abc=this.ProductService.TempProductObj.IN_PRATE_A,this.ProductService.TempProductObj.IN_PRATE_A=this.ProductService.TempProductObj.PRATE_A,this.productObj.IN_PRATE_A=this.ProductService.TempProductObj.PRATE_A,this.onChangeEx_PRate_A()),(this.ProductService.TempProductObj.IN_RATE_A||0==this.ProductService.TempProductObj.IN_RATE_A||null==this.ProductService.TempProductObj.IN_RATE_A)&&(this.ProductService.TempProductObj.RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.productObj.RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.productObj.IN_RATE_A=this.ProductService.TempProductObj.IN_RATE_A,this.onChangeEx_Rate_A()),(this.ProductService.TempProductObj.IN_RATE_B||0==this.ProductService.TempProductObj.IN_RATE_B||null==this.ProductService.TempProductObj.IN_RATE_B)&&(this.ProductService.TempProductObj.RATE_B=this.ProductService.TempProductObj.IN_RATE_B,this.productObj.RATE_B=this.ProductService.TempProductObj.IN_RATE_B,this.productObj.IN_RATE_B=this.ProductService.TempProductObj.IN_RATE_B),(this.ProductService.TempProductObj.IN_RATE_C||0==this.ProductService.TempProductObj.IN_RATE_C||null==this.ProductService.TempProductObj.IN_RATE_C)&&(this.ProductService.TempProductObj.RATE_C=this.ProductService.TempProductObj.IN_RATE_C,this.productObj.RATE_C=this.ProductService.TempProductObj.IN_RATE_C,this.productObj.IN_RATE_C=this.ProductService.TempProductObj.IN_RATE_C)}RecalculateNonVATAmount_Ex_Prate_A(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.PRATE_A||0==this.ProductService.TempProductObj.PRATE_A){this.productObj.PRATE_A=this.ProductService.TempProductObj.PRATE_A;let e=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.PRATE_A)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.IN_PRATE_A=Number(Number(e)).toFixed(2),this.productObj.IN_PRATE_A=Number(e),this.onChangeEx_PRate_A()}}else this.productObj.PRATE_A=this.ProductService.TempProductObj.PRATE_A}rateChange(e){this.applyPipeInRate=!1}rateFocusOut(e){this.applyPipeInRate=!0,this.ProductService.TempProductObj.IN_RATE_A=Number(this.ProductService.TempProductObj.IN_RATE_A).toFixed(2),this.ProductService.TempProductObj.RATE_A=Number(this.ProductService.TempProductObj.RATE_A).toFixed(2)}RecalculateNonVATAmount_Ex_Rate_A(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_A||0==this.ProductService.TempProductObj.RATE_A||null==this.ProductService.TempProductObj.RATE_A||this.applyPipeInRate){this.productObj.RATE_A=this.ProductService.TempProductObj.RATE_A;let e=this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_A)*this.nullToZeroConverter(this.userSetting.VatConRate);this.productObj.IN_RATE_A=Number(e),this.ProductService.TempProductObj.IN_RATE_A=Number(e),this.onChangeEx_Rate_A()}}else(this.ProductService.TempProductObj.RATE_A||0==this.ProductService.TempProductObj.RATE_A||null==this.ProductService.TempProductObj.RATE_A)&&(this.productObj.RATE_A=this.ProductService.TempProductObj.RATE_A,this.productObj.IN_RATE_A=this.ProductService.TempProductObj.RATE_A,this.ProductService.TempProductObj.IN_RATE_A=this.ProductService.TempProductObj.RATE_A,this.onChangeEx_PRate_A())}RecalculateNonVATAmount_Ex_Rate_B(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_B||0==this.ProductService.TempProductObj.RATE_B||null==this.ProductService.TempProductObj.RATE_B){this.productObj.RATE_B=this.ProductService.TempProductObj.RATE_B;let e=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_B)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.productObj.IN_RATE_B=Number(e),this.ProductService.TempProductObj.IN_RATE_B=Number(Number(e)).toFixed(2)}}else(this.ProductService.TempProductObj.RATE_B||0==this.ProductService.TempProductObj.RATE_B||null==this.ProductService.TempProductObj.RATE_B)&&(this.productObj.RATE_B=this.ProductService.TempProductObj.RATE_B,this.productObj.IN_RATE_B=this.ProductService.TempProductObj.RATE_B,this.ProductService.TempProductObj.IN_RATE_B=this.ProductService.TempProductObj.RATE_B,this.onChangeEx_PRate_A())}RecalculateNonVATAmount_Ex_Rate_C(){if(1==this.productObj.VAT){if(this.ProductService.TempProductObj.RATE_C||0==this.ProductService.TempProductObj.RATE_C||null==this.ProductService.TempProductObj.RATE_C){this.productObj.RATE_C=this.ProductService.TempProductObj.RATE_C;let e=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.RATE_C)*this.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.productObj.IN_RATE_C=Number(e),this.ProductService.TempProductObj.IN_RATE_C=Number(Number(e)).toFixed(2)}}else(this.ProductService.TempProductObj.RATE_C||0==this.ProductService.TempProductObj.RATE_C||null==this.ProductService.TempProductObj.RATE_C)&&(this.productObj.RATE_C=this.ProductService.TempProductObj.RATE_C,this.productObj.IN_RATE_C=this.ProductService.TempProductObj.RATE_C,this.ProductService.TempProductObj.IN_RATE_C=this.ProductService.TempProductObj.RATE_C,this.onChangeEx_PRate_A())}TabClick(e){"ProductType"==e&&document.getElementById("StockUnit").focus()}dblClickPopupParty(e){this.productObj.SUPCODE=e.ACID,this.ProductService.suppilierName=e.ACNAME,document.getElementById("retailPrice").focus()}FocusRetail(){document.getElementById("retailPrice").focus()}customerEnterCommand(e){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ERPPLANTCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"VATNO",title:"PAN NO.",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1}]}}TabClickStockUnit(){setTimeout(()=>{document.getElementById("purchaseprice").focus()},0)}TabClickPurchasePrice(){setTimeout(()=>{document.getElementById("labelMRP").focus()},0)}TabClickLabelMRP(){setTimeout(()=>{document.getElementById("wareHouse").focus()},0)}TabClickWarehouse(){setTimeout(()=>{document.getElementById("retailPrice").focus()},0)}TabClickRetailPrice(){setTimeout(()=>{document.getElementById("wholeSalePrice").focus()},0)}TabClickWholeSalePrice(){setTimeout(()=>{document.getElementById("interBranchPrice").focus()},0)}TabClickInterBranchPrice(){setTimeout(()=>{document.getElementById("Category").focus()},0)}TabClickExtraCategory(){setTimeout(()=>{document.getElementById("vatItem").focus()},0)}TabClickVATItem(){"pro"==this.AppMode?setTimeout(()=>{null!=document.getElementById("colorGroupSelect")?document.getElementById("colorGroupSelect").focus():document.getElementById("SupplierName").focus()},0):document.getElementById("discountmode").focus()}TabClickNonVATItem(){"pro"==this.AppMode?setTimeout(()=>{null!=document.getElementById("colorGroupSelect")?document.getElementById("colorGroupSelect").focus():document.getElementById("SupplierName").focus()},0):document.getElementById("discountmode").focus()}TabClickColorItem(){setTimeout(()=>{document.getElementById("SupplierName").focus()},0)}TabClickSupplierCode(){setTimeout(()=>{document.getElementById("discountmode").focus()},0)}TabClickDisRate(){setTimeout(()=>{document.getElementById("discontinueitemCheck").focus()},0)}TabClickDiscontinueCheck(){1==this.productObj.discontinueCheckbox?setTimeout(()=>{document.getElementById("discontinueItem").focus()},0):setTimeout(()=>{document.getElementById("isUnknownItem").focus()},0)}TabClickDiscontinueItems(){setTimeout(()=>{document.getElementById("isUnknownItem").focus()},0)}TabClickDisMode(){"pro"==this.AppMode?"Discounted"==this.productObj.DISMODE?setTimeout(()=>{document.getElementById("DiscountValue").focus()},0):setTimeout(()=>{document.getElementById("discontinueitemCheck").focus()},0):document.getElementById("discontinueitemCheck").focus()}newUnitCreateTrigger(){this.unit=!0,this.category=!1}newCatCreateTrigger(){this.category=!0,this.unit=!1}selectTaxCategory(){let e=this.TaxCatList.filter(n=>n.TCatId==this.productObj.TaxCategory)[0];this.productObj.GST=e.TaxRate}onUnitSubmit(){let e={};e.UNITS=this.unitForm.value.unitName,e.STOPDECIMAL=this.unitForm.value.notDecimal;const n={mode:"add",data:e};this.spinnerService.show("Data is Saving ..."),this.unitMasterService.postUnitGroup(n).subscribe(o=>{"ok"==o.status?(this.spinnerService.hide(),this.alertService.info("Saved Successfully"),this.unitForm.reset(),this.masterService.getUnits().subscribe(i=>{this.Units=i}),this.closeUnitModal()):(this.spinnerService.hide(),this.alertService.error(o.result))},o=>{this.spinnerService.hide()})}onCategorySubmit(){let e={};e.MENUCAT=this.catForm.value.CATEGORYNAME,e.STATUS=1;const n={mode:"add",data:e};this.spinnerService.show("Data is Saving ..."),this.categoryMasterService.postCategoryGroup(n).subscribe(o=>{"ok"==o.status?(this.spinnerService.hide(),this.alertService.info("Saved Successfully"),this.catForm.reset(),this.masterService.getMCatList().subscribe(i=>{this.MCatList=i}),this.closeCatModal()):(this.spinnerService.hide(),this.alertService.error(o.result))},o=>{this.spinnerService.hide()})}closeUnitModal(){this.addNewUnit=!1,this.unit=!1}closeCatModal(){this.addNewCategory=!1,this.category=!1}ItemkeyEvent(){this.gridPopupSettings={title:"PRODUCTS",apiEndpoints:"/getMenuitemWithStockPagedList/0/A/all/PI/w",defaultFilterIndex:0,columns:[{key:"DESCA",title:"DESCRIPTION",hidden:!1,noSearch:!1},{key:"MENUCODE",title:"PRODUCT CODE",hidden:!1,noSearch:!1},{key:"GroupName",title:"GROUP NAME",hidden:!1,noSearch:!0},{key:"MENUCODE",title:"P-QTY",hidden:!1,noSearch:!1}]},this.genericGrid.show()}selectWarehouse(){this.productObj.WHOUSE="",this.gridWarehousePopupSettings={title:"WAREHOUSE",apiEndpoints:"/getDivisionWiseWarehousePagedList",defaultFilterIndex:0,columns:[{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridWarehouse.show()}dblClickWarehouse(e){this.productObj.WHOUSE=e.NAME,setTimeout(()=>{document.getElementById("retailPrice").focus()},0)}nullToZeroConverter(e){return void 0===e||null==e||null===e||""===e||"Infinity"===e||"NaN"===e||isNaN(parseFloat(e))?0:parseFloat(e)}dblClickPopupItem(e){9!=e.PTYPE?(this.productObj.SUPITEMCODE=e.MCODE,this.productObj.SUPITEMNAME=e.DESCA,this.productObj.REQEXPDATE=e.REQEXPDATE,this.productObj.REQEXPDATE&&(this.disableExpCheckbox=!0),setTimeout(()=>{document.getElementById("factor").focus()},0)):this.alertService.warning("Cannot choose perishable item as master item.")}onNewUnitAdd(e){"view"!=this.mode&&(this.newUnitCreateTrigger(),this.onClickAdd())}onNewCategoryAdd(){"view"!=this.mode&&(this.newCatCreateTrigger(),this.onClickAdd())}onClickAdd(){1==this.unit?this.addNewUnit=!0:1==this.category&&(this.addNewCategory=!0)}removeMasterItem(){this.productObj.SUPITEMCODE=null,this.productObj.SUPITEMNAME=null,this.productObj.CONFACTOR=0}onCategoryChange(){1!=this.userSetting.AUTOCODEMODE||(this.masterService.subCategoryAList=[],this.masterService.subCategoryBList=[],this.productObj.SubCatA="",this.productObj.SubCatB="",this.productObj.MENUCODE="",this.masterService.groupSelectObj.MGROUP)||this.alertService.info("Please select Main Group first.")}onSubCategoryAChange(){if(1==this.userSetting.AUTOCODEMODE){if(this.masterService.subCategoryBList=[],this.productObj.SubCatB="",!this.masterService.groupSelectObj.MGROUP)return void this.alertService.info("Please select Main Group first.");this.masterService.getSubMcatListForAutoCodeMode1("level3").subscribe(e=>{this.masterService.subCategoryBList=e}),this.generateUniqueKey("level2",this.productObj.SubCatA)}}onSubCategoryBChange(){if(1==this.userSetting.AUTOCODEMODE){if(!this.masterService.groupSelectObj.MGROUP)return void this.alertService.info("Please select Main Group first.");this.generateUniqueKey("level3",this.productObj.SubCatB)}}generateUniqueKey(e,n){1==this.masterService.userSetting.AUTOCODEMODE&&this.masterService.getMenucodeAutoCode1(e,n).subscribe(o=>{if("ok"==o.status){let i="",c="";i=o.result.alias,c=o.result.code;let d,u=this.productObj.MENUCODE;this.productObj.MENUCODE="",this.productObj.MENUCODE=i.concat("/",c),this.productObj.SubCatA&&!this.productObj.SubCatB?d=this.getPosition(u,"/",1)+1:this.productObj.SubCatA&&this.productObj.SubCatB&&(d=this.getPosition(u,"/",2)+1),u&&(this.productObj.MENUCODE=[u.slice(0,d),i.concat("/",c)].join("")),this.productObj.MIDCODE=o.result.midcode}})}getPosition(e,n,o){return e.split(n,o).join(n).length}checkMasterItem(){(null==this.productObj.SUPITEMNAME||null==this.productObj.SUPITEMNAME||""==this.productObj.SUPITEMNAME)&&this.removeMasterItem()}PtypeSelect(e){this.productObj.NATURETYPE=this.PTypeList.find(n=>n.PTYPEID==e.target.value).NATURETYPE}disableWarrantyPeriod(){return!(6==this.productObj.PTYPE||1==this.productObj.NATURETYPE)}keyPress(e){const o=String.fromCharCode(e.charCode);/[\b]/.test(o)||e.preventDefault()}onItemSelect(e){}initializeCostCenters(){this.masterService.getAllCostCenter().subscribe(e=>{this.costLists=e})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(g.L),t.Y36(a.qu),t.Y36(tt.P),t.Y36(et.u),t.Y36(S.c),t.Y36(U.V),t.Y36(C.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["Detail_Information"]],viewQuery:function(e,n){if(1&e&&(t.Gf(We,5),t.Gf(ze,5),t.Gf(Xe,5),t.Gf($e,5,t.SBq),t.Gf(tn,5,t.SBq)),2&e){let o;t.iGM(o=t.CRH())&&(n.genericGridSupplierPopup=o.first),t.iGM(o=t.CRH())&&(n.genericGrid=o.first),t.iGM(o=t.CRH())&&(n.genericGridWarehouse=o.first),t.iGM(o=t.CRH())&&(n.salesPriceIncludeVAT=o),t.iGM(o=t.CRH())&&(n.salesPriceExcludeVAT=o)}},hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(i){return n.updown(i)},!1,t.evT)},inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits",MCAT:"MCAT",mode:"mode"},features:[t.TTD],decls:191,vars:97,consts:[[1,"row"],[1,"col-lg-8",2,"margin-left","-30px"],[1,"form-group"],[1,"ThirtyTreeLabel",2,"flex","0 0 21%"],["type","text",2,"flex","0 0 77%",3,"ngModel","ngModelChange"],[1,"col-lg-6",2,"margin-left","-15px"],["id","StockUnit",1,"ThirtyTreeLabel"],["id","StockUnit",3,"ngModel","disabled","ngModelChange","focus","keydown.Tab"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add",3,"click"],[1,"ThirtyTreeLabel"],["id","purchaseprice","type","number",3,"ngModel","ngModelChange","change","keydown.Tab"],["class","form-group",4,"ngIf"],[1,"col-lg-6"],[2,"width","49.5%",3,"ngModel","disabled","ngModelChange","keydown.Tab"],[4,"ngIf"],["id","Category",2,"width","49.5%",3,"ngModel","focus","change","ngModelChange"],["for","productlife"],["type","number","id","prodLife","min","1","step","1","onkeypress","return event.charCode >= 48 && event.charCode <= 57",3,"ngModel","ngModelChange"],[2,"padding-left","3px"],["for","HSNCode"],["type","text","id","HSCode",3,"ngModel","ngModelChange"],[1,"form-check","form-check-inline"],["type","radio","id","vatItem","name","VAT ITEM",2,"flex","0 0 10%",3,"ngModel","value","ngModelChange","change","keydown.tab"],[1,"smallBoldLabel",2,"white-space","nowrap"],["type","radio","id","nonvatItem","name","VAT ITEM",2,"flex","0 0 10%",3,"ngModel","value","disabled","ngModelChange","change","keydown.tab"],[1,"col-lg-4"],[1,"fourtyfive"],["type","text",3,"ngModel","ngModelChange"],["id","SupplierName","type","text","placeholder","Press Enter for Supplier Selection","autocomplete","off",3,"ngModel","ngModelChange","keydown.enter","keydown.tab"],["id","discountmode",2,"width","64%",3,"ngModel","ngModelChange","keydown.tab"],["value","Discountable"],["value","Non-Discountable"],["value","Discounted",4,"ngIf"],[1,""],[1,"col-md-4"],[1,"salesPricefieldSet",3,"ngStyle"],[1,"SalesPricelabels",2,"background-color","#6599FF","margin-bottom","10px","color","#fff","border-radius","5px","padding","3px 0"],[1,"thirty"],["id","retailPrice","type","number","appSalesRateDisableFromUserProfile","",3,"ngModel","ngStyle","ngModelChange","change","keydown.tab","input","keyup","focusout"],["salesPriceIncludeVAT",""],["appSalesRateDisableFromUserProfile","","type","number","id","excVat",3,"ngStyle","ngModel","ngModelChange","change","input","keyup","focusout"],["salesPriceExcludeVAT",""],["class","thirty",4,"ngIf"],["appSalesRateDisableFromUserProfile","","id","wholeSalePrice","type","number",3,"ngModel","ngModelChange","change","keydown.tab","input",4,"ngIf"],["appSalesRateDisableFromUserProfile","","type","number",3,"ngModel","ngModelChange","change","input",4,"ngIf"],["id","interBranchPrice","type","number",3,"ngModel","ngModelChange","change","keydown.tab","input",4,"ngIf"],["type","number",3,"ngModel","ngModelChange","change","input",4,"ngIf"],[2,"margin-top","10px"],[2,"font-size","14px","text-align","center","margin-bottom","10px","background-color","#6599FF","color","#fff","border-radius","5px","padding","3px 0"],[1,"row",2,"margin-left","5px"],["class","col-lg-6",4,"ngIf"],["class","col-lg-6","style","margin-left: -10px;",4,"ngIf"],[1,"row",2,"align-items","center"],["type","checkbox",3,"ngModel","checked","ngModelChange","change",4,"ngIf"],["style","font-size: 13px;",4,"ngIf"],[1,"row",2,"align-items","center",3,"ngStyle"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"form-check"],["type","checkbox","value","","id","discontinueitemCheck",1,"form-check-input",3,"ngModel","disabled","ngModelChange","keydown.tab"],["for","discontinueitemCheck",1,"form-check-label"],["id","discontinueItem",2,"width","103%",3,"ngModel","disabled","ngModelChange","keydown.tab"],["value","0"],["value","2"],["value","3"],["value","1"],["style","width: 100%;margin-top: 10px;",4,"ngIf"],["style","padding-top: 5px;padding-left: 10px;",4,"ngIf"],[1,"form-group",3,"ngStyle"],[1,"",2,"width","100%",3,"ngStyle"],[1,"",2,"background-color","#6599FF","text-align","center","margin-bottom","10px","color","#fff","border-radius","5px","padding","3px 0"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGrid",""],["genericGridWarehouse",""],[3,"ngValue"],["type","number","readonly","",3,"disabled","ngModel","ngModelChange"],["id","labelMrp","type","number",3,"ngModel","ngModelChange","keydown.Tab"],[1,"custom-asset-dropdown",3,"placeholder","disabled","settings","ngModel","data","ngModelChange","onSelect"],["id","wareHouse","type","text","placeholder","Press ENTER to Select","autocomplete","off","readonly","",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"width","49.5%",3,"ngModel","disabled","ngModelChange"],["value","BEVERAGE"],["value","FOOD"],["id","Cost-Center","name","cost center",2,"width","inherit",3,"ngModel","ngModelChange"],[2,"width","29%"],["id","ExtraCategory",3,"ngModel","ngModelChange","keydown.tab"],["id","TaxCategory",3,"ngModel","ngModelChange","change","keydown.tab"],["id","supplierCode","type","text","autocomplete","off","placeholder","Press ENTER to Select Item",3,"ngModel","ngModelChange","keydown.enter","keydown.tab","keydown.delete","focusout"],["id","factor","type","number",3,"ngModel","disabled","ngModelChange","keydown.tab"],["value","Discounted"],["appSalesRateDisableFromUserProfile","","id","wholeSalePrice","type","number",3,"ngModel","ngModelChange","change","keydown.tab","input"],["appSalesRateDisableFromUserProfile","","type","number",3,"ngModel","ngModelChange","change","input"],["id","interBranchPrice","type","number",3,"ngModel","ngModelChange","change","keydown.tab","input"],["type","number",3,"ngModel","ngModelChange","change","input"],["type","checkbox","id","isUnknownItem",3,"ngModel","checked","ngModelChange","change"],[1,"col-lg-6",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],["class","row","style","align-items: center;",4,"ngIf"],[1,"row",3,"ngStyle"],[2,"width","100%","margin-top","10px"],[2,"width","65%","font-size","12px"],["id","colorGroupSelect",2,"width","100%","margin-top","-20px",3,"ngModel","ngModelChange","keydown.tab"],[2,"padding-top","5px","padding-left","10px"],[2,"width","32%"],["type","number",2,"width","50%",3,"ngModel","disabled","ngModelChange"],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group","row",2,"margin-top","1rem","margin-bottom","2px"],[1,"col-sm-3","form-control-label",2,"margin-left","-12px"],[1,"col-sm-8"],["type","text","formControlName","unitName","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"disabled"],[1,"form-group","row",2,"margin-top","1rem"],[1,"col-sm-4","form-control-label",2,"font-size","13px"],[1,"col-sm-7",2,"padding-left","0px"],["type","text","id","Parent","formControlName","CATEGORYNAME","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),t._uU(4,"Product Description : "),t.qZA(),t.TgZ(5,"input",4),t.NdJ("ngModelChange",function(i){return n.productObj.DESCB=i}),t.qZA()(),t.TgZ(6,"div",0)(7,"div",5)(8,"div",2)(9,"label",6),t._uU(10,"Stock Unit : "),t.qZA(),t.TgZ(11,"select",7),t.NdJ("ngModelChange",function(i){return n.productObj.BASEUNIT=i})("focus",function(){return n.newUnitCreateTrigger()})("keydown.Tab",function(){return n.TabClickStockUnit()}),t.YNc(12,en,2,2,"option",8),t.qZA(),t.TgZ(13,"span",9),t.NdJ("click",function(i){return n.onNewUnitAdd(i)}),t.TgZ(14,"p"),t._uU(15,"+"),t.qZA()()(),t.TgZ(16,"div",2)(17,"label",10),t._uU(18,"Purchase Price :"),t.qZA(),t.TgZ(19,"input",11),t.NdJ("ngModelChange",function(i){return n.ProductService.TempProductObj.PRATE_A=i})("change",function(){return n.RecalculateNonVATAmount_Ex_Prate_A()})("keydown.Tab",function(){return n.TabClickPurchasePrice()}),t.qZA()(),t.YNc(20,nn,4,2,"div",12),t.YNc(21,on,4,1,"div",12),t.YNc(22,rn,4,5,"div",12),t.YNc(23,sn,4,1,"div",12),t.qZA(),t.TgZ(24,"div",13)(25,"div",2)(26,"label"),t._uU(27,"Product Type : "),t.qZA(),t.TgZ(28,"select",14),t.NdJ("ngModelChange",function(i){return n.productObj.PTYPE=i})("keydown.Tab",function(){return n.TabClick("ProductType")}),t.YNc(29,cn,2,2,"option",8),t.qZA()(),t.YNc(30,ln,15,5,"ng-container",15),t.TgZ(31,"div",2)(32,"label"),t._uU(33,"Category : "),t.qZA(),t.TgZ(34,"select",16),t.NdJ("focus",function(){return n.newCatCreateTrigger()})("change",function(){return n.onCategoryChange()})("ngModelChange",function(i){return n.productObj.MCAT=i}),t.YNc(35,dn,2,2,"option",8),t.qZA(),t.TgZ(36,"span",9),t.NdJ("click",function(){return n.onNewCategoryAdd()}),t.TgZ(37,"p"),t._uU(38,"+"),t.qZA()()(),t.TgZ(39,"div",2)(40,"label",17),t._uU(41,"Product Life:"),t.qZA(),t.TgZ(42,"input",18),t.NdJ("ngModelChange",function(i){return n.productObj.SHELFLIFE=i}),t.qZA(),t.TgZ(43,"span",19),t._uU(44," days"),t.qZA()(),t.TgZ(45,"div",2)(46,"label",20),t._uU(47,"HS Code:"),t.qZA(),t.TgZ(48,"input",21),t.NdJ("ngModelChange",function(i){return n.productObj.HSNCode=i}),t.qZA()(),t.TgZ(49,"div",2)(50,"label"),t._uU(51,"VAT Mode :"),t.qZA(),t.TgZ(52,"div",22)(53,"input",23),t.NdJ("ngModelChange",function(i){return n.productObj.VAT=i})("change",function(){return n.RecalculateVATAmount()})("keydown.tab",function(){return n.TabClickVATItem()}),t.qZA(),t.TgZ(54,"label",24),t._uU(55,"VAT Item"),t.qZA()(),t.TgZ(56,"div",22)(57,"input",25),t.NdJ("ngModelChange",function(i){return n.productObj.VAT=i})("change",function(){return n.RecalculateVATAmount()})("keydown.tab",function(){return n.TabClickNonVATItem()}),t.qZA(),t.TgZ(58,"label",24),t._uU(59,"Non-VAT"),t.qZA()()(),t.YNc(60,pn,6,2,"div",12),t.YNc(61,_n,5,2,"div",12),t.YNc(62,mn,5,2,"div",12),t.qZA()()(),t.TgZ(63,"div",26)(64,"div",2)(65,"label",27),t._uU(66,"Short Name:"),t.qZA(),t.TgZ(67,"input",28),t.NdJ("ngModelChange",function(i){return n.productObj.Description=i}),t.qZA()(),t.TgZ(68,"div",2)(69,"label",27),t._uU(70,"Supplier Name :"),t.qZA(),t.TgZ(71,"input",29),t.NdJ("ngModelChange",function(i){return n.ProductService.suppilierName=i})("keydown.enter",function(i){return n.customerEnterCommand(i)})("keydown.tab",function(){return n.FocusRetail()}),t.qZA()(),t.YNc(72,bn,4,1,"div",12),t.YNc(73,Cn,4,2,"div",12),t.TgZ(74,"div",2)(75,"label",27),t._uU(76,"Discount Mode"),t.qZA(),t.TgZ(77,"select",30),t.NdJ("ngModelChange",function(i){return n.productObj.DISMODE=i})("keydown.tab",function(){return n.TabClickDisMode()}),t.TgZ(78,"option",31),t._uU(79,"Discountable"),t.qZA(),t.TgZ(80,"option",32),t._uU(81,"Non-Discountable"),t.qZA(),t.YNc(82,fn,2,0,"option",33),t.qZA()()()(),t.TgZ(83,"div",34),t._UZ(84,"div",35)(85,"div",35),t.qZA(),t.TgZ(86,"div",0)(87,"div",1)(88,"fieldset",36)(89,"div")(90,"div",37)(91,"a"),t._uU(92,"Sales Price"),t.qZA(),t.TgZ(93,"a"),t._uU(94,"Inc VAT"),t.qZA(),t.TgZ(95,"a"),t._uU(96,"Exc VAT"),t.qZA()(),t.TgZ(97,"div",2)(98,"label",38),t._uU(99,"Retail Price :"),t.qZA(),t.TgZ(100,"input",39,40),t.NdJ("ngModelChange",function(i){return n.ProductService.TempProductObj.IN_RATE_A=i})("change",function(){return n.RecalculateVATAmount()})("keydown.tab",function(){return n.TabClickRetailPrice()})("input",function(){return n.RecalculateVATAmount()})("keyup",function(i){return n.rateChange(i)})("focusout",function(i){return n.rateFocusOut(i)}),t.qZA(),t.TgZ(102,"input",41,42),t.NdJ("ngModelChange",function(i){return n.ProductService.TempProductObj.RATE_A=i})("change",function(){return n.RecalculateNonVATAmount_Ex_Rate_A()})("input",function(){return n.RecalculateNonVATAmount_Ex_Rate_A()})("keyup",function(i){return n.rateChange(i)})("focusout",function(i){return n.rateFocusOut(i)}),t.qZA(),t._UZ(104,"br"),t.qZA(),t.TgZ(105,"div",2),t.YNc(106,Tn,2,0,"label",43),t.YNc(107,On,2,1,"input",44),t.YNc(108,An,2,1,"input",45),t._UZ(109,"br"),t.qZA(),t.TgZ(110,"div",2),t.YNc(111,Pn,2,0,"label",43),t.YNc(112,Mn,2,1,"input",46),t.YNc(113,Sn,2,1,"input",47),t._UZ(114,"br"),t.qZA()()(),t.TgZ(115,"fieldset",48)(116,"div",49),t._uU(117,"Items Configuration"),t.qZA(),t.TgZ(118,"div",50),t.YNc(119,wn,13,6,"div",51),t.qZA(),t.TgZ(120,"div",0),t.YNc(121,Ln,30,20,"div",52),t.TgZ(122,"div",13)(123,"div",53),t.YNc(124,kn,1,2,"input",54),t._uU(125," \xa0"),t.YNc(126,Gn,2,0,"a",55),t.qZA(),t.TgZ(127,"div",53),t.YNc(128,Bn,1,2,"input",54),t._uU(129," \xa0"),t.YNc(130,Jn,2,0,"a",55),t.qZA(),t.TgZ(131,"div",56)(132,"input",57),t.NdJ("ngModelChange",function(i){return n.productObj.HASSERVICECHARGE=i})("change",function(i){return n.productObj.HASSERVICECHARGE=i.target.checked?1:0}),t.qZA(),t._uU(133," \xa0"),t.TgZ(134,"a",58),t._uU(135,"Service Charge Applicable"),t.qZA()(),t.TgZ(136,"div",53),t.YNc(137,Fn,1,2,"input",54),t._uU(138," \xa0"),t.YNc(139,qn,2,0,"a",55),t.qZA(),t.TgZ(140,"div",56)(141,"input",57),t.NdJ("ngModelChange",function(i){return n.productObj.ISAMOUNTWISEBILL=i})("change",function(i){return n.productObj.ISAMOUNTWISEBILL=i.target.checked?1:0}),t.qZA(),t._uU(142," \xa0"),t.TgZ(143,"a",58),t._uU(144,"Enable Amount Wise Billing"),t.qZA()()()()()(),t.TgZ(145,"div",26)(146,"div",0)(147,"div",59)(148,"input",60),t.NdJ("ngModelChange",function(i){return n.productObj.discontinueCheckbox=i})("keydown.tab",function(){return n.TabClickDiscontinueCheck()}),t.qZA(),t.TgZ(149,"label",61),t._uU(150," Set as Discontinue Item "),t.qZA(),t.TgZ(151,"select",62),t.NdJ("ngModelChange",function(i){return n.productObj.DISCONTINUE=i})("keydown.tab",function(){return n.TabClickDiscontinueItems()}),t._UZ(152,"option",63),t.TgZ(153,"option",64),t._uU(154,"DISCONTINUE SALES "),t.qZA(),t.TgZ(155,"option",65),t._uU(156,"DISCONTINUE PURCHASE "),t.qZA(),t.TgZ(157,"option",66),t._uU(158,"DISCONTINUE BOTH "),t.qZA()()(),t.YNc(159,Vn,5,2,"fieldset",67),t.YNc(160,Qn,4,1,"div",68),t.YNc(161,Yn,6,2,"div",15),t.qZA(),t.TgZ(162,"div",69)(163,"div",70)(164,"div",71),t._uU(165,"Margin"),t.qZA(),t.TgZ(166,"table")(167,"tr")(168,"td"),t._uU(169," Recommended Margin : "),t.qZA(),t.TgZ(170,"td"),t._uU(171),t.qZA()(),t.TgZ(172,"tr")(173,"td"),t._uU(174," Actual margin : "),t.qZA(),t.TgZ(175,"td"),t._uU(176),t.ALo(177,"number"),t.qZA()(),t.TgZ(178,"tr"),t._UZ(179,"td"),t.TgZ(180,"td"),t._uU(181),t.ALo(182,"number"),t.qZA()()()()()()(),t.TgZ(183,"generic-popup-grid",72,73),t.NdJ("onItemDoubleClick",function(i){return n.dblClickPopupParty(i)}),t.qZA(),t.TgZ(185,"generic-popup-grid",72,74),t.NdJ("onItemDoubleClick",function(i){return n.dblClickPopupItem(i)}),t.qZA(),t.TgZ(187,"generic-popup-grid",72,75),t.NdJ("onItemDoubleClick",function(i){return n.dblClickWarehouse(i)}),t.qZA(),t.YNc(189,Kn,19,2,"div",15),t.YNc(190,Wn,19,2,"div",15)),2&e&&(t.xp6(5),t.Q6J("ngModel",n.productObj.DESCB),t.xp6(6),t.Q6J("ngModel",n.productObj.BASEUNIT)("disabled",1==n.masterService.disableOnCheckTran),t.xp6(1),t.Q6J("ngForOf",n.Units),t.xp6(1),t.Akn("view"==n.mode?"cursor: not-allowed":"cursor: pointer"),t.xp6(6),t.Q6J("ngModel",n.ProductService.TempProductObj.PRATE_A),t.xp6(1),t.Q6J("ngIf","view"==n.mode||"edit"==n.mode),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode&&1==n.userSetting.EnableItemWiseLocationMapping),t.xp6(1),t.Q6J("ngIf",1==n.userSetting.ItemWiseWarehouse),t.xp6(5),t.Q6J("ngModel",n.productObj.PTYPE)("disabled",1==n.productObj.ISUNKNOWN||1==n.masterService.disableOnCheckTran),t.xp6(1),t.Q6J("ngForOf",n.PTypeList),t.xp6(1),t.Q6J("ngIf",1==n.userSetting.EnableServiceCharge),t.xp6(4),t.Q6J("ngModel",n.productObj.MCAT),t.xp6(1),t.Q6J("ngForOf",n.MCatList),t.xp6(1),t.Akn("view"==n.mode?"cursor: not-allowed":"cursor: pointer"),t.xp6(6),t.Q6J("ngModel",n.productObj.SHELFLIFE),t.xp6(6),t.Q6J("ngModel",n.productObj.HSNCode),t.xp6(5),t.Q6J("ngModel",n.productObj.VAT)("value",1),t.xp6(4),t.Q6J("ngModel",n.productObj.VAT)("value",0)("disabled",0==n.masterService.userSetting.EnableNonTaxableSales),t.xp6(3),t.Q6J("ngIf",1===n.masterService.userSetting.EnableItemWiseCostCenter),t.xp6(1),t.Q6J("ngIf",1==n.userSetting.ENABLEEXTRACATEGORY&&"pro"==n.AppMode),t.xp6(1),t.Q6J("ngIf",1==n.userSetting.ENABLETAXCATEGORY),t.xp6(5),t.Q6J("ngModel",n.productObj.Description),t.xp6(4),t.Q6J("ngModel",n.ProductService.suppilierName),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(4),t.Q6J("ngModel",n.productObj.DISMODE),t.xp6(5),t.Q6J("ngIf",1==n.userSetting.EnableDiscountedOption&&"lite"!=n.AppMode),t.xp6(6),t.Q6J("ngStyle","lite"==n.AppMode?t.DdM(83,zn):t.DdM(84,Xn)),t.xp6(12),t.Q6J("ngModel",n.ProductService.TempProductObj.IN_RATE_A)("ngStyle","pro"==n.AppMode?t.DdM(85,nt):t.DdM(86,ot)),t.xp6(2),t.Q6J("ngStyle","pro"==n.AppMode?t.DdM(87,nt):t.DdM(88,ot))("ngModel",n.ProductService.TempProductObj.RATE_A),t.xp6(4),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(3),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(1),t.Q6J("ngIf","pro"==n.AppMode),t.xp6(6),t.Q6J("ngIf","lite"==n.AppMode),t.xp6(2),t.Q6J("ngIf","lite"!=n.AppMode),t.xp6(3),t.Q6J("ngIf",0!=n.masterService.userSetting.EnableCommissionCalculation),t.xp6(2),t.Q6J("ngIf",0!=n.masterService.userSetting.EnableCommissionCalculation),t.xp6(2),t.Q6J("ngIf",1==n.masterService.userSetting.ItemWiseDisplaySettingInBilling),t.xp6(2),t.Q6J("ngIf",1==n.masterService.userSetting.ItemWiseDisplaySettingInBilling),t.xp6(1),t.Q6J("ngStyle",t.VKq(89,J,0!=n.userSetting.EnableServiceCharge?"block":"none")),t.xp6(1),t.Q6J("ngModel",n.productObj.HASSERVICECHARGE)("checked",1==n.productObj.HASSERVICECHARGE),t.xp6(5),t.Q6J("ngIf",1==n.masterService.userSetting.EnableBatchWisePrice&&0==n.masterService.userSetting.ENABLESINGLEBATCHMODE),t.xp6(2),t.Q6J("ngIf",1==n.masterService.userSetting.EnableBatchWisePrice&&0==n.masterService.userSetting.ENABLESINGLEBATCHMODE),t.xp6(1),t.Q6J("ngStyle",t.VKq(91,J,0!=n.userSetting.EnableAmountWiseBill?"block":"none")),t.xp6(1),t.Q6J("ngModel",n.productObj.ISAMOUNTWISEBILL)("checked",1==n.productObj.ISAMOUNTWISEBILL),t.xp6(7),t.Q6J("ngModel",n.productObj.discontinueCheckbox)("disabled","add"==n.mode),t.xp6(3),t.Q6J("ngModel",n.productObj.DISCONTINUE)("disabled",!n.productObj.discontinueCheckbox),t.xp6(8),t.Q6J("ngIf",1==n.userSetting.ENABLE_COLOR_GROUP_MAPPING),t.xp6(1),t.Q6J("ngIf",1==n.productObj.HASECSCHARGE),t.xp6(1),t.Q6J("ngIf",1==n.userSetting.ENABLEWARRANTYPERIOD),t.xp6(1),t.Q6J("ngStyle","pro"==n.AppMode?t.DdM(93,$n):t.DdM(94,to)),t.xp6(1),t.Q6J("ngStyle","pro"==n.AppMode?t.DdM(95,eo):t.DdM(96,no)),t.xp6(8),t.hij(" ",n.productObj.MARGIN,"% "),t.xp6(5),t.hij(" ",t.xi3(177,77,null==n.ProductService.pObj?null:n.ProductService.pObj.RecMarginOnPRate,"1.2-2"),"% on Landing Price"),t.xp6(5),t.hij(" ",t.xi3(182,80,null==n.ProductService.pObj?null:n.ProductService.pObj.RecMarginOnRate,"1.2-2"),"% on Sales Price"),t.xp6(2),t.Q6J("popupsettings",n.gridPopupSettingsForSupplier),t.xp6(2),t.Q6J("popupsettings",n.gridPopupSettings),t.xp6(2),t.Q6J("popupsettings",n.gridWarehousePopupSettings),t.xp6(2),t.Q6J("ngIf",n.addNewUnit),t.xp6(1),t.Q6J("ngIf",n.addNewCategory))},dependencies:[Ke.n,p.sg,p.O5,p.PC,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.Wl,a.EJ,a._,a.JJ,a.JL,a.qQ,a.On,a.sg,a.u,w.Zl,k.O,p.JJ],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",'.add[_ngcontent-%COMP%]{\n      color: #2E8B57;\n      \n      margin-left: 9px;\n    }\n    \n    .add[_ngcontent-%COMP%]:hover{\n    transform: scale(0.97);\n    color: #04AA6D;\n    border-color:#04AA6D;\n    }\n    \n    span.add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{\n      position: absolute;\n      left: 50%;\n      top:50%;\n      transform: translate(-50%, -50%);\n    }\n    \n    span.add[_ngcontent-%COMP%]{\n      display: inline-block;\n      width: 22px;\n      height: 22px;\n      text-align: center;\n      font-size: 20px;\n      font-family: "Roboto";\n      border-radius: 50%;\n      background: #FFF;\n      position: relative;\n      cursor: pointer;\n    }\n    label[_ngcontent-%COMP%]{\n      width:auto !important;\n    }\n    .form-group[_ngcontent-%COMP%]{\n      display:flex;\n      align-items: center;\n      margin-bottom: 0 !important;\n      font-size: 12px !important;\n    }\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\n      flex: 0 0 45%;\n  \n    }\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{\n      flex: 0 0 56%;\n      width:100%;\n      font-size: 11px !important;\n  \n    }\n    .salesPricefieldSet[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\n      flex: 0 0 20%;\n  \n    }\n    .salesPricefieldSet[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\n      flex: 0 0 38%;\n      width:100%;\n      font-size: 11px !important;\n      margin-left: 1%;\n      margin-right: 1%;\n  \n    }\n    fieldset[_ngcontent-%COMP%]{\n      border: 0px solid #ddd;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]{\n      display: flex;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{\n      flex: 0 0 20%;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\n      flex: 0 0 38%;\n      text-align: center;\n      font-size: 14px;\n    }\n\n      .custom-asset-dropdown {\n      width: 100%;\n   }']}),r})();var io=l(43583),ro=l(54536);const so=["fileSelect"];function co(r,s){if(1&r&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.selectedFileNames)}}let ao=(()=>{class r{constructor(e,n,o,i,c){this.masterService=e,this.setting=n,this.alertService=o,this.spinner=i,this.productService=c,this.productObj={},this.dragging=!1,this.fileList=null,this.imgURL=null;try{this.AppSettings=this.setting.appSetting}catch(u){alert(u)}}ngOnInit(){}onDragOver(e){this.dragging=!0,e.preventDefault()}onDrop(e){this.dragging=!1,this.fileList=e.dataTransfer.files,this.setSelectedFileNames(),e.preventDefault()}setSelectedFileNames(){this.selectedFileNames="",null!=this.selectedFile&&(this.selectedFileNames=this.selectedFile.name)}onFileChange(e){this.selectedFile=e.target.files[0],this.setSelectedFileNames()}importConfig(){let e=this.selectedFile;const n=new FormData;n.append("file",e,e.name),this.spinner.show("Uploading Image, Please wait.."),this.masterService.importConfig(n).subscribe(o=>{if("ok"==o.status){this.spinner.hide(),this.alertService.success("Upload Sucessfull");let i=this.masterService.apiUrl;this.masterService.productImgURL=""+i.substring(i.length-3,0)+o.result,console.log("ya image upload ko case ma k bhaera aaucha",this.masterService.productImgURL,i,o.result),console.log("image upload url",this.masterService.productImgURL),this.productObj.ImageUpload=o.result+""}else this.spinner.hide(),this.alertService.error(o.result.error)},o=>{this.spinner.hide(),this.alertService.error(o)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(I.R),t.Y36(S.c),t.Y36(U.V),t.Y36(g.L))},r.\u0275cmp=t.Xpm({type:r,selectors:[["imageuploadtab"]],viewQuery:function(e,n){if(1&e&&t.Gf(so,5),2&e){let o;t.iGM(o=t.CRH())&&(n.fileSelect=o.first)}},inputs:{productObj:"productObj",AppSettings:"AppSettings"},decls:30,vars:5,consts:[[1,"upload-area","container"],[1,"file-upload-area"],[1,"row"],[1,"col-md-5"],["id","drop-zone",1,"upload-drop-zone",3,"dragover","drop","click"],[4,"ngIf"],[1,"input-group","image-preview"],["placeholder","","type","text","disabled","disabled","name","selectedfiles",1,"form-control","image-preview-filename",2,"display","none"],[1,"input-group-btn"],["type","button",1,"btn","btn-default","image-preview-clear",2,"display","none"],[1,"glyphicon","glyphicon-remove"],[1,"btn","btn-info","image-preview-input",2,"margin-right","5px"],[1,"glyphicon","glyphicon-folder-open"],[1,"image-preview-input-title"],["type","file","accept",".png, .jpg","name","input-file-preview",3,"change"],["fileSelect",""],["type","button",1,"btn","btn-labeled","btn-info",3,"disabled","click"],[1,"btn-label"],[1,"glyphicon","glyphicon-upload"],[1,"col-md-7"],[2,"margin","auto","height","45vh","width","81vh","box-shadow","7px 7px 11px #333434",3,"src"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"br"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.NdJ("dragover",function(c){return n.onDragOver(c)})("drop",function(c){return n.onDrop(c)})("click",function(){t.CHM(o);const c=t.MAs(22);return t.KtG(c.click())}),t.TgZ(6,"b"),t._uU(7,"Choose an Image"),t.qZA(),t._uU(8," or Drag it here. "),t.qZA(),t._UZ(9,"br"),t.YNc(10,co,2,1,"p",5),t.TgZ(11,"div",6),t._UZ(12,"input",7),t.TgZ(13,"span",8)(14,"button",9)(15,"span",10),t._uU(16,"Clear"),t.qZA()(),t.TgZ(17,"div",11),t._UZ(18,"span",12),t.TgZ(19,"span",13),t._uU(20,"Browse"),t.qZA(),t.TgZ(21,"input",14,15),t.NdJ("change",function(c){return n.onFileChange(c)}),t.qZA()(),t.TgZ(23,"button",16),t.NdJ("click",function(){return n.importConfig()}),t.TgZ(24,"span",17),t._UZ(25,"i",18),t.qZA(),t._uU(26,"Upload "),t.qZA()()()(),t.TgZ(27,"div",19),t._UZ(28,"img",20),t.qZA()(),t._UZ(29,"br"),t.qZA()()}2&e&&(t.xp6(5),t.ekj("file-dropover-continue",n.dragging),t.xp6(5),t.Q6J("ngIf",n.selectedFileNames),t.xp6(13),t.Q6J("disabled",!n.selectedFile),t.xp6(5),t.s9C("src",n.masterService.productImgURL,t.LSH))},dependencies:[p.O5],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",'.modal-content[_ngcontent-%COMP%] {\n      padding: 1px;\n      margin: 0px;\n      float: right;\n    }\n  \n    .modal-content[_ngcontent-%COMP%] {\n      box-shadow: -10px 0px 10px 1px #aaaaaa;\n    }\n  \n    .modal-content-summary-area[_ngcontent-%COMP%] {\n      max-height: 20%;\n      height: 20%;\n      overflow: auto;\n      overflow-x: hidden;\n    }\n  \n    \n    .upload-drop-zone[_ngcontent-%COMP%] {\n      height: 80px;\n      border-width: 2px;\n      margin-bottom: 0px;\n    }\n  \n    \n    .upload-drop-zone[_ngcontent-%COMP%] {\n      color: #c7dadf;\n      border-style: solid;\n      border-color:#c7dadf;\n      border-radius: 2px;\n      line-height: 75px;\n      text-align: center;\n      cursor: pointer;\n      height: 8.5rem;\n    }\n  \n    .sample-download-area[_ngcontent-%COMP%] {\n      color: #ccc;\n      border-style: dashed;\n      border-color: #ccc;\n      line-height: 60px;\n      text-align: center;\n      cursor: pointer;\n    }\n  \n    .upload-drop-zone.drop[_ngcontent-%COMP%] {\n      color: #222;\n      border-color: #222;\n    }\n  \n    .image-preview-input[_ngcontent-%COMP%] {\n      position: relative;\n      overflow: hidden;\n      margin: 0px;\n      color: #333;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    .image-preview-input[_ngcontent-%COMP%]   input[type="file"][_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin: 0;\n      padding: 0;\n      font-size: 20px;\n      cursor: pointer;\n      opacity: 0;\n      filter: alpha(opacity=0);\n    }\n    .image-preview-input-title[_ngcontent-%COMP%] {\n      margin-left: 2px;\n    }\n  \n    .form-control[_ngcontent-%COMP%] {\n      height: 35px;\n    }\n  \n    .file-dropover-continue[_ngcontent-%COMP%] {\n      color: #1b6ed6;\n      border-style: dashed;\n      border-color: #1b6ed6;\n      background: #ded4d4;\n    }\n    .modal-sticky[_ngcontent-%COMP%] {\n      position: fixed;\n      top: 275px;\n      right: 20px;\n      width: 40%;\n      z-index: 9999999;\n  }']}),r})();const lo=["genericGridAccountLedger_Sales"],uo=["genericGridAccountLedger_SalesReturn"],po=["genericGridAccountLedger_Purchase"],go=["genericGridAccountLedger_PurchaseReturn"];let _o=(()=>{class r{constructor(e,n,o,i){this.masterService=e,this.productService=n,this.alert=o,this.authservice=i,this.productObj={},this.gridPopupSettingsForAccountLedgerList_Sales=new w.im,this.gridPopupSettingsForAccountLedgerList_SalesReturn=new w.im,this.gridPopupSettingsForAccountLedgerList_Purchase=new w.im,this.gridPopupSettingsForAccountLedgerList_PurchaseReturn=new w.im,this.userSetting=this.authservice.getSetting()}ngOnInit(){this.masterService.getSalesInfo().subscribe(e=>{if("Add Product"==this.masterService.modeIs){console.log("salesInfoList",e);const n=Object.values(e);let o=n.filter(d=>d.ACID==this.masterService.userSetting.SalesAc);this.productObj.SAC_ACNAME=o[0].ACNAME;let i=n.filter(d=>d.ACID==this.masterService.userSetting.SalesReturnAc);this.productObj.SRAC_ACNAME=i[0].ACNAME;let c=n.filter(d=>d.ACID==this.masterService.userSetting.PurchaseAc);this.productObj.PAC_ACNAME=c[0].ACNAME;let u=n.filter(d=>d.ACID==this.masterService.userSetting.PurchaseReturnAc);this.productObj.PRAC_ACNAME=u[0].ACNAME}})}SalesAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_Sales=this.masterService.getGenericGridPopUpSettings("SalesTransaction"),this.genericGridAccountLedger_Sales.show()}dblClickSalesAccountSelect(e){this.productObj.SAC=e.ACID,this.productObj.SAC_ACNAME=e.ACNAME}SalesReturnAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_SalesReturn=this.masterService.getGenericGridPopUpSettings("SalesTransaction"),this.genericGridAccountLedger_SalesReturn.show()}dblClickSalesReturnAccountSelect(e){this.productObj.SRAC=e.ACID,this.productObj.SRAC_ACNAME=e.ACNAME}PurchaseAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_Purchase=this.masterService.getGenericGridPopUpSettings("PurchaseTransaction"),this.genericGridAccountLedger_Purchase.show()}dblClickPurchaseAccountSelect(e){this.productObj.PAC=e.ACID,this.productObj.PAC_ACNAME=e.ACNAME}PurchaseReturnAccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList_PurchaseReturn=this.masterService.getGenericGridPopUpSettings("PurchaseTransaction"),this.genericGridAccountLedger_PurchaseReturn.show()}dblClickPurchaseReturnAccountSelect(e){this.productObj.PRAC=e.ACID,this.productObj.PRAC_ACNAME=e.ACNAME}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(g.L),t.Y36(S.c),t.Y36(C.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["itemwise-acc"]],viewQuery:function(e,n){if(1&e&&(t.Gf(lo,5),t.Gf(uo,5),t.Gf(po,5),t.Gf(go,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.genericGridAccountLedger_Sales=o.first),t.iGM(o=t.CRH())&&(n.genericGridAccountLedger_SalesReturn=o.first),t.iGM(o=t.CRH())&&(n.genericGridAccountLedger_Purchase=o.first),t.iGM(o=t.CRH())&&(n.genericGridAccountLedger_PurchaseReturn=o.first)}},inputs:{productObj:"productObj"},decls:30,vars:8,consts:[[1,"row"],[1,"col-md-5",2,"padding-left","0px"],[1,"fieldsColumnHeading"],[2,"width","105px"],["type","text","placeholder","Press Enter or Tab for Account List",3,"ngModel","ngModelChange","keydown.Tab","keydown.enter"],[1,"fieldsColumnHeading",2,"margin-top","20px"],[3,"popupsettings","onItemDoubleClick"],["genericGridAccountLedger_Sales",""],["genericGridAccountLedger_SalesReturn",""],["genericGridAccountLedger_Purchase",""],["genericGridAccountLedger_PurchaseReturn",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Sales Transaction "),t.qZA(),t.TgZ(4,"div")(5,"label",3),t._uU(6,"Sales :"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(i){return n.productObj.SAC_ACNAME=i})("keydown.Tab",function(){return n.SalesAccountEnterClicked()})("keydown.enter",function(){return n.SalesAccountEnterClicked()}),t.qZA()(),t.TgZ(8,"div")(9,"label",3),t._uU(10,"Sales Return :"),t.qZA(),t.TgZ(11,"input",4),t.NdJ("ngModelChange",function(i){return n.productObj.SRAC_ACNAME=i})("keydown.Tab",function(){return n.SalesReturnAccountEnterClicked()})("keydown.enter",function(){return n.SalesReturnAccountEnterClicked()}),t.qZA()(),t.TgZ(12,"div",5),t._uU(13," Purchase Transaction "),t.qZA(),t.TgZ(14,"div")(15,"label",3),t._uU(16,"Purchase :"),t.qZA(),t.TgZ(17,"input",4),t.NdJ("ngModelChange",function(i){return n.productObj.PAC_ACNAME=i})("keydown.Tab",function(){return n.PurchaseAccountEnterClicked()})("keydown.enter",function(){return n.PurchaseAccountEnterClicked()}),t.qZA()(),t.TgZ(18,"div")(19,"label",3),t._uU(20,"Purchase Return :"),t.qZA(),t.TgZ(21,"input",4),t.NdJ("ngModelChange",function(i){return n.productObj.PRAC_ACNAME=i})("keydown.Tab",function(){return n.PurchaseReturnAccountEnterClicked()})("keydown.enter",function(){return n.PurchaseReturnAccountEnterClicked()}),t.qZA()()()(),t.TgZ(22,"generic-popup-grid",6,7),t.NdJ("onItemDoubleClick",function(i){return n.dblClickSalesAccountSelect(i)}),t.qZA(),t.TgZ(24,"generic-popup-grid",6,8),t.NdJ("onItemDoubleClick",function(i){return n.dblClickSalesReturnAccountSelect(i)}),t.qZA(),t.TgZ(26,"generic-popup-grid",6,9),t.NdJ("onItemDoubleClick",function(i){return n.dblClickPurchaseAccountSelect(i)}),t.qZA(),t.TgZ(28,"generic-popup-grid",6,10),t.NdJ("onItemDoubleClick",function(i){return n.dblClickPurchaseReturnAccountSelect(i)}),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngModel",n.productObj.SAC_ACNAME),t.xp6(4),t.Q6J("ngModel",n.productObj.SRAC_ACNAME),t.xp6(6),t.Q6J("ngModel",n.productObj.PAC_ACNAME),t.xp6(4),t.Q6J("ngModel",n.productObj.PRAC_ACNAME),t.xp6(1),t.Q6J("popupsettings",n.gridPopupSettingsForAccountLedgerList_Sales),t.xp6(2),t.Q6J("popupsettings",n.gridPopupSettingsForAccountLedgerList_SalesReturn),t.xp6(2),t.Q6J("popupsettings",n.gridPopupSettingsForAccountLedgerList_Purchase),t.xp6(2),t.Q6J("popupsettings",n.gridPopupSettingsForAccountLedgerList_PurchaseReturn))},dependencies:[a.Fj,a.JJ,a.On,w.Zl],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".col-md-12[_ngcontent-%COMP%] {\n    padding: 0px !important;\n  }\n\n  .col-md-4[_ngcontent-%COMP%] {\n    padding: 0px !important;\n  }\n\n  table[_ngcontent-%COMP%] {\n    border-collapse: collapse;\n  }\n\n  th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n    text-align: left;\n    padding: 8px;\n  }\n\n  tr[_ngcontent-%COMP%]:nth-child(even) {\n    background-color: #f2f2f2;\n  }\n\n  input[_ngcontent-%COMP%] {\n    padding-left: 2px;\n    width: 65%;\n  }"]}),r})();function ho(r,s){if(1&r&&(t.TgZ(0,"tr",8)(1,"td",9),t._uU(2),t.qZA(),t.TgZ(3,"td",10),t._uU(4),t.qZA(),t.TgZ(5,"td",10),t._uU(6),t.qZA(),t.TgZ(7,"td",11),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td",11),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"td",11),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"td",11),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"td",11),t._uU(20),t.ALo(21,"date"),t.qZA()()),2&r){const e=s.$implicit,n=s.index;t.xp6(2),t.hij(" ",n+1," "),t.xp6(2),t.Oqu(e.BATCH),t.xp6(2),t.Oqu(e.STOCK),t.xp6(2),t.hij(" ",t.xi3(9,8,e.LANDINGCOST,"1.2-2"),""),t.xp6(3),t.Oqu(t.xi3(12,11,e.SELLRATEBEFORETAX,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(15,14,e.W_SELLRATEBEFORETAX,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(18,17,e.MRP,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(21,20,e.EXPDATE,"dd/MM/yyyy"))}}let mo=(()=>{class r{constructor(e,n,o,i){this.masterService=e,this.productService=n,this.alert=o,this.datePipe=i,this.productObj={},this.ItemWisePriceList={}}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(g.L),t.Y36(S.c),t.Y36(p.uU))},r.\u0275cmp=t.Xpm({type:r,selectors:[["itemwise-price"]],inputs:{productObj:"productObj"},features:[t._Bn([p.uU])],decls:23,vars:1,consts:[[1,"row",2,"width","100%"],[2,"height","58vh","width","100%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","1%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","3%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","5%","font-weight","bold","text-align","center"],["style","border: 1px; max-height: 25px;",4,"ngFor","ngForOf"],[2,"border","1px","max-height","25px"],["id","sn",2,"line-height","21px","text-align","center","border","1px solid #e6e6e6"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","center"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","right"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr",3)(5,"th",4),t._uU(6,"S.N"),t.qZA(),t.TgZ(7,"th",5),t._uU(8,"BATCH"),t.qZA(),t.TgZ(9,"th",5),t._uU(10,"STOCK"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"LANDINGCOST"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"SELLRATEBEFORETAX(Retail)"),t.qZA(),t.TgZ(15,"th",5),t._uU(16,"SELLRATEBEFORETAX(WholeSale)"),t.qZA(),t.TgZ(17,"th",5),t._uU(18,"MRP"),t.qZA(),t.TgZ(19,"th",5),t._uU(20,"EXP DATE"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,ho,22,23,"tr",7),t.qZA()()()()),2&e&&(t.xp6(22),t.Q6J("ngForOf",n.productObj.ItemWisePrice))},dependencies:[p.sg,p.JJ,p.uU],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n\n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }\n\n    input[_ngcontent-%COMP%]{\n        padding-left: 2px;\n        width:96%;\n    }\n\n.fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n \n  \n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),r})();var bo=l(53158);function Co(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr",19)(1,"td",20),t._uU(2),t.qZA(),t.TgZ(3,"td",21),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",21),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",22),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td",23)(13,"input",24),t.NdJ("change",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ISACTIVE=o.target.checked?1:0)})("ngModelChange",function(o){const c=t.CHM(e).$implicit;return t.KtG(c.ISACTIVE=o)}),t.qZA()(),t.TgZ(14,"td",25)(15,"button",26),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw();return t.KtG(c.editMSLevel(i))}),t._uU(16,"EDIT"),t.qZA(),t.TgZ(17,"button",27),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw();return t.KtG(c.removeMSLevel(i))}),t._uU(18,"Remove"),t.qZA()()()}if(2&r){const e=s.$implicit,n=s.index,o=t.oxw();t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(t.xi3(5,6,e.RATE,"1.2-2")),t.xp6(3),t.Oqu(t.xi3(8,9,e.INRATE,"1.2-2")),t.xp6(3),t.Oqu(t.lcZ(11,12,e.EXPDATE)),t.xp6(3),t.Q6J("ngModel",e.ISACTIVE),t.xp6(4),t.Q6J("disabled","edit"==o.mode)}}let fo=(()=>{class r{constructor(e,n,o,i){this.masterService=e,this.productService=n,this.alertservice=o,this.setting=i,this.productObj={},this.mode="",this.PMultipleRetailPrice=[],this.AlternateUnits=[],this.PBarCodeCollection=[],this.PYieldCollection=[],this.MultipeRetailObj={};try{this.AppSettings=this.setting.appSetting}catch(c){alert(c)}}ngOnInit(){}ngONChange(){console.log("mode1",this.mode)}addMRP(){0!=this.MultipeRetailObj.RATE&&null!=this.MultipeRetailObj.RATE?this.MultipeRetailObj.EXPDATE?(this.MultipeRetailObj.ISACTIVE=1,this.MultipeRetailObj.INRATE=this.MultipeRetailObj.RATE*this.masterService.userSetting.VatConRate,this.PMultipleRetailPrice.push(this.MultipeRetailObj),this.MultipeRetailObj={}):this.alertservice.warning("Expiry Date cannot be empty"):this.alertservice.warning("Rate cannot be empty")}editMSLevel(e){this.MultipeRetailObj=this.PMultipleRetailPrice[e],this.PMultipleRetailPrice.splice(e,1)}onChangeINculsiveRate(){this.MultipeRetailObj.INRATE=Number((this.MultipeRetailObj.RATE*this.masterService.userSetting.VatConRate).toFixed(2))}onChangeExculsiveRate(){this.MultipeRetailObj.RATE=Number((this.MultipeRetailObj.INRATE/this.masterService.userSetting.VatConRate).toFixed(2))}removeMSLevel(e){this.PMultipleRetailPrice.splice(e,1)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(g.L),t.Y36(S.c),t.Y36(I.R))},r.\u0275cmp=t.Xpm({type:r,selectors:[["multipleretail-price"]],inputs:{productObj:"productObj",mode:"mode",AppSettings:"AppSettings",PMultipleRetailPrice:"PMultipleRetailPrice",AlternateUnits:"AlternateUnits",PBarCodeCollection:"PBarCodeCollection",PYieldCollection:"PYieldCollection"},decls:38,vars:4,consts:[[2,"margin-left","5px"],[1,"col-md-12","row"],[1,"col-md-11",2,"margin-top","-11px","padding-right","5px"],[2,"width","121px","margin-left","-34px"],["type","number",2,"width","140px",3,"ngModel","keyup","ngModelChange"],[2,"width","121px","margin-left","5px"],[2,"width","66px","margin-left","5px"],["type","date",2,"width","140px",3,"ngModel","ngModelChange"],[1,"col-md-1",2,"margin-top","10px"],[1,"btn","btn-info",2,"margin-left","20px","width","100%","background-color","#17a2b8","font-size","12px",3,"click"],[2,"height","40vh","width","99%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","7%","font-weight","bold"],[1,"fontsize",2,"width","10%","font-weight","bold"],[1,"fontsize",2,"width","9%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","12%","font-weight","bold","text-align","center"],[2,"scrollbar-3dlight-color","#FFFFFF","scrollbar-arrow-color","#000000","scrollbar-base-color","#FF9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033CC"],["style","line-height: 25px;",4,"ngFor","ngForOf"],[2,"line-height","25px"],[1,"fontsize",2,"width","7%"],[1,"fontsize","tooltipParent",2,"width","10%"],[1,"fontsize",2,"width","10%"],[1,"fontsize",2,"width","9%","text-align","center"],["type","checkbox",2,"width","25px","height","17px","margin-top","4px","margin-right","9px",3,"ngModel","change","ngModelChange"],[1,"fontsize",2,"width","12%","text-align","center"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","font-size","11px","line-height","10px",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"br"),t.TgZ(4,"label",3),t._uU(5,"Rate (Exclusive) :"),t.qZA(),t.TgZ(6,"input",4),t.NdJ("keyup",function(){return n.onChangeINculsiveRate()})("ngModelChange",function(i){return n.MultipeRetailObj.RATE=i}),t.qZA(),t.TgZ(7,"label",5),t._uU(8,"Rate (In-Exclusive) :"),t.qZA(),t.TgZ(9,"input",4),t.NdJ("keyup",function(){return n.onChangeExculsiveRate()})("ngModelChange",function(i){return n.MultipeRetailObj.INRATE=i}),t.qZA(),t.TgZ(10,"label",6),t._uU(11,"Exp Date :"),t.qZA(),t.TgZ(12,"input",7),t.NdJ("ngModelChange",function(i){return n.MultipeRetailObj.EXPDATE=i}),t.qZA()(),t.TgZ(13,"div",8)(14,"table")(15,"tr")(16,"td")(17,"button",9),t.NdJ("click",function(){return n.addMRP()}),t._uU(18,"Add"),t.qZA()()()()()()(),t._UZ(19,"br"),t.TgZ(20,"div",10)(21,"table",11)(22,"thead")(23,"tr",12)(24,"th",13),t._uU(25,"SN"),t.qZA(),t.TgZ(26,"th",14),t._uU(27,"RATE(Exclusive)"),t.qZA(),t.TgZ(28,"th",14),t._uU(29,"RATE(Inclusive)"),t.qZA(),t.TgZ(30,"th",14),t._uU(31,"EXP-DATE"),t.qZA(),t.TgZ(32,"th",15),t._uU(33,"Active"),t.qZA(),t.TgZ(34,"th",16),t._uU(35,"Actions"),t.qZA()()(),t.TgZ(36,"tbody",17),t.YNc(37,Co,19,14,"tr",18),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngModel",n.MultipeRetailObj.RATE),t.xp6(3),t.Q6J("ngModel",n.MultipeRetailObj.INRATE),t.xp6(3),t.Q6J("ngModel",n.MultipeRetailObj.EXPDATE),t.xp6(25),t.Q6J("ngForOf",n.PMultipleRetailPrice))},dependencies:[p.sg,a.Fj,a.wV,a.Wl,a.JJ,a.On,p.JJ,p.uU],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n  .tooltipParent[_ngcontent-%COMP%]{\n      position: relative;\n      cursor: pointer;\n  }\n  .tooltipChild[_ngcontent-%COMP%]{\n    display:block !important;\n    padding: 15px;\n    background: seagreen;\n    position: absolute;\n    border-radius: 17px;\n    text-align: center;\n    color: whiter;\n    color: white;\n    width: 100%;\n  }\n  .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    position: sticky;\n    top: 0;\n    background-color: #6bb9b1 !important;\n    line-height: 2rem;\n    z-index: 2\n  }\n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),r})();var To=l(55618),Oo=l(87584);const Ao=["smBarcode"];function Po(r,s){1&r&&(t.TgZ(0,"label",19),t._uU(1,"Yield(%) :"),t.qZA())}function Mo(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr",20)(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td",22),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.qZA(),t.TgZ(7,"td",24)(8,"button",25),t.NdJ("click",function(){const o=t.CHM(e),i=o.$implicit,c=o.index,u=t.oxw();return t.KtG(u.Edit(i,c))}),t._uU(9,"EDIT"),t.qZA(),t.TgZ(10,"button",26),t.NdJ("click",function(){const o=t.CHM(e),i=o.$implicit,c=o.index,u=t.oxw();return t.KtG(u.Delete(i,c))}),t._uU(11,"-"),t.qZA()()()}if(2&r){const e=s.$implicit,n=s.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.SubItem),t.xp6(2),t.Oqu(e.Yield)}}let So=(()=>{class r{constructor(e,n,o,i,c){this.masterService=e,this.setting=n,this.alertSevice=o,this.productService=i,this.ProductService=c,this.productObj={},this.PYield={},this.PYieldCollection=[],this.AlternateUnits=[],this.BCodeDetails=[],this.SupplierList=[],this.DivisionList=[],this.Units=[],this.barcodeUnits=[],this.active=0,this.AppMode=b.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(u){alert(u)}}ngOnInit(){}addYield(){this.PYield.SubItem?null!=this.PYield.Yield?this.PYieldCollection.find(e=>e.SubItem===this.PYield.SubItem)?this.alertSevice.info("Duplicate subitem is found"):(this.PYieldCollection.push(this.PYield),this.PYield={},setTimeout(()=>{document.getElementById("subitem").focus()},0)):this.alertSevice.warning("Yield % cannot be empty"):this.alertSevice.warning("BarCode can not be empty")}tabToYield(){setTimeout(()=>{document.getElementById("yield").focus()},0)}Edit(e,n){this.PYield=e,this.PYieldCollection.splice(n,1)}Delete(e,n){this.PYieldCollection.splice(n,1)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(P.P),t.Y36(I.R),t.Y36(S.c),t.Y36(g.L),t.Y36(g.L))},r.\u0275cmp=t.Xpm({type:r,selectors:[["yieldtab"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ao,5),2&e){let o;t.iGM(o=t.CRH())&&(n.smBarcode=o.first)}},inputs:{productObj:"productObj",AppSettings:"AppSettings",PYieldCollection:"PYieldCollection",AlternateUnits:"AlternateUnits"},decls:27,vars:4,consts:[[2,"margin-left","-18px"],[1,"col-md-12","row"],[1,"col-md-8",2,"margin-top","-11px","padding-right","5px","margin-left","20px"],[1,"row"],[2,"width","60px","margin-left","-34px"],["id","subitem","type","text",2,"width","40%",3,"ngModel","ngModelChange","keydown.enter"],["style","width: 60px; margin-left: -32px",4,"ngIf"],["id","yield","type","text","WhiteSpaceRestriction","",2,"width","95px",3,"ngModel","ngModelChange","keydown.enter"],[1,"btn","btn-info",2,"background-color","#17a2b8","font-size","12px","margin-left","15px !important","margin-top","0px !important","border-radius","4px","width","8%",3,"click"],[2,"height","40vh","width","99%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead"],[2,"line-height","2rem"],[1,"fontsize",2,"width","5%","font-weight","bold"],[1,"fontsize",2,"width","40%","font-weight","bold"],[1,"fontsize",2,"width","35%","font-weight","bold"],[1,"fontsize",2,"width","20%","font-weight","bold"],[2,"scrollbar-3dlight-color","#ffffff","scrollbar-arrow-color","#000000","scrollbar-base-color","#ff9999","scrollbar-darkshadow-color","#000000","scrollbar-face-color","#000000","scrollbar-highlight-color","#000000","scrollbar-shadow-color","#0033cc"],["style","line-height: 25px",4,"ngFor","ngForOf"],[2,"width","60px","margin-left","-32px"],[2,"line-height","25px"],[1,"fontsize",2,"width","5%"],[1,"fontsize",2,"width","40%"],[1,"fontsize",2,"width","35%"],[1,"fontsize",2,"width","20%"],[1,"btn","btn-info",2,"padding",".25rem .5rem","line-height","10px",3,"click"],[1,"btn","btn-danger",2,"padding",".25rem .5rem","line-height","10px",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"br"),t.TgZ(4,"div",3)(5,"label",4),t._uU(6,"Sub Item :"),t.qZA(),t.TgZ(7,"input",5),t.NdJ("ngModelChange",function(i){return n.PYield.SubItem=i})("keydown.enter",function(){return n.tabToYield()}),t.qZA()(),t.TgZ(8,"div",3),t.YNc(9,Po,2,0,"label",6),t.TgZ(10,"input",7),t.NdJ("ngModelChange",function(i){return n.PYield.Yield=i})("keydown.enter",function(){return n.addYield()}),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return n.addYield()}),t._uU(12," ADD "),t.qZA()()(),t.TgZ(13,"div",9)(14,"table",10)(15,"thead",11)(16,"tr",12)(17,"th",13),t._uU(18,"SN"),t.qZA(),t.TgZ(19,"th",14),t._uU(20," Sub Item "),t.qZA(),t.TgZ(21,"th",15),t._uU(22," Yield(%) "),t.qZA(),t.TgZ(23,"th",16),t._uU(24,"Actions"),t.qZA()()(),t.TgZ(25,"tbody",17),t.YNc(26,Mo,12,3,"tr",18),t.qZA()()()()()),2&e&&(t.xp6(7),t.Q6J("ngModel",n.PYield.SubItem),t.xp6(2),t.Q6J("ngIf","lite"!=n.AppMode),t.xp6(1),t.Q6J("ngModel",n.PYield.Yield),t.xp6(16),t.Q6J("ngForOf",n.PYieldCollection))},dependencies:[p.sg,p.O5,a.Fj,a.JJ,a.On,$],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n  }\n\n  .tooltipParent[_ngcontent-%COMP%] {\n    position: relative;\n    cursor: pointer;\n  }\n\n  .tooltipChild[_ngcontent-%COMP%] {\n    display: block !important;\n    padding: 15px;\n    background: seagreen;\n    position: absolute;\n    border-radius: 17px;\n    text-align: center;\n    color: whiter;\n    color: white;\n    width: 100%;\n  }\n\n  .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.1rem !important;\n  }"]}),r})();var vo=l(92849);let Eo=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[C.e,tt.P,et.u,Oo.p],imports:[vo.S,f.xc,p.ez,a.u5,be,a.UX,io.m.forRoot(),Ce._.forRoot(),fe.Z,m.ne,Te.D,Oe.X.forRoot(),B.JX,ro.Is,k.Z.forRoot(),bo.i.forRoot(),ve.m,To.c.forRoot()]}),r})();t.B6R(q,function(){return[p.O5,Ye,qe,ye,X,Se,oo,ao,_o,mo,fo,So]},[])}}]);