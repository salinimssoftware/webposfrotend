"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[5942],{45942:(Ro,v,d)=>{d.r(v),d.d(v,{ColorModule:()=>Ho});var x=d(67297),C=d(72533),Z=d(79765),o=d(64537),T=d(35732),w=d(71180);let p=(()=>{class e{constructor(t,r,i){this.http=t,this.authService=r,this.state=i;const s=this.state.getGlobalSetting("apiUrl");s&&s.length>0&&(this.apiUrl=s)}postColorGroup(t){const r={headers:this.authService.getRequestOption(),method:"post"};return this.http.post(`${this.apiUrl}/saveNewProductColorGroup`,t,r)}getColorGroup(){const t={headers:this.authService.getRequestOption(),method:"post"};return this.http.get(`${this.apiUrl}/getAllProductColorGroup`,t)}getSingleColorGroupById(t){const r={headers:this.authService.getRequestOption(),method:"post"};return this.http.get(`${this.apiUrl}/getProductColorGroupById?groupId=${t}`,r)}updateColorGroup(t){const r={headers:this.authService.getRequestOption(),method:"post"};return this.http.post(`${this.apiUrl}/updateProductColorGroup`,t,r)}deleteColorGroup(t){let r={status:"error",result:""},i=new Z.xQ,s={mode:"query",data:{Id:t}};const c={headers:this.authService.getRequestOption(),method:"post"};return this.http.post(this.apiUrl+"/deleteProductColorGroup",s,c).subscribe(u=>{i.next(u),i.unsubscribe()},u=>{r.status="error",r.result=u,i.next(r),i.unsubscribe()}),i}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(T.eN),o.LFG(x.e),o.LFG(w.q))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var m=d(88692),N=d(46543),l=d(20092),g=d(12640),a=d(7976),_=d(5998);function y(e,n){if(1&e&&(o.TgZ(0,"div",16),o._uU(1),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.hij(" ",t.successMessage," ")}}function A(e,n){if(1&e&&(o.TgZ(0,"div",17),o._uU(1),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.hij(" ",t.errorMessage," ")}}function M(e,n){1&e&&(o.TgZ(0,"div",6)(1,"div",18),o._UZ(2,"div",19),o.qZA()())}function q(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Group name is required."),o.qZA())}function I(e,n){if(1&e&&(o.TgZ(0,"div",32),o.YNc(1,q,2,0,"small",33),o.qZA()),2&e){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.groupName.errors.required)}}function S(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Group name is required."),o.qZA())}function L(e,n){if(1&e&&(o.TgZ(0,"div",32),o.YNc(1,S,2,0,"small",33),o.qZA()),2&e){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.groupName.errors.required)}}function G(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color name is required."),o.qZA())}function P(e,n){if(1&e&&(o.TgZ(0,"div",32),o.YNc(1,G,2,0,"small",33),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.colorName.errors.required)}}function J(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color name is required."),o.qZA())}function O(e,n){if(1&e&&(o.TgZ(0,"div",32),o.YNc(1,J,2,0,"small",33),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.colorName.errors.required)}}function E(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color code is required."),o.qZA())}function Q(e,n){if(1&e&&(o.TgZ(0,"div",32),o.YNc(1,E,2,0,"small",33),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.ColorCode.errors.required)}}function Y(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color code is required."),o.qZA())}function U(e,n){if(1&e&&(o.TgZ(0,"div",32),o.YNc(1,Y,2,0,"small",33),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.ColorCode.errors.required)}}function k(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"div",39)(1,"div",21)(2,"button",40),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().index,s=o.oxw(2);return o.KtG(s.removeColorRows(i))}),o._uU(3,"Delete"),o.qZA()()()}}function F(e,n){if(1&e&&(o.TgZ(0,"div",34)(1,"div",35)(2,"div",21),o._UZ(3,"input",36),o.YNc(4,P,2,1,"div",24),o.YNc(5,O,2,1,"div",24),o.qZA()(),o.TgZ(6,"div",35)(7,"div",21),o._UZ(8,"input",37),o.YNc(9,Q,2,1,"div",24),o.YNc(10,U,2,1,"div",24),o.qZA()(),o.YNc(11,k,4,0,"div",38),o.qZA()),2&e){const t=n.$implicit,r=n.index,i=o.oxw(2);o.Q6J("formGroupName",r),o.xp6(1),o.Q6J("ngClass",i.form.controls.ProductColorList.controls.length>1?"col-sm-5":"col-sm-6"),o.xp6(3),o.Q6J("ngIf",!i.isSubmitting&&t.controls.colorName.invalid&&(t.controls.colorName.dirty||t.controls.colorName.touched)),o.xp6(1),o.Q6J("ngIf",i.isSubmitting&&t.controls.colorName.invalid),o.xp6(1),o.Q6J("ngClass",i.form.controls.ProductColorList.controls.length>1?"col-sm-5":"col-sm-6"),o.xp6(3),o.Q6J("ngIf",!i.isSubmitting&&t.controls.ColorCode.invalid&&(t.controls.ColorCode.dirty||t.controls.ColorCode.touched)),o.xp6(1),o.Q6J("ngIf",i.isSubmitting&&t.controls.ColorCode.invalid),o.xp6(1),o.Q6J("ngIf",i.form.controls.ProductColorList.controls.length>1)}}function V(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"form",20),o.NdJ("ngSubmit",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.submit(i.form.value))}),o.TgZ(1,"div",6)(2,"div",18)(3,"div",21)(4,"label",22),o._uU(5,"Color Group"),o.qZA(),o._UZ(6,"input",23),o.YNc(7,I,2,1,"div",24),o.YNc(8,L,2,1,"div",24),o.qZA()()(),o._UZ(9,"div",6),o.TgZ(10,"div",6)(11,"div",25)(12,"label",26),o._uU(13,"Color Name"),o.qZA()(),o.TgZ(14,"div",27)(15,"label",28),o._uU(16,"Color Code"),o.qZA()()(),o.ynx(17,29),o.YNc(18,F,12,8,"div",30),o.TgZ(19,"div",6),o._UZ(20,"div",31),o.qZA(),o.BQk(),o.qZA()}if(2&e){const t=o.oxw();o.Q6J("formGroup",t.form),o.xp6(7),o.Q6J("ngIf",!t.isSubmitting&&t.form.controls.groupName.invalid&&(t.form.controls.groupName.dirty||t.form.controls.groupName.touched)),o.xp6(1),o.Q6J("ngIf",t.isSubmitting&&t.form.controls.groupName.invalid),o.xp6(10),o.Q6J("ngForOf",t.getColorForm(t.form))}}let D=(()=>{class e{constructor(t,r,i,s,c){this.fb=t,this.router=r,this.route=i,this.title=s,this.colorService=c,this.isSubmitting=!1,this.isDataLoader=!0,this.isLoader=!1,this.errors=[],this.isSubmitted=!1,this.title.setTitle("Color Master Edit | IMS POS"),this.formInit()}ngOnInit(){this.subscribeData=this.route.params.subscribe(t=>{t.id||this.router.navigate(["/pages/masters/color-info/color/list"]),this.colorId=t&&t.id?t.id:"",this.colorService.getSingleColorGroupById(this.colorId).subscribe(r=>{this.singleColorData(r)},r=>{this.singleColorError(r)})})}singleColorData(t){if(t&&"ok"===t.status&&null!==t.result)this.isDataLoader=!1,this.selectedEditColor=t&&t.result?t.result:void 0,this.formReset(this.selectedEditColor);else{this.isDataLoader=!1,this.selectedEditColor=void 0,this.errorMessage="Cannot get color group details.";const r=this;setTimeout(()=>{r.router.navigate(["/pages/masters/color-info/color/list"]),r.errorMessage=void 0},2500)}}singleColorError(t){this.isDataLoader=!1,this.selectedEditColor=void 0,this.errorMessage="Cannot get color group details.";const r=this;setTimeout(()=>{r.router.navigate(["/pages/masters/color-info/color/list"]),r.errorMessage=void 0},2500)}ngOnDestroy(){this.subscribeData.unsubscribe()}formInit(){this.form=this.fb.group({id:[""],groupName:["",[l.kI.required]],ProductColorList:this.fb.array([this.colorItems()])})}formReset(t){this.form.patchValue({groupName:t.GroupName?t.GroupName:"",id:t.id?t.id:""}),this.form.setControl("ProductColorList",this.setExistingColor(t&&t.ProductColorList?t.ProductColorList:""))}setExistingColor(t){const r=new l.Oe([]);return t.forEach(i=>{r.push(this.fb.group({id:i.groupId,colorName:i.colorName,ColorCode:i.ColorCode}))}),r}colorItems(){return this.fb.group({id:[""],colorName:["",[l.kI.required]],ColorCode:["",[l.kI.required]]})}getColorForm(t){return t.get("ProductColorList").controls}addColorFields(){this.colors=this.form.get("ProductColorList"),this.colors.push(this.colorItems())}removeColorRows(t){const r=this.form.get("ProductColorList");r.at(t),r.removeAt(t)}submit(t){this.form.valid?this.isSubmitted||(this.isSubmitted=!0,this.isLoader=!0,this.resetErrors(),this.colorService.updateColorGroup({mode:"edit",productColorGroup:t}).subscribe(i=>{this.colorResponse(i)},i=>{this.errorbody=i,this.colorError(this.errorbody.message)})):this.isSubmitting=!0}colorResponse(t){if(t&&"ok"===t.status){this.isSubmitted=!1,this.isLoader=!1,this.successMessage="Color updated successfully.";const r=this;setTimeout(()=>{r.router.navigate(["/pages/masters/color-info/color/list"]),r.successMessage=void 0},2500)}else{this.isSubmitted=!1,this.isLoader=!1,this.errorMessage="Something went wrong!";const r=this;setTimeout(()=>{r.errorMessage=void 0},2500)}}colorError(t){this.isSubmitted=!1,this.isLoader=!1,this.errorMessage=t;const r=this;setTimeout(()=>{r.errorMessage=void 0},5500)}resetErrors(){this.errorMessage=void 0,this.errors=[]}reset(){this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.qu),o.Y36(a.F0),o.Y36(a.gz),o.Y36(_.Dx),o.Y36(p))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-color-view"]],decls:21,vars:4,consts:[[1,"sticky-top","row"],[1,"col-md-4"],[1,"col-md-8"],[1,"row","pull-right",2,"height","40px"],["type","button","routerLink","/pages/masters/color/list",1,"btn","btn-info",2,"font-size","12px"],[1,"container"],[1,"row"],[1,"col-sm-8","col-md-10"],[1,"card",2,"margin-top","10px"],[1,"card-header"],[1,"perfect__scrollbar",2,"height","calc(100vh - 32vh)"],[1,"card-body",2,"max-height","440px !important"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"col-sm-12"],[1,"preloader","lms_loader"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","cgroup"],["type","text","id","cgroup","placeholder","Color Group","formControlName","groupName","readonly","",1,"form-control"],["class","has-error",4,"ngIf"],[1,"col-sm-5","col-md-5"],["for","colorName"],[1,"col-sm-6","col-md-6"],["for","colorCode"],["formArrayName","ProductColorList"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-sm-12","mb-3","text-center"],[1,"has-error"],[4,"ngIf"],[1,"row",3,"formGroupName"],[1,"",3,"ngClass"],["type","text","id","colorName","placeholder","Color Name","formControlName","colorName","readonly","",1,"form-control"],["type","text","id","colorCode","placeholder","Color Code","formControlName","ColorCode","readonly","",1,"form-control"],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],["type","button","disabled","",1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h5"),o._uU(3,"Color Master"),o.qZA()(),o.TgZ(4,"div",2)(5,"div",3)(6,"button",4),o._uU(7,"Back"),o.qZA()()()(),o.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h5"),o._uU(14,"View Color Group"),o.qZA()(),o.TgZ(15,"perfect-scrollbar",10)(16,"div",11),o.YNc(17,y,2,1,"div",12),o.YNc(18,A,2,1,"div",13),o.YNc(19,M,3,0,"div",14),o.YNc(20,V,21,4,"form",15),o.qZA()()()()()()),2&t&&(o.xp6(17),o.Q6J("ngIf",r.successMessage),o.xp6(1),o.Q6J("ngIf",r.errorMessage),o.xp6(1),o.Q6J("ngIf",r.isDataLoader),o.xp6(1),o.Q6J("ngIf",!r.isDataLoader))},dependencies:[m.mk,m.sg,m.O5,a.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,g.Vv],styles:[".close[_ngcontent-%COMP%]{margin:0;top:8px;right:10px;position:absolute;z-index:999}label[_ngcontent-%COMP%]{font-weight:700}input[_ngcontent-%COMP%]{height:4vh;font-size:14px}.btn-sm[_ngcontent-%COMP%]{font-size:14px;line-height:13px}"]}),e})(),H=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-color"]],decls:1,vars:0,template:function(t,r){1&t&&o._UZ(0,"router-outlet")},dependencies:[a.lC]}),e})();var R=d(23815),f=d(64298),h=d(67311);let B=(()=>{class e{transform(t,r){if(t)return r?t.filter(i=>{const s=r.replace(/[^A-Z0-9]/gi,"").toLowerCase(),c=i.GroupName?i.GroupName.replace(/[^A-Z0-9]/gi,"").toLowerCase():"",u=i.PHONE?i.PHONE:"";if(-1!==c.indexOf(s)||-1!==u.indexOf(s))return i}):t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"searchData",type:e,pure:!1}),e})();const z=["genericGrid"];function j(e,n){1&e&&(o.TgZ(0,"div",9),o._UZ(1,"div",10),o.qZA())}function $(e,n){if(1&e&&(o.TgZ(0,"div",26),o._uU(1),o.qZA()),2&e){const t=o.oxw(2);o.xp6(1),o.hij(" ",t.errorMessage," ")}}function K(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"tr")(1,"td",28),o._uU(2),o.qZA(),o.TgZ(3,"td",29),o._uU(4),o.qZA(),o.TgZ(5,"td",30)(6,"button",31),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(3);return o.KtG(c.viewColor(s))}),o._uU(7,"View"),o.qZA(),o.TgZ(8,"a",32),o._uU(9,"Edit"),o.qZA(),o.TgZ(10,"button",33),o.NdJ("click",function(){const s=o.CHM(t).$implicit,c=o.oxw(3);return o.KtG(c.deleteColor(s))}),o._uU(11,"Delete"),o.qZA()()()}if(2&e){const t=n.$implicit,r=n.index;o.xp6(2),o.Oqu(r+1),o.xp6(2),o.Oqu(null==t?null:t.GroupName),o.xp6(2),o.MGl("routerLink","/pages/masters/color/view/",null==t?null:t.Id,""),o.xp6(2),o.MGl("routerLink","/pages/masters/color/edit/",null==t?null:t.Id,"")}}const X=function(e,n,t){return{itemsPerPage:e,currentPage:n,totalItems:t}};function W(e,n){if(1&e&&(o.ynx(0),o.YNc(1,K,12,4,"tr",27),o.ALo(2,"paginate"),o.ALo(3,"searchData"),o.BQk()),2&e){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.xi3(2,1,o.xi3(3,4,t.colorLists,t.filter),o.kEZ(7,X,t.itemsPerPage,t.currentPage,t.totalCount)))}}function oo(e,n){1&e&&(o.ynx(0),o.TgZ(1,"tr")(2,"td",34)(3,"div",35),o._uU(4,"Color Group Information are unavailable."),o.qZA()()(),o.BQk())}function to(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"div",36)(1,"div",37)(2,"pagination-controls",38),o.NdJ("pageChange",function(i){o.CHM(t);const s=o.oxw(2);return o.KtG(s.colorPagination(i))}),o.qZA()()()}}function eo(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"span"),o._uU(4,"Color Group Lists"),o.qZA(),o.TgZ(5,"div",14)(6,"input",15),o.NdJ("ngModelChange",function(i){o.CHM(t);const s=o.oxw();return o.KtG(s.filter=i)}),o.qZA()()(),o.TgZ(7,"div",16),o.YNc(8,$,2,1,"div",17),o.TgZ(9,"table",18)(10,"thead")(11,"tr",19)(12,"th",20),o._uU(13,"S.N."),o.qZA(),o.TgZ(14,"th",21),o._uU(15,"Group Name"),o.qZA(),o.TgZ(16,"th",22),o._uU(17,"Action"),o.qZA()()(),o.TgZ(18,"tbody"),o.YNc(19,W,4,11,"ng-container",23),o.YNc(20,oo,5,0,"ng-container",23),o.ALo(21,"searchData"),o.qZA()()(),o.TgZ(22,"div",24),o.YNc(23,to,3,0,"div",25),o.ALo(24,"searchData"),o.qZA()()()}if(2&e){const t=o.oxw();o.xp6(6),o.Q6J("ngModel",t.filter),o.xp6(2),o.Q6J("ngIf",t.errorMessage),o.xp6(11),o.Q6J("ngIf",t.colorLists&&t.colorLists.length>0),o.xp6(1),o.Q6J("ngIf",t.colorLists&&0===o.xi3(21,5,t.colorLists,t.filter).length),o.xp6(3),o.Q6J("ngIf",t.colorLists&&o.xi3(24,8,t.colorLists,t.filter).length>t.itemsPerPage)}}function ro(e,n){if(1&e&&o._UZ(0,"app-color-View",39),2&e){const t=o.oxw();o.Q6J("selectedViewColor",t.selectedViewColor)}}let b=(()=>{class e{constructor(t,r,i,s){this.router=t,this.title=r,this.colorService=i,this.alertService=s,this.isLoader=!0,this.currentPage=1,this.itemsPerPage=100,this.offset=0,this.imsGridSettings=new f.U5,this.imsGridSettings={title:"Cost Center",apiEndpoints:"/getAllProductColorGroup",pageSize:10,showActionButton:!0,columns:[{key:"GroupName",title:"Group Name",hidden:!1,noSearch:!1,type:"string"}],actionKeys:[{text:"Edit",title:"Edit",icon:"fa fa-edit",type:f.Dw.EDIT},{text:"View",title:"View",icon:"fa fa-eye",type:f.Dw.VIEW},{text:"Delete",title:"Delete",icon:"fa fa-eye",type:f.Dw.VIEW}]},this.title.setTitle("Color Group Lists | IMS POS")}updown(t){"Escape"===t.code&&(t.preventDefault(),this.router.navigate(["./pages/dashboard"]))}ngOnInit(){this.colorService.getColorGroup().subscribe(t=>{t&&"ok"===t.status?(this.isLoader=!1,this.colorLists=t&&t.result?t.result:[]):(this.isLoader=!1,this.colorLists=[],this.errorMessage="Something went wrong.")},t=>{this.isLoader=!1,this.colorLists=[],this.errorMessage="Something went wrong."})}colorPagination(t){this.isLoader=!0,this.currentPage=t;const r=this;window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{r.isLoader=!1},500)}deleteColor(t){confirm("Are you sure you want to delete "+t.GroupName+" ?")&&this.colorService.deleteColorGroup(t.Id).subscribe(r=>{"ok"==r.status?(this.alertService.info(r.result),this.colorService.getColorGroup().subscribe(i=>{i&&"ok"===i.status?(this.isLoader=!1,this.colorLists=i&&i.result?i.result:[]):(this.isLoader=!1,this.colorLists=[],this.errorMessage="Something went wrong.")})):this.alertService.info(r.result.error)},r=>{this.alertService.info(r.error)})}removeColor(t){R.remove(this.colorLists,r=>r.Id===t)}viewColor(t){this.selectedViewColor=void 0,this.colorService.getSingleColorGroupById(t&&t.Id?t.Id:"").subscribe(i=>{if(i&&"ok"===i.status&&null!==i.result)this.selectedViewColor=i&&i.result?i.result:void 0;else{this.selectedViewColor=void 0,this.errorMessage="Cannot get color group details.";const s=this;setTimeout(()=>{s.errorMessage=void 0},2500)}},i=>{this.selectedViewColor=void 0,this.errorMessage="Cannot get color group details.";const s=this;setTimeout(()=>{s.errorMessage=void 0},2500)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(a.F0),o.Y36(_.Dx),o.Y36(p),o.Y36(h.c))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-color-list"]],viewQuery:function(t,r){if(1&t&&o.Gf(z,5),2&t){let i;o.iGM(i=o.CRH())&&(r.genericGrid=i.first)}},hostBindings:function(t,r){1&t&&o.NdJ("keydown",function(s){return r.updown(s)},!1,o.evT)},decls:13,vars:3,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],["routerLink","/pages/masters/color/add",1,"btn","btn-success","pull-right","btn-info",2,"font-size","12px"],[1,"row",2,"align-items","center"],["class","col-sm-8","style","margin-top: 0.5rem;",4,"ngIf"],["class","col-sm-8 col-md-12",4,"ngIf"],[3,"selectedViewColor",4,"ngIf"],[1,"col-sm-8",2,"margin-top","0.5rem"],[1,"preloader","pds_loader"],[1,"col-sm-8","col-md-12"],[1,"card",2,"margin","auto","width","63rem"],[1,"card-header"],[2,"width","25%"],["type","search","placeholder","Search...","name","filter",1,"form-control",2,"height","1.5rem",3,"ngModel","ngModelChange"],[1,"card-body"],["class","alert alert-danger",4,"ngIf"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col",2,"width","5%"],["scope","col",2,"width","70%"],["scope","col",2,"text-align","center","width","20%"],[4,"ngIf"],["classs","card-footer"],["class","pagination",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[2,"width","5%"],[2,"width","70%"],[2,"text-align","center","width","20%"],["type","button","data-toggle","modal","data-target","#viewcolor-dialog",1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px",3,"routerLink","click"],[1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px",3,"routerLink"],["type","button","data-toggle","modal","data-target","#delete-color",1,"btn","btn-sm","btn-info","btn-sm",2,"width","60px",3,"click"],["colspan","3"],[1,"font-weight-bold"],[1,"pagination"],[2,"margin","auto"],[1,"my-pagination",3,"pageChange"],[3,"selectedViewColor"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h5"),o._uU(3,"Color Master"),o.qZA()(),o.TgZ(4,"div",2)(5,"button",3),o._uU(6,"Back"),o.qZA(),o.TgZ(7,"a",4),o._uU(8,"Create Color Group"),o.qZA()()(),o.TgZ(9,"div",5),o.YNc(10,j,2,0,"div",6),o.YNc(11,eo,25,11,"div",7),o.qZA(),o.YNc(12,ro,1,1,"app-color-View",8)),2&t&&(o.xp6(10),o.Q6J("ngIf",r.isLoader),o.xp6(1),o.Q6J("ngIf",!r.isLoader),o.xp6(1),o.Q6J("ngIf",r.selectedViewColor))},dependencies:[m.sg,m.O5,a.rH,a.yS,l.Fj,l.JJ,l.On,C.LS,C._s,B],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:455px!important}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:59vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#17a2b8!important;border:transparent!important;border-radius:20px!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover{background:#74d4e2!important;border-radius:20px!important;border:transparent!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#c2c2c2;border-radius:20px!important}"]}),e})();const io=["colorname"];function no(e,n){if(1&e&&(o.TgZ(0,"div",26),o._uU(1),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.hij(" ",t.successMessage," ")}}function so(e,n){if(1&e&&(o.TgZ(0,"div",27),o._uU(1),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.hij(" ",t.errorMessage," ")}}function lo(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Group name is required."),o.qZA())}function co(e,n){if(1&e&&(o.TgZ(0,"div",28),o.YNc(1,lo,2,0,"small",29),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.form.controls.groupName.errors.required)}}function ao(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Group name is required."),o.qZA())}function mo(e,n){if(1&e&&(o.TgZ(0,"div",28),o.YNc(1,ao,2,0,"small",29),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.form.controls.groupName.errors.required)}}function uo(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color name is required."),o.qZA())}function po(e,n){if(1&e&&(o.TgZ(0,"div",28),o.YNc(1,uo,2,0,"small",29),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.colorName.errors.required)}}function go(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color name is required."),o.qZA())}function _o(e,n){if(1&e&&(o.TgZ(0,"div",28),o.YNc(1,go,2,0,"small",29),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.colorName.errors.required)}}function fo(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color code is required."),o.qZA())}function Co(e,n){if(1&e&&(o.TgZ(0,"div",28),o.YNc(1,fo,2,0,"small",29),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.colorCode.errors.required)}}function ho(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color code is required."),o.qZA())}function vo(e,n){if(1&e&&(o.TgZ(0,"div",28),o.YNc(1,ho,2,0,"small",29),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.colorCode.errors.required)}}function xo(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"div",37)(1,"div",16)(2,"button",38),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().index,s=o.oxw();return o.KtG(s.removeColorRows(i))}),o._uU(3,"Delete"),o.qZA()()()}}function bo(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"div",30)(1,"div",31)(2,"div",16)(3,"input",32,33),o.NdJ("keydown.enter",function(){o.CHM(t);const i=o.MAs(10);return o.KtG(i.focus())}),o.qZA(),o.YNc(5,po,2,1,"div",19),o.YNc(6,_o,2,1,"div",19),o.qZA()(),o.TgZ(7,"div",31)(8,"div",16)(9,"input",34,35),o.NdJ("keydown.enter",function(){const s=o.CHM(t).index,c=o.oxw();return o.KtG(c.addColorFields(s))}),o.qZA(),o.YNc(11,Co,2,1,"div",19),o.YNc(12,vo,2,1,"div",19),o.qZA()(),o.YNc(13,xo,4,0,"div",36),o.qZA()}if(2&e){const t=n.$implicit,r=n.index,i=o.oxw();o.Q6J("formGroupName",r),o.xp6(1),o.Q6J("ngClass","col-sm-5"),o.xp6(2),o.MGl("id","colorname",r,""),o.xp6(2),o.Q6J("ngIf",!i.isSubmitting&&t.controls.colorName.invalid&&(t.controls.colorName.dirty||t.controls.colorName.touched)),o.xp6(1),o.Q6J("ngIf",i.isSubmitting&&t.controls.colorName.invalid),o.xp6(1),o.Q6J("ngClass","col-sm-5"),o.xp6(2),o.MGl("id","colorCode",r,""),o.xp6(2),o.Q6J("ngIf",!i.isSubmitting&&t.controls.colorCode.invalid&&(t.controls.colorCode.dirty||t.controls.colorCode.touched)),o.xp6(1),o.Q6J("ngIf",i.isSubmitting&&t.controls.colorCode.invalid),o.xp6(1),o.Q6J("ngIf",i.form.controls.productColorList.controls.length>1)}}const To=["colorName"];function wo(e,n){if(1&e&&(o.TgZ(0,"div",18),o._uU(1),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.hij(" ",t.successMessage," ")}}function No(e,n){if(1&e&&(o.TgZ(0,"div",19),o._uU(1),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.hij(" ",t.errorMessage," ")}}function yo(e,n){1&e&&(o.TgZ(0,"div",8)(1,"div",20),o._UZ(2,"div",21),o.qZA()())}function Ao(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Group name is required."),o.qZA())}function Mo(e,n){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,Ao,2,0,"small",34),o.qZA()),2&e){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.GroupName.errors.required)}}function qo(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Group name is required."),o.qZA())}function Io(e,n){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,qo,2,0,"small",34),o.qZA()),2&e){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.form.controls.GroupName.errors.required)}}function So(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color name is required."),o.qZA())}function Lo(e,n){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,So,2,0,"small",34),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.colorName.errors.required)}}function Go(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color name is required."),o.qZA())}function Po(e,n){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,Go,2,0,"small",34),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.colorName.errors.required)}}function Jo(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color code is required."),o.qZA())}function Oo(e,n){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,Jo,2,0,"small",34),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.ColorCode.errors.required)}}function Eo(e,n){1&e&&(o.TgZ(0,"small"),o._uU(1,"Color code is required."),o.qZA())}function Qo(e,n){if(1&e&&(o.TgZ(0,"div",33),o.YNc(1,Eo,2,0,"small",34),o.qZA()),2&e){const t=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",t.controls.ColorCode.errors.required)}}function Yo(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"div",42)(1,"div",22)(2,"button",43),o.NdJ("click",function(){o.CHM(t);const i=o.oxw().index,s=o.oxw(2);return o.KtG(s.removeColorRows(i))}),o._uU(3,"Delete"),o.qZA()()()}}function Uo(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"div",35)(1,"div",36)(2,"div",22)(3,"input",37,38),o.NdJ("keydown.enter",function(){o.CHM(t);const i=o.MAs(10);return o.KtG(i.focus())}),o.qZA(),o.YNc(5,Lo,2,1,"div",25),o.YNc(6,Po,2,1,"div",25),o.qZA()(),o.TgZ(7,"div",36)(8,"div",22)(9,"input",39,40),o.NdJ("keydown.enter",function(){const s=o.CHM(t).index,c=o.oxw(2);return o.KtG(c.addColorFields(s))})("keydown.tab",function(){const s=o.CHM(t).index,c=o.oxw(2);return o.KtG(c.addColorFields(s))}),o.qZA(),o.YNc(11,Oo,2,1,"div",25),o.YNc(12,Qo,2,1,"div",25),o.qZA()(),o.YNc(13,Yo,4,0,"div",41),o.qZA()}if(2&e){const t=n.$implicit,r=n.index,i=o.oxw(2);o.Q6J("formGroupName",r),o.xp6(1),o.Q6J("ngClass",i.form.controls.ProductColorList.controls.length>1?"col-sm-5":"col-sm-6"),o.xp6(2),o.MGl("id","colorName",r,""),o.xp6(2),o.Q6J("ngIf",!i.isSubmitting&&t.controls.colorName.invalid&&(t.controls.colorName.dirty||t.controls.colorName.touched)),o.xp6(1),o.Q6J("ngIf",i.isSubmitting&&t.controls.colorName.invalid),o.xp6(1),o.Q6J("ngClass",i.form.controls.ProductColorList.controls.length>1?"col-sm-5":"col-sm-6"),o.xp6(2),o.MGl("id","ColorCode",r,""),o.xp6(2),o.Q6J("ngIf",!i.isSubmitting&&t.controls.ColorCode.invalid&&(t.controls.ColorCode.dirty||t.controls.ColorCode.touched)),o.xp6(1),o.Q6J("ngIf",i.isSubmitting&&t.controls.ColorCode.invalid),o.xp6(1),o.Q6J("ngIf",i.form.controls.ProductColorList.controls.length>1)}}function ko(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"form",4),o.NdJ("ngSubmit",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.submit(i.form.value))}),o.TgZ(1,"div",8)(2,"div",20)(3,"div",22)(4,"label",23),o._uU(5,"Color Group"),o.qZA(),o._UZ(6,"input",24),o.YNc(7,Mo,2,1,"div",25),o.YNc(8,Io,2,1,"div",25),o.qZA()()(),o.TgZ(9,"div",8)(10,"div",20)(11,"h5",26),o._uU(12,"Colors"),o.qZA()()(),o.TgZ(13,"div",8)(14,"div",27)(15,"label",28),o._uU(16,"Color Name"),o.qZA()(),o.TgZ(17,"div",29)(18,"label",30),o._uU(19,"Color Code"),o.qZA()()(),o.ynx(20,31),o.YNc(21,Uo,14,10,"div",32),o.BQk(),o.qZA()}if(2&e){const t=o.oxw();o.Q6J("formGroup",t.form),o.xp6(7),o.Q6J("ngIf",!t.isSubmitting&&t.form.controls.GroupName.invalid&&(t.form.controls.GroupName.dirty||t.form.controls.GroupName.touched)),o.xp6(1),o.Q6J("ngIf",t.isSubmitting&&t.form.controls.GroupName.invalid),o.xp6(13),o.Q6J("ngForOf",t.getColorForm(t.form))}}const Fo=[{path:"",component:H,children:[{path:"",component:b,pathMatch:"full"},{path:"list",component:b},{path:"add",component:(()=>{class e{constructor(t,r,i,s,c){this.fb=t,this.router=r,this.title=i,this.colorService=s,this.alertService=c,this.isSubmitting=!1,this.isLoader=!1,this.errors=[],this.isSubmitted=!1,this.title.setTitle("Add Color Group | IMS POS")}updown(t){if("Escape"===t.code&&(t.preventDefault(),this.router.navigate(["./pages/masters/color/list"])),"F6"===t.code){if(t.preventDefault(),!this.form.valid)return;this.submit(this.form.value)}}ngOnInit(){this.formInit()}formInit(){this.form=this.fb.group({groupName:["",[l.kI.required]],productColorList:this.fb.array([this.colorItems()])})}colorItems(){return this.fb.group({colorName:["",[l.kI.required]],colorCode:["",[l.kI.required]]})}getColorForm(t){return t.get("productColorList").controls}addColorFields(t){this.colors=this.form.get("productColorList"),this.colors.push(this.colorItems());let r=t+1;setTimeout(()=>{document.getElementById("colorname"+r).focus()},20)}removeColorRows(t){const r=this.form.get("productColorList");r.at(t),r.removeAt(t)}submit(t){this.form.valid?this.isSubmitted||(this.isSubmitted=!0,this.isLoader=!0,this.resetErrors(),this.colorService.postColorGroup({mode:"New",productColorGroup:t}).subscribe(i=>{this.colorResponse(i)},i=>{this.alertService.info(i.error.result),this.isSubmitted=!1})):this.isSubmitting=!0}colorResponse(t){if(t&&"ok"===t.status){this.isSubmitted=!1,this.isLoader=!1,this.reset(),this.alertService.hide(),this.successMessage="Color added successfully.",this.router.navigate(["./pages/masters/color/list"]);const r=this;setTimeout(()=>{r.successMessage=void 0},2500)}else{this.isSubmitted=!1,this.isLoader=!1,this.errorMessage="Something went wrong!";const r=this;setTimeout(()=>{r.errorMessage=void 0},2500)}}colorError(t){this.isSubmitted=!1,this.isLoader=!1,this.errorMessage="Something went wrong!";const r=this;setTimeout(()=>{r.errorMessage=void 0},2500)}resetErrors(){this.errorMessage=void 0,this.errors=[]}reset(){this.form.reset()}focuscolor(){this.colorname.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.qu),o.Y36(a.F0),o.Y36(_.Dx),o.Y36(p),o.Y36(h.c))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-color-add"]],viewQuery:function(t,r){if(1&t&&o.Gf(io,5),2&t){let i;o.iGM(i=o.CRH())&&(r.colorname=i.first)}},hostBindings:function(t,r){1&t&&o.NdJ("keydown",function(s){return r.updown(s)},!1,o.evT)},decls:39,vars:8,consts:[[1,"sticky-top","row"],[1,"col-md-4"],[1,"col-md-8"],[1,"row","pull-right","mx-2"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-info",2,"font-size","12px",3,"disabled"],["type","button","routerLink","/pages/masters/color/list",1,"btn","btn-info",2,"font-size","12px"],[1,"container"],[1,"row"],[1,"col-sm-8","col-md-10"],[1,"card",2,"margin-top","10px"],[1,"card-header"],[1,"card-body",2,"max-height","25rem !important","overflow-y","scroll"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-sm-12"],[1,"form-group"],["for","cgroup"],["type","text","id","cgroup","placeholder","Color Group","formControlName","groupName","autocomplete","off",1,"form-control",3,"keydown.enter"],["class","has-error",4,"ngIf"],[1,"col-sm-5","col-md-5"],["for","colorname"],[1,"col-sm-6","col-md-6"],["for","colorCode"],["formArrayName","productColorList"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"has-error"],[4,"ngIf"],[1,"row",3,"formGroupName"],[1,"",3,"ngClass"],["type","text","placeholder","Color Name","formControlName","colorName","autocomplete","off",1,"form-control",3,"id","keydown.enter"],["colorname",""],["type","text","placeholder","Color Code","formControlName","colorCode","autocomplete","off",1,"form-control",3,"id","keydown.enter"],["colorcode",""],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h5"),o._uU(3,"Color Master"),o.qZA()(),o.TgZ(4,"div",2)(5,"div",3)(6,"form",4),o.NdJ("ngSubmit",function(){return r.submit(r.form.value)}),o.TgZ(7,"button",5),o._uU(8,"Save"),o.qZA(),o.TgZ(9,"button",6),o._uU(10,"Back"),o.qZA()()()()(),o.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h5"),o._uU(17,"Create Color Group"),o.qZA()(),o.TgZ(18,"div",12),o.YNc(19,no,2,1,"div",13),o.YNc(20,so,2,1,"div",14),o.TgZ(21,"form",4),o.NdJ("ngSubmit",function(){return r.submit(r.form.value)}),o.TgZ(22,"div",8)(23,"div",15)(24,"div",16)(25,"label",17),o._uU(26,"Color Group"),o.qZA(),o.TgZ(27,"input",18),o.NdJ("keydown.enter",function(){return r.focuscolor()}),o.qZA(),o.YNc(28,co,2,1,"div",19),o.YNc(29,mo,2,1,"div",19),o.qZA()()(),o.TgZ(30,"div",8)(31,"div",20)(32,"label",21),o._uU(33,"Color Name"),o.qZA()(),o.TgZ(34,"div",22)(35,"label",23),o._uU(36,"Color Code"),o.qZA()()(),o.ynx(37,24),o.YNc(38,bo,14,10,"div",25),o.BQk(),o.qZA()()()()()()),2&t&&(o.xp6(6),o.Q6J("formGroup",r.form),o.xp6(1),o.Q6J("disabled",!r.form.valid),o.xp6(12),o.Q6J("ngIf",r.successMessage),o.xp6(1),o.Q6J("ngIf",r.errorMessage),o.xp6(1),o.Q6J("formGroup",r.form),o.xp6(7),o.Q6J("ngIf",!r.isSubmitting&&r.form.controls.groupName.invalid&&(r.form.controls.groupName.dirty||r.form.controls.groupName.touched)),o.xp6(1),o.Q6J("ngIf",r.isSubmitting&&r.form.controls.groupName.invalid),o.xp6(9),o.Q6J("ngForOf",r.getColorForm(r.form)))},dependencies:[m.mk,m.sg,m.O5,a.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE],styles:["form[_ngcontent-%COMP%]{margin-bottom:20px}.has-error[_ngcontent-%COMP%]{color:red}.btn-submit[_ngcontent-%COMP%]{width:120px;display:flex;justify-content:center;align-items:center}.mr-1[_ngcontent-%COMP%]{margin-right:10px}.mb-1[_ngcontent-%COMP%]{margin-bottom:10px}.mb-2[_ngcontent-%COMP%]{margin-bottom:20px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.font-14[_ngcontent-%COMP%]{font-size:14px}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.mb-0[_ngcontent-%COMP%]{margin-bottom:0;margin-top:30px}.card-body[_ngcontent-%COMP%]{max-height:100vh!important}.card-body[_ngcontent-%COMP%]{padding-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700}input[_ngcontent-%COMP%]{height:4vh;font-size:14px}.btn-sm[_ngcontent-%COMP%]{font-size:14px;line-height:13px}"]}),e})()},{path:"edit/:id",component:(()=>{class e{constructor(t,r,i,s,c,u){this.fb=t,this.router=r,this.route=i,this.title=s,this.colorService=c,this.alertService=u,this.isSubmitting=!1,this.isDataLoader=!0,this.isLoader=!1,this.errors=[],this.isSubmitted=!1,this.title.setTitle("Color Master Edit | IMS POS"),this.formInit()}ngOnInit(){this.subscribeData=this.route.params.subscribe(t=>{t.id||this.router.navigate(["/pages/masters/color/list"]),this.colorId=t&&t.id?t.id:"",this.colorService.getSingleColorGroupById(this.colorId).subscribe(r=>{this.singleColorData(r)},r=>{this.singleColorError(r)})})}singleColorData(t){if(t&&"ok"===t.status&&null!==t.result)this.isDataLoader=!1,this.selectedEditColor=t&&t.result?t.result:void 0,this.formReset(this.selectedEditColor);else{this.isDataLoader=!1,this.selectedEditColor=void 0,this.errorMessage="Cannot get color group details.";const r=this;setTimeout(()=>{r.router.navigate(["/pages/masters/color/list"]),r.errorMessage=void 0},2500)}}singleColorError(t){this.isDataLoader=!1,this.selectedEditColor=void 0,this.errorMessage="Cannot get color group details.";const r=this;setTimeout(()=>{r.router.navigate(["/pages/masters/color/list"]),r.errorMessage=void 0},2500)}ngOnDestroy(){this.subscribeData.unsubscribe()}formInit(){this.form=this.fb.group({id:[""],GroupName:["",[l.kI.required]],ProductColorList:this.fb.array([this.colorItems()])})}formReset(t){this.form.patchValue({GroupName:t.GroupName?t.GroupName:"",id:t.Id?t.Id:""}),this.form.setControl("ProductColorList",this.setExistingColor(t&&t.ProductColorList?t.ProductColorList:""))}setExistingColor(t){const r=new l.Oe([]);return t.forEach(i=>{r.push(this.fb.group({GroupId:i.GroupId,colorName:i.colorName,ColorCode:i.ColorCode}))}),r}colorItems(){return this.fb.group({GroupId:[""],colorName:["",[l.kI.required]],ColorCode:["",[l.kI.required]]})}getColorForm(t){return t.get("ProductColorList").controls}addColorFields(t){this.colorMaster.toArray()[t].nativeElement.focus(),this.colors=this.form.get("ProductColorList"),this.colors.push(this.colorItems());let r=t+1;setTimeout(()=>{document.getElementById("colorName"+r).focus()},20)}removeColorRows(t){const r=this.form.get("ProductColorList");r.at(t),r.removeAt(t)}submit(t){this.form.valid?this.isSubmitted||(this.isSubmitted=!0,this.isLoader=!0,this.resetErrors(),this.colorService.updateColorGroup({mode:"edit",ProductColorGroup:t}).subscribe(i=>{this.colorResponse(i)},i=>{this.errorbody=i,this.alertService.info(this.errorbody.error.message),this.isSubmitted=!1})):this.isSubmitting=!0}colorResponse(t){if(t&&"ok"===t.status)this.isSubmitted=!1,this.isLoader=!1,this.successMessage="Color updated successfully.",setTimeout(()=>{this.router.navigate(["/pages/masters/color/list"]),this.successMessage=void 0},2500);else{this.isSubmitted=!1,this.isLoader=!1,this.errorMessage="Something went wrong!";const r=this;setTimeout(()=>{r.errorMessage=void 0},2500)}}colorError(t){this.isSubmitted=!1,this.isLoader=!1,this.errorMessage=t;const r=this;setTimeout(()=>{r.errorMessage=void 0},5500)}resetErrors(){this.errorMessage=void 0,this.errors=[]}reset(){this.form.reset()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.qu),o.Y36(a.F0),o.Y36(a.gz),o.Y36(_.Dx),o.Y36(p),o.Y36(h.c))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-color-edit"]],viewQuery:function(t,r){if(1&t&&o.Gf(To,5),2&t){let i;o.iGM(i=o.CRH())&&(r.colorMaster=i)}},decls:24,vars:6,consts:[[1,"sticky-top","row"],[1,"col-md-4"],[1,"col-md-8"],[1,"row","pull-right",2,"height","40px"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-info",2,"font-size","12px",3,"disabled"],["type","button","routerLink","/pages/masters/color/list",1,"btn","btn-info",2,"font-size","12px"],[1,"container"],[1,"row"],[1,"col-sm-8","col-md-10"],[1,"card",2,"margin-top","10px"],[1,"card-header"],[1,"perfect__scrollbar",2,"height","calc(100vh - 39vh)"],[1,"card-body",2,"max-height","440px !important"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"col-sm-12"],[1,"preloader","lms_loader"],[1,"form-group"],["for","cgroup"],["type","text","id","cgroup","placeholder","Color Group","formControlName","GroupName",1,"form-control"],["class","has-error",4,"ngIf"],[2,"margin-right","10px"],[1,"col-sm-5","col-md-5"],["for","colorName"],[1,"col-sm-6","col-md-6"],["for","ColorCode"],["formArrayName","ProductColorList"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"has-error"],[4,"ngIf"],[1,"row",3,"formGroupName"],[1,"",3,"ngClass"],["type","text","placeholder","Color Name","formControlName","colorName",1,"form-control",3,"id","keydown.enter"],["colorName",""],["type","text","placeholder","Color Code","formControlName","ColorCode",1,"form-control",3,"id","keydown.enter","keydown.tab"],["ColorCode",""],["class","col-sm-2",4,"ngIf"],[1,"col-sm-2"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h5"),o._uU(3,"Color Master"),o.qZA()(),o.TgZ(4,"div",2)(5,"div",3)(6,"form",4),o.NdJ("ngSubmit",function(){return r.submit(r.form.value)}),o.TgZ(7,"button",5),o._uU(8,"Update"),o.qZA(),o.TgZ(9,"button",6),o._uU(10,"Cancel"),o.qZA()()()()(),o.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h5"),o._uU(17,"Edit Color Group"),o.qZA()(),o.TgZ(18,"perfect-scrollbar",12)(19,"div",13),o.YNc(20,wo,2,1,"div",14),o.YNc(21,No,2,1,"div",15),o.YNc(22,yo,3,0,"div",16),o.YNc(23,ko,22,4,"form",17),o.qZA()()()()()()),2&t&&(o.xp6(6),o.Q6J("formGroup",r.form),o.xp6(1),o.Q6J("disabled",r.isSubmitted),o.xp6(13),o.Q6J("ngIf",r.successMessage),o.xp6(1),o.Q6J("ngIf",r.errorMessage),o.xp6(1),o.Q6J("ngIf",r.isDataLoader),o.xp6(1),o.Q6J("ngIf",!r.isDataLoader))},dependencies:[m.mk,m.sg,m.O5,a.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,g.Vv],styles:["form[_ngcontent-%COMP%]{margin-bottom:20px}.has-error[_ngcontent-%COMP%]{color:red}.btn-submit[_ngcontent-%COMP%]{width:120px;display:flex;justify-content:center;align-items:center}.mr-1[_ngcontent-%COMP%]{margin-right:10px}.mb-1[_ngcontent-%COMP%]{margin-bottom:10px}.mb-2[_ngcontent-%COMP%]{margin-bottom:20px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.font-14[_ngcontent-%COMP%]{font-size:14px}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.mb-0[_ngcontent-%COMP%]{margin-bottom:0;margin-top:30px}.mb-0[_ngcontent-%COMP%]{right:0}.card-body[_ngcontent-%COMP%]{max-height:100vh!important}.card-body[_ngcontent-%COMP%]{padding-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700}input[_ngcontent-%COMP%]{height:4vh;font-size:14px}.btn-sm[_ngcontent-%COMP%]{font-size:14px;line-height:13px}"]}),e})()},{path:"view/:id",component:D}]}];let Vo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[a.Bz.forChild(Fo),a.Bz]}),e})();const Do={suppressScrollX:!1};let Ho=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[p,x.e,{provide:g.op,useValue:Do}],imports:[m.ez,Vo,l.u5,l.UX,C.JX,g.Xd,N.m,g.Xd]}),e})()}}]);