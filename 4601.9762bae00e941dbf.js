"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[4601],{57714:(re,Z,C)=>{Object.defineProperty(Z,"__esModule",{value:!0});var S=C(98439);Z.Observable=S.Observable},46056:(re,Z,C)=>{Object.defineProperty(Z,"__esModule",{value:!0}),function S(e){for(var V in e)Z.hasOwnProperty(V)||(Z[V]=e[V])}(C(57714))},71459:(re,Z,C)=>{C.d(Z,{J:()=>V});var S=C(20092),e=C(64537);let V=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[S.UX,S.u5]}),L})()},53158:(re,Z,C)=>{C.d(Z,{i:()=>G});var S=C(88692),e=C(72533),V=C(20092),L=C(64537);let G=(()=>{class x{static forRoot(){return{ngModule:x}}}return x.\u0275fac=function(ie){return new(ie||x)},x.\u0275mod=L.oAB({type:x}),x.\u0275inj=L.cJS({imports:[S.ez,V.u5,V.UX,e.JX]}),x})()},74601:(re,Z,C)=>{C.r(Z),C.d(Z,{ReportModule:()=>aT});var S=C(7976),e=C(64537);let V=(()=>{class n{constructor(){}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["report"]],decls:1,vars:0,template:function(r,t){1&r&&e._UZ(0,"router-outlet")},dependencies:[S.lC],encapsulation:2}),n})();var L=C(54536);function G(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"closing-stock",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function x(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"bill-wise-item-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ne(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-invoice-detail-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ie(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-order-detail-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function le(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"customer-wise-item-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Q(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"item-master",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function pe(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stock-settlement-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function y(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"item-scheme-master",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function w(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"itemwise-channel-margin",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function k(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-return-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function X(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-order-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function B(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-bill-cancel-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Y(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"customerwise-salesreturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function De(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"dailycollection-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ie(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"salesreturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ne(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"scheme-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ke(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-order-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function je(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ye(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-order-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Fe(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-return-summary",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function we(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"itemwisestockandsalessummary",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function We(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"result-purchaseregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Le(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"saleseregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ze(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"opening-stock",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function xe(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"mrp-change-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ue(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"audit-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ve(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchasereturn-summary-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Be(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"daily-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ye(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"vat-sales-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Je(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"annexure13report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function qe(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"vat-purchase-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ge(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"debitnote-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function He(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"creditnote-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Qe(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"one-lakh-above-SALES-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ze(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"one-lakh-above-purchase-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ke(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"account-ledger-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function $e(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-book-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Xe(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"salesreport-itemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function et(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-book-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function tt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchasereport-itemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function rt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-report-itemwise-detail",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function it(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-report-itemwise-detail",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ot(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"credit-notebook-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function nt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"debit-notebook-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function at(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-report-supplier-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function st(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-report-customer-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function lt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-report-supplier-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function pt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"SalesReportProductTypeWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ct(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"PurchaseReportCategoryWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function _t(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"PurchaseReportProductTypeWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function dt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"SalesReportCategoryWise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ht(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"salesregisterreport-dialog",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ut(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stock-summary-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function gt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"requisition-approval-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function St(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stock-ledger-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function mt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stock-valuation-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ot(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"membership-point-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function bt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"datereport",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Tt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"transreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function vt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"branch-transfer-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ft(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"item-expiry-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ct(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"maximum-stock-level-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function At(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"minimum-stock-level-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Pt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"reorder-level-stock-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Mt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stockabc-analysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Rt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"pricechange-log-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Et(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-profitabilityanalysis",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Dt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-order-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function It(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-order-outstanding",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Nt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"quotation-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function kt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"salesorderreport-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function jt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"salesorderoutstanding-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function yt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"currentstockwarehousewise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ft(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"grn-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function wt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"repack-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Wt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"requisition-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Lt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"rawdata-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Zt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stockageing-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function xt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"branch-transferout-vs-inreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ut(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stock-warehouse-wise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Vt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"consolidatedpurchase-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Bt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"consolidatedsales-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Yt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"consolidatedstock-reportbranchwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Jt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"branch-transfer-in-reportitemwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function qt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"branchtransferout-itemwise-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Gt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"salescollection-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Ht(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"opening-stock-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Qt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"rate-group-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function zt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"salesprice-changelog-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Kt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"opening-stock-report-selector",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function $t(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"VATSalesRegister-ReportNew",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Xt(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"vat-purchaseregisterreport-new",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function er(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stock-issue-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function tr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"creditnote-sales-return-register-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function rr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"debitnote-purchasereturn-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ir(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"vat-other-adjustment-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function or(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"shift-close-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function nr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"stock-variance-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ar(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-revenueanalysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function sr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-report-salesman-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function lr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-report-membership-wise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function pr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"proformainvoicereport",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function cr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"recurring-transaction-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function _r(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"recurring-transaction-analysis-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function dr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-flow-report-monthwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function hr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"purchase-flow-report-monthwise",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function ur(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"worsesales-analysisreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function gr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"topsales-analysisreport",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function Sr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"sales-revenue-metrics-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}function mr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"app-hourly-sales-report",1),e.NdJ("reportdataEmit",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportdataEmit(o))}),e.qZA()}}let me=(()=>{class n{constructor(r,t){this.dialogref=r,this.data=t,this.ReportParameters={},this.activeurlpath=t.activeurlpath,this.currentreportparam=t.reportparam}reportdataEmit(r){this.dialogref.close(r)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(L.so),e.Y36(L.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["masterdreportdialog"]],decls:110,vars:110,consts:[[3,"reportdataEmit",4,"ngIf"],[3,"reportdataEmit"]],template:function(r,t){1&r&&(e.YNc(0,G,1,0,"closing-stock",0),e.YNc(1,x,1,0,"bill-wise-item-sales-report",0),e.YNc(2,ne,1,0,"purchase-invoice-detail-report",0),e.YNc(3,ie,1,0,"purchase-order-detail-report",0),e.YNc(4,le,1,0,"customer-wise-item-sales-report",0),e.YNc(5,Q,1,0,"item-master",0),e.YNc(6,pe,1,0,"stock-settlement-report",0),e.YNc(7,y,1,0,"item-scheme-master",0),e.YNc(8,w,1,0,"itemwise-channel-margin",0),e.YNc(9,k,1,0,"purchase-return-report",0),e.YNc(10,X,1,0,"sales-order-report",0),e.YNc(11,B,1,0,"sales-bill-cancel-report",0),e.YNc(12,Y,1,0,"customerwise-salesreturn-report",0),e.YNc(13,De,1,0,"dailycollection-report",0),e.YNc(14,Ie,1,0,"salesreturn-report",0),e.YNc(15,Ne,1,0,"scheme-report",0),e.YNc(16,ke,1,0,"purchase-order-summary",0),e.YNc(17,je,1,0,"purchase-summary",0),e.YNc(18,ye,1,0,"sales-order-summary",0),e.YNc(19,Fe,1,0,"sales-return-summary",0),e.YNc(20,we,1,0,"itemwisestockandsalessummary",0),e.YNc(21,We,1,0,"result-purchaseregisterreport-dialog",0),e.YNc(22,Le,1,0,"saleseregisterreport-dialog",0),e.YNc(23,Ze,1,0,"opening-stock",0),e.YNc(24,xe,1,0,"mrp-change-report",0),e.YNc(25,Ue,1,0,"audit-report",0),e.YNc(26,Ve,1,0,"purchasereturn-summary-report",0),e.YNc(27,Be,1,0,"daily-sales-report",0),e.YNc(28,Ye,1,0,"vat-sales-register-report",0),e.YNc(29,Je,1,0,"annexure13report",0),e.YNc(30,qe,1,0,"vat-purchase-register-report",0),e.YNc(31,Ge,1,0,"debitnote-register-report",0),e.YNc(32,He,1,0,"creditnote-register-report",0),e.YNc(33,Qe,1,0,"one-lakh-above-SALES-report",0),e.YNc(34,ze,1,0,"one-lakh-above-purchase-report",0),e.YNc(35,Ke,1,0,"account-ledger-report",0),e.YNc(36,$e,1,0,"purchase-book-report",0),e.YNc(37,Xe,1,0,"salesreport-itemwise",0),e.YNc(38,et,1,0,"sales-book-report",0),e.YNc(39,tt,1,0,"purchasereport-itemwise",0),e.YNc(40,rt,1,0,"sales-report-itemwise-detail",0),e.YNc(41,it,1,0,"purchase-report-itemwise-detail",0),e.YNc(42,ot,1,0,"credit-notebook-report",0),e.YNc(43,nt,1,0,"debit-notebook-report",0),e.YNc(44,at,1,0,"purchase-report-supplier-wise",0),e.YNc(45,st,1,0,"sales-report-customer-wise",0),e.YNc(46,lt,1,0,"sales-report-supplier-wise",0),e.YNc(47,pt,1,0,"SalesReportProductTypeWise",0),e.YNc(48,ct,1,0,"PurchaseReportCategoryWise",0),e.YNc(49,_t,1,0,"PurchaseReportProductTypeWise",0),e.YNc(50,dt,1,0,"SalesReportCategoryWise",0),e.YNc(51,ht,1,0,"salesregisterreport-dialog",0),e.YNc(52,ut,1,0,"stock-summary-report",0),e.YNc(53,gt,1,0,"requisition-approval-report",0),e.YNc(54,St,1,0,"stock-ledger-report",0),e.YNc(55,mt,1,0,"stock-valuation-report",0),e.YNc(56,Ot,1,0,"membership-point-report",0),e.YNc(57,bt,1,0,"datereport",0),e.YNc(58,Tt,1,0,"transreport",0),e.YNc(59,vt,1,0,"branch-transfer-report",0),e.YNc(60,ft,1,0,"item-expiry-report",0),e.YNc(61,Ct,1,0,"maximum-stock-level-report",0),e.YNc(62,At,1,0,"minimum-stock-level-report",0),e.YNc(63,Pt,1,0,"reorder-level-stock-report",0),e.YNc(64,Mt,1,0,"stockabc-analysis-report",0),e.YNc(65,Rt,1,0,"pricechange-log-report",0),e.YNc(66,Et,1,0,"sales-profitabilityanalysis",0),e.YNc(67,Dt,1,0,"purchase-order-report",0),e.YNc(68,It,1,0,"purchase-order-outstanding",0),e.YNc(69,Nt,1,0,"quotation-report-selector",0),e.YNc(70,kt,1,0,"salesorderreport-selector",0),e.YNc(71,jt,1,0,"salesorderoutstanding-selector",0),e.YNc(72,yt,1,0,"currentstockwarehousewise-report",0),e.YNc(73,Ft,1,0,"grn-report-selector",0),e.YNc(74,wt,1,0,"repack-report-selector",0),e.YNc(75,Wt,1,0,"requisition-report-selector",0),e.YNc(76,Lt,1,0,"rawdata-report-selector",0),e.YNc(77,Zt,1,0,"stockageing-report-selector",0),e.YNc(78,xt,1,0,"branch-transferout-vs-inreport",0),e.YNc(79,Ut,1,0,"stock-warehouse-wise-report",0),e.YNc(80,Vt,1,0,"consolidatedpurchase-reportbranchwise",0),e.YNc(81,Bt,1,0,"consolidatedsales-reportbranchwise",0),e.YNc(82,Yt,1,0,"consolidatedstock-reportbranchwise",0),e.YNc(83,Jt,1,0,"branch-transfer-in-reportitemwise",0),e.YNc(84,qt,1,0,"branchtransferout-itemwise-report",0),e.YNc(85,Gt,1,0,"salescollection-selector",0),e.YNc(86,Ht,1,0,"opening-stock-report-selector",0),e.YNc(87,Qt,1,0,"rate-group-report",0),e.YNc(88,zt,1,0,"salesprice-changelog-report",0),e.YNc(89,Kt,1,0,"opening-stock-report-selector",0),e.YNc(90,$t,1,0,"VATSalesRegister-ReportNew",0),e.YNc(91,Xt,1,0,"vat-purchaseregisterreport-new",0),e.YNc(92,er,1,0,"stock-issue-report",0),e.YNc(93,tr,1,0,"creditnote-sales-return-register-report",0),e.YNc(94,rr,1,0,"debitnote-purchasereturn-report",0),e.YNc(95,ir,1,0,"vat-other-adjustment-report",0),e.YNc(96,or,1,0,"shift-close-report",0),e.YNc(97,nr,1,0,"stock-variance-report",0),e.YNc(98,ar,1,0,"sales-revenueanalysis-report",0),e.YNc(99,sr,1,0,"sales-report-salesman-wise",0),e.YNc(100,lr,1,0,"sales-report-membership-wise",0),e.YNc(101,pr,1,0,"proformainvoicereport",0),e.YNc(102,cr,1,0,"recurring-transaction-report",0),e.YNc(103,_r,1,0,"recurring-transaction-analysis-report",0),e.YNc(104,dr,1,0,"sales-flow-report-monthwise",0),e.YNc(105,hr,1,0,"purchase-flow-report-monthwise",0),e.YNc(106,ur,1,0,"worsesales-analysisreport",0),e.YNc(107,gr,1,0,"topsales-analysisreport",0),e.YNc(108,Sr,1,0,"sales-revenue-metrics-report",0),e.YNc(109,mr,1,0,"app-hourly-sales-report",0)),2&r&&(e.Q6J("ngIf","closingStock"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","billwiseitemsalesreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseinvoicedetailreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorderdetailreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","customerwiseitemsales"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemMasterreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stockSettlementreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemSchemeMasterreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemwisechannelmarginreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereturnreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorder"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesbillcancelreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","customerwisesalesreturnreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","dailycollectionreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreturnreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","schemereport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseordersummary"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasesummary"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesordersummary"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreturnsummary"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","itemwisestockandsalessummary"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseRegisterReport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesRegisterReport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","opening-stock-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","mrp-change-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","audit-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseReturnSummaryReport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","dailysalesreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatsalesregister"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","annexure13report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatpurchaseregister"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatdebitnoteregister"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","vatcreditnoteregister"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","onelakhsalesreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","onelakhpurchasereport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","accountledgerreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasebookreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-itemwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesbook-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-itemwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-itemwise-detail"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-itemwise-detail"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","creditnotebook-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","debitnotebook-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchasereport-supplierwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-customerwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-supplierwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","SalesReportProductTypeWise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","PurchaseReportCategoryWise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","PurchaseReportProductTypeWise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","SalesReportCategoryWise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","saleseregisterreport-dialog"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-summary-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","requisition-approval-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-ledger-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-valuation-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","membershippointreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","datereport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","transreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transfer-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","item-expiry-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","max-stocklevel-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","minimum-stocklevel-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","reorder-levelstock-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-abcanalysis-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","price-changelog-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesprofitability-analysis"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorderreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchaseorder-outstanding"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","quotationreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorderreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesorderoutstanding"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","currentstock-warehousewise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","grn-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","repack-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","requisition-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","raw-data-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stockageing-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transferout-vs-inreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-report-warehouse-wise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedpurchase-report-branchwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedsales-report-branchwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","consolidatedstock-report-branchwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transfer-inreport-itemwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","branch-transferout-itemwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-collection-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","openingstockreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","rate-group-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesprice-changelog-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","openingstock-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-saleseregisterreport-new"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-purchaseregisterreport-new"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-issue-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","credit-note-sales-return-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","debitnote-purchasereturn-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","vat-other-adjustment-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","shift-close-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","stock-variance-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesrevenue-analysisreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-salesmanwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","salesreport-membershipwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","proformainvoicereport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","recurring-transaction-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","recurring-transaction-analysis-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-flow-report-monthwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","purchase-flow-report-monthwise"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","worsesales-analysisreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","topnsales-analysisreport"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","sales-revenue-metrics-report"==t.activeurlpath),e.xp6(1),e.Q6J("ngIf","hourly-sales-report"==t.activeurlpath))},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var H=C(71732),z=C(79765);class Or{constructor(){this.show=!1}}class br{constructor(a,r,t){this.label=a,this.value=r,this.subject=t}}var Oe=C(74426),u=C(88692),be=C(49457),ce=C(23815),_e=C.n(ce),Tr=C(16738),E=C.n(Tr),b=C(53074),P=C(67297),j=C(92340),de=C(35732),vr=C(71180);let A=(()=>{class n{constructor(r,t,o){this.authService=r,this.http=t,this.state=o,this.reportLoadSubject=new z.xQ,this.assignPrevioiusDate=!1,this.ReportFilterObject={},this.AccoutLedgerObj={},this.StockSummaryObj={},this.PartyLedgerObj={},this.StockLedgerObj={},this.StockValuationObj={},this.SalesBookObj={},this.PurchaseBookObj={},this.CreditNoteObj={},this.DebitNoteObj={},this.SalesItemWiseObj={},this.PurchaseItemWiseObj={},this.RequisitionApprovalObj={},this.SalesItemWiseDetailObj={},this.PurchaseItemWiseDetailObj={},this.SalesCustomerWiseObj={},this.SalesCategoryWiseObj={},this.PurchaseCategoryWiseObj={},this.SalesProductTypeObj={},this.PurchaseProductTypeObj={},this.SalesSupplierWiseObj={},this.PurchaseSupplierWiseObj={},this.MembershipPointObj={},this.BranchTransferObj={},this.ItemExpiryObj={},this.MaximumStockLevelObj={},this.MinimumStockLevelObj={},this.ReorderLevelStockReport={},this.StockAbcAnalysisObj={},this.PriceChangeLogObj={},this.SalesProfitabilityAnalysisObj={},this.PurchaseOrderReportObj={},this.PurchaseOrderOutstandingObj={},this.QuotationReportObj={},this.SalesOrderReportObj={},this.SalesOrderOutstandingObj={},this.CurrentStockWarehousewiseObj={},this.GrnReportObj={},this.HourlySalesReportObj={},this.RepackReportObj={},this.RequisitionReportObj={},this.RawDataReportObj={},this.RecurringTransactionReportObj={},this.Annexure13ReportObj={},this.StockAgeingObj={},this.BranchtransferoutVsInObj={},this.StockWarehousewiseObj={},this.ConsolidtedPurchaseBranchWiseObj={},this.ConsolidtedSalesBranchWiseObj={},this.ConsolidtedStockBranchWiseObj={},this.BranchTransferInItemWiseObj={},this.BranchTransferOutItemwiseObj={},this.SalesCollectionObj={},this.ConsolidatedStockWarehousewiseObj={},this.OpeningStockObj={},this.RateGroupObj={},this.SalesPricechangeLogObj={},this.StockIssueObj={},this.VATSalesNewObj={},this.VATPurchaseNewObj={},this.CreditNoteSalesReturnObj={},this.DebitNotePurchaseReturnObj={},this.VatOtherAdjustmentObj={},this.ShiftCloseObj={},this.StockVarianceObj={},this.SalesRevenueAnalysisObj={},this.SalesReportSalesmanWiseObj={},this.SalesMembershipWiseObj={},this.ProformaInvoiceWiseObj={},this.RecurringTransactionAnalysisObj={},this.SalesFlowObj={},this.PurchaseFlowObj={},this.WorstSalesObj={},this.TopNSalesObj={},this.SalesRevenueMetricsObj={},this.TransactionLogObj={},this.SelectedAccount="",this.selectedAccountParty="",this.reportDataStore=[],this.previouslyLoadedReportList=[],this.drillParam={},this.reportDataStore=[]}exportReportFormat(r){return this.http.get(this.apiUrl+`/downloadReportFormat?reportName=${r}`)}importReportFormat(r){return this.http.get(this.apiUrl+`/resetReportFormatToDefault?reportName=${r}`)}saveExcelColumnFormate(r,t){let o={status:"error",result:""},i=new z.xQ;return new Headers({"Content-Type":"application/json"}),this.http.post(this.apiUrl+t,r).subscribe(c=>{const _=c;"ok"==_.status?(o.status="ok",o.result=_.result,i.next(o),i.unsubscribe()):(o.status="error1",o.result=_.result,i.next(o),i.unsubscribe())},c=>{o.status="error2",o.result=c,i.next(o),i.unsubscribe()}),i}getExcelColumnFormate(r){let t={status:"error",result:""},o=new z.xQ;return this.http.get(`${this.apiUrl}/getExcelColumnFormate/${r}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{t.status="error",t.result=i,o.next(t),o.unsubscribe()}),o}getItemImage(r){let t={status:"error",result:""},o=new z.xQ;return this.http.get(`${this.apiUrl}/getItemImage/${r}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{t.status="error",t.result=i,o.next(t),o.unsubscribe()}),o}get apiUrl(){let r=j.N.apiUrl,t="";return!!r&&r.length>0&&(t=r),t}saveReportColumnFormat(r,t){let o={status:"error",result:""},i=new z.xQ;return new Headers({"Content-Type":"application/json"}),this.http.post(this.apiUrl+t,r).subscribe(c=>{const _=c;"ok"==_.status?(o.status="ok",o.result=_.result,i.next(o),i.unsubscribe()):(o.status="error1",o.result=_.result,i.next(o),i.unsubscribe())},c=>{o.status="error2",o.result=c,i.next(o),i.unsubscribe()}),i}getReportColumnFormate(r){let t={status:"error",result:""},o=new z.xQ;return this.http.get(`${this.apiUrl}/getReportColumnFormate/${r}`).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{t.status="error",t.result=i,o.next(t),o.unsubscribe()}),o}drillDown(r,t=""){this.drillParam={},this.drillParam.reportparam={},this.drillParam.reportparam.mode="DRILL",this.drillParam.returnUrl=t}filterWarehouses(r,t){return"%"===t?r:r.filter(o=>o.DIVISION===t)}updateReportColumnFormat(r){return this.http.post(this.apiUrl+"/updateReportColumnFormat",r)}refreshReportColumnFormate(r,t){let o={status:"error",result:""},i=new z.xQ;return this.http.post(`${this.apiUrl}/refreshReportColumnFormate`,{reportname:r,reportparam:t}).subscribe(c=>{i.next(c),i.unsubscribe()},c=>{o.status="error",o.result=c,i.next(o),i.unsubscribe()}),i}}return n.\u0275fac=function(r){return new(r||n)(e.LFG(P.e),e.LFG(de.eN),e.LFG(vr.q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Te=C(14970),R=C(67311),v=C(87584),he=C(71800),ue=C(72533),s=C(20092);const fr=["modalcontainer"];function Cr(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"li")(1,"a",5),e.NdJ("click",function(){const i=e.CHM(r).$implicit,l=e.oxw();return e.KtG(l.callSubscriber(i))}),e._uU(2),e.qZA()()}if(2&n){const r=a.$implicit;e.xp6(2),e.Oqu(r.label)}}let Ar=(()=>{class n{constructor(r){this.changeDetectorRef=r,this.containerPosY=0,this.containerPosX=0,this.isArrowUpward=!0}ngOnInit(){this.changeDetectorRef.detectChanges(),this.prepareContextMenu()}hideContextMenuWithTimer(r){(0,H.isNullOrUndefined)(r)&&(r=n.MOUSE_OUT_TIMEOUT_MS),this.autoHideTimer=setTimeout(()=>{this.data.show=!1},r)}clearContextMenuHideTimer(){clearTimeout(this.autoHideTimer)}isValueNullOrUndefined(r){return!!(0,H.isNullOrUndefined)(r)}callSubscriber(r){r.subject.next(r)}prepareContextMenu(){try{this.validateData(),this.buildDisplayPositions()}catch(r){this.hideContextMenuWithTimer(0),console.error("unable to prepareContextMenu the context menu due to following exception/error: "+r)}finally{this.data.show&&this.hideContextMenuWithTimer(n.IDLE_TIMEOUT_MS)}}buildDisplayPositions(){const r=this.container.nativeElement;let t=0;(0,H.isNullOrUndefined)(r)||(t=r.offsetHeight),t>0&&(this.buildTopPosition(t),this.buildLeftPosition())}validateData(){if((0,H.isNullOrUndefined)(this.data))throw new TypeError("context menu info can not be null or undefined");if((0,H.isNullOrUndefined)(this.data.mouseEvent))throw new TypeError("context menu should be associated with mouseEvent e.g. mouse left click");if((0,H.isNullOrUndefined)(this.data.menuItems))throw new TypeError("action item is missing")}buildLeftPosition(){this.containerPosX=this.data.mouseEvent.clientX}buildTopPosition(r){const t=this.data.mouseEvent.currentTarget.offsetHeight,o=window.innerHeight,i=this.data.mouseEvent.clientY;let c=-10;r+i+t<o?c=i+t:(c=i-(r+t),this.isArrowUpward=!1),c<0&&(c=0),this.containerPosY=c}}return n.IDLE_TIMEOUT_MS=2e4,n.MOUSE_OUT_TIMEOUT_MS=2e4,n.\u0275fac=function(r){return new(r||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-contextmenu"]],viewQuery:function(r,t){if(1&r&&e.Gf(fr,5),2&r){let o;e.iGM(o=e.CRH())&&(t.container=o.first)}},inputs:{data:"data"},decls:5,vars:6,consts:[[1,"modal-container",3,"mouseout","mouseover"],["modalcontainer",""],[1,"modal-tip",3,"ngClass"],["id","left-container",1,"left-container"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0,1),e.NdJ("mouseout",function(i){return t.hideContextMenuWithTimer(i)})("mouseover",function(){return t.clearContextMenuHideTimer()}),e._UZ(2,"div",2),e.TgZ(3,"ul",3),e.YNc(4,Cr,3,1,"li",4),e.qZA()()),2&r&&(e.Udp("left",t.containerPosX,"px")("top",t.containerPosY,"px"),e.xp6(2),e.s9C("ngClass",t.isArrowUpward?"modal-tip-upward-arrow":"modal-tip-downward-arrow"),e.xp6(2),e.Q6J("ngForOf",t.data.menuItems))},dependencies:[u.mk,u.sg],styles:['li[_ngcontent-%COMP%]{list-style:none}.modal-container[_ngcontent-%COMP%]{left:40px;position:absolute;z-index:100000}.modal-container[_ngcontent-%COMP%]   .modal-tip[_ngcontent-%COMP%]{content:"";display:block;position:absolute;left:20px;width:8px;height:4px}.modal-container[_ngcontent-%COMP%]   .modal-tip-upward-arrow[_ngcontent-%COMP%]{top:-4px}.modal-container[_ngcontent-%COMP%]   .modal-tip-downward-arrow[_ngcontent-%COMP%]{bottom:-4px;top:auto}.modal-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{float:left;padding:15px;min-width:110px;margin-right:5px;margin-bottom:0;box-shadow:1px 1px 2px #999;border:1px solid #999999;background-color:#fff}.modal-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 0}']}),n})(),Pr=(()=>{class n{transform(r,t){return t&&r?n.filter(r,t):r}static filter(r,t){const o=t.toLowerCase();function i(l,c){for(let _ in l)if(null!==l[_]&&null!=l[_]&&("object"==typeof l[_]&&i(l[_],c)||l[_].toString().toLowerCase().includes(o)))return!0;return!1}return r.filter(function(l){return i(l,t)})}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275pipe=e.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Mr=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const Rr=["childModal"],Er=["body"];function Dr(n,a){1&n&&(e.TgZ(0,"label",53),e._uU(1,"@As On Dated:\xa0"),e.qZA())}function Ir(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.AsE("",r.engDateFrom," To ",r.engDateTo," ")}}function Nr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.AsE("(",r.FromdateInAD," To ",r.TodateInAD,") \xa0")}}function kr(n,a){if(1&n&&(e.TgZ(0,"label",55),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.AsE("",r.reportparam.DATE,"\xa0(",r.FromdateInAD,")")}}function jr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Division: ",r.divisionDisplayName,"\xa0")}}function yr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Warehouse: ",r.warehouseDisplayName,"\xa0")}}function Fr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@F/W: ",r.FromwarehouseName,"\xa0")}}function wr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@T/W: ",r.ToWarehouseName,"\xa0")}}function Wr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Item Group: ",r.itemGroupDisplayName,"\xa0")}}function Lr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Category: ",r.categoryDisplayName,"\xa0")}}function Zr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Item: ",r.itemName,"\xa0")}}function xr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Item Type: ",r.itemTypeDisplay,"\xa0")}}function Ur(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Supplier: ",r.supplierDisplayName,"\xa0")}}function Vr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",r.itemDisplayName," (",r.itemDisplaycode,")\xa0")}}function Br(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",r.stockLedgerItemDisplayName," (",r.stockLedgerItemDisplaycode,")\xa0")}}function Yr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.AsE(" @Item: ",r.itemwiseDisplayName," (",r.itemwiseDisplaycode,")\xa0\xa0")}}function Jr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.labelDisplayName,"\xa0")}}function qr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.reportTypeDisplayName,"\xa0")}}function Gr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Report Mode: ",r.reporModeDisplayName,"\xa0")}}function Hr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.includeReturnDisplayName,"\xa0")}}function Qr(n,a){1&n&&(e.TgZ(0,"label",54),e._uU(1," {{creditNoteDisplayName}\xa0}"),e.qZA())}function zr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" ",r.debitNoteDisplayName,"\xa0")}}function Kr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Report Type: ",r.purchaseItemWiseDisplay,"\xa0")}}function $r(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Cost Center: ",r.costcenterDisplayName,"\xa0")}}function Xr(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Customer Name: ",r.customerDisplayName,"\xa0")}}function ei(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Salesman Name: ",r.SalesmanDisplayName,"\xa0")}}function ti(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Recurring Item: ",r.RecurringItemName,"\xa0")}}function ri(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Recurring Category: ",r.RecurringCategory,"\xa0")}}function ii(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Report Option: ",r.RecurringOptionDisplayName,"\xa0")}}function oi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.reportOptionDisplayName,"\xa0")}}function ni(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Transaction Mode: ",r.recurringTransactionMode,"\xa0")}}function ai(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.showDetailDisplay,"\xa0")}}function si(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.showUserWiseFormat,"\xa0")}}function li(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.stockshowDetailDisplay,"\xa0")}}function pi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.showdetalreportdisplay,"\xa0")}}function ci(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.reportTypeDisplay,"\xa0")}}function _i(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Customer Type:",r.customerTypeDisplayName,"\xa0")}}function di(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Area:",r.areaDisplayName,"\xa0")}}function hi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Trn Mode:",r.transactionDisplayName,"\xa0")}}function ui(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.areaWiseDisplayName,"\xa0")}}function gi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Sales Amount >= ",r.tranAmntDisplayName,"\xa0")}}function Si(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Purchase Amount >= ",r.purchasetranAmntDisplayName,"\xa0")}}function mi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Product Type:",r.productTypeDisplay,"\xa0")}}function Oi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.purchaseReturnDisplayName,"\xa0")}}function bi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.showReportType,"\xa0")}}function Ti(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Member Name: ",r.memberDisplayName,"\xa0")}}function vi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@Points >= ",r.membershipPointDisplay,"\xa0")}}function fi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("",r.topNsortDisplay,"\xa0")}}function Ci(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij("@User: ",r.UserDisplayName,"\xa0")}}function Ai(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Terminal: ",r.terminalDisplayName,"")}}function Pi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.AsE(" @TimeWiseReport: @From:",r.TimeDisplay," @To: ",r.TimeDisplay2,"")}}function Mi(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Req From: ",r.REQFROMDISPLAYNAME,"")}}function Ri(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Requ To: ",r.REQTODISPLAYNAME,"")}}function Ei(n,a){if(1&n&&(e.TgZ(0,"label",54),e._uU(1),e.qZA()),2&n){const r=e.oxw(2);e.xp6(1),e.hij(" @Status: ",r.StatusDisplayName,"")}}function Di(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Dr,2,0,"label",50),e.YNc(2,Ir,2,2,"label",51),e.YNc(3,Nr,2,2,"label",51),e.YNc(4,kr,2,2,"label",52),e.YNc(5,jr,2,1,"label",51),e.YNc(6,yr,2,1,"label",51),e.YNc(7,Fr,2,1,"label",51),e.YNc(8,wr,2,1,"label",51),e.YNc(9,Wr,2,1,"label",51),e.YNc(10,Lr,2,1,"label",51),e.YNc(11,Zr,2,1,"label",51),e.YNc(12,xr,2,1,"label",51),e.YNc(13,Ur,2,1,"label",51),e.YNc(14,Vr,2,2,"label",51),e.YNc(15,Br,2,2,"label",51),e.YNc(16,Yr,2,2,"label",51),e.YNc(17,Jr,2,1,"label",51),e.YNc(18,qr,2,1,"label",51),e.YNc(19,Gr,2,1,"label",51),e.YNc(20,Hr,2,1,"label",51),e.YNc(21,Qr,2,0,"label",51),e.YNc(22,zr,2,1,"label",51),e.YNc(23,Kr,2,1,"label",51),e.YNc(24,$r,2,1,"label",51),e.YNc(25,Xr,2,1,"label",51),e.YNc(26,ei,2,1,"label",51),e.YNc(27,ti,2,1,"label",51),e.YNc(28,ri,2,1,"label",51),e.YNc(29,ii,2,1,"label",51),e.YNc(30,oi,2,1,"label",51),e.YNc(31,ni,2,1,"label",51),e.YNc(32,ai,2,1,"label",51),e.YNc(33,si,2,1,"label",51),e.YNc(34,li,2,1,"label",51),e.YNc(35,pi,2,1,"label",51),e.YNc(36,ci,2,1,"label",51),e.YNc(37,_i,2,1,"label",51),e.YNc(38,di,2,1,"label",51),e.YNc(39,hi,2,1,"label",51),e.YNc(40,ui,2,1,"label",51),e.YNc(41,gi,2,1,"label",51),e.YNc(42,Si,2,1,"label",51),e.YNc(43,mi,2,1,"label",51),e.YNc(44,Oi,2,1,"label",51),e.YNc(45,bi,2,1,"label",51),e.YNc(46,Ti,2,1,"label",51),e.YNc(47,vi,2,1,"label",51),e.YNc(48,fi,2,1,"label",51),e.YNc(49,Ci,2,1,"label",51),e.YNc(50,Ai,2,1,"label",51),e.YNc(51,Pi,2,2,"label",51),e.YNc(52,Mi,2,1,"label",51),e.YNc(53,Ri,2,1,"label",51),e.YNc(54,Ei,2,1,"label",51),e.BQk()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.reportparam.DATE1||r.reportparam.DATE2||r.reportparam.DATE),e.xp6(1),e.Q6J("ngIf",r.reportparam.DATE1&&r.reportparam.DATE2),e.xp6(1),e.Q6J("ngIf",r.reportparam.DATE1&&r.reportparam.DATE2),e.xp6(1),e.Q6J("ngIf",r.reportparam.DATE),e.xp6(1),e.Q6J("ngIf",r.divisionDisplayName),e.xp6(1),e.Q6J("ngIf",r.warehouseDisplayName),e.xp6(1),e.Q6J("ngIf",r.FromwarehouseName),e.xp6(1),e.Q6J("ngIf",r.ToWarehouseName),e.xp6(1),e.Q6J("ngIf",r.itemGroupDisplayName),e.xp6(1),e.Q6J("ngIf",r.categoryDisplayName),e.xp6(1),e.Q6J("ngIf",r.itemName),e.xp6(1),e.Q6J("ngIf",r.itemTypeDisplay),e.xp6(1),e.Q6J("ngIf",r.supplierDisplayName),e.xp6(1),e.Q6J("ngIf",r.itemDisplayName),e.xp6(1),e.Q6J("ngIf",r.stockLedgerItemDisplaycode),e.xp6(1),e.Q6J("ngIf",r.itemwiseDisplaycode),e.xp6(1),e.Q6J("ngIf",r.labelDisplayName),e.xp6(1),e.Q6J("ngIf",r.reportTypeDisplayName),e.xp6(1),e.Q6J("ngIf",r.reporModeDisplayName),e.xp6(1),e.Q6J("ngIf",r.includeReturnDisplayName),e.xp6(1),e.Q6J("ngIf",r.creditNoteDisplayName),e.xp6(1),e.Q6J("ngIf",r.debitNoteDisplayName),e.xp6(1),e.Q6J("ngIf",r.purchaseItemWiseDisplay),e.xp6(1),e.Q6J("ngIf",r.costcenterDisplayName),e.xp6(1),e.Q6J("ngIf",r.customerDisplayName),e.xp6(1),e.Q6J("ngIf",r.SalesmanDisplayName),e.xp6(1),e.Q6J("ngIf",r.RecurringItemName),e.xp6(1),e.Q6J("ngIf",r.RecurringCategory),e.xp6(1),e.Q6J("ngIf",r.RecurringOptionDisplayName),e.xp6(1),e.Q6J("ngIf",r.reportOptionDisplayName),e.xp6(1),e.Q6J("ngIf",r.recurringTransactionMode),e.xp6(1),e.Q6J("ngIf",r.showDetailDisplay),e.xp6(1),e.Q6J("ngIf",r.showUserWiseFormat),e.xp6(1),e.Q6J("ngIf",r.stockshowDetailDisplay),e.xp6(1),e.Q6J("ngIf",r.showdetalreportdisplay),e.xp6(1),e.Q6J("ngIf",r.reportTypeDisplay),e.xp6(1),e.Q6J("ngIf",r.customerTypeDisplayName),e.xp6(1),e.Q6J("ngIf",r.areaDisplayName),e.xp6(1),e.Q6J("ngIf",r.transactionDisplayName),e.xp6(1),e.Q6J("ngIf",r.areaWiseDisplayName),e.xp6(1),e.Q6J("ngIf",r.tranAmntDisplayName),e.xp6(1),e.Q6J("ngIf",r.purchasetranAmntDisplayName),e.xp6(1),e.Q6J("ngIf",r.productTypeDisplay),e.xp6(1),e.Q6J("ngIf",r.purchaseReturnDisplayName),e.xp6(1),e.Q6J("ngIf",r.showReportType),e.xp6(1),e.Q6J("ngIf",r.memberDisplayName),e.xp6(1),e.Q6J("ngIf",r.membershipPointDisplay),e.xp6(1),e.Q6J("ngIf",r.topNsortDisplay),e.xp6(1),e.Q6J("ngIf",r.UserDisplayName),e.xp6(1),e.Q6J("ngIf",r.terminalDisplayName),e.xp6(1),e.Q6J("ngIf",r.TimeDisplay),e.xp6(1),e.Q6J("ngIf",r.REQFROMDISPLAYNAME),e.xp6(1),e.Q6J("ngIf",r.REQTODISPLAYNAME),e.xp6(1),e.Q6J("ngIf",r.StatusDisplayName)}}function Ii(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"tr",13)(1,"td",56),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.SaveInReportColumnFormat())}),e.TgZ(2,"i",57),e._UZ(3,"span",58),e.qZA()()()}}function Ni(n,a){if(1&n&&(e.TgZ(0,"th",60),e._uU(1),e.qZA()),2&n){const r=a.$implicit,t=e.oxw(2);e.Udp("text-align",r.alignment),e.s9C("width",r.width),e.Q6J("ngClass",("MAIN GROUP"!=r.mappingName&&"MAINGROUP"!=r.mappingName&&"SUB GROUP_A"!=r.mappingName&&"SUBGROUP_A"!=r.mappingName&&"SUB GROUP_B"!=r.mappingName&&"SUBGROUP_B"!=r.mappingName&&"SUB GROUP_C"!=r.mappingName&&"SUBGROUP_C"!=r.mappingName&&"CATEGORY"!=r.mappingName||0!=t.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==r.mappingName&&0==t.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==r.mappingName&&0==t.reportparam.ShowDetail?"notdisplay":"")),e.uIk("colspan",r.colspan),e.xp6(1),e.hij(" ",r.colGroup," ")}}function ki(n,a){if(1&n&&(e.TgZ(0,"thead")(1,"tr",30),e.YNc(2,Ni,2,6,"th",59),e.qZA()()),2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngForOf",r.optionalreportHeaders)}}function ji(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(r);const o=e.oxw(),i=o.$implicit,l=o.index,c=e.oxw();return e.KtG(c.sortTableData(i.mappingName,"desc",l))}),e.qZA()}}function yi(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"i",65),e.NdJ("click",function(){e.CHM(r);const o=e.oxw(),i=o.$implicit,l=o.index,c=e.oxw();return e.KtG(c.sortTableData(i.mappingName,"asc",l))}),e.qZA()}}function Fi(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(r);const o=e.oxw(),i=o.$implicit,l=o.index,c=e.oxw();return e.KtG(c.sortTableData(i.mappingName,"desc",l))}),e.qZA()}}function wi(n,a){if(1&n&&(e.TgZ(0,"th",61),e._uU(1),e.YNc(2,ji,1,0,"i",62),e.YNc(3,yi,1,0,"i",63),e.YNc(4,Fi,1,0,"i",62),e.qZA()),2&n){const r=a.$implicit,t=e.oxw();e.s9C("width",r.width),e.Q6J("ngStyle",t.getReportHeadingStyles())("ngClass",("MAIN GROUP"!=r.mappingName&&"MAINGROUP"!=r.mappingName&&"SUB GROUP_A"!=r.mappingName&&"SUBGROUP_A"!=r.mappingName&&"SUB GROUP_B"!=r.mappingName&&"SUBGROUP_B"!=r.mappingName&&"SUB GROUP_C"!=r.mappingName&&"SUBGROUP_C"!=r.mappingName&&"CATEGORY"!=r.mappingName||0!=t.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==r.mappingName&&0==t.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==r.mappingName&&0==t.reportparam.ShowDetail?"notdisplay":"")),e.xp6(1),e.hij(" ",r.colHeader," "),e.xp6(1),e.Q6J("ngIf",null==r.sortOrder||"none"==r.sortOrder),e.xp6(1),e.Q6J("ngIf","asc"==r.sortOrder),e.xp6(1),e.Q6J("ngIf","desc"==r.sortOrder)}}const Wi=function(n,a){return[n,a]};function Li(n,a){if(1&n&&(e.TgZ(0,"td",68)(1,"pre",69),e._uU(2),e.qZA()()),2&n){const r=a.$implicit,t=e.oxw().$implicit,o=e.oxw();e.Udp("text-align",0==r.alignment?"inherit":"end"),e.s9C("width",r.width),e.Q6J("ngClass",e.WLB(6,Wi,"B"==t.FFLG?"Boldtd":"Regulartd",("MAIN GROUP"!=r.mappingName&&"MAINGROUP"!=r.mappingName&&"SUB GROUP_A"!=r.mappingName&&"SUBGROUP_A"!=r.mappingName&&"SUB GROUP_B"!=r.mappingName&&"SUBGROUP_B"!=r.mappingName&&"SUB GROUP_C"!=r.mappingName&&"SUBGROUP_C"!=r.mappingName&&"CATEGORY"!=r.mappingName||0!=o.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==r.mappingName&&0==o.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==r.mappingName&&0==o.reportparam.ShowDetail?"notdisplay":""))),e.xp6(1),e.Q6J("ngStyle",o.getReportDetailStyles()),e.xp6(1),e.Oqu(t[r.mappingName])}}function Zi(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"tr",66),e.NdJ("dblclick",function(){const i=e.CHM(r).$implicit,l=e.oxw();return e.KtG(l.drillDownReport(i))})("contextmenu",function(o){const l=e.CHM(r).$implicit,c=e.oxw();return e.KtG(c.onRightClick(o,l))})("click",function(){const i=e.CHM(r).index,l=e.oxw();return e.KtG(l.clicked(i))}),e.YNc(1,Li,3,9,"td",67),e.qZA()}if(2&n){const r=a.$implicit,t=a.index,o=e.oxw();e.ekj("active",t==o.HighlightRow),e.Q6J("ngClass","B"==r.FFLG?"Bold":"Regular"),e.xp6(1),e.Q6J("ngForOf",o.reportHeaders)}}function xi(n,a){if(1&n&&(e.TgZ(0,"td",72)(1,"pre",69),e._uU(2),e.qZA()()),2&n){const r=a.$implicit,t=e.oxw().$implicit,o=e.oxw();e.Udp("text-align",0==r.alignment?"inherit":"end"),e.s9C("width",r.width),e.Q6J("ngClass",("MAIN GROUP"!=r.mappingName&&"MAINGROUP"!=r.mappingName&&"SUB GROUP_A"!=r.mappingName&&"SUBGROUP_A"!=r.mappingName&&"SUB GROUP_B"!=r.mappingName&&"SUBGROUP_B"!=r.mappingName&&"SUB GROUP_C"!=r.mappingName&&"SUBGROUP_C"!=r.mappingName&&"CATEGORY"!=r.mappingName||0!=o.reportparam.SHOWGROUPING?"":"notdisplay")||("BATCH"==r.mappingName&&0==o.reportparam.SHOWBATCHWISESTOCK?"notdisplay":"")||("BARCODE"==r.mappingName&&0==o.reportparam.ShowDetail?"notdisplay":"")),e.xp6(1),e.Q6J("ngStyle",o.getReportFooterStyles()),e.xp6(1),e.Oqu(t[r.mappingName])}}function Ui(n,a){if(1&n&&(e.TgZ(0,"tr",70),e.YNc(1,xi,3,6,"td",71),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.reportHeaders)}}function Vi(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(r);const o=e.oxw(2);return e.KtG(o.refreshReportColumns())}),e._uU(1,"REFRESH"),e.qZA()}}function Bi(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"tr")(1,"td",109),e._uU(2),e.qZA(),e.TgZ(3,"td",110)(4,"input",111),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.ColumnName=o)}),e.qZA()(),e.TgZ(5,"td",110)(6,"input",112),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.MappingName=o)}),e.qZA()(),e.TgZ(7,"td",113)(8,"input",114),e.NdJ("change",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.Show=o.target.checked?1:0)})("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.Show=o)}),e.qZA()(),e.TgZ(9,"td",115)(10,"input",116),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.ColWidth=o)}),e.qZA()(),e.TgZ(11,"td",117)(12,"input",118),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.Format=o)}),e.qZA()(),e.TgZ(13,"td",119)(14,"input",116),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.Align=o)}),e.qZA()(),e.TgZ(15,"td",120)(16,"input",116),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.ColumnPosition=o)}),e.qZA()(),e.TgZ(17,"td",120)(18,"input",111),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.ColGroup=o)}),e.qZA()(),e.TgZ(19,"td",120)(20,"input",121),e.NdJ("change",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.GroupSummary=o.target.checked?1:0)})("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.GroupSummary=o)}),e.qZA()(),e.TgZ(21,"td",120)(22,"input",121),e.NdJ("change",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.TableSummary=o.target.checked?1:0)})("ngModelChange",function(o){const l=e.CHM(r).$implicit;return e.KtG(l.TableSummary=o)}),e.qZA()()()}if(2&n){const r=a.$implicit,t=a.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Q6J("ngModel",r.ColumnName),e.xp6(2),e.Q6J("readonly",!0)("ngModel",r.MappingName),e.xp6(2),e.Q6J("ngModel",r.Show),e.xp6(2),e.Q6J("ngModel",r.ColWidth),e.xp6(2),e.Q6J("ngModel",r.Format),e.xp6(2),e.Q6J("ngModel",r.Align),e.xp6(2),e.Q6J("ngModel",r.ColumnPosition),e.xp6(2),e.Q6J("ngModel",r.ColGroup),e.xp6(2),e.Q6J("ngModel",r.GroupSummary),e.xp6(2),e.Q6J("ngModel",r.TableSummary)}}function Yi(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"div",75)(3,"div")(4,"h4",76),e._uU(5,"Report Format "),e.qZA()(),e.TgZ(6,"div")(7,"button",77),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.exportReportFormat())}),e._uU(8,"EXPORT FORMAT"),e.qZA(),e.TgZ(9,"button",77),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.resetToDefault())}),e._uU(10,"RESET DEFAULT"),e.qZA(),e.YNc(11,Vi,2,0,"button",78),e.TgZ(12,"button",79),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.OkCommand())}),e._uU(13,"SAVE"),e.qZA(),e.TgZ(14,"button",80),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelCommand())}),e._uU(15,"CANCEL"),e.qZA()()(),e.TgZ(16,"div",81)(17,"div",82)(18,"div",83)(19,"div",84)(20,"label",85),e._uU(21,"Report Name"),e.qZA(),e.TgZ(22,"div",86)(23,"input",87),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportname=o)}),e.qZA()()(),e.TgZ(24,"div",84)(25,"label",85),e._uU(26,"Report Title"),e.qZA(),e.TgZ(27,"div",86)(28,"input",88),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportTitle=o)}),e.qZA()()()(),e.TgZ(29,"div",89)(30,"div",84)(31,"label",85),e._uU(32,"Rows Per Column"),e.qZA(),e.TgZ(33,"div",86)(34,"input",90),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.rowsperpage=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onRowsPerPageChange(o.target.value))}),e.qZA()()(),e.TgZ(35,"div",84)(36,"label",85),e._uU(37,"Has Dynamic Columns?"),e.qZA(),e.TgZ(38,"div",86)(39,"select",91),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.hasDynamicColumns=o)}),e.TgZ(40,"option",92),e._uU(41,"YES"),e.qZA(),e.TgZ(42,"option",93),e._uU(43,"NO"),e.qZA()()()(),e.TgZ(44,"div",84)(45,"label",85),e._uU(46,"Has Dynamic Headers?"),e.qZA(),e.TgZ(47,"div",86)(48,"select",94),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.hasDynamicHeaders=o)}),e.TgZ(49,"option",92),e._uU(50,"YES"),e.qZA(),e.TgZ(51,"option",93),e._uU(52,"NO"),e.qZA()()()()(),e.TgZ(53,"div",89)(54,"div",84)(55,"label",85),e._uU(56,"Dynamic Column Level"),e.qZA(),e.TgZ(57,"div",86)(58,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.dynamicColumnLevel=o)}),e.qZA()()(),e.TgZ(59,"div",84)(60,"label",85),e._uU(61,"Dynamic Column Width"),e.qZA(),e.TgZ(62,"div",86)(63,"input",96),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.dynamicColumnWidth=o)}),e.qZA()()(),e.TgZ(64,"div",84)(65,"label",85),e._uU(66,"Merge Header?"),e.qZA(),e.TgZ(67,"div",86)(68,"select",97),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.MergeReportHeader=o)}),e.TgZ(69,"option",92),e._uU(70,"YES"),e.qZA(),e.TgZ(71,"option",93),e._uU(72,"NO"),e.qZA()()()()(),e.TgZ(73,"div",89)(74,"div",84)(75,"label",85),e._uU(76,"Report Rounding Mode"),e.qZA(),e.TgZ(77,"div",86)(78,"input",95),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.REPORTROUNDINGMODE=o)}),e.qZA()()()()()(),e.TgZ(79,"div",98)(80,"table",99)(81,"thead")(82,"tr")(83,"th",100),e._uU(84,"SI NO "),e.qZA(),e.TgZ(85,"th",101),e._uU(86,"Column Name"),e.qZA(),e.TgZ(87,"th",101),e._uU(88,"Mapping Name"),e.qZA(),e.TgZ(89,"th",102),e._uU(90,"Show"),e.qZA(),e.TgZ(91,"th",103),e._uU(92,"Col Width"),e.qZA(),e.TgZ(93,"th",104),e._uU(94,"Format"),e.qZA(),e.TgZ(95,"th",105),e._uU(96,"Align"),e.qZA(),e.TgZ(97,"th",106),e._uU(98,"Column Position"),e.qZA(),e.TgZ(99,"th",106),e._uU(100,"Merge Header"),e.qZA(),e.TgZ(101,"th",106),e._uU(102,"Group Summary"),e.qZA(),e.TgZ(103,"th",106),e._uU(104,"Table Summary"),e.qZA()()(),e.TgZ(105,"tbody",107),e.YNc(106,Bi,23,12,"tr",108),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngIf",r.ReportColumnName.length>0),e.xp6(12),e.Q6J("readonly",!0)("ngModel",r.reportname),e.xp6(5),e.Q6J("ngModel",r.reportTitle),e.xp6(6),e.Q6J("ngModel",r.rowsperpage),e.xp6(5),e.Q6J("ngModel",r.hasDynamicColumns),e.xp6(9),e.Q6J("ngModel",r.hasDynamicHeaders),e.xp6(10),e.Q6J("ngModel",r.dynamicColumnLevel),e.xp6(5),e.Q6J("ngModel",r.dynamicColumnWidth),e.xp6(5),e.Q6J("ngModel",r.MergeReportHeader),e.xp6(10),e.Q6J("ngModel",r.REPORTROUNDINGMODE),e.xp6(28),e.Q6J("ngForOf",r.ReportColumnName)}}function Ji(n,a){if(1&n&&(e.TgZ(0,"tr",135)(1,"td",129),e._uU(2),e.qZA(),e.TgZ(3,"td",136),e._uU(4),e.qZA()()),2&n){const r=a.$implicit,t=a.index,o=e.oxw(2);e.ekj("highlighted",t===o.selectedRowIndex),e.xp6(2),e.Oqu(t+1),e.xp6(1),e.Q6J("routerLink",r.activeurlpath),e.xp6(1),e.Oqu(r.reportname)}}function qi(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",122)(1,"div",74)(2,"div",123)(3,"div",82)(4,"h6",124),e._uU(5,"Loaded Report List"),e.qZA()()(),e.TgZ(6,"div",125)(7,"table",126)(8,"thead",127)(9,"tr",128)(10,"th",129),e._uU(11,"S.N."),e.qZA(),e.TgZ(12,"th",130),e._uU(13,"Report Name"),e.qZA()()(),e.TgZ(14,"tbody",131),e.YNc(15,Ji,5,5,"tr",132),e.qZA()()(),e.TgZ(16,"div",133)(17,"button",134),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelReportList())}),e._uU(18,"Cancel"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(15),e.Q6J("ngForOf",r.previouslyLoadedReportsList)}}function Gi(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",137)(1,"div",74)(2,"div",138)(3,"h5",139),e._uU(4,"View Image"),e.qZA(),e.TgZ(5,"button",140),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeImagePopup())}),e.TgZ(6,"span",141),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",46)(9,"div",81),e._UZ(10,"img",142),e.qZA(),e.TgZ(11,"div",143)(12,"label",144),e._uU(13,"Item Name:"),e.qZA(),e.TgZ(14,"label",145),e._uU(15),e.qZA()(),e.TgZ(16,"div",143)(17,"label",144),e._uU(18,"MRP:"),e.qZA(),e.TgZ(19,"label",145),e._uU(20),e.ALo(21,"currency"),e.qZA()()(),e.TgZ(22,"div",133)(23,"button",134),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeImagePopup())}),e._uU(24,"Close"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(10),e.s9C("src",r.itemObj.IMAGEURL,e.LSH),e.xp6(5),e.AsE("",r.itemObj.ITEMNAME," ( ",r.itemObj.MENUCODE," )"),e.xp6(5),e.Oqu(e.Dn7(21,4,r.itemObj.MRP,"INR","Rs. "))}}function Hi(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-contextmenu",146),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("data",r.contextMenuView)}}const Qi=function(n){return{"mySidenav-show":n}},zi=function(n){return{"toggler-btn-icon-reverse":n}},Ki=function(n,a){return{itemsPerPage:n,currentPage:a}};let f=(()=>{class n{constructor(r,t,o,i,l,c,_,d,h,p){this.router=r,this.masterService=t,this.authService=o,this.arouter=i,this.dialog=l,this.reportMasterService=c,this.spinnerService=_,this.alertService=d,this._hotkeysService=h,this._transactionService=p,this.reportMaster={},this.reportHeaders=[],this.reportData=[],this.reportDetail=[],this.trialUrl=!1,this.paramValue=[],this.page=1,this.hideShow=!1,this.ReportColumnName=[],this.reportFooter=[],this.optionalreportHeaders=[],this.reportContextMenu=[],this.previouslyLoadedReportsList=[],this.hasDynamicColumns="0",this.allHeaders=[],this.itemObj={},this.imgUrl="",this.showItemImage=!1,this.hasDynamicHeaders=0,this.excelColumnName=[],this.mergereportHeaders=[],this.reportColumnFormate=[],this.totalRow={},this.checkedColumnName=[],this.activeurlpath=this.arouter.snapshot.url[0].path,this.userProfile=this.authService.getUserProfile();let g=this.reportMasterService.reportDataStore[this.activeurlpath];this.contextMenuView=new Or,this.reportLoadedSuccess=!1,this.reportMasterService.reportUrlPath=this.activeurlpath;let O=this.masterService.apiUrl;this.imgUrl=O.substring(O.length-3,0),this.arouter.queryParams.subscribe(N=>{if("DRILL"==N.mode&&this.reportMasterService.drillParam.returnUrl)setTimeout(()=>{this.loadReport(this.reportMasterService.drillParam),this.rowsperpage||(this.rowsperpage=100),this.reportparam=this.reportMasterService.drillParam.reportparam,this.reportname=this.reportMasterService.drillParam.reportname,this.ReportCriteriaDisplay(this.reportparam,this.reportname)});else if(null!=g&&null!=g){for(var oe of(this.reportHeaders=g.data.result.headers,this.allHeaders=g.data.result.allHeaders,this.prepareOptionalHeader(this.reportHeaders),this.reportHeaders))oe.width=null==oe.size||0==oe.size?"auto":oe.size+"px";if(this.loadReportDataFromExistingStore(),this.ReportCriteriaDisplay(this.reportparam,this.showReportName),1!=this.hasDynamicHeaders&&0!=this.MergeReportHeader)this.preparereportHeader(this.reportHeaders);else if(1!=this.hasDynamicHeaders&&1!=this.MergeReportHeader)this.mergereportHeaders=this.reportHeaders;else{let I=_e().sortBy(this.reportHeaders,"colPosition");this.mergereportHeaders=I}this.reportMasterService.getReportColumnFormate(this.reportname).subscribe(I=>{"ok"==I.status?(this.reportColumnFormate=I.result,this.rowsperpage=I.result?I.result[0].rowsperpage:"100"):this.reportColumnFormate=[]}),0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(I=>({ReportName:this.reportname,ColumnName:I.colHeader,MappingName:I.mappingName,Show:I.Visible,ColWidth:I.size,Format:I.stringFormat,Align:I.alignment,ColumnPosition:I.colPosition,ColGroup:I.ColGroup,GroupSummary:I.groupSummaryFunction,GSFunction:I.groupSummaryFunction,TableSummary:I.showTables,TSFunction:I.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((I,sT)=>{I.Show=1,I.TableSummary=0,I.GroupSummary=0,I.ColumnPosition=sT+1})):this.ReportColumnName=this.reportColumnFormate.map(I=>({ReportName:this.reportname,ColumnName:I.colHeader,MappingName:I.mappingName,Show:I.Visible,ColWidth:I.size,Format:I.stringFormat,Align:I.alignment,ColumnPosition:I.colPosition,ColGroup:I.ColGroup,GroupSummary:I.groupSummaryFunction,GSFunction:I.groupSummaryFunction,TableSummary:I.showTables,TSFunction:I.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:I.rowsperpage}))}else this.fiterClickEvent()}),this.previouslyLoadedReportsList=this.reportMasterService.previouslyLoadedReportList,this._hotkeysService.add(new Oe.qm("shift+tab",N=>(this.showPreviouslyLoadedReports(),!1)))}ngOnInit(){}ngAfterViewInit(){}exportReportFormat(){this.spinnerService.show("Exporting, Please Wait..."),this.reportMasterService.exportReportFormat(this.showReportName).subscribe(r=>{let t=new Blob([JSON.stringify(r)],{type:"text/html"}),o=`${this.showReportName}.txt`;var i=URL.createObjectURL(t),l=document.createElement("a");l.href=i,l.download=o.replace(/\s/g,""),l.click(),this.spinnerService.hide()},r=>{console.log("Error message for text",r),this.alertService.info("Exporting Unsuccessfull!!"),this.spinnerService.hide()})}resetToDefault(){console.log("reset to default clicked"),console.log("report name",this.reportname),this.spinnerService.show("Resetting..."),this.reportMasterService.importReportFormat(this.showReportName).subscribe(r=>{console.log("import res",r),r&&(this.spinnerService.hide(),"ok"==r.status?this.alertService.success(r.result):this.alertService.warning("Resetting Unsuccessfull!!"))},r=>{console.log("Error message for reset",r),this.alertService.info("Resetting Unsuccessfull!!"),this.spinnerService.hide()})}fiterClickEvent(){console.log("here is the boom");let r=this.dialog.open(me,{panelClass:"custom-report-information-dialog",hasBackdrop:!0,data:{activeurlpath:this.activeurlpath,reportparam:this.reportparam,reportname:this.reportname}});console.log("here is the boom part 2",r),r.afterClosed().subscribe(t=>{void 0!==t&&"ok"==t.status&&(this.reportname=t.data.reportname,this.reportparam=t.data.reportparam,this.showReportName=t.data.REPORTDISPLAYNAME?t.data.REPORTDISPLAYNAME:t.data.reportname,this.loadReport(t.data),console.log("reportdataatatatatata",t),this.ReportCriteriaDisplay(this.reportparam,this.showReportName),this.reportMasterService.getReportColumnFormate(this.reportname).subscribe(o=>{"ok"==o.status?(this.reportColumnFormate=o.result,this.rowsperpage=0==o?.result[0].rowsperpage?100:o?.result[0].rowsperpage):this.reportColumnFormate=[]})),r=null})}onReportDataEmitted(r){this.reportparam=r.reportparam,this.loadReport(r)}RowClick(){}loadReport(r){this.DialogMessage="Report Loading Please Wait...",this.childModal.show(),this.page=1,this.masterService.getReportData(r,"/loadReports").subscribe(t=>{let o=t;if("ok"==o.status){for(var i of(this.prepareReportData(o.result.headers,o.result.data),this.storeAndUpdateReportDataStore(r,o),this.reportHeaders=o.result.headers,this.reportHeaders))i.width=null==i.size||0==i.size?"auto":i.size+"px";if(this.prepareOptionalHeader(this.reportHeaders),this.reportData=o.result.data,this.reportDetail=o.result.repDetails,this.reportFooter=o.result.totalRowData,this.reportmasterDetail=o.result.reportmasterDetail,this.reportContextMenu=o.result.reportContextMenu,this.allHeaders=o.result.allHeaders,this.hasDynamicColumns=this.reportmasterDetail.HASDYNAMICCOLUMNS,this.dynamicColumnLevel=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL,this.dynamicColumnWidth=this.reportmasterDetail.DYNAMICCOLUMNWIDTH,this.hasDynamicHeaders=this.reportmasterDetail.DYNAMICHEADER,this.MergeReportHeader=this.reportmasterDetail.MERGEREPORTHEADER,this.REPORTROUNDINGMODE=this.reportmasterDetail.REPORTROUNDINGMODE,1!=this.hasDynamicHeaders&&0!=this.MergeReportHeader?this.preparereportHeader(this.reportHeaders):1!=this.hasDynamicHeaders&&1!=this.MergeReportHeader&&(this.mergereportHeaders=this.reportHeaders),this.DialogMessage="Report Loaded successfully.",setTimeout(()=>{this.childModal.hide()},2e3),0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(l=>({ReportName:this.reportname,ColumnName:l.colHeader,MappingName:l.mappingName,Show:l.Visible,ColWidth:l.size,Format:l.stringFormat,Align:l.alignment,ColumnPosition:l.colPosition,ColGroup:l.ColGroup,GroupSummary:l.groupSummaryFunction,GSFunction:l.groupSummaryFunction,TableSummary:l.showTables,TSFunction:l.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((l,c)=>{l.Show=1,l.TableSummary=0,l.GroupSummary=0,l.ColumnPosition=c+1})):this.ReportColumnName=this.reportColumnFormate.map(l=>({ReportName:this.reportname,ColumnName:l.ColumnName,MappingName:l.MappingName,Show:l.Show,ColWidth:l.ColWidth,Format:l.Format,Align:l.Align,ColumnPosition:l.ColumnPosition,ColGroup:l.ColGroup,GroupSummary:l.GroupSummary,GSFunction:l.GSFunction,TableSummary:l.TableSummary,TSFunction:l.TSFunction,ReportTitle:this.reportTitle,rowsperpage:l.rowsperpage})),this.reportmasterDetail.HASDYNAMICCOLUMNS){let l="Default";this.allHeaders.forEach((_,d)=>{l=1==this.reportmasterDetail.DYNAMICHEADER&&_.mappingName.includes("~")?_.mappingName.split("~")[1]:"Default",d+1>=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL&&this.reportHeaders.push({alignment:1,allowMerge:!1,colHeader:"Default"==l?_.colHeader:l,colNo:0,colPosition:"Default"==l?d+5e3:d+1,mappingName:_.mappingName,showGroupSummary:!1,showTableSummary:!1,size:Number(this.reportmasterDetail.DYNAMICCOLUMNWIDTH),width:Number(this.reportmasterDetail.DYNAMICCOLUMNWIDTH)+"px",visible:1})});let c=_e().sortBy(this.reportHeaders,"colPosition");this.mergereportHeaders=c,1==this.reportmasterDetail.DYNAMICHEADER&&this.prepareOptionalDynamicHeader(this.allHeaders)}}else setTimeout(()=>{this.childModal.hide()}),this.reportData=[],this.reportHeaders=[],this.optionalreportHeaders=[]},t=>{this.DialogMessage=t,setTimeout(()=>{this.childModal.hide()},3e3)})}getFormattedValue(r){if(null!=r){if("number"==typeof r)return r.toLocaleString("en-us",{minimumFractionDigits:2});if("Invalid Date"!=new Date(r).toString())return r.split("T")[0]}return r}SettingClickEvent(){}ExportReportInExcel(){this.downloadReportPrepareFromAPI()}ExportReportInPdf(){this.downloadpdfPrepareFromAPI()}excelDownloadFromHtml_manualTable(){try{let c='<p style=" text-align:center;font-weight:bold;font-size:16px;">'+this.activeurlpath.toUpperCase()+'</p><p style=" text-align:center;font-weight:bold;font-size:14px;">'+this.userProfile.CompanyInfo.NAME+'</p><p style=" text-align:center;font-weight:bold;font-size:13px">'+this.userProfile.CompanyInfo.ADDRESS+'</p><p style=" text-align:center;font-weight:bold"> PAN No : <label style="letter-spacing:5px">'+this.userProfile.CompanyInfo.VAT+"</label></p>";this.param='<label style=" text-align:center;font-weight:bold;font-size:12px;">'+this.getReportParamForPreviewKey(this.reportparam,this.reportDetail)+"</label>";let _="<table>  <thead>   <tr>";for(let d of this.reportHeaders)_+="<th>"+d.colHeader+"</th>";_+="</tr> </thead>",_+="<tbody>";for(let d of this.reportData){_+="<tr>";for(let h of this.reportHeaders)null==(r=d[h.mappingName])&&(r=""),_+="<td>"+r+"</td>"}for(let d of this.reportFooter){_+="<tr>";for(let h of this.reportHeaders){var r;null==(r=d[h.mappingName])&&(r=""),_+="<td>"+r+"</td>"}}_+="</tbody></table>";var o=new Blob([c+this.param+_],{type:"application/vnd.ms-excel"}),i=URL.createObjectURL(o),l=document.createElement("a");l.href=i,l.download=this.excelReportNameProvide()+".xls",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(c){alert(c)}}repName(){}excelReportNameProvide(){return this.activeurlpath}excelNameChooser(){try{if("DEBITORSREPORT"==this.reportname)return"DEBTORS REPORT ( FROM: "+this.reportMaster.reportQuery.find(r=>"DATE1"==r.param).value+"  TO:"+this.reportMaster.reportQuery.find(r=>"DATE2"==r.param).value+" )";if("DEBITORSREPORTEXD"==this.reportname)return"DEBTORS REPORT EXTENDED( FROM: "+this.reportMaster.reportQuery.find(r=>"DATE1"==r.param).value+"  TO:"+this.reportMaster.reportQuery.find(r=>"DATE2"==r.param).value+" )";if("SALESBOOKREPORT"==this.reportname)return"SALES REPORT ( FROM: "+this.reportMaster.reportQuery.find(r=>"DATE1"==r.param).value+"  TO:"+this.reportMaster.reportQuery.find(r=>"DATE2"==r.param).value+" )";if("STOCKREPORT"==this.reportname)return"STOCK REPORT ( FROM: "+this.reportMaster.reportQuery.find(r=>"DATE1"==r.param).value+"  TO:"+this.reportMaster.reportQuery.find(r=>"DATE2"==r.param).value+" )";if("STOCKREPORTEXD"==this.reportname)return"STOCK REPORT EXTENDED( FROM: "+this.reportMaster.reportQuery.find(r=>"DATE1"==r.param).value+"  TO:"+this.reportMaster.reportQuery.find(r=>"DATE2"==r.param).value+" )";if("DEBITORSREPORT_AGING"==this.reportname)return"DEBTORS AGEING REPORT ( As On Dated: "+this.reportMaster.reportQuery.find(r=>"DATE2"==r.param).value+" )";if("DEBITORSREPORT_AGINGEXD"==this.reportname)return"DEBTORS AGEING REPORT EXTENDED( As On Dated: "+this.reportMaster.reportQuery.find(r=>"DATE2"==r.param).value+" )";if("DEBITORSREPORT_AGINGEXD"==this.reportname)return"DEBTORS AGEING REPORT EXTENDED( As On Dated: "+this.reportMaster.reportQuery.find(r=>"DATE2"==r.param).value+" )";if("STOCKLEDGERREPORT"==this.reportname){let r=this.masterService._itemList.find(t=>t.MCODE==this.reportMaster.reportQuery.find(o=>"MCODE"==o.param).value);if(null!=r)return"STOCK LEDGER REPRT ( "+r.MENUCODE+"  "+r.DESCA+" )"}return this.reportMaster.title}catch{return this.reportMaster.title}}getReportParamForPreviewKey(r,t){let o=Object.keys(r);var i="";for(let _ in o){var l=o[_];let d=t.filter(h=>h.PROPNAME==o[_])[0];null!=d&&null!=d.PRINTLABEL&&""!=d.PRINTLABEL&&(l=d.PRINTLABEL),("DATE1"==l||"DATE2"==l)&&(i+=l+":"+r[o[_]]+" , ")}return i}prepareReportData(r,t){this.totalRow={};for(let o in r){let i=0;if(r[o].totalCalculation){for(let l of t)i=this.masterService.nullToZeroConverter(i)+this.masterService.nullToZeroConverter(l[r[o].mappingName]);this.totalRow[r[o].mappingName]=i>0?i.toFixed(2):null}else this.totalRow[r[o].mappingName]=null}}OkCommand(){this.showReportColumnFormatPopup=!1,this.ReportColumnName.forEach(r=>{r.ReportTitle=this.reportTitle,r.rowsperpage=this.rowsperpage}),this.masterService.masterPostmethod("/updateReportMaster",{REPORTNAME:this.reportname,hasDynamicColumns:this.hasDynamicColumns,dynamicColumnLevel:this.dynamicColumnLevel,dynamicColumnWidth:this.dynamicColumnWidth,hasDynamicHeaders:this.hasDynamicHeaders,MergeReportHeader:this.MergeReportHeader,REPORTROUNDINGMODE:this.REPORTROUNDINGMODE}).subscribe(r=>{}),this.spinnerService.show("Data is saving ...."),this.reportMasterService.saveReportColumnFormat(this.ReportColumnName,"/saveReportColumnFormat").subscribe(r=>{"ok"==r.status?(this.spinnerService.hide(),this.alertService.success("Report format is successfully saved"),this.reportColumnFormate=[]):this.spinnerService.hide()},r=>{this.spinnerService.hide()})}SaveInReportColumnFormat(){this.showReportColumnFormatPopup=!0}showPreviouslyLoadedReports(){this.showReportListDialog=!0}CancelReportList(){this.showReportListDialog=!1}CancelCommand(){this.showReportColumnFormatPopup=!1}closeReport(){this.allHeaders=[],this.reportHeaders=[],this.reportData=[],this.reportparam=[],"stock-summary-report"==this.activeurlpath?this.reportMasterService.StockSummaryObj={}:"stock-ledger-report"==this.activeurlpath?this.reportMasterService.StockLedgerObj={}:"stock-valuation-report"==this.activeurlpath?this.reportMasterService.StockValuationObj={}:"salesbook-report"==this.activeurlpath?this.reportMasterService.SalesBookObj={}:"purchasebookreport"==this.activeurlpath?this.reportMasterService.PurchaseBookObj={}:"creditnotebook-report"==this.activeurlpath?this.reportMasterService.CreditNoteObj={}:"debitnotebook-report"==this.activeurlpath?this.reportMasterService.DebitNoteObj={}:"salesreport-itemwise"==this.activeurlpath?this.reportMasterService.SalesItemWiseObj={}:"purchasereport-itemwise"==this.activeurlpath?this.reportMasterService.PurchaseItemWiseObj={}:"salesreport-itemwise-detail"==this.activeurlpath?this.reportMasterService.SalesItemWiseDetailObj={}:"purchasereport-itemwise-detail"==this.activeurlpath?this.reportMasterService.PurchaseItemWiseDetailObj={}:"salesreport-customerwise"==this.activeurlpath?this.reportMasterService.SalesCustomerWiseObj={}:"purchasereport-supplierwise"==this.activeurlpath?this.reportMasterService.PurchaseSupplierWiseObj={}:"SalesReportCategoryWise"==this.activeurlpath?this.reportMasterService.SalesCategoryWiseObj={}:"PurchaseReportCategoryWise"==this.activeurlpath?this.reportMasterService.PurchaseCategoryWiseObj={}:"SalesReportProductTypeWise"==this.activeurlpath?this.reportMasterService.SalesProductTypeObj={}:"PurchaseReportProductTypeWise"==this.activeurlpath?this.reportMasterService.PurchaseProductTypeObj={}:"salesreport-supplierwise"==this.activeurlpath?this.reportMasterService.SalesSupplierWiseObj={}:"branch-transfer-report"==this.activeurlpath?this.reportMasterService.BranchTransferObj={}:"item-expiry-report"==this.activeurlpath?this.reportMasterService.ItemExpiryObj={}:"max-stocklevel-report"==this.activeurlpath?this.reportMasterService.MaximumStockLevelObj={}:"minimum-stocklevel-report"==this.activeurlpath?this.reportMasterService.MinimumStockLevelObj={}:"reorder-levelstock-report"==this.activeurlpath?this.reportMasterService.ReorderLevelStockReport={}:"stock-abcanalysis-report"==this.activeurlpath?this.reportMasterService.StockAbcAnalysisObj={}:"price-changelog-reportt"==this.activeurlpath?this.reportMasterService.PriceChangeLogObj={}:"salesprofitability-analysis"==this.activeurlpath?this.reportMasterService.SalesProfitabilityAnalysisObj={}:"purchaseorderreport"==this.activeurlpath?this.reportMasterService.PurchaseOrderReportObj={}:"purchaseorder-outstanding"==this.activeurlpath?this.reportMasterService.PurchaseOrderOutstandingObj={}:"quotationreport"==this.activeurlpath?this.reportMasterService.QuotationReportObj={}:"salesorderreport"==this.activeurlpath?this.reportMasterService.SalesOrderReportObj={}:"salesorderoutstanding"==this.activeurlpath?this.reportMasterService.SalesOrderOutstandingObj={}:"currentstock-warehousewise"==this.activeurlpath?(this.reportMasterService.CurrentStockWarehousewiseObj={},this.reportMasterService.ConsolidatedStockWarehousewiseObj={}):"grn-report"==this.activeurlpath?this.reportMasterService.GrnReportObj={}:"repack-report"==this.activeurlpath?this.reportMasterService.RepackReportObj={}:"requisition-report"==this.activeurlpath?this.reportMasterService.RequisitionReportObj={}:"raw-data-report"==this.activeurlpath?this.reportMasterService.RawDataReportObj={}:"stockageing-report"==this.activeurlpath?this.reportMasterService.StockAgeingObj={}:"branch-transferout-vs-inreport"==this.activeurlpath?this.reportMasterService.BranchtransferoutVsInObj={}:"stock-report-warehouse-wise"==this.activeurlpath?this.reportMasterService.StockWarehousewiseObj={}:"consolidatedpurchase-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedPurchaseBranchWiseObj={}:"consolidatedsales-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedSalesBranchWiseObj={}:"consolidatedstock-report-branchwise"==this.activeurlpath?this.reportMasterService.ConsolidtedStockBranchWiseObj={}:"branch-transfer-inreport-itemwise"==this.activeurlpath?this.reportMasterService.BranchTransferInItemWiseObj={}:"branch-transferout-itemwise"==this.activeurlpath?this.reportMasterService.BranchTransferOutItemwiseObj={}:"sales-collection-report"==this.activeurlpath?this.reportMasterService.SalesCollectionObj={}:"openingstockreport"==this.activeurlpath?this.reportMasterService.OpeningStockObj={}:"stock-issue-report"==this.activeurlpath?this.reportMasterService.StockIssueObj={}:"vat-saleseregisterreport-new"==this.activeurlpath?this.reportMasterService.VATSalesNewObj={}:"vat-purchaseregisterreport-new"==this.activeurlpath?this.reportMasterService.VATPurchaseNewObj={}:"stock-variance-report"==this.activeurlpath?this.reportMasterService.StockVarianceObj={}:"salesrevenue-analysisreport"==this.activeurlpath?this.reportMasterService.SalesRevenueAnalysisObj={}:"salesreport-salesmanwise"==this.activeurlpath?this.reportMasterService.SalesReportSalesmanWiseObj={}:"salesreport-membershipwise"==this.activeurlpath?this.reportMasterService.SalesMembershipWiseObj={}:"recurring-transaction-analysis-report"==this.activeurlpath?this.reportMasterService.RecurringTransactionAnalysisObj={}:"recurring-transaction-report"==this.activeurlpath?this.reportMasterService.RecurringTransactionReportObj={}:"sales-flow-report-monthwise"==this.activeurlpath?this.reportMasterService.SalesFlowObj={}:"purchase-flow-report-monthwise"==this.activeurlpath?this.reportMasterService.PurchaseFlowObj={}:"sales-revenue-metrics-report"==this.activeurlpath?this.reportMasterService.SalesRevenueMetricsObj={}:"transreport"==this.activeurlpath&&(this.reportMasterService.TransactionLogObj={}),this.warehouseDisplayName="",this.categoryDisplayName="",this.itemGroupDisplayName="",this.itemTypeDisplay="",this.supplierDisplayName="",this.itemDisplayName="",this.itemDisplaycode="",this.labelDisplayName="",this.costcenterDisplayName="",this.reportTypeDisplayName="",this.reportModeDisplayName="",this.includeReturnDisplayName="",this.creditNoteDisplayName="",this.customerDisplayName="",this.reportOptionDisplayName="",this.recurringTransactionMode="",this.showDetailDisplay="",this.showUserWiseFormat="",this.reportTypeDisplay="",this.customerTypeDisplayName="",this.areaDisplayName="",this.transactionDisplayName="",this.areaWiseDisplayName="",this.tranAmntDisplayName="",this.productTypeDisplay="",this.purchaseReturnDisplayName="",this.debitNoteDisplayName="",this.purchasetranAmntDisplayName="",this.RecurringCategory="",this.itemName="",this.purchaseItemWiseDisplay="",this.divisionDisplayName="",this.reportMasterService.reportDataStore[this.activeurlpath]=void 0;let r=this.reportMasterService.previouslyLoadedReportList.findIndex(t=>t.activerurlpath2==this.activeurlpath);this.reportMasterService.previouslyLoadedReportList.splice(r,1),this.router.navigate(0==this.reportMasterService.previouslyLoadedReportList.length?["/pages/dashboard"]:[this.reportMasterService.previouslyLoadedReportList[this.reportMasterService.previouslyLoadedReportList.length-1].activeurlpath])}ngOnDestroy(){this.dialog.closeAll()}changeDate(r,t,o){"AD"==o&&(this.FromdateInAD=this.masterService.toBSDate(r),this.TodateInAD=this.masterService.toBSDate(t))}getReportHeadingStyles(){return{"font-size.px":this.masterService.userSetting.REPHEADING_FONTSIZE?this.masterService.userSetting.REPHEADING_FONTSIZE:"12","font-family":this.masterService.userSetting.REPHEADING_FONTNAME?this.masterService.userSetting.REPHEADING_FONTNAME:"Roboto, Arial, sans-serif"}}getReportDetailStyles(){return{"font-size.px":this.masterService.userSetting.REPDETAIL_FONTSIZE?this.masterService.userSetting.REPDETAIL_FONTSIZE:"12","font-family":this.masterService.userSetting.REPDETAIL_FONTNAME?this.masterService.userSetting.REPDETAIL_FONTNAME:"Tahoma"}}getReportFooterStyles(){return{"font-size.px":this.masterService.userSetting.REPTOTAL_FONTSIZE?this.masterService.userSetting.REPTOTAL_FONTSIZE:"12","font-family":this.masterService.userSetting.REPTOTAL_FONTNAME?this.masterService.userSetting.REPTOTAL_FONTNAME:"Tahoma"}}prepareOptionalHeader(r=[]){let t=[];if(r.length){for(var o of r)if(o.hasOwnProperty("colGroup")&&""!=o.colGroup&&!(0,H.isNullOrUndefined)(o.colGroup)){let h=r.filter(g=>g.colGroup==o.colGroup);t.filter(g=>g.colGroup==o.colGroup).length||t.push({colGroup:o.colGroup,width:l(h)+"px",colspan:Number(h.length),alignment:"center",mappingName:o.mappingName})}else t.push({colGroup:"",colspan:1,width:Number(o.size)+"px",alignment:"left",mappingName:o.mappingName});let c=t.filter(h=>"AGE1"==h.colGroup||"AGE2"==h.colGroup||"AGE3"==h.colGroup||"AGE4"==h.colGroup||"AGE5"==h.colGroup||"AGE6"==h?.colGroup||"AGE7"==h?.colGroup||"AGE8"==h?.colGroup||"AGE9"==h?.colGroup||"AGE10"==h?.colGroup||"AGE11"==h?.colGroup),_=this.masterService.userProfile.userRights.find(h=>"StockAgeingLimit"==h.right).value;for(var i of c)"AGE1"==i.colGroup?i.colGroup="<="+this.reportparam.AGE1+" DAYS":"AGE2"==i.colGroup?i.colGroup="> "+this.reportparam.AGE1+" & <= "+this.reportparam.AGE2+" DAYS":"AGE3"==i.colGroup?i.colGroup="> "+this.reportparam.AGE2+" & <= "+this.reportparam.AGE3+" DAYS":"AGE4"==i.colGroup?i.colGroup="> "+this.reportparam.AGE3+" & <= "+this.reportparam.AGE4+" DAYS":"AGE5"==i.colGroup?i.colGroup=_<5?"OVER "+this.reportparam.AGE4+" DAYS":"> "+this.reportparam.AGE4+" & <= "+this.reportparam.AGE5+" DAYS":"AGE6"==i.colGroup?i.colGroup=_<6?"OVER "+this.reportparam.AGE5+" DAYS":"> "+this.reportparam.AGE5+" & <= "+this.reportparam.AGE6+" DAYS":"AGE7"==i.colGroup?i.colGroup=_<7?"OVER "+this.reportparam.AGE6+" DAYS":"> "+this.reportparam.AGE6+" & <= "+this.reportparam.AGE7+" DAYS":"AGE8"==i.colGroup?i.colGroup=_<8?"OVER "+this.reportparam.AGE7+" DAYS":"> "+this.reportparam.AGE7+" & <= "+this.reportparam.AGE8+" DAYS":"AGE9"==i.colGroup?i.colGroup=_<9?"OVER "+this.reportparam.AGE8+" DAYS":"> "+this.reportparam.AGE8+" & <= "+this.reportparam.AGE9+" DAYS":"AGE10"==i.colGroup?i.colGroup=_<10?"OVER "+this.reportparam.AGE9+" DAYS":"> "+this.reportparam.AGE9+" & <= "+this.reportparam.AGE10+" DAYS":"AGE11"==i.colGroup&&(i.colGroup="OVER "+this.reportparam.AGE10+" DAYS");let d=t.filter(h=>""!=h.colGroup);this.optionalreportHeaders=d.length?t:[]}function l(c=[]){let _=0;return c.length?(c.forEach(d=>{_+=Number(d.size)}),_):100}}drillDownReport(r){console.log("Drill report 1",r),console.log("reportmaster detail",this.reportmasterDetail),this.reportmasterDetail.hasOwnProperty("DRILLKEY")&&this.reportmasterDetail.hasOwnProperty("DRILLTO")&&this.reportmasterDetail.hasOwnProperty("ISDRILLABLE")&&this.reportmasterDetail.ISDRILLABLE&&("Sales Book Report_2"==this.reportmasterDetail.DRILLTO||"Credit Note Book Report_2"==this.reportmasterDetail.DRILLTO||"Purchase Book Report_2"==this.reportmasterDetail.DRILLTO||"Debit Note Book Report_2"==this.reportmasterDetail.DRILLTO?this.masterService.masterPostmethod("/getStartEndMonthDate",{data:{YEAR:r.YNAME,MONTH:r.MNAME}}).subscribe(i=>{this.startDate=i.result?i.result[0].FROMDATE.split("T")[0]:"",this.endDate=i.result?i.result[0].TODATE.split("T")[0]:"",this.routerToVouchers(r)},i=>{},()=>{}):this.routerToVouchers(r))}onRightClick(r,t){if(r.preventDefault(),!this.reportContextMenu.length)return;let o=new z.xQ;this.conTextMenuAction(o,t),this.contextMenuView.mouseEvent=r,this.contextMenuView.menuItems=this.buildContextMenuItems(o),this.contextMenuView.show=!0}conTextMenuAction(r,t){r.asObservable().subscribe(i=>{"SHOWIMAGE"==i.value?this.getItemImage(t):(this.reportmasterDetail.DRILLTO=i.value,this.drillDownReport(t),this.contextMenuView.show=!0)})}buildContextMenuItems(r){let t=[];for(let o of this.reportContextMenu)t.push(new br(o.menuname,o.commandname,r));return t}getItemImage(r){console.log("getItemImage",r),r.MCODE&&this.reportMasterService.getItemImage(r.MCODE).subscribe(t=>{if("ok"==t.status){let o=t.result[0];null!=o.ImageUpload?(this.itemObj.MENUCODE=o.MENUCODE,this.itemObj.ITEMNAME=o.DESCA,this.itemObj.IMAGEURL=""+this.imgUrl+o.ImageUpload,this.itemObj.MRP=o.MRP,console.log("image",this.itemObj.IMAGEURL),this.showItemImage=!0):this.alertService.error("No Image found for this item")}else this.alertService.error("Cannot find Image for this item")},t=>{this.alertService.error(t)})}closeImagePopup(){this.showItemImage=!1}sortTableData(r,t,o){this.mergereportHeaders[o].sortOrder="asc"==t?"desc":"asc",this.reportData.sort(function i(l,c="asc"){return function(d,h){if(!d.hasOwnProperty(l)||!h.hasOwnProperty(l))return 0;const p="string"==typeof d[l]?d[l].toUpperCase():d[l],g="string"==typeof h[l]?h[l].toUpperCase():h[l];let O=0;return p>g?O=1:p<g&&(O=-1),"desc"===c?-1*O:O}}(r,t))}resolveDrillDownParam(r,t,o=null){switch(this.reportMasterService.drillParam={},this.reportMasterService.drillParam.reportparam={},this.reportMasterService.drillParam.returnUrl=this.arouter.snapshot._routerState.url,this.reportMasterService.drillParam.reportparam.mode="DRILL",console.log("reptype",r),r){case"Stock Ledger Report":case"Stock Ledger Other Report":console.log("CheckChecccc##",this.masterService.PhiscalObj.BeginDate,this.masterService.PhiscalObj.EndDate),this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.masterService.PhiscalObj.BeginDate,this.reportMasterService.drillParam.reportparam.DATE2=this.masterService.PhiscalObj.EndDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.PhiscalObj.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=t.MENUCODE,"GROUP"===o||(this.reportMasterService.drillParam.reportname="Stock Ledger Other Report");let h=this.reportMasterService.previouslyLoadedReportList.findIndex(O=>"Stock Ledger Report"==O.reportname);h>=0&&this.reportMasterService.previouslyLoadedReportList.splice(h,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Stock Ledger Report",activeurlpath:"/pages/reports/stock-ledger-report",activerurlpath2:"stock-ledger-report"});break;case"Stock Summary Report_A":this.reportMasterService.drillParam.reportname="Stock Summary Report_A",this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=t.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=0,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=this.reportparam.ShowItemInGroupWiseReport,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT;break;case"Stock Summary Report_2":this.reportMasterService.drillParam.reportname="Stock Summary Report_2",this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=t.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=1,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=1,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT;break;case"Stock Summary Report_4":this.reportMasterService.drillParam.reportname="Stock Summary Report_4",this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.WAREHOUSE=this.reportparam.WAREHOUSE,this.reportMasterService.drillParam.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.reportMasterService.drillParam.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.DESCA,this.reportMasterService.drillParam.reportparam.MENUCODE=t.MENUCODE,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.DETAILFORMAT=0,this.reportMasterService.drillParam.reportparam.REPORTTYPE=2,this.reportMasterService.drillParam.reportparam.ShowItemInGroupWiseReport=1,this.reportMasterService.drillParam.reportparam.ReportMode=this.reportparam.ReportMode,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.SUPCODE=this.reportparam.SUPCODE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCAT=t[this.reportmasterDetail.DRILLKEY];break;case"Membership Point Report_1":this.reportMasterService.drillParam.reportname="Membership Point Report_1",this.reportMasterService.drillParam.reportparam.MEMID=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.POINT=this.reportparam.POINT,this.reportMasterService.drillParam.reportparam.SUMMARY=0,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.MEMNAME=t.MEMBER_NAME;break;case"Stock Valuation ReportNONDMS_1":this.reportMasterService.drillParam.reportname="Stock Valuation ReportNONDMS_1",this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE=this.reportparam.DATE,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.ITEMNAME=t["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MENUCODE=t["ITEM CODE"];break;case"Sales Book Report_2":if(this.reportMasterService.drillParam.reportname="Sales Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD)this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate;else if(0==this.reportparam.INAD){var i=C(10484),l=this.startDate.replace("-","/").replace("-","/"),c=i.bs2ad(l);this.reportMasterService.drillParam.reportparam.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day);var _=this.endDate.replace("-","/").replace("-","/"),d=i.bs2ad(_);this.reportMasterService.drillParam.reportparam.DATE2=d.year+"-"+(1==d.month.toString().length?"0"+d.month:d.month)+"-"+(1==d.day.toString().length?"0"+d.day:d.day)}this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Sales Book Report":this.reportMasterService.drillParam.reportname="Sales Book Report",this.datetochange=t.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Sales Book Report_1":this.reportMasterService.drillParam.reportname="Sales Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Purchase Book Report_2":this.reportMasterService.drillParam.reportname="Purchase Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=C(10484),l=this.startDate.replace("-","/").replace("-","/"),c=i.bs2ad(l),this.reportMasterService.drillParam.reportparam.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day),_=this.endDate.replace("-","/").replace("-","/"),d=i.bs2ad(_),this.reportMasterService.drillParam.reportparam.DATE2=d.year+"-"+(1==d.month.toString().length?"0"+d.month:d.month)+"-"+(1==d.day.toString().length?"0"+d.day:d.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Purchase Book Report":this.reportMasterService.drillParam.reportname="Purchase Book Report",this.datetochange=t.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Purchase Book Report_1":this.reportMasterService.drillParam.reportname="Purchase Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME;break;case"Credit Note Book Report_2":this.reportMasterService.drillParam.reportname="Credit Note Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=C(10484),l=this.startDate.replace("-","/").replace("-","/"),c=i.bs2ad(l),this.reportMasterService.drillParam.reportparam.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day),_=this.endDate.replace("-","/").replace("-","/"),d=i.bs2ad(_),this.reportMasterService.drillParam.reportparam.DATE2=d.year+"-"+(1==d.month.toString().length?"0"+d.month:d.month)+"-"+(1==d.day.toString().length?"0"+d.day:d.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Credit Note Book Report":this.reportMasterService.drillParam.reportname="Credit Note Book Report",this.datetochange=t.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE;break;case"Credit Note Book Report_1":this.reportMasterService.drillParam.reportname="Credit Note Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.CNMODE=this.reportparam.CNMODE;break;case"Debit Note Book Report_2":this.reportMasterService.drillParam.reportname="Debit Note Book Report_2",this.reportMasterService.drillParam.reportparam.INAD=this.reportparam.INAD,1==this.reportparam.INAD?(this.reportMasterService.drillParam.reportparam.DATE1=this.startDate,this.reportMasterService.drillParam.reportparam.DATE2=this.endDate):0==this.reportparam.INAD&&(i=C(10484),l=this.startDate.replace("-","/").replace("-","/"),c=i.bs2ad(l),this.reportMasterService.drillParam.reportparam.DATE1=c.year+"-"+(1==c.month.toString().length?"0"+c.month:c.month)+"-"+(1==c.day.toString().length?"0"+c.day:c.day),_=this.endDate.replace("-","/").replace("-","/"),d=i.bs2ad(_),this.reportMasterService.drillParam.reportparam.DATE2=d.year+"-"+(1==d.month.toString().length?"0"+d.month:d.month)+"-"+(1==d.day.toString().length?"0"+d.day:d.day)),this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=2;break;case"Debit Note Book Report":this.reportMasterService.drillParam.reportname="Debit Note Book Report",this.datetochange=t.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=0,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=this.reportparam.VCHR,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE;break;case"Debit Note Book Report_1":this.reportMasterService.drillParam.reportname="Debit Note Book Report_1",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=1,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT=1,this.reportMasterService.drillParam.reportparam.INCLUDE_RETURN=this.reportparam.INCLUDE_RETURN,this.reportMasterService.drillParam.reportparam.VCHR=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMER=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.DNMODE=this.reportparam.DNMODE;break;case"Sales Report Item Wise Detail":"Sales Report Item Wise Detail_2"==this.reportmasterDetail.REPORTNAME?(this.datetochange=t.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE):"Sales Report Category Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.CATEGORY,this.reportMasterService.drillParam.reportparam.MENUCODE=t["ITEM CODE"]):"Sales Report Product Type Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.PTYPENAME,this.reportMasterService.drillParam.reportparam.MENUCODE=t.UNIT):"Sales Report Supplier Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=t["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.MENUCODE=t["ITEM CODE"]):(this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.MENUCODE=t["ITEM CODE"],this.reportMasterService.drillParam.reportparam.ITEMNAME=t["ITEM NAME"]),this.reportMasterService.drillParam.reportname="Sales Report Item Wise Detail",this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=0,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=0;let p=this.reportMasterService.previouslyLoadedReportList.findIndex(O=>"Sales Report Item Wise Detail"==O.reportname);p>=0&&this.reportMasterService.previouslyLoadedReportList.splice(p,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Sales Report Item Wise Detail",activeurlpath:"/pages/reports/salesreport-itemwise-detail",activerurlpath2:"salesreport-itemwise-detail"});break;case"Purchase Report Item Wise Detail":"Purchase Report Item Wise Detail_2"==this.reportmasterDetail.REPORTNAME?(this.datetochange=t.DATE,this.formattedDate=(0,u.p6)(this.datetochange,"yyyy-MM-dd","en-US"),this.reportMasterService.drillParam.reportparam.DATE1=this.formattedDate,this.reportMasterService.drillParam.reportparam.DATE2=this.formattedDate,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE):"Purchase Report Product Type Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.PTYPENAME,this.reportMasterService.drillParam.reportparam.MENUCODE=t.UNIT):"Purchase Report Category Wise_1"==this.reportmasterDetail.REPORTNAME?(this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.CATEGORY,this.reportMasterService.drillParam.reportparam.MENUCODE=t["ITEM CODE"]):(this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.MENUCODE=t["ITEM CODE"],this.reportMasterService.drillParam.reportparam.ITEMNAME=t["ITEM NAME"]),this.reportMasterService.drillParam.reportname="Purchase Report Item Wise Detail",this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=this.reportparam.SHOWDETAIL,this.reportMasterService.drillParam.reportparam.REPORT_TYPE=0;let g=this.reportMasterService.previouslyLoadedReportList.findIndex(O=>"Purchase Report Item Wise Detail"==O.reportname);g>=0&&this.reportMasterService.previouslyLoadedReportList.splice(g,1),this.reportMasterService.previouslyLoadedReportList.push({reportname:"Purchase Report Item Wise Detail",activeurlpath:"/pages/reports/purchasereport-itemwise-detail",activerurlpath2:"purchasereport-itemwise-detail"});break;case"Sales Report Item Wise_2":this.reportMasterService.drillParam.reportname="Sales Report Item Wise_2",this.reportMasterService.drillParam.reportparam.MGROUP=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=2,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE;break;case"Purchase Report Item Wise_2":this.reportMasterService.drillParam.reportname="Purchase Report Item Wise_2",this.reportMasterService.drillParam.reportparam.MGROUP=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=2,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE;break;case"Sales Report Item Wise_3":"B"!=t.FFLG&&(this.reportMasterService.drillParam.reportname="Sales Report Item Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=3,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=this.reportparam.MENUCODE);break;case"Purchase Report Item Wise_3":"B"!=t.FFLG&&(this.reportMasterService.drillParam.reportname="Purchase Report Item Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISEREPORT=1,this.reportMasterService.drillParam.reportparam.ITEMGROUPWISE=3,this.reportMasterService.drillParam.reportparam.PTYPE=this.reportparam.PTYPE,this.reportMasterService.drillParam.reportparam.MGROUP=this.reportparam.MGROUP,this.reportMasterService.drillParam.reportparam.ITEMNAME=t.ITEMNAME,this.reportMasterService.drillParam.reportparam.MCAT=this.reportparam.MCAT,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.MENUCODE=t.MGROUP_NAME);break;case"Sales Report Customer Wise_2":this.reportMasterService.drillParam.reportname="Sales Report Customer Wise_2",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CTYPE=this.reportparam.CTYPE,this.reportMasterService.drillParam.reportparam.AREAID=this.reportparam.AREAID,this.reportMasterService.drillParam.reportparam.TRNMODE=this.reportparam.TRNMODE,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.SHOWAREAWISE=this.reportparam.SHOWAREAWISE,this.reportMasterService.drillParam.reportparam.CUSTID=t.CUSTID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=t["CUSTOMER NAME"],this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Customer Wise_3":this.reportMasterService.drillParam.reportname="Sales Report Customer Wise_3",this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.CTYPE=this.reportparam.CTYPE,this.reportMasterService.drillParam.reportparam.AREAID=this.reportparam.AREAID,this.reportMasterService.drillParam.reportparam.TRNMODE=this.reportparam.TRNMODE,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.SHOWAREAWISE=this.reportparam.SHOWAREAWISE,this.reportMasterService.drillParam.reportparam.CUSTID=this.reportparam.CUSTID,this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.CUSTOMERNAME=this.reportparam.CUSTOMERNAME,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.ITEMNAME=t["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.SHOWDETAIL=2;break;case"Purchase Report Supplier Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Supplier Wise_1",this.reportMasterService.drillParam.reportparam.ACID=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=t["SUPPLIER NAME"],this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Supplier Wise_2":this.reportMasterService.drillParam.reportname="Purchase Report Supplier Wise_2",this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.MCODE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ITEMNAME=t["ITEM DESCRIPTION"],this.reportMasterService.drillParam.reportparam.ACID=this.reportparam.ACID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=this.reportparam.SUPPLIERNAME,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=2;break;case"Sales Report Category Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Category Wise_1",this.reportMasterService.drillParam.reportparam.MCAT=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Category Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Category Wise_1",this.reportMasterService.drillParam.reportparam.MCAT=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Product Type Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Product Type Wise_1",this.reportMasterService.drillParam.reportparam.PTYPE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Purchase Report Product Type Wise_1":this.reportMasterService.drillParam.reportname="Purchase Report Product Type Wise_1",this.reportMasterService.drillParam.reportparam.PTYPE=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Supplier Wise_1":this.reportMasterService.drillParam.reportname="Sales Report Supplier Wise_1",this.reportMasterService.drillParam.reportparam.ACID=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SUPPLIERNAME=t["SUPPLIER NAME"],this.reportMasterService.drillParam.reportparam.MCODE=this.reportparam.MCODE,this.reportMasterService.drillParam.reportparam.ITEMNAME=this.reportparam.ITEMNAME,this.reportMasterService.drillParam.reportparam.TRANSACTIONAMOUNT=this.reportparam.TRANSACTIONAMOUNT,this.reportMasterService.drillParam.reportparam.TOPNSORT=this.reportparam.TOPNSORT,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1;break;case"Sales Report Salesman Wise_1":case"Sales Report Salesman Wise_2":case"Sales Report Salesman Wise_3":this.reportMasterService.drillParam.reportname=r,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SALESMAN=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.SALESMANNAME=t.SALESMAN,this.reportMasterService.drillParam.reportparam.SHOWDETALREPORT="Sales Report Salesman Wise_1"==r?"0":"1",this.reportMasterService.drillParam.reportparam.REPORT_TYPE="2";break;case"Sales Report Membership Wise_1":this.reportMasterService.drillParam.reportname=r,this.reportMasterService.drillParam.reportparam.DATE1=this.reportparam.DATE1,this.reportMasterService.drillParam.reportparam.DATE2=this.reportparam.DATE2,this.reportMasterService.drillParam.reportparam.DIV=this.reportparam.DIV,this.reportMasterService.drillParam.reportparam.CCENTER=this.reportparam.CCENTER,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID,this.reportMasterService.drillParam.reportparam.COMID=this.reportparam.COMID,this.reportMasterService.drillParam.reportparam.SHOWDETAIL=1,this.reportMasterService.drillParam.reportparam.MEMID=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.MEMBERNAME=t["MEMBER NAME"];break;case"Recurring Transaction Analysis Report_2":this.reportMasterService.drillParam.reportname=r,"Recurring Transaction Analysis Report"==this.reportmasterDetail.REPORTNAME&&(this.reportMasterService.drillParam.reportparam.CATNAME=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.ITEM=this.reportparam.ITEM,console.log("Catname",this.reportMasterService.drillParam.reportparam.CATNAME),console.log("Item",this.reportMasterService.drillParam.reportparam.ITEM)),"Recurring Transaction Analysis Report_1"==this.reportmasterDetail.REPORTNAME&&(this.reportMasterService.drillParam.reportparam.ITEM=t[this.reportmasterDetail.DRILLKEY],this.reportMasterService.drillParam.reportparam.CATNAME=this.reportparam.CATNAME,console.log("Catname",this.reportMasterService.drillParam.reportparam.CATNAME),console.log("Item",this.reportMasterService.drillParam.reportparam.ITEM)),this.reportMasterService.drillParam.reportparam.REPORTYPE=2,this.reportMasterService.drillParam.reportparam.REPORTOPTION=this.reportparam.REPORTOPTION,this.reportMasterService.drillParam.reportparam.RECURRINGMODE=this.reportparam.RECURRINGMODE,this.reportMasterService.drillParam.reportparam.PHISCALID=this.reportparam.PHISCALID}}getDrillRouteVoucherWise(r,t){let o=r.substring(0,2).toUpperCase();switch(console.log("voucher no",o),o){case"TI":return"/pages/transaction/sales/add-sales-invoice";case"PI":return"/pages/transaction/purchases/add-purchase-invoice";case"CN":return"/pages/transaction/sales/add-creditnote-itembase";case"DN":return"/pages/transaction/purchases/add-debitnote-itembase";case"PO":return"0"==t?"/pages/transaction/purchases/add-purchase-order":"10"==t?"/pages/transaction/purchases/purchase-import-order":"/pages/transaction/purchases/add-purchase-order";case"SO":return"/pages/transaction/sales/salesorder";case"QT":return"/pages/transaction/sales/quotation";case"IS":return"/pages/transaction/inventory/add-stock-issue";case"IR":return"/pages/transaction/inventory/stock-issue-return";case"SI":return"/pages/transaction/sales/abbreviated-sales-invoice";case"GR":return"/pages/transaction/purchases/goods-received-note";case"PP":return"/pages/transaction//sales/performa-invoice";case"RQ":return"/pages/transaction/inventory/requisition-entry";case"RP":return"/pages/transaction/inventory/repack-entry"}}loadReportDataFromExistingStore(){let r=this.reportMasterService.reportDataStore[this.activeurlpath];null!=r&&null!=r&&(this.reportData=r.data.result.data,this.reportDetail=r.data.result.repDetails,this.reportname=r.param.reportname,this.reportparam=r.param.reportparam,this.reportContextMenu=r.data.result.reportContextMenu,this.reportmasterDetail=r.data.result.reportmasterDetail,this.showReportName=r.param.REPORTDISPLAYNAME?r.param.REPORTDISPLAYNAME:r.param.reportname,this.reportFooter=r.data.result.totalRowData,this.hasDynamicHeaders=this.reportmasterDetail.DYNAMICHEADER,this.MergeReportHeader=this.reportmasterDetail.MERGEREPORTHEADER,this.REPORTROUNDINGMODE=this.reportmasterDetail.REPORTROUNDINGMODE)}storeAndUpdateReportDataStore(r,t){this.reportMasterService.reportDataStore[this.activeurlpath]={param:r,data:t}}ReportCriteriaDisplay(r,t){this.showReportName="Annex 5 Report"==t?"Annex 5 Report":t,this.engDateFrom=E()(r.DATE1).format("MM/DD/YYYY"),this.engDateTo=E()(r.DATE2).format("MM/DD/YYYY"),r.DATE1&&r.DATE2?this.changeDate(r.DATE1,r.DATE2,"AD"):r.DATE&&this.changeDate(r.DATE,r.DATE,"AD"),r.DIV&&(r.DIVISIONAME?this.divisionDisplayName=r.DIVISIONAME:"%"==r.DIV?this.divisionDisplayName="All":"%"!=r.DIV?this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(o=>{let i=o.filter(l=>l.Division==r.DIV);this.divisionDisplayName=i&&i.length>0&&i[0]?i[0].NAME:""}):this.divisionDisplayName=""),("Stock Summary Report"==this.showReportName||"Stock Summary Report_A"==this.showReportName||"Stock Summary Report_2"==this.showReportName||"Stock Summary Report_4"==this.showReportName)&&(this.showReportName="Stock Summary Report","%"!=r.MCODE?(this.itemDisplayName=r.ITEMNAME,this.itemDisplaycode=r.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.labelDisplayName="1"==r.ReportMode?" @Stock Report Excluding Zero B/L":"2"==r.ReportMode?" @Negative Stock Report Only":"3"==r.ReportMode?" @Zero B/L Stock Report Only":"",this.stockshowDetailDisplay=1==r.ShowDetail?"@Report with Item Detail":"",this.warehouseDisplayName="%"!=r.WAREHOUSE?r.WAREHOUSE:"ALL","%"!=r.MGROUP&&r.MGROUP?this.masterService.getItemGroupName(r.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=r.MCAT?r.MCAT:"","100"!=r.PTYPE?this.masterService.getItemTypeName(r.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.supplierDisplayName="%"!=r.SUPCODE?r.SUPPLIERNAME:""),"Stock Ledger Report"==this.showReportName&&("%"!=r.MCODE?(this.stockLedgerItemDisplayName=r.ITEMNAME,this.stockLedgerItemDisplaycode=r.MENUCODE):(this.stockLedgerItemDisplayName="",this.stockLedgerItemDisplaycode=""),"%"!=r.ITEMGROUP&&r.ITEMGROUP?this.masterService.getItemGroupName(r.ITEMGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.warehouseDisplayName="%"!=r.WAREHOUSE?r.WAREHOUSE:"",this.showDetailDisplay=1==r.SHOWDETAIL?" @Report with Item Detail":""),("Stock Valuation ReportNONDMS"==this.showReportName||"Stock Valuation ReportNONDMS_1"==this.showReportName||"Stock Valuation Report"==this.showReportName)&&(this.showReportName="Stock Valuation Report","%"!=r.MCODE?(this.itemDisplayName=r.ITEMNAME,this.itemDisplaycode=r.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.reportTypeDisplay=0==r.SHOWDETAIL?"@Summary Report":1==r.SHOWDETAIL?"@Detail Report":""),("Sales Book Report"==this.showReportName||"Sales Book Report_1"==this.showReportName||"Sales Book Report_2"==this.showReportName||"Sales Book Report_3"==this.showReportName)&&(this.showReportName="Sales Book Report",this.customerDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==r.REPORT_TYPE?"@Voucher Wise Sales Report":2==r.REPORT_TYPE?"@Day Wise Sales Report":3==r.REPORT_TYPE?"@Month Wise Sales Report":"",1==r.INCLUDE_RETURN?this.includeReturnDisplayName="@Report Including Sales Return":0==r.INCLUDE_RETURN&&(this.includeReturnDisplayName="@Report Excluding Sales Return"),this.showdetalreportdisplay=1==r.REPORT_TYPE?0==r.SHOWDETALREPORT?"@Summary Report":1==r.SHOWDETALREPORT?"@Detail Report":"":""),"Recurring Transaction Report"==this.showReportName&&(this.showReportName="Recurring Transaction Reprt",this.customerDisplayName="%"!=r.ACID?r.CUSTOMER:"",this.RecurringItemName=r.ITEM?"%"==r.ITEM?"ALL":r.ITEM:"",this.RecurringCategory=r.CATEGORY?"%"==r.CATEGORY?"ALL":r.CATEGORY:"",this.RecurringOptionDisplayName=0==r.REPORTOPTION?"Upcoming Recurring Transaction Report":1==r.REPORTOPTION?"Processed Recurring Transaction Report":2==r.REPORTOPTION?"Hold Recurring Transaction Report":3==r.REPORTOPTION?"New Recurring Transaction Report":4==r.REPORTOPTION?"Pending Recurring Transaction Report":""),("Recurring Transaction Analysis Report"==this.showReportName||"Recurring Transaction Analysis Report_1"==this.showReportName||"Recurring Transaction Analysis Report_2"==this.showReportName)&&(console.log("report param",r),this.showReportName="Recurring Transaction Analysis Report",this.reportTypeDisplayName=0==r.REPORTYPE?"@Category Wise Report":1==r.REPORTYPE?"@Item Wise Report":2==r.REPORTYPE?"@Customer Wise Report":3==r.REPORTYPE?"@Yearly Comparision Report":"",this.RecurringOptionDisplayName=0==r.REPORTOPTION?"All Recurring":1==r.REPORTOPTION?"Processed Recurring":2==r.REPORTOPTION?"Non-Processed Recurring":3==r.REPORTOPTION?"New Recurring":"",this.recurringTransactionMode=0==r.RecurringMode?"ALL":1==r.RecurringMode?"Each Month":2==r.RecurringMode?"Each 3 Months":3==r.RecurringMode?"Each 6 Months":4==r.RecurringMode?"Each Year":"",this.categoryDisplayName="%"!=r.CATNAME?r.CATNAME:"",this.itemName="%"!=r.ITEM?r.ITEM:""),("Credit Note Book Report"==this.showReportName||"Credit Note Book Report_1"==this.showReportName||"Credit Note Book Report_2"==this.showReportName)&&(this.showReportName="Credit Note Book Report",this.customerDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==r.REPORT_TYPE?"@Voucher Wise Sales Report":2==r.REPORT_TYPE?"@Day Wise Sales Report":3==r.REPORT_TYPE?"@Month Wise Sales Report":"",0==r.CNMODE?this.creditNoteDisplayName="@Item Base Credit Note Only":1==r.CNMODE?this.creditNoteDisplayName="@A/C Base Credit Note Only":2==r.CNMODE&&(this.creditNoteDisplayName=""),this.showdetalreportdisplay=1==r.REPORT_TYPE?0==r.SHOWDETALREPORT?"@Summary Report":1==r.SHOWDETALREPORT?"@Detail Report":"":""),("Sales Report Item Wise"==this.showReportName||"Sales Report Item Wise_2"==this.showReportName||"Sales Report Item Wise_3"==this.showReportName)&&(this.showReportName="Sales Report Item Wise","%"!=r.MGROUP?this.masterService.getItemGroupName(r.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=r.MCAT?r.MCAT:"","100"!=r.PTYPE?this.masterService.getItemTypeName(r.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.customerDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"","%"!=r.MCODE?(this.itemwiseDisplaycode=r.ITEMNAME,this.itemwiseDisplayName=r.MENUCODE):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.showUserWiseFormat=1==r.SHOWUSERWISE?"@Report with User Wise Format":""),"Sales Report Item Wise Detail"==this.showReportName&&("%"!=r.MCODE?(this.itemwiseDisplaycode=r.MENUCODE,this.itemwiseDisplayName=r.ITEMNAME):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportOptionDisplayName=0==r.REPORT_TYPE?"@Bill Wise Report":1==r.REPORT_TYPE?"@Day Wise Report":"",this.showDetailDisplay=1==r.SHOWDETAIL?"@Report with Item Detail":"",this.showUserWiseFormat=1==r.SHOWUSERWISE?"@Report with User Wise Format":""),("Sales Report Customer Wise"==this.showReportName||"Sales Report Customer Wise_2"==this.showReportName||"Sales Report Customer Wise_3"==this.showReportName)&&(this.showReportName="Sales Report Customer Wise",this.reportTypeDisplay=0==r.SHOWDETAIL?"@Summary Report":1==r.SHOWDETAIL?"@Detail Report- By Item":2==r.SHOWDETAIL?"@Detail Report- By Sales Bill":"",this.customerDisplayName="%"!=r.CUSTID?r.CUSTOMERNAME:"","%"!=r.CTYPE||(this.customerTypeDisplayName=""),"%"!=r.AREAID||(this.areaDisplayName=""),"%"!=r.TRNMODE?"CREDIT"==r.TRNMODE?this.transactionDisplayName="CREDIT":"NONCREDIT"==r.TRNMODE&&(this.transactionDisplayName="NONCREDIT"):this.transactionDisplayName="",1==r.SHOWAREAWISE?this.areaWiseDisplayName="@Area Wise Report":0==r.SHOWAREAWISE&&(this.areaWiseDisplayName=""),this.tranAmntDisplayName=r.TRANSACTIONAMOUNT?r.TRANSACTIONAMOUNT:"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Category Wise"==this.showReportName||"Sales Report Category Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Category Wise",this.categoryDisplayName="%"!=r.MCAT?r.MCAT:"",this.reportTypeDisplay=0==r.SHOWDETAIL?"@Summary Report":1==r.SHOWDETAIL?"@Detail Report":"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Product Type Wise"==this.showReportName||"Sales Report Product Type Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Product Type Wise","100"!=r.PTYPE?this.masterService.getItemTypeName(r.PTYPE).subscribe(o=>{this.productTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.productTypeDisplay="",this.reportTypeDisplay=0==r.SHOWDETAIL?"@Summary Report":1==r.SHOWDETAIL?"@Detail Report":"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Sales Report Supplier Wise"==this.showReportName||"Sales Report Supplier Wise_1"==this.showReportName)&&(this.showReportName="Sales Report Supplier Wise",this.reportTypeDisplay=0==r.SHOWDETAIL?"@Summary Report":1==r.SHOWDETAIL||2==r.SHOWDETAIL?"@Detail Report":"",this.supplierDisplayName="%"!=r.ACID?r.SUPPLIERNAME:"",this.tranAmntDisplayName=r.TRANSACTIONAMOUNT?r.TRANSACTIONAMOUNT:"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Book Report"==this.showReportName||"Purchase Book Report_1"==this.showReportName||"Purchase Book Report_2"==this.showReportName)&&(this.showReportName="Purchase Book Report",this.reportTypeDisplayName=1==r.REPORT_TYPE?"@Voucher Wise Purchase Report":2==r.REPORT_TYPE?"@Day Wise Purchase Report":3==r.REPORT_TYPE?"@Month Wise Purchase Report":"",this.purchaseReturnDisplayName=1==r.INCLUDE_RETURN?"@Report Including Purchase Return":0==r.INCLUDE_RETURN?"@Report Excluding Purchase Return":"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.showdetalreportdisplay=1==r.REPORT_TYPE?0==r.SHOWDETALREPORT?"@Summary Report":1==r.SHOWDETALREPORT?"@Detail Report":"":""),("Debit Note Book Report"==this.showReportName||"Debit Note Book Report_1"==this.showReportName||"Debit Note Book Report_2"==this.showReportName)&&(this.showReportName="Debit Note Book Report","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportTypeDisplayName=1==r.REPORT_TYPE?"@Voucher Wise Purchase Report":2==r.REPORT_TYPE?"@Day Wise Purchase Report":3==r.REPORT_TYPE?"@Month Wise Purchase Report":"",0==r.DNMODE?this.debitNoteDisplayName="@Item Base Debit Note Only":1==r.DNMODE?this.debitNoteDisplayName="@A/C Base Debit Note Only":2==r.DNMODE&&(this.debitNoteDisplayName=""),this.showdetalreportdisplay=1==r.REPORT_TYPE?0==r.SHOWDETALREPORT?"@Summary Report":1==r.SHOWDETALREPORT?"@Detail Report":"":""),("Purchase Report Item Wise"==this.showReportName||"Purchase Report Item Wise_2"==this.showReportName||"Purchase Report Item Wise_3"==this.showReportName)&&(this.showReportName="Purchase Report Item Wise","%"!=r.MGROUP?this.masterService.getItemGroupName(r.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=r.MCAT?r.MCAT:"","100"!=r.PTYPE?this.masterService.getItemTypeName(r.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.supplierDisplayName="%"!=r.ACID?r.SUPPLIERNAME:"","%"!=r.MCODE?(this.itemDisplayName=r.ITEMNAME,this.itemDisplaycode=r.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.purchaseItemWiseDisplay=0==r.ITEMGROUPWISE?"Item Wise":1==r.ITEMGROUPWISE?"Mother Item Wise":"Mother Item Wise with Item Details"),"Purchase Report Item Wise Detail"==this.showReportName&&("%"!=r.MCODE?(this.itemDisplayName=r.ITEMNAME,this.itemDisplaycode=r.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.reportOptionDisplayName=0==r.REPORT_TYPE?"@Bill Wise Report":1==r.REPORT_TYPE?"@Day Wise Report":"",this.showDetailDisplay=1==r.SHOWDETAIL?"@Report with Item Detail":""),("Purchase Report Supplier Wise"==this.showReportName||"Purchase Report Supplier Wise_1"==this.showReportName||"Purchase Report Supplier Wise_2"==this.showReportName)&&(this.showReportName="Purchase Report Supplier Wise",this.reportTypeDisplay=0==r.SHOWDETAIL?"@Summary Report":1==r.SHOWDETAIL?"@Detail Report-By Item":2==r.SHOWDETAIL?"@Detail Report-By Purchase Bill":"",this.supplierDisplayName="%"!=r.ACID?r.SUPPLIERNAME:"",this.purchasetranAmntDisplayName=r.TRANSACTIONAMOUNT?r.TRANSACTIONAMOUNT:"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Report Category Wise"==this.showReportName||"Purchase Report Category Wise_1"==this.showReportName)&&(this.showReportName="Purchase Report Category Wise",this.categoryDisplayName="%"!=r.MCAT?r.MCAT:"",this.reportTypeDisplay=0==r.SHOWDETAIL?"@Summary Report":1==r.SHOWDETAIL?"@Detail Report":"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Purchase Report Product Type Wise"==this.showReportName||"Purchase Report Product Type Wise_1"==this.showReportName)&&(this.showReportName="Purchase Report Product Type Wise","100"!=r.PTYPE?this.masterService.getItemTypeName(r.PTYPE).subscribe(o=>{this.productTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.productTypeDisplay="",this.reportTypeDisplay=0==r.SHOWDETAIL?"@Summary Report":1==r.SHOWDETAIL?"@Detail Report":"","%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),("Membership Point Report"==this.showReportName||"Membership Point Report_1"==this.showReportName)&&(this.showReportName="Membership Point Report",this.showReportType=1==r.SUMMARY?"@Summary Report":0==r.SUMMARY?"@Detail Report":"",this.memberDisplayName="%"!=r.MEMID?r.MEMNAME:"",this.membershipPointDisplay=r.POINT?r.POINT:"",this.topNsortDisplay=1==r.TOPNSORT?"@Sorted By Top N Order":""),("Sales Profitability Analysis ReportNONDMS"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_1"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_2"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_3"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_4"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_5"==this.showReportName||"Sales Profitability Analysis ReportNONDMS_6"==this.showReportName)&&(this.showReportName="Sales Profitability Analysis Report","%"!=r.MGROUP?this.masterService.getItemGroupName(r.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",this.categoryDisplayName="%"!=r.MCAT?r.MCAT:"","100"!=r.PTYPE?this.masterService.getItemTypeName(r.PTYPE).subscribe(o=>{this.itemTypeDisplay=o.result?o.result[0].PTYPENAME:""}):this.itemTypeDisplay="",this.customerDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"","%"!=r.MCODE?(this.itemwiseDisplaycode=r.ITEMNAME,this.itemwiseDisplayName=r.MENUCODE):(this.itemwiseDisplayName="",this.itemwiseDisplaycode=""),"%"!=r.CCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName=""),"Purchase Order Report"==this.showReportName&&(this.showReportName="Purchase Order Report",this.supplierDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"",0==r.SUMMARYREPORT?this.reportTypeDisplay="@Detail Report":1==r.SUMMARYREPORT&&(this.reportTypeDisplay="@Summary Report")),"Purchase Order Outstanding Report"==this.showReportName&&(this.showReportName="Purchase Order Outstanding Report",this.supplierDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"","%"!=r.MCODE?(this.itemDisplayName=r.ITEMNAME,this.itemDisplaycode=r.MCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=r.MGROUP?this.masterService.getItemGroupName(r.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",0==r.ITEMWISEREPORT?this.reportTypeDisplay="@Purchase Order Wise Report":1==r.ITEMWISEREPORT&&(this.reportTypeDisplay="@Item Wise Report")),"Quotation Report"==this.showReportName&&(this.showReportName="Quotation Report",this.customerDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"","%"!=r.MCODE?(this.itemDisplayName=r.ITEMNAME,this.itemDisplaycode=r.MCODE):(this.itemDisplayName="",this.itemDisplaycode="")),"Sales Order Report"==this.showReportName&&(this.showReportName="Sales Order Report",this.customerDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"",0==r.SUMMARYREPORT?this.reportTypeDisplay="@Detail Report":1==r.SUMMARYREPORT&&(this.reportTypeDisplay="@Summary Report"),this.UserDisplayName="%"!=r.USER?r.USER:"","%"!=r.COSTCENTER?this.masterService.getCostCenterName(r.CCENTER).subscribe(o=>{this.costcenterDisplayName=o.result?o.result[0].COSTCENTERNAME:""}):this.costcenterDisplayName="",this.SalesmanDisplayName="%"!=r.SMANID?r.SALESMANNAME:""),"Sales Order Outstanding Report"==this.showReportName&&(this.showReportName="Sales Order Outstanding Report",this.customerDisplayName="%"!=r.ACID?r.CUSTOMERNAME:"","%"!=r.MCODE?(this.itemDisplayName=r.ITEMNAME,this.itemDisplaycode=r.MCODE):(this.itemDisplayName="",this.itemDisplaycode=""),"%"!=r.MGROUP?this.masterService.getItemGroupName(r.MGROUP).subscribe(o=>{this.itemGroupDisplayName=o.result?o.result[0].DESCA:""}):this.itemGroupDisplayName="",0==r.ITEMWISEREPORT?this.reportTypeDisplay="@Sales Order Wise Report":1==r.ITEMWISEREPORT&&(this.reportTypeDisplay="@Item Wise Report")),"Raw Data Report"==this.showReportName&&(this.showReportName="Raw Data Report","%"!=r.REPORT_ID?(console.log("@@reportparam",r.REPORT_NAME),this.reportTypeDisplay=`Report Type: ${r.REPORT_NAME}`):this.reportTypeDisplay=""),"Branch Transfer Report"==this.showReportName&&(this.reportTypeDisplay="TO%"==r.OPT_BRANCHINOUT?"@Report Type: Branch Transfer Out Report":"TR%"==r.OPT_BRANCHINOUT?"@Report Type: Branch Transfer In Report":""),"Stock Ageing Report"==this.showReportName&&(this.reportTypeDisplay=1==r.AGEINGMODE?"@Ageing Type: By Purchase Date":2==r.AGEINGMODE?"@Ageing Type: By Expiry Date":3==r.AGEINGMODE?"@Ageing Type: By Manufacturing Date":""),"Sales Collection Report"==this.showReportName&&(this.reportTypeDisplayName=0==r.REPORTTYPE?"@Summary Report":1==r.REPORTTYPE?"@Detail Report":"",this.reportOptionDisplayName=0==r.REPORTOPTION?"@User Wise Report":1==r.REPORTOPTION?"@Counter Wise Report":2==r.REPORTOPTION?"@Day Wise Report":"",this.UserDisplayName="%"!=r.TRNUSER?r.TRNUSER:"%"==r.TRNUSER&&1==r.ALLUSER?"All Users":"",this.terminalDisplayName="%"!=r.TERMINAL?r.TERMINALNAME:"%"==r.TERMINAL&&1==r.ALLTERMINAL?"All Counters":"",1==r.TIMWISEREPORT&&("00:00"!=r.TIME1&&"00:00"!=r.TIME2?(this.TimeDisplay=r.TIME1,this.TimeDisplay2=r.TIME2):(this.TimeDisplay="",this.TimeDisplay2=""))),("Consolidated Stock Report - Division Wise"==this.showReportName||"Consolidated Stock Report - Warehouse Wise"==this.showReportName||"Consolidated Sales Report - Division Wise"==this.showReportName||"Consolidated Purchase Report - Division Wise"==this.showReportName)&&(this.reportTypeDisplay=r.REPORTOPTIONDISPLAYNAME?r.REPORTOPTIONDISPLAYNAME:"",this.supplierDisplayName=r.SUPPLIERDISPLAYNAME?r.SUPPLIERDISPLAYNAME:"",this.customerDisplayName=r.CUSTOMERDISPLAYNAME?r.CUSTOMERDISPLAYNAME:"",this.categoryDisplayName=r.CATEGORYNAME?r.CATEGORYNAME:"",this.itemDisplayName=r.ITEMNAME?r.ITEMNAME:"",this.itemTypeDisplay=r.ITEMTYPENAME?r.ITEMTYPENAME:"",this.itemGroupDisplayName=r.ITEMGROUPNAME?r.ITEMGROUPNAME:"",this.warehouseDisplayName=r.WAREHOUSENAME?r.WAREHOUSENAME:""),"Opening Stock Report"==this.showReportName&&("%"!=r.MCODE?(this.itemDisplayName=r.ITEMNAME,this.itemDisplaycode=r.MENUCODE):(this.itemDisplayName="",this.itemDisplaycode=""),this.labelDisplayName="1"==r.ReportMode?" @Negative Stock Report Only":"",this.stockshowDetailDisplay=1==r.ShowDetail?"@Report with Item Detail":"",this.warehouseDisplayName="%"!=r.WAREHOUSE?r.WAREHOUSE:"",this.itemGroupDisplayName="%"!=r.MGROUP&&r.MGROUP?r.ITEMGROUPNAME:"",this.categoryDisplayName="%"!=r.MCAT?r.MCAT:"",this.itemTypeDisplay="100"!=r.PTYPE?r.ITEMTYPENAME:"",this.supplierDisplayName="%"!=r.SUPCODE?r.SUPPLIERNAME:""),"Stock Issue Report"==this.showReportName&&(this.FromwarehouseName=r.FROMWAREHOUSENAME?r.FROMWAREHOUSENAME:"",this.ToWarehouseName=r.TOWAREHOUSENAME?r.TOWAREHOUSENAME:"",this.reportTypeDisplay=r.REPORTOPTIONDISPLAYNAME?r.REPORTOPTIONDISPLAYNAME:""),"Requisition Report"==this.showReportName&&(this.reportTypeDisplay=1==r.ENTRYWISEREPORT?"@Entry Wise Report":2==r.ENTRYWISEREPORT?"@Item WiseReport":"",this.REQFROMDISPLAYNAME=r.REQFROMDISPLAYNAME?r.REQFROMDISPLAYNAME:"",this.REQTODISPLAYNAME=r.REQTODISPLAYNAME?r.REQTODISPLAYNAME:"","%"!=r.MCODE?this.itemwiseDisplaycode=r.ITEMNAME:this.itemwiseDisplayName="",0==r.Status?this.StatusDisplayName="All":1==r.Status?this.StatusDisplayName="Pending":2==r.Status?this.StatusDisplayName="Delivered":3==r.Status&&(this.StatusDisplayName="Force Closed")),"Shift Close Report"==this.showReportName&&(this.UserDisplayName="%"!=r.TRNUSER?r.TRNUSER:"",this.terminalDisplayName="%"!=r.TERMINAL?r.TERMINALNAME:""),"Stock Variance Report"==this.showReportName&&(this.warehouseDisplayName="%"!=r.WAREHOUSE?r.WAREHOUSE:""),"Sales Revenue Metrics Report"==this.showReportName&&(this.reportModeDisplayName=0==r.REPORTMODE?"Daily":1==r.REPORTMODE?"Weekly":"Monthly")}clickNext(){this.body.nativeElement.scrollTop=0}updown(r){"F2"==r.code&&(r.preventDefault(),this.fiterClickEvent()),"F9"==r.code&&(r.preventDefault(),this.ExportReportInExcel()),"F7"==r.code&&(r.preventDefault(),this.ExportReportInPdf()),"Escape"==r.code&&(1==this.reportLoadedSuccess&&(r.preventDefault(),this.closeReport()),1==this.showReportListDialog&&(r.preventDefault(),this.CancelReportList())),null==this.selectedRowIndex&&(this.selectedRowIndex=0),"ArrowDown"===r.code?1==this.showReportListDialog&&(r.preventDefault(),this.selectedRowIndex=this.selectedRowIndex+1,this.selectedRowIndex>this.previouslyLoadedReportsList.length-1&&(this.selectedRowIndex=this.previouslyLoadedReportsList.length-1)):"ArrowUp"===r.code&&1==this.showReportListDialog&&(r.preventDefault(),this.selectedRowIndex=this.selectedRowIndex-1,this.selectedRowIndex<0&&(this.selectedRowIndex=0)),"Enter"!==r.code&&"NumpadEnter"!==r.code||1!=this.showReportListDialog||(r.preventDefault(),null==this.selectedRowIndex||null==this.previouslyLoadedReportsList[this.selectedRowIndex])||this.router.navigate([this.previouslyLoadedReportsList[this.selectedRowIndex].activeurlpath])}routerToVouchers(r){switch(console.log("drillto",this.reportmasterDetail.DRILLTO),this.reportmasterDetail.DRILLTO){case"Stock Ledger Report":case"Stock Ledger Other Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,r.TYPE),this.router.navigate(["/pages/reports/stock-ledger-report"],{queryParams:{mode:"DRILL"}});break;case"VOUCHER":if((0,H.isNullOrUndefined)(r[this.reportmasterDetail.DRILLKEY]))return;this.router.navigate([this.getDrillRouteVoucherWise(r[this.reportmasterDetail.DRILLKEY],r.CNDN_MODE)],{queryParams:{mode:"DRILL",voucher:r[this.reportmasterDetail.DRILLKEY],returnUrl:this.activeurlpath}});break;case"Membership Point Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["/pages/reports/membershippointreport"],{queryParams:{mode:"DRILL"}});break;case"Stock Valuation ReportNONDMS_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/stock-valuation-report"],{queryParams:{mode:"DRILL"}});break;case"Sales Book Report_2":case"Sales Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesbook-report"],{queryParams:{mode:"DRILL"}});break;case"Sales Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesbook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Stock Summary Report_A":case"Stock Summary Report_4":case"Stock Summary Report_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/stock-summary-report"],{queryParams:{mode:"DRILL"}});break;case"Purchase Book Report_2":case"Purchase Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/purchasebookreport"],{queryParams:{mode:"DRILL"}});break;case"Purchase Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/purchasebookreport"],{queryParams:{mode:"DRILL",counter:0}});break;case"Credit Note Book Report_2":case"Credit Note Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/creditnotebook-report"],{queryParams:{mode:"DRILL"}});break;case"Credit Note Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/creditnotebook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Debit Note Book Report_2":case"Debit Note Book Report_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/debitnotebook-report"],{queryParams:{mode:"DRILL"}});break;case"Debit Note Book Report":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/debitnotebook-report"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Item Wise Detail":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesreport-itemwise-detail"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Item Wise Detail":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/purchasereport-itemwise-detail"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Item Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesreport-itemwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Item Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesreport-itemwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Purchase Report Item Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/purchasereport-itemwise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Item Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/purchasereport-itemwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Customer Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesreport-customerwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Customer Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesreport-customerwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Purchase Report Supplier Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/purchasereport-supplierwise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Supplier Wise_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/purchasereport-supplierwise"],{queryParams:{mode:"DRILL",counter:0}});break;case"Sales Report Category Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/SalesReportCategoryWise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Category Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/PurchaseReportCategoryWise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Product Type Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/SalesReportProductTypeWise"],{queryParams:{mode:"DRILL"}});break;case"Purchase Report Product Type Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/PurchaseReportProductTypeWise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Supplier Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesreport-supplierwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Salesman Wise_1":case"Sales Report Salesman Wise_2":case"Sales Report Salesman Wise_3":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesreport-salesmanwise"],{queryParams:{mode:"DRILL"}});break;case"Sales Report Membership Wise_1":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/salesreport-membershipwise"],{queryParams:{mode:"DRILL"}});break;case"Recurring Transaction Analysis Report_2":this.resolveDrillDownParam(this.reportmasterDetail.DRILLTO,r,null),this.router.navigate(["pages/reports/recurring-transaction-analysis-report"],{queryParams:{mode:"DRILL"}})}}clicked(r){this.HighlightRow=r}downloadReportPrepareFromAPI(){console.log("report rounding mode",this.REPORTROUNDINGMODE,"reports params",this.reportparam);var r=1;let t=this.reportHeaders.map(l=>({SNO:r++,ReportName:this.reportname,ColumnName:l.colHeader,MappingName:l.mappingName,MergeHeader:l.colGroup}));0!=this.REPORTROUNDINGMODE?this.reportparam.REPORTROUNDINGMODE=this.REPORTROUNDINGMODE:(this.reportparam.REPORTROUNDINGMODE=0,delete this.reportparam.REPORTROUNDINGMODE);let i={reportname:this.reportname,reportparam:this.reportparam,columnSetting:t||this.reportHeaders,REPORTDISPLAYNAME:this.showReportName};this.spinnerService.show("Report is downloading..Please wait"),this.masterService.DownLoadAllExcelReportPreparedFromAPI(i).subscribe(l=>{this.spinnerService.hide();let c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),_=i.REPORTDISPLAYNAME?i.REPORTDISPLAYNAME:i.reportname;_&&"Annex 5 Report"==_&&(_="Materialized View Report"),be.saveAs(c,`${_}.xlsx`)},l=>{this.spinnerService.hide()})}onRowsPerPageChange(r){r<15&&(this.alertService.error("Minimun value for Rows Per Column must be 15"),this.rowsperpage=15)}downloadpdfPrepareFromAPI(){var r=1;let t=this.reportHeaders.map(l=>({SNO:r++,ReportName:this.reportname,ColumnName:l.colHeader,MappingName:l.mappingName,MergeHeader:l.colGroup})),i={reportname:this.reportname,reportparam:this.reportparam,columnSetting:t||this.reportHeaders,REPORTDISPLAYNAME:this.showReportName};this.spinnerService.show("PDF is downloading...Please wait"),this.masterService.DownLoadAllPdfReportPreparedFromAPI(i).subscribe(l=>{this.spinnerService.hide();let c=new Blob([l],{type:"application/pdf"}),_=i.REPORTDISPLAYNAME?i.REPORTDISPLAYNAME:i.reportname;_&&"Annex 5 Report"==_&&(_="Materialized View Report"),be.saveAs(c,`${_}.pdf`)},l=>{this.spinnerService.hide()})}updateReportFormat(){this.reportMasterService.updateReportColumnFormat(this.ReportColumnName).subscribe(r=>{"ok"==r.status&&this.alertService.info("Report format is updated successfully")})}refreshReportColumns(){this.reportMasterService.refreshReportColumnFormate(this.reportname,this.reportparam).subscribe(r=>{"ok"==r.status?(this.reportColumnFormate=r.result,this.rowsperpage=r.result?r.result[0].rowsperpage:"100",0==this.reportColumnFormate.length?(this.ReportColumnName=this.reportHeaders.map(t=>({ReportName:this.reportname,ColumnName:t.colHeader,MappingName:t.mappingName,Show:t.Visible,ColWidth:t.size,Format:t.stringFormat,Align:t.alignment,ColumnPosition:t.colPosition,ColGroup:t.ColGroup,GroupSummary:t.groupSummaryFunction,GSFunction:t.groupSummaryFunction,TableSummary:t.showTables,TSFunction:t.tableSummaryFunction,ReportTitle:this.reportTitle,rowsperpage:this.rowsperpage})),this.ReportColumnName.forEach((t,o)=>{t.Show=1,t.TableSummary=0,t.GroupSummary=0,t.ColumnPosition=o+1})):this.ReportColumnName=this.reportColumnFormate.map(t=>({ReportName:this.reportname,ColumnName:t.ColumnName,MappingName:t.MappingName,Show:t.Show,ColWidth:t.ColWidth,Format:t.Format,Align:t.Align,ColumnPosition:t.ColumnPosition,ColGroup:t.ColGroup,GroupSummary:t.GroupSummary,GSFunction:t.GSFunction,TableSummary:t.TableSummary,TSFunction:t.TSFunction,ReportTitle:this.reportTitle,rowsperpage:t.rowsperpage}))):this.reportColumnFormate=[]})}prepareOptionalDynamicHeader(r=[]){let t=[],o=0;if(r.length){for(var i in r){if(this.reportmasterDetail.HASDYNAMICCOLUMNS&&1==this.reportmasterDetail.DYNAMICHEADER){let d,_="Default";_=1==this.reportmasterDetail.DYNAMICHEADER&&r[i].mappingName.includes("~")?r[i].mappingName.split("~")[0]:"Default",d=this.allHeaders.filter(p=>p.mappingName.split("~")[0]==r[i].mappingName.split("~")[0]);let h=t.filter(p=>p.mappingName.split("~")[0]==r[i].mappingName.split("~")[0]);o+1>=this.reportmasterDetail.DYNAMICCOLUMNSLEVEL?h.length||t.push({colGroup:"Default"==_?"":_,width:l(d,this.reportmasterDetail.DYNAMICCOLUMNWIDTH)+"px",colspan:Number(d.length),alignment:"center",mappingName:r[i].mappingName,colPosition:"Default"==_?r[i].colPosition+5e3:r[i].colPosition}):t.push({colGroup:"",colspan:1,width:Number(r[i].size)+"px",alignment:"center",mappingName:r[i].mappingName,colPosition:r[i].colPosition})}o++}t=_e().sortBy(t,"colPosition"),this.optionalreportHeaders=t.length?t:[]}function l(c=[],_){console.log("@@DYNAMICCOLUMNWIDTH",_);let d=0;return c.length?(c.forEach(h=>{d+=Number(_)}),d):100}}preparereportHeader(r=[]){let t=[];if(r.length){for(var o of r)if(o.hasOwnProperty("colHeader")&&""!=o.colHeader&&!(0,H.isNullOrUndefined)(o.colHeader)){let l=r.filter(_=>_.colHeader==o.colHeader);t.filter(_=>_.colHeader==o.colHeader).length||t.push({width:i(l)+"px",colspan:Number(l.length),alignment:"center",mappingName:o.mappingName,colHeader:o.colHeader})}else t.push({colHeader:o.colHeader,colspan:1,width:Number(o.size)+"px",alignment:"center",mappingName:o.mappingName});this.mergereportHeaders=t||[]}function i(l=[]){let c=0;return l.length?(l.forEach(_=>{c+=Number(_.size)}),c):100}}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(S.F0),e.Y36(b.P),e.Y36(P.e),e.Y36(S.gz),e.Y36(L.uw),e.Y36(A),e.Y36(Te.V),e.Y36(R.c),e.Y36(Oe.tm),e.Y36(v.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["reportmain"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Rr,5),e.Gf(Er,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.childModal=o.first),e.iGM(o=e.CRH())&&(t.body=o.first)}},hostBindings:function(r,t){1&r&&e.NdJ("keydown",function(i){return t.updown(i)},!1,e.evT)},inputs:{reportMaster:"reportMaster",reportname:"reportname"},decls:76,vars:30,consts:[[1,"clearfix"],[1,"row","col-md-12"],[1,"row","col-md-11"],[1,"modal-title","bold_text",2,"font-size","18px","margin-top","0px","margin-left","19px"],[4,"ngIf"],[1,"col-md-1"],["type","button","data-dismiss","modal",1,"close",2,"margin-right","30%","margin-top","5px",3,"click"],[1,"plainBackGround","toggable-sidebar",3,"ngClass"],[1,"btn","btn-info","btn-toggler",3,"click"],[1,"glyphicon","glyphicon-search"],[1,"fa","fa-angle-double-left",3,"ngClass"],["type","text","name","search","placeholder","Search in report",1,"form-control",2,"width","250px","height","25px","margin-right","50px","margin-bottom","10px",3,"ngModel","ngModelChange"],[2,"float","left","margin-left","10px","margin-right","0.5%"],[2,"height","30px","width","30px"],[1,"cell-with-comment",2,"border","1pt solid black",3,"click"],[2,"margin","5px"],["tooltip","Main filters",1,"fa","fa-filter"],[1,"cell-comment"],["style","height:30px;width:30px",4,"ngIf"],[2,"margin","4px"],["tooltip","Main filters",1,"fa","fa-file-export"],["id","pdfWidth",1,"cell-with-comment",2,"border","1pt solid black",3,"click"],[2,"margin","7px"],["tooltip","Main filters",1,"fa","fa-file-pdf"],["tooltip","Main filters",1,"fa","fa-file-alt"],[1,"report-table",2,"width","102%"],[1,"widgets"],[1,"row","table-container"],["id","BlueHeaderResizableTable",1,"reportTabel",2,"font-size","12px","width","98%","height","96%","overflow-x","auto"],["reportHtmlTable",""],[2,"height","25px"],["style","font-weight: bold;text-align: center;",3,"width","ngStyle","ngClass",4,"ngFor","ngForOf"],[2,"width","fit-content"],["body",""],[3,"ngClass","active","dblclick","contextmenu","click",4,"ngFor","ngForOf"],[2,"margin-bottom","0.5%"],["style","font-weight: bold;font-size: inherit;height: 20px !important;color: inherit;",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"pageChange","click"],["bsModal","","role","dialog",1,"modal","fade",2,"position","absolute","top","50%"],["childModal","bs-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-title"],[1,"modal-body"],["class","modal-sticky","style","overflow-y: auto; overflow-x: hidden; right: 4%;width: 92%;z-index: 9999999",4,"ngIf"],["class","modal-sticky","style","overflow: auto;right: 40%;width: 30%;z-index: 9999999",4,"ngIf"],["class","modal-sticky","style","overflow: auto;right: 20%;width: 40%;z-index: 9999999",4,"ngIf"],["class","bold_text",4,"ngIf"],["class","bold_text","style","width: auto;",4,"ngIf"],["class","bold_text","style","width: 140px;",4,"ngIf"],[1,"bold_text"],[1,"bold_text",2,"width","auto"],[1,"bold_text",2,"width","140px"],[2,"border","1pt solid black",3,"click"],["tooltip-placement","right","tooltip","Main filters",2,"margin","5px"],["tooltip","Main filters",1,"fa","fa-tasks"],[3,"text-align","width","ngClass",4,"ngFor","ngForOf"],[3,"width","ngClass"],[2,"font-weight","bold","text-align","center",3,"width","ngStyle","ngClass"],["class","arrow down",3,"click",4,"ngIf"],["class","arrow up",3,"click",4,"ngIf"],[1,"arrow","down",3,"click"],[1,"arrow","up",3,"click"],[3,"ngClass","dblclick","contextmenu","click"],["style","height: 20px !important;",3,"ngClass","width","text-align",4,"ngFor","ngForOf"],[2,"height","20px !important",3,"ngClass","width"],[2,"margin","0 !important","overflow","hidden",3,"ngStyle"],[2,"font-weight","bold","font-size","inherit","height","20px !important","color","inherit"],["style","height: 30px !important;background: #ABDCFB;",3,"width","text-align","ngClass",4,"ngFor","ngForOf"],[2,"height","30px !important","background","#ABDCFB",3,"width","ngClass"],[1,"modal-sticky",2,"overflow-y","auto","overflow-x","hidden","right","4%","width","92%","z-index","9999999"],[1,"modal-content","modal-content-main-area"],[2,"background-color","#d9e5e7","display","flex","justify-content","space-between","align-items","center"],["id","myModalLabel",1,"modal-title"],["type","button",1,"btn","btn-info",2,"font-size","14px",3,"click"],["type","button","class","btn btn-info","style","font-size: 14px;",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info",2,"margin-left","115px","margin-top","-6px","font-size","14px",3,"click"],["type","button",1,"btn","btn-info",2,"margin-left","12px","margin-top","-6px","font-size","14px",3,"click"],[1,"row"],[1,"col-md-12"],[1,"row",2,"margin-top","5px","align-items","baseline"],[1,"row","col-md-4",2,"margin-top","5px"],[1,"col-md-4","label",2,"margin","0","padding","0"],[1,"col-md-6"],["type","text",1,"form-control","input-text-element",2,"color","black","height","24px",3,"readonly","ngModel","ngModelChange"],["type","text",1,"form-control","input-text-element",2,"height","24px",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","5px"],["type","text",1,"form-control","input-text-element",3,"ngModel","ngModelChange","change"],["name","dynamic","id","dynamiccolumn",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["name","dynamicheaders","id","dynamicheader",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],["type","number",1,"form-control","input-text-element",3,"ngModel","ngModelChange"],["type","text",1,"form-control","input-text-element",3,"ngModel","ngModelChange"],["name","mergeheader","id","_mergeheader",1,"form-control","input-text-element",2,"font-size","11px","padding","3px",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"margin-left","5px"],[1,"table",2,"display","grid","font-size","12px"],[2,"width","56px"],["scope","col",2,"width","190px"],["scope","col",2,"width","60px"],["scope","col",2,"width","90px"],["scope","col",2,"width","100px"],["scope","col",2,"width","65px"],["scope","col",2,"width","120px"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[1,"columformat-class",2,"width","56px"],[1,"columformat-class",2,"width","190px","line-height","32px"],["type","text",1,"form-control",2,"height","26px","margin-top","2px","font-size","12px",3,"ngModel","ngModelChange"],["type","text",1,"form-control",2,"color","black","height","26px","margin-top","2px","font-size","12px",3,"readonly","ngModel","ngModelChange"],[1,"columformat-class",2,"width","60px","line-height","32px"],["type","checkbox",1,"form-control",2,"font-size","2px","margin-top","10%",3,"ngModel","change","ngModelChange"],[1,"columformat-class",2,"width","90px","line-height","32px"],["type","number",1,"form-control",2,"height","26px","margin-top","2px","font-size","12px",3,"ngModel","ngModelChange"],[1,"columformat-class",2,"width","100px","line-height","32px","font-size","12px"],["type","text",1,"form-control",2,"height","26px","margin-top","2px",3,"ngModel","ngModelChange"],[1,"columformat-class",2,"width","65px","line-height","32px"],[1,"columformat-class",2,"width","120px","line-height","32px"],["type","checkbox",1,"form-control",2,"font-size","2px","margin-top","5%",3,"ngModel","change","ngModelChange"],[1,"modal-sticky",2,"overflow","auto","right","40%","width","30%","z-index","9999999"],[2,"height","28px","margin-top","5px"],["id","myModalLabel",1,"modal-title",2,"line-height","15px","font-weight","bold"],[1,"table-responsive"],[1,"table",2,"display","grid"],[2,"width","100%"],[2,"line-height","7px"],[2,"width","1%"],[2,"width","7%"],[2,"height","200px","overflow","auto","font-size","15px"],["style","line-height: 5px;",3,"highlighted",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[2,"line-height","5px"],[2,"width","7%",3,"routerLink"],[1,"modal-sticky",2,"overflow","auto","right","20%","width","40%","z-index","9999999"],[1,"modal-header",2,"padding","0px","background","#87ceeb"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin","auto","height","45vh","width","80vh",3,"src"],[1,"row","col-md-12","pd0"],[2,"font-weight","bold","font-size","14px","width","auto"],[2,"font-size","14px","width","auto"],[3,"data"]],template:function(r,t){if(1&r){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.YNc(6,Di,55,54,"ng-container",4),e.qZA(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return t.closeReport()}),e._uU(9,"\xd7"),e.qZA()(),e.TgZ(10,"div",7)(11,"button",8),e.NdJ("click",function(){return t.hideShow=!t.hideShow}),e._UZ(12,"span",9)(13,"i",10),e.qZA(),e.TgZ(14,"input",11),e.NdJ("ngModelChange",function(l){return t.filter=l}),e.qZA()()()(),e.TgZ(15,"div",0)(16,"div",12)(17,"table")(18,"tr",13)(19,"td",14),e.NdJ("click",function(){return t.fiterClickEvent()}),e.TgZ(20,"i",15),e._UZ(21,"span",16),e.qZA(),e.TgZ(22,"span",17),e._uU(23," View Report Dialog Box [F2] "),e.qZA()()(),e.YNc(24,Ii,4,0,"tr",18),e.TgZ(25,"tr",13)(26,"td",14),e.NdJ("click",function(){return t.ExportReportInExcel()}),e.TgZ(27,"i",19),e._UZ(28,"span",20),e.qZA(),e.TgZ(29,"span",17),e._uU(30," Save To Excel [F9] "),e.qZA()()(),e.TgZ(31,"tr",13)(32,"td",21),e.NdJ("click",function(){return t.ExportReportInPdf()}),e.TgZ(33,"i",22),e._UZ(34,"span",23),e.qZA(),e.TgZ(35,"span",17),e._uU(36," Save To PDF [F7] "),e.qZA()()(),e.TgZ(37,"tr",13)(38,"td",14),e.NdJ("click",function(){return t.showPreviouslyLoadedReports()}),e.TgZ(39,"i",22),e._UZ(40,"span",24),e.qZA(),e.TgZ(41,"span",17),e._uU(42," Open Report List [Shift+Tab] "),e.qZA()()()()(),e.TgZ(43,"div",25)(44,"div",26)(45,"div",27)(46,"table",28,29),e.YNc(48,ki,3,1,"thead",4),e.TgZ(49,"thead")(50,"tr",30),e.YNc(51,wi,5,7,"th",31),e.qZA()(),e.TgZ(52,"tbody",32,33),e.YNc(54,Zi,2,4,"tr",34),e.ALo(55,"paginate"),e.ALo(56,"filter"),e.qZA(),e.TgZ(57,"tfoot",35),e.YNc(58,Ui,2,1,"tr",36),e.qZA(),e.TgZ(59,"div",37)(60,"pagination-controls",38),e.NdJ("pageChange",function(l){return t.page=l})("click",function(){return t.clickNext()}),e.qZA()()()()()()(),e.TgZ(61,"div",39,40)(63,"div",41)(64,"div",42)(65,"div",43)(66,"button",44),e.NdJ("click",function(){e.CHM(o);const l=e.MAs(62);return e.KtG(l.hide())}),e._uU(67,"\xd7"),e.qZA(),e.TgZ(68,"h4",45),e._uU(69,"Information"),e.qZA()(),e.TgZ(70,"div",46),e._uU(71),e.qZA()()()(),e.YNc(72,Yi,107,12,"div",47),e.YNc(73,qi,19,1,"div",48),e.YNc(74,Gi,25,8,"div",49),e.YNc(75,Hi,2,1,"div",4)}2&r&&(e.xp6(4),e.hij("",e.lcZ(5,15,t.showReportName),"\xa0\xa0"),e.xp6(2),e.Q6J("ngIf",t.reportparam&&t.reportname),e.xp6(4),e.Q6J("ngClass",e.VKq(23,Qi,t.hideShow)),e.xp6(3),e.Q6J("ngClass",e.VKq(25,zi,t.hideShow)),e.xp6(1),e.Q6J("ngModel",t.filter),e.xp6(10),e.Q6J("ngIf","ADMIN"==t.userProfile.username.toUpperCase()),e.xp6(24),e.Q6J("ngIf",t.optionalreportHeaders.length),e.xp6(3),e.Q6J("ngForOf",t.mergereportHeaders),e.xp6(3),e.Q6J("ngForOf",e.xi3(55,17,e.xi3(56,20,t.reportData,t.filter),e.WLB(27,Ki,t.rowsperpage,t.page))),e.xp6(4),e.Q6J("ngForOf",t.reportFooter),e.xp6(13),e.hij(" ",t.DialogMessage," "),e.xp6(1),e.Q6J("ngIf",t.showReportColumnFormatPopup),e.xp6(1),e.Q6J("ngIf",t.showReportListDialog),e.xp6(1),e.Q6J("ngIf",t.showItemImage),e.xp6(1),e.Q6J("ngIf",1==t.contextMenuView.show))},dependencies:[S.rH,he.oB,ue.LS,u.mk,u.sg,u.O5,u.PC,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.On,Ar,ue._s,u.rS,u.H9,Pr],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:500px!important}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{min-width:100%!important}.modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0;right:0;position:absolute;margin:0}.arrow[_ngcontent-%COMP%]{border:solid black;border-width:0 3px 3px 0;display:inline-block;padding:2px}.right[_ngcontent-%COMP%]{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.up[_ngcontent-%COMP%]{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}.down[_ngcontent-%COMP%]{transform:rotate(45deg);-webkit-transform:rotate(45deg)}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}",".Regular[_ngcontent-%COMP%] {\n    font-weight: inherit;\n    font-size: inherit;\n    height: 20px !important;\n    color: inherit;\n  }\n\n  .Bold[_ngcontent-%COMP%] {\n    font-weight: bold;\n    font-size: inherit;\n    height: 20px !important;\n    color: inherit;\n  }\n\n  .Regulartd[_ngcontent-%COMP%] {\n    white-space: inherit;\n    \n    line-height: 10px;\n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 3px\n  }\n\n  .Boldtd[_ngcontent-%COMP%] {\n    white-space: inherit;\n    \n    overflow: hidden;\n    padding-left: 5px;\n    padding-right: 3px;\n    line-height: 10px;\n  }\n\n  .toggable-sidebar[_ngcontent-%COMP%] {\n    position: absolute;\n    right: -280px;\n    transition: 0.3s;\n    padding: 10px;\n    width: 270px;\n    text-decoration: none;\n    font-size: 20px;\n    border-radius: 0 5px 5px 0;\n    background: #c0c0c0;\n    color: #000000;\n    \n    \n    margin: 0px;\n    border: 1px solid #f1ebeb;\n  }\n\n  .mySidenav-show[_ngcontent-%COMP%] {\n    right: 0 !important;\n  }\n\n  .btn-toggler[_ngcontent-%COMP%] {\n    position: absolute;\n    left: -45px;\n    top: 3px;\n    background: #8cccfb !important;\n    border-color: #8cccfb !important;\n    padding: 5px 12px 5px 5px !important;\n    font-size: 10px !important;\n    width: 45px !important;\n  }\n\n  .toggler-btn-icon-reverse[_ngcontent-%COMP%] {\n    transform: rotate(180deg);\n  }\n\n  .bold_text[_ngcontent-%COMP%] {\n    font-weight: bold;\n  }\n\n  .columformat-class[_ngcontent-%COMP%]{\n    padding: 0.25rem;\n  }\n  .noMergerHeader[_ngcontent-%COMP%]{\n    margin-top: 0px;\n  }\n  .MergerHeader[_ngcontent-%COMP%]{\n    margin-top: 10px;\n  }\n\n  .highlighted[_ngcontent-%COMP%]\n  {\n    background: #dbedf9;\n    color: black;\n  }\n\n  .input-text-element[_ngcontent-%COMP%]{\n        width: 216px;\n        height: 24px;\n    }\n\n    .notdisplay[_ngcontent-%COMP%] {\n    display:none;\n  }\n\n  #pdfWidth[_ngcontent-%COMP%]{\n    width:52px; \n    border-left-style: solid;\n    border-left-width: 2px;\n  }"]}),n})();var T=C(82661),J=C(8239),ae=C(24315),D=C(68572),M=C(23470),K=C(31722);const $i=["childModal"],Xi=["genericDatePicker"],eo=["reportFilter"],to=["genericSimpleTable"],ro=function(n){return{"mySidenav-show":n}},io=function(n){return{"toggler-btn-icon-reverse":n}};function oo(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.hideShow=!o.hideShow)}),e._uU(2," F10 "),e._UZ(3,"i",11),e.qZA(),e.TgZ(4,"div")(5,"report-filter",12,13),e.NdJ("ClickFilter",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.applyFilter(o,1))})("downloadExcel",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.downloadExcel(o))})("SaveReport",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onSaveReport(o))})("DeleteReport",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onDeleteReport(o))}),e.qZA()()()}if(2&n){const r=e.oxw(),t=e.MAs(4);e.Q6J("ngClass",e.VKq(5,ro,r.hideShow)),e.xp6(3),e.Q6J("ngClass",e.VKq(7,io,r.hideShow)),e.xp6(2),e.Q6J("ReportFilterSetting",r.reportObj)("UserReportList",r.userReportList)("newTemplate",t)}}function no(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",14)(1,"report-grid",15,16),e.NdJ("onActionClick",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onActionClick(o))})("onCurrentPageChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onPageChange(o))})("columnSettingChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onColumnSettingChange(o))})("onContextMenu",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onContextMenuClick(o))}),e.qZA()()}if(2&n){const r=e.oxw(),t=e.MAs(12);e.xp6(1),e.Q6J("simpleTableConfig",r.genericSimpleTableConfig)("FooterTemplate",t)}}function ao(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"ul",38)(1,"li",39),e._uU(2),e.TgZ(3,"div",40),e.NdJ("click",function(){const i=e.CHM(r).$implicit,l=e.oxw(2);return e.KtG(l.deleteReport(i.reportName))}),e._UZ(4,"span",41),e.qZA(),e.TgZ(5,"ul",42)(6,"li")(7,"a",43),e.NdJ("click",function(){const i=e.CHM(r).$implicit,l=e.oxw(2);return e.KtG(l.deleteReport(i.reportName))}),e._uU(8,"Delete"),e.qZA()()()()()}if(2&n){const r=a.$implicit;e.xp6(2),e.hij(" ",r.reportName," ")}}function so(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"input",56),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw(2).$implicit,l=e.oxw(3);return e.KtG(l.selectChangeHandler(o,i))}),e.qZA()}if(2&n){const r=e.oxw(2).$implicit;e.Q6J("checked",1==r.fieldValue||r.selected)("disabled",r.required)}}function lo(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(3).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()()}if(2&n){const r=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngModel",r.fieldValue)}}function po(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,lo,3,1,"div",57),e.qZA()),2&n){const r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",r.selected)}}function co(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",61)(1,"div",58)(2,"div",62)(3,"dropdown-multiselect",63,64),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)})("onItemSelect",function(o){e.CHM(r);const i=e.oxw(2).$implicit,l=e.oxw(3);return e.KtG(l.onItemSelect(o,i))})("onItemDeSelect",function(o){e.CHM(r);const i=e.oxw(2).$implicit,l=e.oxw(3);return e.KtG(l.onItemSelect(o,i))}),e.qZA()()()()}if(2&n){const r=e.oxw(2).$implicit;e.xp6(3),e.Q6J("data",r.fieldSelectionValues.fieldvalues)("ngModel",r.fieldValue)}}function _o(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",70)(1,"ims-custom-form",71),e.NdJ("change",function(){e.CHM(r);const o=e.oxw(3).$implicit,i=e.oxw(3);return e.KtG(i.onChange(o))}),e.qZA()()}if(2&n){const r=e.oxw(6);e.xp6(1),e.Q6J("service",r.masterService)}}function ho(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",65)(1,"div",58)(2,"div",66)(3,"app-simple-suggest",67),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(5);return e.KtG(i.masterService.prodAttSearchObj.DEPARTMENT=o)})("selectOption",function(o){e.CHM(r);const i=e.oxw(2).$implicit,l=e.oxw(3);return e.KtG(l.filters(o,i))}),e.qZA()(),e.TgZ(4,"div",68),e.YNc(5,_o,2,1,"div",69),e.qZA()()()}if(2&n){const r=e.oxw(2).$implicit,t=e.oxw(3);e.xp6(3),e.Q6J("options",r.fieldSelectionValues.fieldvalues)("labelKey","name")("valueKey","name")("ngModel",t.masterService.prodAttSearchObj.DEPARTMENT),e.xp6(2),e.Q6J("ngIf",(""!=t.masterService.prodAttSearchObj.DEPARTMENT||null!=t.masterService.prodAttSearchObj.DEPARTMENT||null!=t.masterService.prodAttSearchObj.DEPARTMENT)&&t.masterService.prodAttSearchObj.DEPARTMENT)}}function uo(n,a){if(1&n&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.Q6J("value",r.value),e.xp6(1),e.hij(" ",r.name," ")}}function go(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",72)(1,"select",73),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2).$implicit;return e.KtG(i.fieldvalue=o)}),e.YNc(2,uo,2,2,"option",74),e.qZA()()}if(2&n){const r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",r.fieldvalue),e.xp6(1),e.Q6J("ngForOf",r.fieldSelectionValues.fieldvalues)}}function So(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div")(2,"generic-daterange-picker",76,77),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()()}if(2&n){const r=e.oxw(2).$implicit,t=e.oxw(3),o=e.MAs(14);e.xp6(2),e.Q6J("ngModel",r.fieldValue)("FiscalBeginDate",t.reportObj.fiscalBeginDate)("newTemplate",o)}}function mo(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",78)(1,"input",79),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2).$implicit;return e.KtG(i.fieldValue=o)}),e.qZA()()}if(2&n){const r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngModel",r.fieldValue)}}function Oo(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",80)(1,"generic-multiselect",81),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(2).$implicit,l=e.oxw(3);return e.KtG(l.onMultiSelect(o,i))}),e.qZA()()}if(2&n){const r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",r.fieldSelectionValues.fieldvalues)}}function bo(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",80)(1,"generic-multiselect",82),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(2).$implicit,l=e.oxw(3);return e.KtG(l.onMultiSelect(o,i))}),e.qZA()()}if(2&n){const r=e.oxw(2).$implicit;e.xp6(1),e.Q6J("dataSource",r.fieldSelectionValues.fieldvalues)("singleSelect",!0)}}const To=function(n){return{width:n}};function vo(n,a){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,so,1,2,"input",48),e.TgZ(2,"label",49),e._uU(3),e.qZA(),e.YNc(4,po,2,1,"div",50),e.YNc(5,co,5,2,"div",51),e.YNc(6,ho,6,5,"div",52),e.YNc(7,go,3,2,"div",53),e.YNc(8,So,4,3,"div",50),e.YNc(9,mo,2,1,"div",54),e.YNc(10,Oo,2,1,"div",55),e.YNc(11,bo,2,2,"div",55),e.qZA()),2&n){const r=e.oxw().$implicit,t=e.oxw().showCheckbox;e.xp6(1),e.Q6J("ngIf","checkbox"==r.controlType||t),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,To,"checkbox"==r.controlType?"60%":"12%")),e.xp6(1),e.Oqu(r.fieldName),e.xp6(1),e.Q6J("ngIf","text"==r.controlType),e.xp6(1),e.Q6J("ngIf","dropdownmultiselect"==r.controlType&&r.selected),e.xp6(1),e.Q6J("ngIf","attributes"==r.controlType&&r.selected),e.xp6(1),e.Q6J("ngIf","dropdown"==r.controlType&&r.selected),e.xp6(1),e.Q6J("ngIf","daterange"==r.controlType&&r.selected),e.xp6(1),e.Q6J("ngIf","date"==r.controlType&&r.selected),e.xp6(1),e.Q6J("ngIf","multiselect"==r.controlType&&r.selected),e.xp6(1),e.Q6J("ngIf","singleselect"==r.controlType&&r.selected)}}function fo(n,a){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,vo,12,13,"div",46),e.qZA()),2&n){const r=a.$implicit;e.xp6(1),e.Q6J("ngIf",0==r.isFieldDisabled)}}function Co(n,a){1&n&&e.YNc(0,fo,2,1,"div",44),2&n&&e.Q6J("ngForOf",a.fields)}function Ao(n,a){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"button",83),e.NdJ("click",function(){e.CHM(r);const o=e.oxw(2);return e.KtG(o.excelExport())}),e._uU(2," Download "),e.qZA(),e.BQk()}}function Po(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(r);const o=e.oxw().excelDownloading;return e.KtG(o())}),e._uU(1," Download "),e.qZA()}}const ve=function(n,a){return{"glyphicon-chevron-down":n,"glyphicon-chevron-up":a}},Mo=function(n,a){return{fields:n,showCheckbox:a}},Ro=function(n){return{fields:n,showCheckbox:!0}};function Eo(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div")(3,"div",19)(4,"div")(5,"span",20),e._uU(6),e.qZA(),e._UZ(7,"br")(8,"br"),e.TgZ(9,"span")(10,"strong",21),e._uU(11,"Report Filter"),e.qZA()()(),e.YNc(12,ao,9,1,"ul",22),e.qZA(),e.TgZ(13,"accordion",23)(14,"accordion-group",24,25)(16,"div",26),e._uU(17," Required Fields "),e._UZ(18,"i",27),e.qZA(),e.TgZ(19,"div",28),e.GkF(20,29),e.qZA()(),e.TgZ(21,"accordion-group",30,31)(23,"div",26),e._uU(24," Optional Fields "),e._UZ(25,"i",27),e.qZA(),e.TgZ(26,"div",28),e.GkF(27,29),e.qZA()()()(),e.TgZ(28,"div",32),e.YNc(29,Co,1,1,"ng-template",null,33,e.W1O),e.qZA(),e.TgZ(31,"div",34)(32,"button",35),e.NdJ("click",function(){const i=e.CHM(r).applyFiltering;return e.KtG(i())}),e._uU(33," Apply filter "),e.qZA(),e.YNc(34,Ao,3,0,"ng-container",36),e.YNc(35,Po,2,0,"ng-template",null,37,e.W1O),e.qZA()()()}if(2&n){const r=a.UserReportList,t=a.selectedFields,o=a.requiredFields,i=e.MAs(15),l=e.MAs(22),c=e.MAs(30),_=e.MAs(36),d=e.oxw();e.xp6(6),e.Oqu(d.reportTitle),e.xp6(6),e.Q6J("ngForOf",r),e.xp6(1),e.Q6J("closeOthers",!1),e.xp6(1),e.Q6J("isOpen",!0),e.xp6(4),e.Q6J("ngClass",e.WLB(13,ve,null==i?null:i.isOpen,!i.isOpen)),e.xp6(2),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(16,Mo,t,"checkbox"===t.controlType)),e.xp6(1),e.Q6J("isOpen",!1),e.xp6(4),e.Q6J("ngClass",e.WLB(19,ve,null==l?null:l.isOpen,!l.isOpen)),e.xp6(2),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(22,Ro,o)),e.xp6(7),e.Q6J("ngIf",d.clientSideDownload())("ngIfElse",_)}}const Do=function(){return{"text-align":"center","white-space":"normal","background-color":"red"}};function Io(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"th",85),e._uU(2),e.qZA(),e.BQk()),2&n){const r=a.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,Do)),e.uIk("colspan",r.colspan),e.xp6(1),e.hij(" ",r.groupHeader," ")}}function No(n,a){1&n&&e.YNc(0,Io,3,4,"ng-container",84),2&n&&e.Q6J("ngForOf",a.mergereportHeaders)}function ko(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"input",88,89),e.NdJ("keyup",function(o){e.CHM(r);const i=e.oxw(2).$implicit,l=e.oxw().triggerMultiSearch;return e.KtG(l(o,i,!1))}),e.qZA()()}if(2&n){const r=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",r.title)}}const fe=function(n){return{"text-align":n}};function jo(n,a){if(1&n&&(e.TgZ(0,"th",87),e.YNc(1,ko,3,1,"div",50),e.qZA()),2&n){const r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,fe,r.alignment)),e.xp6(1),e.Q6J("ngIf",!r.noSearch)}}function yo(n,a){if(1&n&&(e.ynx(0),e.YNc(1,jo,2,4,"th",86),e.BQk()),2&n){const r=a.$implicit;e.xp6(1),e.Q6J("ngIf",!r.hidden)}}function Fo(n,a){1&n&&e.YNc(0,yo,2,1,"ng-container",84),2&n&&e.Q6J("ngForOf",a.columns)}function wo(n,a){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",93),e.qZA()),2&n){const r=a.$implicit,t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("itemObj",r)("item",t)}}function Wo(n,a){if(1&n&&(e.TgZ(0,"div")(1,"ul",92),e.YNc(2,wo,2,2,"li",84),e.qZA()()),2&n){const r=e.oxw(2).$implicit,t=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",t[r.key])}}const Lo=function(n,a,r){return{itemObj:n,item:a,fieldName:r}};function Zo(n,a){if(1&n&&e.GkF(0,29),2&n){const r=e.oxw(2).$implicit,t=e.oxw().itemObj,o=e.oxw();e.Q6J("ngTemplateOutlet",o.dataColumnTemplate)("ngTemplateOutletContext",e.kEZ(2,Lo,t,r,r.key))}}function xo(n,a){if(1&n&&(e.TgZ(0,"td",85),e.YNc(1,Wo,3,1,"div",36),e.YNc(2,Zo,1,6,"ng-template",null,91,e.W1O),e.qZA()),2&n){const r=e.MAs(3),t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,fe,t.alignment)),e.xp6(1),e.Q6J("ngIf",t.isListField)("ngIfElse",r)}}function Uo(n,a){if(1&n&&(e.ynx(0),e.YNc(1,xo,4,5,"td",90),e.BQk()),2&n){const r=a.$implicit;e.xp6(1),e.Q6J("ngIf",!r.hidden)}}function Vo(n,a){1&n&&e.YNc(0,Uo,2,1,"ng-container",84),2&n&&e.Q6J("ngForOf",a.columns)}function Bo(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const r=e.oxw().$implicit,t=e.oxw().TotalData;e.xp6(1),e.hij(" ",t[r.key]," ")}}const Yo=function(n){return{"text-align":n,padding:"0.35rem"}};function Jo(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"td",85),e.YNc(2,Bo,2,1,"div",50),e.qZA(),e.BQk()),2&n){const r=a.$implicit,t=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,Yo,r.alignment)),e.xp6(1),e.Q6J("ngIf",t)}}function qo(n,a){1&n&&e.YNc(0,Jo,3,4,"ng-container",84),2&n&&e.Q6J("ngForOf",a.columns)}function Go(n,a){if(1&n&&(e.TgZ(0,"option",101),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.Q6J("ngValue",r),e.xp6(1),e.hij(" ",r," ")}}function Ho(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"input",102),e.qZA())}function Qo(n,a){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",104),e.qZA())}function zo(n,a){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",105),e.qZA())}function Ko(n,a){1&n&&(e.TgZ(0,"div",103),e._UZ(1,"input",106),e.qZA())}const Ce=function(){return{standalone:!0}};function $o(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"input",107),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i.changeEntryDate(o.target.value,"AD","start"))}),e.qZA(),e.TgZ(2,"nepali-date-picker",108),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i.changeEntryDate(o.detail.value,"BS","start"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i.startNepaliDate=o)}),e.qZA()()}if(2&n){const r=e.oxw(2);e.xp6(1),e.s9C("min",r.minDate),e.xp6(1),e.Q6J("id","nepaliDatefrom")("ngModelOptions",e.DdM(5,Ce))("label","From")("ngModel",r.startNepaliDate)}}function Xo(n,a){if(1&n&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.xp6(1),e.hij(" ",r," ")}}function en(n,a){if(1&n&&(e.TgZ(0,"div")(1,"select",109),e.YNc(2,Xo,2,1,"option",84),e.qZA()()),2&n){const r=e.oxw(2).intheLastRangeOptions;e.xp6(2),e.Q6J("ngForOf",r)}}function tn(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"input",110),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.changeEntryDate(o.target.value,"AD","end"))}),e.qZA(),e.TgZ(2,"nepali-date-picker",111),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.changeEntryDate(o.detail.value,"BS","end"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.endNepaliDate=o)}),e.qZA()()}if(2&n){const r=e.oxw(3);e.xp6(2),e.Q6J("id","nepaliDateto")("ngModelOptions",e.DdM(4,Ce))("label","To")("ngModel",r.endNepaliDate)}}function rn(n,a){if(1&n&&(e.TgZ(0,"div",98),e.YNc(1,en,3,1,"div",50),e.YNc(2,tn,3,5,"div",50),e.qZA()),2&n){const r=e.oxw().selectedRange;e.xp6(1),e.Q6J("ngIf","in the last"==r),e.xp6(1),e.Q6J("ngIf","between"==r)}}function on(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div"),e.TgZ(2,"form",94)(3,"div",58)(4,"div",95)(5,"select",96),e.YNc(6,Go,2,2,"option",97),e.qZA()(),e.TgZ(7,"div",98),e.YNc(8,Ho,2,0,"div",50),e.YNc(9,Qo,2,0,"div",99),e.YNc(10,zo,2,0,"div",99),e.YNc(11,Ko,2,0,"div",99),e.YNc(12,$o,3,6,"div",50),e.qZA(),e.YNc(13,rn,3,2,"div",100),e.qZA()()()),2&n){const r=a.myForm,t=a.rangelist,o=a.selectedRange;e.xp6(2),e.Q6J("formGroup",r),e.xp6(4),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("ngIf","in the last"==o),e.xp6(1),e.Q6J("ngIf","on"==o),e.xp6(1),e.Q6J("ngIf","before"==o),e.xp6(1),e.Q6J("ngIf","after"==o),e.xp6(1),e.Q6J("ngIf","between"==o),e.xp6(1),e.Q6J("ngIf","in the last"==o||"between"==o)}}let Ae=(()=>{class n{constructor(r,t,o,i,l,c){this.reportService=r,this.alertService=t,this.spinnerService=o,this.masterService=i,this.activatedRoute=l,this.router=c,this.hideShow=!0,this.reportObj=new D.R7,this.filterReport=new D.R7,this.currentReportParam=new D.XC,this.simpleTableSettings=new D.n9,this.genericSimpleTableConfig=new D.vA,this.reportName="",this.reportUser="",this.reportType="",this.currentPage=1,this.reportTitle="",this.reportList=[],this.totalList=[],this.totalPage=1,this.pageSize=20,this.dropdownSettings={},this.userReportList=[],this.isFirstLoadReport=!1,this.showFilter=!1,this.showTable=!1,this.showGrid=!1,this.title="ReportFilterWorkspace",this.showFilterTab=!0,this.filter="Hide Filter",this.reportService.apiUrl=j.N.apiUrl.substring(0,j.N.apiUrl.lastIndexOf("/"));var _=this.masterService.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10),this.minDate=_}handleKeyDownEvent(r){"F10"==r.code&&(r.preventDefault(),this.hideShow=!this.hideShow)}ngOnInit(){this.dropdownSettings={itemsShowLimit:0,singleSelection:!1,allowSearchFilter:!1,selectAllText:"Select All",unSelectAllText:"UnSelect All"};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this.assignReportParam(),this.routerSubscription=this.router.events.subscribe(t=>{t instanceof S.m2&&t.url.includes("report-master")&&this.assignReportParam()})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}assignReportParam(){this.onLoadReportParam(this.activatedRoute.snapshot.params.name,this.activatedRoute.snapshot.params.type,"a")}onLoadReport(){this.onLoadReportParam(this.reportName,this.reportType,this.reportUser)}applyFilter(r,t=0){var o=this;return(0,J.Z)(function*(){o.isFirstLoadReport=!1,1==t&&(o.currentPage=1,o.pageSize=20,o.isFirstLoadReport=!0),o.spinnerService.show("Report Loading please wait.....");try{o.showGrid=!0,o.reportObj.currentPage=o.currentPage,o.reportObj.recordsPerPage=o.pageSize,o.reportObj.fieldgroup[0].filterFields.forEach(c=>{"attributes"==c.controlType&&c.selected&&""==c.fieldValue&&(c.fieldValue="%")});var i=yield o.reportService.getDynamicReport(o.reportObj);if(0==i?.result?.length)return o.showGrid=!1,o.alertService.info("Data not found with the given filters!"),void o.spinnerService.hide();o.reportList=i.result,o.totalList=o.convertPropery(i.result2),console.log({evetdata:r,reportData:i}),o.reportObj.totalItems=i.totalRecord,0==o.reportObj.totalItems&&(o.reportObj.totalItems=o.reportList.length),o.totalPage=Math.abs(o.reportObj.totalItems/o.pageSize)+(o.reportObj.totalItems%o.pageSize>0?1:0),o.simpleTableListConfig(),o.hideShow=!1,o.spinnerService.hide()}catch(l){o.spinnerService.hide(),console.log("log error",l),o.alertService.error(l.error.message)}})()}applyDrillFilter(r,t=0){var o=this;return(0,J.Z)(function*(){1==t&&(o.currentPage=1,o.pageSize=20),o.spinnerService.show("Report Loading please wait.....");try{r.currentPage=o.currentPage,r.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReport(r),l=i.result,c=o.convertPropery(i.result2);r.totalItems=i.totalRecord,0==r.totalItems&&(r.totalItems=l.length),o.totalPage=Math.abs(r.totalItems/o.pageSize)+(r.totalItems%o.pageSize>0?1:0),o.simpleTableListConfigDrill(r,l,c),o.spinnerService.hide()}catch{o.spinnerService.hide(),o.showGrid=!1,o.alertService.error("Error in loading report")}})()}onDeleteReport(r){var t=this;return(0,J.Z)(function*(){console.log({dialogEvent:r,newsetting:t.reportFilterSetting})})()}convertPropery(r){try{var o;return Object.keys(r).forEach(i=>{let l=i.substring(3,i.length);o[l]=r[i]}),o}catch{return r}}getdrillReportForDesign(r,t){this.reportService.getReportParam(r.reportName,r.reportType,this.reportObj.reportUser).subscribe(o=>{if(null!=o.result){var i=o.result;this.setDrillValues(i,r,t),this.applyDrillFilter(i,1),this.reportObj=i,this.refresh()}},o=>{this.alertService.error("error loading data")})}setDrillValues(r,t,o){t.fields.forEach(i=>{"fromfilter"==i.drilldownFieldFrom?this.reportObj.fieldgroup.forEach(l=>l.filterFields.forEach(c=>{c.fieldName==i.drilldownFieldId&&(i.fieldValue=c.fieldValue)})):"fromgrid"==i.drilldownFieldFrom&&(i.fieldValue=o[i.drilldownFieldId])}),r.fieldgroup.forEach(i=>{i.filterFields.forEach(l=>{l.fieldValue=t.fields.find(c=>c.fieldName==l.fieldName)?.fieldValue||""})})}onLoadReportParam(r,t,o){this.spinnerService.show("Loading report, please wait...."),this.reportService.getReportParam(r,t,o).subscribe(l=>{if(l.result){this.spinnerService.hide(),l.result.fieldgroup[0].filterFields.find(_=>"daterange"===_.controlType)&&(l.result.fieldgroup[0].filterFields.find(_=>"daterange"===_.controlType).fieldValue=`${this.minDate},${this.currDate}`),this.hideShow=!0,this.showFilter=!0,this.reportObj=l.result,this.reportTitle=l.result.reportName;let c=this.reportObj.fieldgroup[0].filterFields.find(_=>"daterange"===_.controlType)?.fieldValue.split(",");c&&c[0]&&this.changeEntryDate(c[0],"AD","start"),c&&c[1]&&this.changeEntryDate(c[1],"AD","end"),this.refresh()}},l=>{throw this.spinnerService.hide(),this.refresh(),l})}refresh(){this.reportFilterComponent?.ReportFilterSetting&&(this.reportFilterComponent.ReportFilterSetting=this.reportObj),this.reportFilterComponent?.seperateSelectedFields?.()}onSaveReport(r){var t=this;return(0,J.Z)(function*(){t.reportFilterSetting.reportName=r.description})()}downloadExcel(r){var t=this;return(0,J.Z)(function*(){t.currentReportParam=r,t.spinnerService.show("Report Downloading please wait..."),t.reportService.downloadExcelReport(t.reportObj).subscribe(o=>{o.headers.get("content-disposition");const l=r.reportName+".xlsx",_=window.URL.createObjectURL(o.body),d=document.createElement("a");d.download=l,d.href=_,d.click()},o=>{t.spinnerService.hide(),t.alertService.error("Download Error!"),console.log({error:"error downloading file",log:o})},()=>{t.spinnerService.hide(),t.alertService.success("Download Complete")})})()}simpleTableListConfig(){this.simpleTableSettings={title:this.reportTitle,apiEndpoints:"/V2/getProductList",DataSource:this.reportObj.dataSourceType,defaultColumns:[],contextMenus:this.getContextMenu(this.reportObj),LocalData:this.reportList,TotalData:this.totalList,defaultFilterIndex:0,currentPageNo:this.currentPage,pageSize:this.pageSize,totalItems:this.reportObj.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:D.Ok.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}simpleTableListConfigDrill(r,t,o){var i=r.dataSourceType;this.isFirstLoadReport=!0,this.simpleTableSettings={title:this.reportTitle,apiEndpoints:"/V2/getProductList",DataSource:i,defaultColumns:[],contextMenus:this.getContextMenu(r),LocalData:t,TotalData:o,defaultFilterIndex:0,currentPageNo:r.currentPage,pageSize:this.pageSize,totalItems:r.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:D.Ok.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}onActionClick(r){}onPageChange(r){var t=this;return(0,J.Z)(function*(){t.currentPage=r.currentPage;var o=0,i="";null!=r.sortKey&&null!=r.sortOrder&&(t.reportObj.reportSort=`${r.sortKey} ${r.sortOrder}`,o=r.index,i=r.sortOrder),"getData"!=r.triggerFrom&&(t.pageSize=r.pageSize,yield t.applyFilter("")),null!=r.sortKey&&null!=r.sortOrder&&setTimeout(()=>{r.changeSortOrder(i,o)},0)})()}getContextMenu(r){return r.drilldownmenus}onColumnSettingChange(r){var t=r.filter(i=>1==i.dirty),o={reportName:this.reportObj.reportName,reportType:this.reportObj.reportType,reportUser:this.reportObj.reportUser,columns:t=r};this.genericSimpleTableConfig.simpleTablesettings.columns=t,this.simpleTable.refresh(this.isFirstLoadReport),console.log({columnSaveObject:o}),this.reportService.saveColumnSetting("",o).subscribe(i=>{console.log(i)},i=>{throw console.log(i),i})}onContextMenuClick(r){this.getdrillReportForDesign(r.menuName,r.item)}excelExport(){let r=this.reportObj.fieldgroup[0].filterFields.find(c=>"daterange"===c.controlType).fieldValue.split(","),t=this.reportObj.fieldgroup[0].filterFields.find(c=>"PHISCALID"===c.fieldId).fieldValue,o=r[0]!=r[1]?`${r[0]} to ${r[1]}`:`${r[0]}`,i={},l=(0,ce.cloneDeep)(this.genericSimpleTableConfig.simpleTablesettings.LocalData);Object.keys(l[0]).forEach(c=>{i[c]=c}),l.splice(0,0,{MENUCODE:`${this.genericSimpleTableConfig.simpleTablesettings.title}`},{MENUCODE:`CompanyName: ${this.masterService.userProfile.CompanyInfo.NAME}, VATNO: ${this.masterService.userProfile.CompanyInfo.VAT}, Address: ${this.masterService.userProfile.CompanyInfo.ADDRESS}`},{},{},{},{MENUCODE:`As On Dated: ${o},  Fiscal Year: ${t}`},{},i),C.e(4841).then(C.bind(C,64841)).then(c=>{const _=c.utils.json_to_sheet(l,{skipHeader:!0});_["!rows"]=[{hpx:30},{hpx:30}],_["!merges"]=[{s:{r:0,c:0},e:{r:0,c:24}},{s:{r:1,c:0},e:{r:3,c:24}},{s:{r:5,c:0},e:{r:5,c:24}}];const h=c.write({Sheets:{data:_},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(h,this.genericSimpleTableConfig.simpleTablesettings.title)})}saveAsExcelFile(r,t){const l=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),c=URL.createObjectURL(l),_=document.createElement("a");_.href=c,_.download=t+(new Date).getTime()+".xlsx",_.click()}clientSideDownload(){return!!this.activatedRoute.snapshot.params.name.toUpperCase().includes("PORDER".toUpperCase())}filters(r,t){let o={};o.Department=this.masterService.prodAttSearchObj.DEPARTMENT,o.CustomValues=[],t.fieldValue=JSON.stringify(o),t.fieldType="json",this.getCustomField("",r.name)}getCustomField(r,t){return this.masterService.getCustomFields(r,t).subscribe(o=>{var i=[];o.result.forEach(l=>{i.push((new ae.o4).deserialize(l))}),this.customForm.setForm(i)})}onChange(r){this.masterService.CustomValues=this.customForm?.getValues("1");let t={};t.Department=this.masterService.prodAttSearchObj.DEPARTMENT,t.CustomValues=(0,ce.cloneDeep)(this.masterService.CustomValues.filter(o=>o.Value&&(""!==o.Value||void 0!==o.Value))),r.fieldValue=JSON.stringify(t),r.fieldType="json"}onMultiSelect(r,t){t.fieldValue=r.id}selectChangeHandler(r,t){"checkbox"===t.controlType&&(t.fieldValue=r.target.checked?1:0),t.selected=!!r.target.checked}changeEntryDate(r,t,o){if(C(10484),"AD"==t){let c=this.masterService.toBSDate(r);"start"==o?this.startNepaliDate=c:this.endNepaliDate=c}else if("BS"==t){var l=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(l))return void this.alertService.error("Date Exceed to Current Phiscal Year !");{const _=this.masterService.toADDate(r);"start"==o?this.genericDatePicker.myForm.get("startbetween").setValue(_):this.genericDatePicker.myForm.get("endbetween").setValue(_)}}}isChecked(r){return"1"==r.fieldValue}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(D.rM),e.Y36(R.c),e.Y36(Te.V),e.Y36(b.P),e.Y36(S.gz),e.Y36(S.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-master"]],viewQuery:function(r,t){if(1&r&&(e.Gf($i,5),e.Gf(Xi,5),e.Gf(ae.q0,5),e.Gf(eo,5),e.Gf(to,5,D.B6)),2&r){let o;e.iGM(o=e.CRH())&&(t.childModal=o.first),e.iGM(o=e.CRH())&&(t.genericDatePicker=o.first),e.iGM(o=e.CRH())&&(t.customForm=o.first),e.iGM(o=e.CRH())&&(t.reportFilterComponent=o.first),e.iGM(o=e.CRH())&&(t.simpleTable=o.first)}},hostBindings:function(r,t){1&r&&e.NdJ("keydown",function(i){return t.handleKeyDownEvent(i)},!1,e.evT)},features:[e._Bn([])],decls:15,vars:2,consts:[["class","toggable-sidebar",3,"ngClass",4,"ngIf"],[1,"report-container"],["class","col-lg-12","style","height: 100%",4,"ngIf"],["newTemplate",""],["mergeHeaderTemplate",""],["SearchHeaderTemplate",""],["TableDataTemplate",""],["FooterTemplate",""],["datePicker",""],[1,"toggable-sidebar",3,"ngClass"],[1,"btn","btn-info","btn-toggler",3,"click"],[1,"fa","fa-angle-double-left",3,"ngClass"],[3,"ReportFilterSetting","UserReportList","newTemplate","ClickFilter","downloadExcel","SaveReport","DeleteReport"],["reportFilter",""],[1,"col-lg-12",2,"height","100%"],[3,"simpleTableConfig","FooterTemplate","onActionClick","onCurrentPageChange","columnSettingChange","onContextMenu"],["genericSimpleTable",""],["id","filterindex",1,"row",2,"background","#ffffff","transition","0.5s","border","2px solid #ddd","border-radius","10px","width","100%","overflow-y","auto","overflow-x","hidden","height","540px"],[1,"row",2,"padding","1% 1% 0 1%","display","flex","width","100%","flex-direction","column","margin-bottom","15px","justify-content","space-between"],[1,"mb-3",2,"display","flex","align-items","center","justify-content","space-between"],[2,"font-size","15px","font-weight","600"],[2,"border-bottom","1px solid #ddd","font-size","14px"],["style","\n            list-style: none;\n            padding-left: 5px;\n            padding-top: 10px;\n            padding-bottom: 10px;\n            padding-left: 15px;\n            background-color: #f0f3f4;\n            border-left: 3px solid #393434;\n            margin-left: 2px;\n          ",4,"ngFor","ngForOf"],[3,"closeOthers"],[3,"isOpen"],["group1",""],["accordion-heading","",2,"width","100%","font-size","12px","font-weight","500"],[1,"pull-right","float-xs-right","glyphicon",3,"ngClass"],[2,"padding-top","0px","padding-bottom","6px","padding-left","15px"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"margin-top","5px",3,"isOpen"],["group2",""],[1,"panel-wrapper"],["fieldList",""],[1,"button-wrapper"],[1,"btn","btn-info",2,"margin-top","2%","margin-left","2px","margin-right","2px",3,"click"],[4,"ngIf","ngIfElse"],["serverSideDownload",""],[2,"list-style","none","padding-left","5px","padding-top","10px","padding-bottom","10px","padding-left","15px","background-color","#f0f3f4","border-left","3px solid #393434","margin-left","2px"],[2,"display","flex","align-items","center","position","relative"],[1,"dotted-menu",2,"margin-left","auto","cursor","pointer","margin-top","-3px",3,"click"],[1,"dot"],[1,"reportPopup"],["href","#",3,"click"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],["style","display: flex;\n            align-items: center;",4,"ngIf"],[2,"display","flex","align-items","center"],["type","checkbox","style","width: 15px;\n                  height: 15px;\n                  background: #6599FF;",3,"checked","disabled","change",4,"ngIf"],[2,"margin-top","6px","margin-left","10px",3,"ngStyle"],[4,"ngIf"],["style","margin-left: 4%",4,"ngIf"],["style","width: 100%",4,"ngIf"],["style","display: flex; align-items: center; width: 27%",4,"ngIf"],["style","margin-top: 2%",4,"ngIf"],["style","width: 26%",4,"ngIf"],["type","checkbox",2,"width","15px","height","15px","background","#6599FF",3,"checked","disabled","change"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-10"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm",1,"",3,"ngModel","ngModelChange"],[2,"margin-left","4%"],[1,"col-md-10",2,"width","500px"],[3,"data","ngModel","ngModelChange","onItemSelect","onItemDeSelect"],["dropdown","ngModel"],[2,"width","100%"],[1,"col-md-4",2,"display","flex","align-items","center"],["id","department",2,"width","100%",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[1,"col-md-8",2,"width","500px"],["class","form-group",4,"ngIf"],[1,"form-group"],["id","customForm",3,"service","change"],[2,"display","flex","align-items","center","width","27%"],[2,"width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModel","FiscalBeginDate","newTemplate","ngModelChange"],["genericDatePicker",""],[2,"margin-top","2%"],["type","date",1,"form-control",2,"margin-top","1%","width","90%","margin-bottom","3%",3,"ngModel","ngModelChange"],[2,"width","26%"],["fieldName","name","fieldId","value",3,"dataSource","onSelect"],["fieldName","name","fieldId","value",3,"dataSource","singleSelect","onSelect"],[1,"btn","btn-info",2,"margin-top","2%",3,"click"],[4,"ngFor","ngForOf"],[3,"ngStyle"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","10px 0px 10px 3px","background-color","aqua",3,"placeholder","keyup"],["inputBox",""],[3,"ngStyle",4,"ngIf"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item"],[3,"formGroup"],[1,"col-md-3","pd0"],["formControlName","selectedrange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-4"],["class","ml-4",4,"ngIf"],["class","col-md-4",4,"ngIf"],[3,"ngValue"],["type","text","formControlName","inthelastno"],[1,"ml-4"],["type","date","formControlName","on"],["type","date","formControlName","before"],["type","date","formControlName","after"],["type","date","formControlName","startbetween",3,"min","change"],["name","nepaliDateFrom",1,"dateFormat",3,"id","ngModelOptions","label","ngModel","change","ngModelChange"],["formControlName","inthelastrange"],["type","date","formControlName","endbetween",3,"change"],["name","nepaliDateto",1,"dateFormat",3,"id","ngModelOptions","label","ngModel","change","ngModelChange"]],template:function(r,t){1&r&&(e.YNc(0,oo,7,9,"div",0),e.TgZ(1,"div",1),e.YNc(2,no,3,2,"div",2),e.qZA(),e.YNc(3,Eo,37,24,"ng-template",null,3,e.W1O),e.YNc(5,No,1,1,"ng-template",null,4,e.W1O),e.YNc(7,Fo,1,1,"ng-template",null,5,e.W1O),e.YNc(9,Vo,1,1,"ng-template",null,6,e.W1O),e.YNc(11,qo,1,1,"ng-template",null,7,e.W1O),e.YNc(13,on,14,8,"ng-template",null,8,e.W1O)),2&r&&(e.Q6J("ngIf",t.reportObj&&t.showFilter),e.xp6(2),e.Q6J("ngIf",t.showGrid))},dependencies:[u.mk,u.sg,u.O5,u.tP,u.PC,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,M.v,K.c,D.B6,D.XO,D.Zw,D.Oj,D.QB,D.Tu,ae.q0],styles:[".m0[_ngcontent-%COMP%]{margin:0}.flex[_ngcontent-%COMP%]{display:flex}.center[_ngcontent-%COMP%]{align-items:center}.report-container[_ngcontent-%COMP%]{overflow-x:hidden;height:86vh;overflow-y:auto}.rotate[_ngcontent-%COMP%]{transform:rotate(180deg);transition:.3s ease;display:inline-block;margin-top:-3px;margin-right:10px}.noRotate[_ngcontent-%COMP%]{transform:rotate(360deg);transition:.3s ease;display:inline-block;margin-right:10px}.toggable-sidebar[_ngcontent-%COMP%]{position:fixed;left:-50%;transition:.3s;width:260px;text-decoration:none;font-size:11px;border-radius:0 5px 5px 0;color:#000;height:100%;width:50%;margin:0;z-index:99}@media (max-width: 1191px){.toggable-sidebar[_ngcontent-%COMP%]{left:-20%}}.mySidenav-show[_ngcontent-%COMP%]{left:0}.btn-toggler[_ngcontent-%COMP%]{position:absolute;right:-45px;top:-3px;background:#81DAAC!important;border-color:#81daac!important;padding:5px!important;font-size:10px!important;width:45px!important}.toggler-btn-icon-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}  .ims-custom-select{width:160px;padding:0 .75rem;font-size:12px;height:23px}.dateFormat[_ngcontent-%COMP%]{width:94%;margin-top:2%;display:inherit}  .custom-form-control{padding:5px!important}  .fa-calendar{right:7px!important}"]}),n})();var W=C(71259);const nn=["childModal"],an=["addProjection"],sn=["addSystemFields"],ln=["addOptionalFields"],pn=["reportFilter"],cn=["genericSimpleTable"],_n=function(n,a){return{rfield:n,idx:a}};function dn(n,a){if(1&n&&e.GkF(0,82),2&n){const r=a.$implicit,t=a.index;e.oxw();const o=e.MAs(99);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,_n,r,t))}}const hn=function(n,a,r){return{fld:n,i:a,operatorList:r}};function un(n,a){if(1&n){const r=e.EpF();e.ynx(0),e.GkF(1,70),e.TgZ(2,"button",12),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onDeleteProjection(o.reportObj.projectionfieldFormats,1))}),e._uU(3," Delete Projection "),e.qZA(),e.BQk()}if(2&n){const r=a.$implicit,t=a.index,o=e.oxw(),i=e.MAs(103);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.kEZ(2,hn,r,t,o.operatorsList))}}const gn=function(n,a){return{menu:n,idx:a}};function Sn(n,a){if(1&n&&(e.ynx(0),e.GkF(1,70),e.BQk()),2&n){const r=a.$implicit,t=a.index;e.oxw();const o=e.MAs(101);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,gn,r,t))}}function mn(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",83)(1,"div",15)(2,"label",84),e._uU(3,"Field Name"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldName=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Field Id"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldId=o)}),e.qZA()(),e.TgZ(9,"div",15)(10,"label",84),e._uU(11,"Second Field Id"),e.qZA(),e.TgZ(12,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldIdSecond=o)}),e.qZA()(),e.TgZ(13,"div",15)(14,"label",84),e._uU(15,"Control Type"),e.qZA(),e.TgZ(16,"select",86),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.controlType=o)}),e.TgZ(17,"option",87),e._uU(18,"text"),e.qZA(),e.TgZ(19,"option",88),e._uU(20,"multiselect"),e.qZA(),e.TgZ(21,"option",89),e._uU(22,"singleselect"),e.qZA(),e.TgZ(23,"option",90),e._uU(24,"daterange"),e.qZA(),e.TgZ(25,"option",91),e._uU(26,"dropdownmultiselect"),e.qZA(),e.TgZ(27,"option",92),e._uU(28,"dropdown"),e.qZA(),e.TgZ(29,"option",93),e._uU(30,"checkbox"),e.qZA(),e.TgZ(31,"option",94),e._uU(32,"attributes"),e.qZA()()(),e.TgZ(33,"div",15)(34,"label",84),e._uU(35,"Field Type"),e.qZA(),e.TgZ(36,"select",86),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldType=o)}),e.TgZ(37,"option",95),e._uU(38,"string"),e.qZA(),e.TgZ(39,"option",96),e._uU(40,"number"),e.qZA(),e.TgZ(41,"option",97),e._uU(42,"date"),e.qZA(),e.TgZ(43,"option",98),e._uU(44,"boolean"),e.qZA()()(),e.TgZ(45,"div",99)(46,"input",100),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.isFieldDisabled=o)}),e.qZA(),e.TgZ(47,"label",84),e._uU(48,"IsFieldDisabled"),e.qZA()(),e.TgZ(49,"div",15)(50,"label",101),e._uU(51,"Operators"),e.qZA(),e.TgZ(52,"ng-multiselect-dropdown",102),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.operators=o)}),e.qZA()(),e._UZ(53,"br"),e.TgZ(54,"h5"),e._uU(55,"Selection Criteria"),e.qZA(),e.TgZ(56,"div",15)(57,"label",84),e._uU(58,"Selection Type"),e.qZA(),e.TgZ(59,"select",86),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldtype=o)}),e.TgZ(60,"option",103),e._uU(61,"static"),e.qZA(),e.TgZ(62,"option",104),e._uU(63,"dynamic"),e.qZA()()(),e.TgZ(64,"div",15)(65,"label",84),e._uU(66,"FieldValues"),e.qZA(),e.TgZ(67,"field-values",105),e.NdJ("fieldValuesChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldvalues=o)}),e.qZA()(),e.TgZ(68,"div",15)(69,"label",106),e._uU(70,"Value"),e.qZA(),e.TgZ(71,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldvalue=o)}),e.qZA()(),e.TgZ(72,"div",15)(73,"label",84),e._uU(74,"Value Type"),e.qZA(),e.TgZ(75,"select",86),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldvaluetype=o)}),e.TgZ(76,"option",95),e._uU(77,"string"),e.qZA(),e.TgZ(78,"option",96),e._uU(79,"number"),e.qZA(),e.TgZ(80,"option",97),e._uU(81,"date"),e.qZA()()(),e.TgZ(82,"div",15)(83,"label",84),e._uU(84,"DataSource Type:"),e.qZA(),e.TgZ(85,"select",86),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.dataSourceType=o)}),e.TgZ(86,"option",29),e._uU(87,"Local DataSource"),e.qZA(),e.TgZ(88,"option",30),e._uU(89,"Server DataSource"),e.qZA(),e.TgZ(90,"option",31),e._uU(91,"External DataSource"),e.qZA()()(),e.TgZ(92,"div",15)(93,"label",84),e._uU(94,"API URL:"),e.qZA(),e.TgZ(95,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.apiURL=o)}),e.qZA()(),e.TgZ(96,"div",15)(97,"label",84),e._uU(98,"Search URL:"),e.qZA(),e.TgZ(99,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.searchURL=o)}),e.qZA()(),e.TgZ(100,"div",99)(101,"input",100),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.isDbSql=o)}),e.qZA(),e.TgZ(102,"label",84),e._uU(103,"Is Query from Db"),e.qZA(),e._UZ(104,"br"),e.qZA(),e.TgZ(105,"div",15)(106,"label",84),e._uU(107,"Query string "),e.qZA(),e.TgZ(108,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.query=o)}),e.qZA()(),e.TgZ(109,"div",15)(110,"label",84),e._uU(111,"Query api url "),e.qZA(),e.TgZ(112,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldqueryurl=o)}),e.qZA()(),e.TgZ(113,"div",15)(114,"label",84),e._uU(115,"Field value "),e.qZA(),e.TgZ(116,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldValue=o)}),e.qZA()(),e.TgZ(117,"button",12),e.NdJ("click",function(){const o=e.CHM(r),i=o.rfield,l=o.idx,c=e.oxw();return e.KtG(c.deleteSystemField(i,l))}),e._uU(118,"Delete"),e.qZA()()}if(2&n){const r=a.rfield,t=a.idx,o=e.oxw();e.xp6(2),e.MGl("for","fieldName_",t,""),e.xp6(2),e.MGl("id","fieldName_",t,""),e.Q6J("ngModel",r.fieldName),e.xp6(2),e.MGl("for","fieldId_",t,""),e.xp6(2),e.MGl("id","fieldId_",t,""),e.Q6J("ngModel",r.fieldId),e.xp6(2),e.MGl("for","fieldIdSecond_",t,""),e.xp6(2),e.MGl("id","fieldIdSecond_",t,""),e.Q6J("ngModel",r.fieldIdSecond),e.xp6(2),e.MGl("for","controlType_",t,""),e.xp6(2),e.MGl("id","controlType_",t,""),e.Q6J("ngModel",r.controlType),e.xp6(18),e.MGl("for","fieldType_",t,""),e.xp6(2),e.MGl("id","fieldType_",t,""),e.Q6J("ngModel",r.fieldType),e.xp6(10),e.MGl("id","isFieldDisabled_",t,""),e.Q6J("ngModel",r.isFieldDisabled),e.xp6(1),e.MGl("for","isFieldDisabled_",t,""),e.xp6(5),e.MGl("id","operators_",t,""),e.Q6J("data",o.operatorsList)("ngModel",r.operators)("settings",o.dropdownSettings),e.xp6(5),e.MGl("for","fieldtype_",t,""),e.xp6(2),e.MGl("id","fieldtype_",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldtype),e.xp6(6),e.MGl("for","fieldvalues_",t,""),e.xp6(2),e.MGl("id","fieldValues_",t,""),e.Q6J("fieldValues",r.fieldSelectionValues.fieldvalues),e.xp6(4),e.MGl("id","fieldvalues_",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldvalue),e.xp6(2),e.MGl("for","fieldvaluetype_",t,""),e.xp6(2),e.MGl("id","fieldvaluetype_",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldvaluetype),e.xp6(8),e.MGl("for","datasourceType_",t,""),e.xp6(2),e.MGl("id","dataSourceType_",t,""),e.Q6J("ngModel",r.fieldSelectionValues.dataSourceType),e.xp6(8),e.MGl("for","apiurl_",t,""),e.xp6(2),e.MGl("id","apiUrl_",t,""),e.Q6J("ngModel",r.fieldSelectionValues.apiURL),e.xp6(2),e.MGl("for","searchurl_",t,""),e.xp6(2),e.MGl("id","searchUrl_",t,""),e.Q6J("ngModel",r.fieldSelectionValues.searchURL),e.xp6(2),e.MGl("id","isDbSql_",t,""),e.Q6J("ngModel",r.fieldSelectionValues.isDbSql),e.xp6(1),e.MGl("for","isDbSql_",t,""),e.xp6(4),e.MGl("for","sQuery_",t,""),e.xp6(2),e.MGl("id","sQuery_",t,""),e.Q6J("ngModel",r.fieldSelectionValues.query),e.xp6(2),e.MGl("for","queryUrl",t,""),e.xp6(2),e.MGl("id","queryUrl",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldqueryurl),e.xp6(2),e.MGl("for","fieldvalue",t,""),e.xp6(2),e.MGl("id","fieldvalue",t,""),e.Q6J("ngModel",r.fieldValue)}}function On(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",107)(1,"div",15)(2,"label",84),e._uU(3,"Menu Name"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).menu;return e.KtG(l.name=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Drill To Report Name"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).menu;return e.KtG(l.reportName=o)}),e.qZA()(),e.TgZ(9,"div",15)(10,"label",84),e._uU(11,"Drill To Report Type"),e.qZA(),e.TgZ(12,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).menu;return e.KtG(l.reportType=o)}),e.qZA()(),e.TgZ(13,"div")(14,"label",84),e._uU(15,"Report Parameters"),e.qZA(),e._UZ(16,"drill-menu",108),e.qZA(),e.TgZ(17,"div")(18,"button",12),e.NdJ("click",function(){const i=e.CHM(r).menu,l=e.oxw();return e.KtG(l.addDrilldownfield(i))}),e._uU(19,"Add"),e.qZA()(),e.TgZ(20,"button",12),e.NdJ("click",function(){const i=e.CHM(r).menu,l=e.oxw();return e.KtG(l.deleteDrilldownMenu(i))}),e._uU(21,"Delete menu"),e.qZA()()}if(2&n){const r=a.menu,t=a.idx;e.xp6(2),e.MGl("for","menuname",t,""),e.xp6(2),e.MGl("id","menuname",t,""),e.Q6J("ngModel",r.name),e.xp6(2),e.MGl("for","reportName",t,""),e.xp6(2),e.MGl("id","reportName",t,""),e.Q6J("ngModel",r.reportName),e.xp6(2),e.MGl("for","reportType",t,""),e.xp6(2),e.MGl("id","reportType",t,""),e.Q6J("ngModel",r.reportType),e.xp6(2),e.MGl("for","reportdrii",t,""),e.xp6(2),e.Q6J("drilldownmenu",r)}}function bn(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",109)(1,"div",15)(2,"label",84),e._uU(3,"Key"),e.qZA(),e.TgZ(4,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.key=o)}),e.qZA()(),e.TgZ(5,"div",15)(6,"label",84),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.title=o)}),e.qZA()(),e.TgZ(9,"div",110)(10,"input",100),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.hidden=o)}),e.qZA(),e.TgZ(11,"label",111),e._uU(12,"hidden"),e.qZA()(),e.TgZ(13,"div",110)(14,"input",100),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.noSearch=o)}),e.qZA(),e.TgZ(15,"label",111),e._uU(16,"No Search"),e.qZA()(),e.TgZ(17,"div",15)(18,"label",84),e._uU(19,"Width"),e.qZA(),e.TgZ(20,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.width=o)}),e.qZA()(),e.TgZ(21,"div",15)(22,"label",84),e._uU(23,"Style"),e.qZA(),e.TgZ(24,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.style=o)}),e.qZA()(),e.TgZ(25,"div",15)(26,"label",84),e._uU(27,"Alignment"),e.qZA(),e.TgZ(28,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.alignment=o)}),e.qZA()(),e.TgZ(29,"div",15)(30,"input",100),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.isListField=o)}),e.qZA(),e.TgZ(31,"label",111),e._uU(32,"is ListField"),e.qZA()(),e.TgZ(33,"div",15)(34,"label",84),e._uU(35,"List FieldName"),e.qZA(),e.TgZ(36,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.listFieldName=o)}),e.qZA()(),e.TgZ(37,"div",15)(38,"label",84),e._uU(39,"Format Type:"),e.qZA(),e.TgZ(40,"select",112),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).fld;return e.KtG(l.formatType=o)}),e.TgZ(41,"option",29),e._uU(42,"Text"),e.qZA(),e.TgZ(43,"option",30),e._uU(44,"Number"),e.qZA(),e.TgZ(45,"option",31),e._uU(46,"Rounding Two Digit"),e.qZA(),e.TgZ(47,"option",113),e._uU(48,"Editable"),e.qZA()()()()}if(2&n){const r=a.fld,t=a.i;e.xp6(2),e.MGl("for","key_",t,""),e.xp6(2),e.MGl("id","Key_",t,""),e.Q6J("ngModel",r.key),e.xp6(2),e.MGl("for","title_",t,""),e.xp6(2),e.MGl("id","title_",t,""),e.Q6J("ngModel",r.title),e.xp6(2),e.MGl("id","hidden_",t,""),e.Q6J("ngModel",r.hidden),e.xp6(1),e.MGl("for","hidden_",t,""),e.xp6(3),e.MGl("id","noSearch_",t,""),e.Q6J("ngModel",r.noSearch),e.xp6(1),e.MGl("for","noSearch_",t,""),e.xp6(3),e.MGl("for","width_",t,""),e.xp6(2),e.MGl("id","width_",t,""),e.Q6J("ngModel",r.width),e.xp6(2),e.MGl("for","style_",t,""),e.xp6(2),e.MGl("id","style_",t,""),e.Q6J("ngModel",r.style),e.xp6(2),e.MGl("for","alignment_",t,""),e.xp6(2),e.MGl("id","alignment_",t,""),e.Q6J("ngModel",r.alignment),e.xp6(2),e.MGl("id","isListField_",t,""),e.Q6J("ngModel",r.isListField),e.xp6(1),e.MGl("for","isListField_",t,""),e.xp6(3),e.MGl("for","listFieldName_",t,""),e.xp6(2),e.MGl("id","listFieldName_",t,""),e.Q6J("ngModel",r.listFieldName),e.xp6(2),e.MGl("for","formatType_",t,""),e.xp6(2),e.MGl("id","formatType_",t,""),e.Q6J("ngModel",r.formatType)}}function Tn(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",114)(1,"div",115)(2,"div",15)(3,"label",84),e._uU(4,"Field Name"),e.qZA(),e.TgZ(5,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldName=o)}),e.qZA()(),e.TgZ(6,"div",15)(7,"label",84),e._uU(8,"Field Id"),e.qZA(),e.TgZ(9,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldId=o)}),e.qZA()(),e.TgZ(10,"div",15)(11,"label",84),e._uU(12,"Control Type"),e.qZA(),e.TgZ(13,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.controlType=o)}),e.qZA()(),e.TgZ(14,"div",15)(15,"label",84),e._uU(16,"Field Type"),e.qZA(),e.TgZ(17,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldType=o)}),e.qZA()(),e.TgZ(18,"div",99)(19,"input",100),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.isFieldDisabled=o)}),e.qZA(),e.TgZ(20,"label",84),e._uU(21,"IsFieldDisabled"),e.qZA(),e._UZ(22,"input",116),e.TgZ(23,"label",101),e._uU(24,"Operators"),e.qZA(),e._UZ(25,"input",117),e.TgZ(26,"label",118),e._uU(27,"Selection Criteria"),e.qZA(),e._UZ(28,"input",119),e.TgZ(29,"label",84),e._uU(30,"Selection Type"),e.qZA()(),e.TgZ(31,"div",15)(32,"label",84),e._uU(33,"FieldValues"),e.qZA(),e.TgZ(34,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldtype=o)}),e.qZA()()(),e.TgZ(35,"div",120)(36,"div",15)(37,"label",84),e._uU(38,"Value"),e.qZA(),e.TgZ(39,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldvalues=o)}),e.qZA()(),e.TgZ(40,"div",15)(41,"label",84),e._uU(42,"Value Type"),e.qZA(),e.TgZ(43,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldvalue=o)}),e.qZA()(),e.TgZ(44,"div",15)(45,"label",84),e._uU(46,"Is Query from Db"),e.qZA(),e.TgZ(47,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldvaluetype=o)}),e.qZA()(),e.TgZ(48,"div",15)(49,"input",100),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.isDbSql=o)}),e.qZA()(),e.TgZ(50,"div",15)(51,"label",84),e._uU(52,"Query api url "),e.qZA(),e.TgZ(53,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.fieldqueryurl=o)}),e.qZA()(),e.TgZ(54,"div",15)(55,"label",84),e._uU(56,"Query string "),e.qZA(),e.TgZ(57,"input",85),e.NdJ("ngModelChange",function(o){const l=e.CHM(r).rfield;return e.KtG(l.fieldSelectionValues.query=o)}),e.qZA()()()()}if(2&n){const r=a.rfield,t=a.idx;e.xp6(3),e.MGl("for","fieldName_o",t,""),e.xp6(2),e.MGl("id","fieldName_o",t,""),e.Q6J("ngModel",r.fieldName),e.xp6(2),e.MGl("for","fieldId_o",t,""),e.xp6(2),e.MGl("id","fieldId_o",t,""),e.Q6J("ngModel",r.fieldId),e.xp6(2),e.MGl("for","controlType_o",t,""),e.xp6(2),e.MGl("id","controlType_o",t,""),e.Q6J("ngModel",r.controlType),e.xp6(2),e.MGl("for","fieldtype_o",t,""),e.xp6(2),e.MGl("id","fieldtype_o",t,""),e.Q6J("ngModel",r.fieldType),e.xp6(2),e.MGl("id","isFieldDisabled_o",t,""),e.Q6J("ngModel",r.isFieldDisabled),e.xp6(1),e.MGl("for","isFieldDisabled_o",t,""),e.xp6(8),e.MGl("id","fieldtype_o",t,""),e.xp6(1),e.MGl("for","fieldtype_o",t,""),e.xp6(3),e.MGl("for","fieldvalues_o",t,""),e.xp6(2),e.MGl("id","fieldtype_o",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldtype),e.xp6(3),e.MGl("for","fieldvalue_o",t,""),e.xp6(2),e.MGl("id","fieldvalues_o",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldvalues),e.xp6(2),e.MGl("for","fieldvaluetype_o",t,""),e.xp6(2),e.MGl("id","fieldvalue_o",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldvalue),e.xp6(2),e.MGl("for","isDbSql_o",t,""),e.xp6(2),e.MGl("id","fieldvaluetype_o",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldvaluetype),e.xp6(2),e.MGl("id","isDbSql_o",t,""),e.Q6J("ngModel",r.fieldSelectionValues.isDbSql),e.xp6(2),e.MGl("for","queryUrl",t,""),e.xp6(2),e.MGl("id","queryUrl",t,""),e.Q6J("ngModel",r.fieldSelectionValues.fieldqueryurl),e.xp6(2),e.MGl("for","sQuery_o",t,""),e.xp6(2),e.MGl("id","sQuery_o",t,""),e.Q6J("ngModel",r.fieldSelectionValues.query)}}function vn(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"div"),e.qZA())}const fn=function(){return{"text-align":"center","white-space":"normal","background-color":"red"}};function Cn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"th",121),e._uU(2),e.qZA(),e.BQk()),2&n){const r=a.$implicit;e.xp6(1),e.Q6J("ngStyle",e.DdM(3,fn)),e.uIk("colspan",r.colspan),e.xp6(1),e.hij(" ",r.groupHeader," ")}}function An(n,a){1&n&&e.YNc(0,Cn,3,4,"ng-container",45),2&n&&e.Q6J("ngForOf",a.mergereportHeaders)}function Pn(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"input",125,126),e.NdJ("keyup",function(o){e.CHM(r);const i=e.oxw(2).$implicit,l=e.oxw().triggerMultiSearch;return e.KtG(l(o,i,!1))}),e.qZA()()}if(2&n){const r=e.oxw(2).$implicit;e.xp6(1),e.s9C("placeholder",r.title)}}const Pe=function(n){return{"text-align":n}};function Mn(n,a){if(1&n&&(e.TgZ(0,"th",123),e.YNc(1,Pn,3,1,"div",124),e.qZA()),2&n){const r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,Pe,r.alignment)),e.xp6(1),e.Q6J("ngIf",!r.noSearch)}}function Rn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Mn,2,4,"th",122),e.BQk()),2&n){const r=a.$implicit;e.xp6(1),e.Q6J("ngIf",!r.hidden)}}function En(n,a){1&n&&e.YNc(0,Rn,2,1,"ng-container",45),2&n&&e.Q6J("ngForOf",a.columns)}function Dn(n,a){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"genericSimpleColumn",131),e.qZA()),2&n){const r=a.$implicit,t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("itemObj",r)("item",t)}}function In(n,a){if(1&n&&(e.TgZ(0,"div")(1,"ul",130),e.YNc(2,Dn,2,2,"li",45),e.qZA()()),2&n){const r=e.oxw(2).$implicit,t=e.oxw().itemObj;e.xp6(2),e.Q6J("ngForOf",t[r.key])}}const Nn=function(n,a,r){return{itemObj:n,item:a,fieldName:r}};function kn(n,a){if(1&n&&e.GkF(0,70),2&n){const r=e.oxw(2).$implicit,t=e.oxw().itemObj;e.oxw();const o=e.MAs(175);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.kEZ(2,Nn,t,r,r.key))}}function jn(n,a){if(1&n&&(e.TgZ(0,"td",121),e.YNc(1,In,3,1,"div",128),e.YNc(2,kn,1,6,"ng-template",null,129,e.W1O),e.qZA()),2&n){const r=e.MAs(3),t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,Pe,t.alignment)),e.xp6(1),e.Q6J("ngIf",t.isListField)("ngIfElse",r)}}function yn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,jn,4,5,"td",127),e.BQk()),2&n){const r=a.$implicit;e.xp6(1),e.Q6J("ngIf",!r.hidden)}}function Fn(n,a){1&n&&e.YNc(0,yn,2,1,"ng-container",45),2&n&&e.Q6J("ngForOf",a.columns)}function wn(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const r=e.oxw(2),t=r.itemObj,o=r.fieldName,i=r.item;e.xp6(1),e.s9C("title",t[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",e.xi3(3,3,t[o],i.formatString)," ")}}function Wn(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.ALo(3,"number"),e.qZA()()),2&n){const r=e.oxw(2),t=r.itemObj,o=r.fieldName,i=r.item;e.xp6(1),e.s9C("title",t[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",e.xi3(3,3,t[o],"1.2-2")," ")}}function Ln(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",135),e._uU(2),e.qZA()()),2&n){const r=e.oxw(2),t=r.itemObj,o=r.fieldName,i=r.item;e.xp6(1),e.s9C("title",t[o]),e.Q6J("ngStyle",i.style),e.xp6(1),e.hij(" ",t[o]," ")}}function Zn(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",132),e.YNc(2,wn,4,6,"div",133),e.YNc(3,Wn,4,6,"div",133),e.YNc(4,Ln,3,3,"div",134),e.qZA()()),2&n){const r=e.oxw().item;e.xp6(1),e.Q6J("ngSwitch",r.formatType),e.xp6(1),e.Q6J("ngSwitchCase",2),e.xp6(1),e.Q6J("ngSwitchCase",3)}}function xn(n,a){1&n&&e.YNc(0,Zn,5,3,"div",124),2&n&&e.Q6J("ngIf",a.itemObj)}function Un(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const r=e.oxw().$implicit,t=e.oxw().TotalData;e.xp6(1),e.hij(" ",e.xi3(2,1,t[r.key],"1.2-2")," ")}}const Vn=function(n){return{"text-align":n,"background-color":"green"}};function Bn(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"td",121),e.YNc(2,Un,3,4,"div",124),e.qZA(),e.BQk()),2&n){const r=a.$implicit,t=e.oxw().TotalData;e.xp6(1),e.Q6J("ngStyle",e.VKq(2,Vn,r.alignment)),e.xp6(1),e.Q6J("ngIf",t)}}function Yn(n,a){1&n&&e.YNc(0,Bn,3,4,"ng-container",45),2&n&&e.Q6J("ngForOf",a.columns)}const se=function(){return{backdrop:"static"}},Jn=function(n){return{fld:n,i:1e3}},Me=function(n){return{rfield:n,idx:1e3}};let Re=(()=>{class n{constructor(r){this.reportService=r,this.simpleTableSettings=new D.n9,this.filterReport=new D.R7,this.reportTitle="",this.reportType="",this.currentPage=1,this.genericSimpleTableConfig=new D.vA,this.title="ReportFilterWorkspace",this.reportObj=new D.R7,this.currentReportParam=new D.XC,this.DialogMessage="You are not authorized",this.reportList=[],this.totalList=[],this.totalPage=1,this.pageSize=20,this.newSystemField=new D.rs,this.newOptionalField=new D.rs,this.reportName="",this.reportUser="",this.dropdownSettings={},this.operatorsList=[],this.userReportList=[],this.formatType=D.a5,this.isFirstLoadReport=!1,this.newProjection=new D._$,this.reportService.apiUrl=j.N.apiUrl.substring(0,j.N.apiUrl.lastIndexOf("/")),this.newSystemField.fieldSelectionValues=new D.WM,this.newOptionalField.fieldSelectionValues=new D.WM,this.intializeReportObj(this.reportObj)}intializeReportObj(r){r.fieldgroup=[];var t=new D.r5;t.groupId="SystemFields",t.groupName="SystemFields",t.filterFields=[];var o=new D.rs;o.fieldSelectionValues=new D.WM,t.filterFields.push(o),this.reportObj.fieldgroup.push(t);var i=new D.r5;i.groupId="FilterFields",i.groupName="FilterFields",i.filterFields=[];var l=new D.rs;l.fieldSelectionValues=new D.WM,i.filterFields.push(l),r.fieldgroup.push(i);var c=new D._$;r.projectionfieldFormats=[],r.projectionfieldFormats.push(c),r.drilldownmenus=[],console.log({reportObj:r,operatorslist:this.operatorsList})}applyFilter(r,t=0){var o=this;return(0,J.Z)(function*(){o.isFirstLoadReport=!1,1==t&&(o.currentPage=1,o.pageSize=20,o.isFirstLoadReport=!0),o.DialogMessage="Report Loading please wait......",o.childModal.show(),console.log({reportParamEvent:r});try{o.reportObj.currentPage=o.currentPage,o.reportObj.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReportForDesign(o.reportObj);console.log({reportParamEvent1:r,data:i}),o.reportList=i.result,o.totalList=o.convertPropery(i.result2),console.log({evetdata:r,reportData:i}),o.reportObj.totalItems=i.totalRecord,0==o.reportObj.totalItems&&(o.reportObj.totalItems=o.reportList.length),o.totalPage=Math.abs(o.reportObj.totalItems/o.pageSize)+(o.reportObj.totalItems%o.pageSize>0?1:0),console.log({beforeField:o.reportObj.fieldgroup[0].filterFields[0].fieldId,beforeRepObj:o.reportObj.fieldgroup[0].filterFields[0].fieldValue}),o.simpleTableListConfig(),o.DialogMessage="",o.childModal.hide(),console.log({afterapplyrobject:o.reportObj.fieldgroup[0].filterFields[0].fieldId,afterApplyRObject:o.reportObj.fieldgroup[0].filterFields[0].fieldValue})}catch(l){throw o.DialogMessage="error in loading report",setTimeout(()=>{},2e3),l}})()}applyDrillFilter(r,t=0){var o=this;return(0,J.Z)(function*(){1==t&&(o.currentPage=1,o.pageSize=20),o.DialogMessage="Report Loading please wait......",o.childModal.show(),console.log({reportParamEvent:event});try{r.currentPage=o.currentPage,r.recordsPerPage=o.pageSize;var i=yield o.reportService.getDynamicReportForDesign(r);console.log({reportParamEvent1:event,data:i});var l=i.result,c=o.convertPropery(i.result2);console.log({evetdata:event,reportData:i}),r.totalItems=i.totalRecord,0==r.totalItems&&(r.totalItems=l.length),o.totalPage=Math.abs(r.totalItems/o.pageSize)+(r.totalItems%o.pageSize>0?1:0),console.log({beforeField:r.fieldgroup[0].filterFields[0].fieldId,beforeRepObj:r.fieldgroup[0].filterFields[0].fieldValue}),o.simpleTableListConfigDrill(r,l,c),o.DialogMessage="",o.childModal.hide(),console.log({afterapplyrobject:r.fieldgroup[0].filterFields[0].fieldId,afterApplyRObject:r.fieldgroup[0].filterFields[0].fieldValue})}catch(_){throw o.DialogMessage="error in loading report",setTimeout(()=>{},2e3),_}})()}getNewReport(){}getSelectionList(r){console.log({query:r})}convertPropery(r){try{console.log({toconvert:r});var o,t=Object.keys(r);return console.log({keys:t}),t.forEach(i=>{if(i.length>3&&"sum"==i.slice(0,3).toLowerCase()){let l=i.substring(3,i.length);o[l]=r[i]}else o[i]=r[i]}),console.log({objectConverted:o}),o}catch(i){return console.log({ERROR:i}),r}}onDeleteReport(r){var t=this;return(0,J.Z)(function*(){console.log({dialogEvent:r,newsetting:t.reportFilterSetting})})()}onLoadReport(){this.reportService.getDesignTimeReportParam(this.reportObj.reportName,this.reportObj.reportType,this.reportObj.reportUser).subscribe(t=>{null!=t.result&&(console.log({before:t.result}),this.reportObj=t.result,this.refresh())},t=>{throw this.intializeReportObj(this.reportObj),this.refresh(),this.reportObj.table="error in report fetch, Check the reportname or reporttype or user",console.log({error:t}),t})}getdrillReportForDesign(r,t){this.reportService.getDesignTimeReportParam(r.reportName,r.reportType,this.reportObj.reportUser).subscribe(o=>{if(null!=o.result){console.log({before:o.result});var i=o.result;this.setDrillValues(i,r,t),this.applyDrillFilter(i,1),this.reportObj=i,this.refresh()}},o=>{throw o})}setDrillValues(r,t,o){t.fields.forEach(i=>{"fromfilter"==i.drilldownFieldFrom?this.reportObj.fieldgroup.forEach(l=>l.filterFields.forEach(c=>{c.fieldName==i.drilldownFieldId&&(i.fieldValue=c.fieldValue)})):"fromgrid"==i.drilldownFieldFrom&&(i.fieldValue=o[i.drilldownFieldId])}),r.fieldgroup.forEach(i=>{i.filterFields.forEach(l=>{l.fieldValue=t.fields.find(c=>c.fieldName==l.fieldName)?.fieldValue||""})})}refresh(){this.reportFilterComponent.ReportFilterSetting=this.reportObj,this.reportFilterComponent.seperateSelectedFields()}onSaveReport(r){var t=this;return(0,J.Z)(function*(){t.reportFilterSetting.reportName=r.description,console.log({dialogEvent:r,newsetting:t.reportFilterSetting})})()}downloadExcel(r){var t=this;return(0,J.Z)(function*(){t.currentReportParam=r,t.DialogMessage="Report Downloading please wait......",t.childModal.show()})()}ngOnInit(){this.dropdownSettings={singleSelection:!1,selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:0,allowSearchFilter:!1},this.operatorsList=["is","=","like","notlike","isnot","between","greate than","less than",">","<",">=","<=","in"]}ngAfterViewInit(){}simpleTableListConfig(){this.simpleTableSettings={title:" this.reportTitle",apiEndpoints:"/V2/getProductList",DataSource:this.reportObj.dataSourceType,defaultColumns:this.reportObj.projectionfieldFormats,contextMenus:this.getContextMenu(this.reportObj),LocalData:this.reportList,TotalData:this.totalList,defaultFilterIndex:0,currentPageNo:this.currentPage,pageSize:this.pageSize,totalItems:this.reportObj.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:D.Ok.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}simpleTableListConfigDrill(r,t,o){this.isFirstLoadReport=!0,this.simpleTableSettings={title:" this.reportTitle",apiEndpoints:"/V2/getProductList",DataSource:r.dataSourceType,defaultColumns:[],contextMenus:this.getContextMenu(r),LocalData:t,TotalData:o,defaultFilterIndex:0,currentPageNo:r.currentPage,pageSize:this.pageSize,totalItems:r.totalItems,showSerialNo:!0,serialNoWidth:"40px",filterOption:D.Ok.ColumnWiseMultiFilter,columns:[],showSettingButton:!0,hidePaginationControl:!0,showActionButton:!1,projectionfieldFormats:this.reportObj.projectionfieldFormats,actionKeys:[{icon:"fas fa-edit",text:"view",title:"View",type:"button"}],actionColumnStyle:{"text-align":"center",width:"100px"}},this.genericSimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.isimpleTableConfig.simpleTablesettings=this.simpleTableSettings,this.simpleTable.refresh(this.isFirstLoadReport)}onActionClick(r){}onPageChange(r){var t=this;return(0,J.Z)(function*(){t.currentPage=r.currentPage;var o=0,i="";null!=r.sortKey&&null!=r.sortOrder&&(t.reportObj.reportSort=`${r.sortKey} ${r.sortOrder}`,o=r.index,i=r.sortOrder,console.log({onPageevent:r,index:o,sortorder:i})),"getData"!=r.triggerFrom&&(t.pageSize=r.pageSize,yield t.applyFilter("")),null!=r.sortKey&&null!=r.sortOrder&&setTimeout(()=>{r.changeSortOrder(i,o)},0),console.log({pagechangeEvent:r})})()}getContextMenu(r){return r.drilldownmenus}onColumnSettingChange(r){var t=r.filter(i=>1==i.dirty),o={reportName:this.reportObj.reportName,reportType:this.reportObj.reportType,reportUser:this.reportObj.reportUser,columns:t};console.log({columnSaveObject:o}),this.reportService.saveColumnSetting("",o).subscribe(i=>{console.log(i)},i=>{throw console.log(i),i})}onContextMenuClick(r){console.log({event:r}),this.getdrillReportForDesign(r.menuName,r.item)}onProjectionAdd(){this.newProjection=new D._$,this.addProjectionModal.show()}onDeleteProjection(r,t){r.splice(t-1,1)}newProjectionHide(){this.addProjectionModal.hide(),this.reportObj.projectionfieldFormats.push(this.newProjection),console.log({projectionadded:"added",projections:this.reportObj.projectionfieldFormats})}onSystemFieldAdd(){this.newSystemField=new D.rs,this.newSystemField.fieldgroupName="SystemFields",this.newSystemField.fieldSelectionValues=new D.WM,this.addSystemFieldModal.show()}newSystemFieldSave(){this.addSystemFieldModal.hide(),this.reportObj.fieldgroup[0].filterFields.push(this.newSystemField),this.refresh(),console.log({projectionadded:"added",projections:this.reportObj.fieldgroup[0].filterFields})}deleteSystemField(r,t){this.reportObj.fieldgroup[0].filterFields.splice(t,1)}onOptionalFieldAdd(){this.newOptionalField=new D.rs,this.newOptionalField.fieldgroupName="FilterFields",this.newOptionalField.fieldSelectionValues=new D.WM,this.addOptionalFieldModal.show()}newOptionalFieldSave(){this.addOptionalFieldModal.hide(),this.reportObj.fieldgroup[1].filterFields.push(this.newSystemField),this.refresh(),console.log({projectionadded:"added",projections:this.reportObj.fieldgroup[1].filterFields})}saveReportObject(){var r=this;return(0,J.Z)(function*(){r.reportService.authToken="abc";var t=yield r.reportService.saveDesignTimeReportParam(r.reportObj);alert("Report Saved"),console.log({tosaveReportObject:r.reportObj,savedReportParam:t})})()}addDrilldownMenu(){var r=new D.f;r.fields=[],this.reportObj.drilldownmenus.push(r)}deleteDrilldownMenu(r){var t=this.reportObj.drilldownmenus.findIndex(o=>o.name=r.name);this.reportObj.drilldownmenus.splice(t,1)}addDrilldownfield(r){var t=new D.rs;r.fields||(r.fields=[]),r.fields.push(t),console.log({driilmenu:r,reportObje:this.reportObj})}deleteDrilldownfield(r,t){var o=r.fields.findIndex(i=>i.fieldId==t.fieldId);r.fields.splice(o,1)}arrayToOperatorList(r){}deleteReport(r){console.log({onDeleteReport:event})}toggleAccordian(r){var t=r.target;console.log("event value",r),t.parentElement.classList.toggle("active")}toggleReport(r,t){r.target.parentElement.classList.toggle("reportOption")}selectChangeHandler(r){this.reportFilterComponent.seperateSelectedFields()}onItemSelect(r,t){console.log({event:r,fld:t})}onMultiSelect(r,t){console.log({event:r,fld:t})}downloadExecl(){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(D.rM))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-designer"]],viewQuery:function(r,t){if(1&r&&(e.Gf(nn,5),e.Gf(an,5),e.Gf(sn,5),e.Gf(ln,5),e.Gf(pn,5),e.Gf(cn,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.childModal=o.first),e.iGM(o=e.CRH())&&(t.addProjectionModal=o.first),e.iGM(o=e.CRH())&&(t.addSystemFieldModal=o.first),e.iGM(o=e.CRH())&&(t.addOptionalFieldModal=o.first),e.iGM(o=e.CRH())&&(t.reportFilterComponent=o.first),e.iGM(o=e.CRH())&&(t.simpleTable=o.first)}},decls:178,vars:40,consts:[[1,"container"],[1,"row",2,"padding-top","20px"],[1,"col-lg-3"],[3,"ReportFilterSetting","UserReportList","ClickFilter","downloadExcel","SaveReport","DeleteReport"],["reportFilter",""],[1,"col-md-9"],[3,"simpleTableConfig","mergeHeaderTemplate","SearchHeaderTemplate","TableDataTemplate","FooterTemplate","onActionClick","onCurrentPageChange","columnSettingChange","onContextMenu"],["genericSimpleTable",""],[1,"row"],["type","text","id","reportName",3,"ngModel","ngModelChange"],["type","text","id","reportType",3,"ngModel","ngModelChange"],["type","text","id","reportUser",3,"ngModel","ngModelChange"],[3,"click"],[1,"row",2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","margin-top","15px","margin-bottom","20px"],[1,"col-lg-4"],[1,"form-group"],["for","queryType"],["id","queryType","placeholder","QueryType",1,"form-control",3,"ngModel","ngModelChange"],["value","parameterquery"],["value","storedprocedure"],["value","consolidatedstoredprocedure"],["value","rawquery"],["value","api"],["for","querySplit"],["id","querySplit","type","text","placeholder","Spllit table on",1,"form-control",3,"ngModel","ngModelChange"],["for","reportSort"],["id","reportSort","type","text","placeholder","Sort Report by",1,"form-control",3,"ngModel","ngModelChange"],["for","dataSourceType"],["id","dataSourceType","placeholder","DataSource",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["for","FiscalBeginDate"],["id","FiscalBeginDate","type","text","placeholder","Fiscal Year Begin",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-8"],["for","Query"],["id","Query","rows","8",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"row",2,"height","600px"],[1,"col-lg-4",2,"border","1px solid black"],[2,"text-align","center"],[1,"row",2,"overflow","scroll","height","500px","margin-bottom","30px"],[1,"row",2,"width","100%"],["style","width: -webkit-fill-available",3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","15px"],[1,"btn","btn-info",3,"click"],[4,"ngFor","ngForOf"],[1,"row",2,"align-content","center"],[1,"btn","btn-info",2,"text-align","center",3,"click"],[2,"position","sticky"],[1,"row",2,"height","500px","overflow","scroll","margin-bottom","30px"],[1,"btn","btn-info",2,"margin-bottom","10 px","padding","10px",3,"click"],[1,"row",2,"margin-top","35px"],[1,"col-lg-12"],[1,"btn","btn-info",2,"margin-left","15px",3,"click"],["RequiredFields",""],["drilldownTemplate",""],["projectionField",""],["OptionalFields",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","mySmallModalLabel","aria-hidden","true",1,"modal","fade",3,"config"],["childModal","bs-modal"],[1,"modal-dialog","modal-sm"],[1,"modal-content"],[1,"modal-header"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-title"],[1,"modal-body"],["addProjection","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content",2,"height","655px","overflow-x","hidden","overflow-y","auto"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["addSystemFields","bs-modal"],[1,"btn","btn-info",2,"margin-top","15px",3,"click"],[1,"btn","btn-info",2,"margin-left","15px","margin-top","15px",3,"click"],["addOptionalFields","bs-modal"],[1,"btn","btn-info",2,"margin-top","15px","margin-left","15px",3,"click"],["datePicker",""],["mergeHeaderTemplate",""],["SearchHeaderTemplate",""],["TableDataTemplate",""],["dataColumnTemplate",""],["FooterTemplate",""],[2,"width","-webkit-fill-available",3,"ngTemplateOutlet","ngTemplateOutletContext"],[2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px 15px 1px 15px","width","100%","margin-bottom","20px"],[3,"for"],["type","text",1,"form-control",3,"id","ngModel","ngModelChange"],[1,"form-control",3,"id","ngModel","ngModelChange"],["value","text"],["value","multiselect"],["value","singleselect"],["value","daterange"],["value","dropdownmultiselect"],["value","dropdown"],["value","checkbox"],["value","attributes"],["value","string"],["value","number"],["value","date"],["value","boolean"],[1,"form-group","checkbox"],["type","checkbox",3,"id","ngModel","ngModelChange"],["for","operators"],[3,"data","id","ngModel","settings","ngModelChange"],["value","static"],["value","dynamic"],[3,"id","fieldValues","fieldValuesChange"],["for","fieldvalue"],[2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px 15px 1px 15px","width","-webkit-fill-available","margin-bottom","20px"],[3,"drilldownmenu"],[1,"projectionFieldWrapper",2,"box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","margin-bottom","20px","width","-webkit-fill-available"],[1,"form-group",2,"margin-bottom","0"],[2,"margin-left","10px",3,"for"],["placeholder","QueryType",1,"form-control",3,"id","ngModel","ngModelChange"],["value","3"],[1,"d-flex",2,"justify-content","space-between","box-shadow","rgba(0, 0, 0, 0.16) 0px 10px 36px 0px,\n          rgba(0, 0, 0, 0.06) 0px 0px 0px 1px","padding","15px","width","-webki-fill-available"],[1,"left-optfield",2,"flex","0 0 49%"],["type","checkbox","id","operators"],["type","checkbox","id","SelectionCriteria"],["for","SelectionCriteria"],["type","checkbox",3,"id"],[1,"right-OptField",2,"flex","0 0 49%"],[3,"ngStyle"],["style","padding-top: 4px; padding-bottom: 4px",3,"ngStyle",4,"ngIf"],[2,"padding-top","4px","padding-bottom","4px",3,"ngStyle"],[4,"ngIf"],["id","item.title","type","text",1,"form-control",2,"width","96%","border-radius","4px","padding","4px","margin","10px 0px 10px 3px","background-color","aqua",3,"placeholder","keyup"],["inputBox",""],[3,"ngStyle",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseList",""],[2,"list-style-type","none"],["[fieldName]?","item.listFieldName",3,"itemObj","item"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"title","ngStyle"]],template:function(r,t){if(1&r){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"report-filter",3,4),e.NdJ("ClickFilter",function(l){return t.applyFilter(l,1)})("downloadExcel",function(l){return t.downloadExcel(l)})("SaveReport",function(l){return t.onSaveReport(l)})("DeleteReport",function(l){return t.onDeleteReport(l)}),e.qZA()(),e.TgZ(5,"div",5)(6,"report-grid",6,7),e.NdJ("onActionClick",function(l){return t.onActionClick(l)})("onCurrentPageChange",function(l){return t.onPageChange(l)})("columnSettingChange",function(l){return t.onColumnSettingChange(l)})("onContextMenu",function(l){return t.onContextMenuClick(l)}),e.qZA()()(),e.TgZ(8,"div",8)(9,"span")(10,"span"),e._uU(11,"Report Name"),e.TgZ(12,"span")(13,"input",9),e.NdJ("ngModelChange",function(l){return t.reportObj.reportName=l}),e.qZA()()(),e.TgZ(14,"span"),e._uU(15,"Report Type"),e.TgZ(16,"span")(17,"input",10),e.NdJ("ngModelChange",function(l){return t.reportObj.reportType=l}),e.qZA()()(),e.TgZ(18,"span"),e._uU(19,"Report User"),e.TgZ(20,"span")(21,"input",11),e.NdJ("ngModelChange",function(l){return t.reportObj.reportUser=l}),e.qZA()()(),e.TgZ(22,"span")(23,"button",12),e.NdJ("click",function(){return t.onLoadReport()}),e._uU(24,"Load Report"),e.qZA()()()(),e.TgZ(25,"div",13)(26,"div",14)(27,"div",15)(28,"label",16),e._uU(29,"Query Type : "),e.qZA(),e.TgZ(30,"select",17),e.NdJ("ngModelChange",function(l){return t.reportObj.queryType=l}),e.TgZ(31,"option",18),e._uU(32,"parameterquery"),e.qZA(),e.TgZ(33,"option",19),e._uU(34,"storedprocedure"),e.qZA(),e.TgZ(35,"option",20),e._uU(36,"consolidatedstoredprocedure"),e.qZA(),e.TgZ(37,"option",21),e._uU(38,"rawquery"),e.qZA(),e.TgZ(39,"option",22),e._uU(40,"api"),e.qZA()()(),e.TgZ(41,"div",15)(42,"label",23),e._uU(43,"Split Table on : "),e.qZA(),e.TgZ(44,"input",24),e.NdJ("ngModelChange",function(l){return t.reportObj.querySplit=l}),e.qZA()(),e.TgZ(45,"div",15)(46,"label",25),e._uU(47,"Report Sort : "),e.qZA(),e.TgZ(48,"input",26),e.NdJ("ngModelChange",function(l){return t.reportObj.reportSort=l}),e.qZA()(),e.TgZ(49,"div",15)(50,"label",27),e._uU(51,"DataSource Type : "),e.qZA(),e.TgZ(52,"select",28),e.NdJ("ngModelChange",function(l){return t.reportObj.dataSourceType=l}),e.TgZ(53,"option",29),e._uU(54,"Local DataSource"),e.qZA(),e.TgZ(55,"option",30),e._uU(56,"Server DataSource"),e.qZA(),e.TgZ(57,"option",31),e._uU(58,"External DataSource"),e.qZA()()(),e.TgZ(59,"div",15)(60,"label",32),e._uU(61,"Fiscal Year Begin Date : "),e.qZA(),e.TgZ(62,"input",33),e.NdJ("ngModelChange",function(l){return t.reportObj.fiscalBeginDate=l}),e.qZA()()(),e.TgZ(63,"div",34)(64,"div",15)(65,"label",35),e._uU(66,"Query"),e.qZA(),e.TgZ(67,"textarea",36),e.NdJ("ngModelChange",function(l){return t.reportObj.table=l}),e.qZA()()()(),e.TgZ(68,"div",37)(69,"div",38)(70,"div",8)(71,"h2",39),e._uU(72,"Filter Fields"),e.qZA()(),e.TgZ(73,"div",40)(74,"div",41),e.YNc(75,dn,1,5,"ng-container",42),e.qZA()(),e.TgZ(76,"div",43)(77,"button",44),e.NdJ("click",function(){return t.onSystemFieldAdd()}),e._uU(78," Add Filter "),e.qZA()()(),e.TgZ(79,"div",38)(80,"h2",39),e._uU(81,"Projection Fields"),e.qZA(),e.TgZ(82,"div",40),e.YNc(83,un,4,6,"ng-container",45),e.qZA(),e.TgZ(84,"div",46)(85,"button",47),e.NdJ("click",function(){return t.onProjectionAdd()}),e._uU(86," Add Projection "),e.qZA()()(),e.TgZ(87,"div",38)(88,"h2",48),e._uU(89,"Drilldown Menu"),e.qZA(),e.TgZ(90,"div",49),e.YNc(91,Sn,2,5,"ng-container",45),e.qZA(),e.TgZ(92,"button",50),e.NdJ("click",function(){return t.addDrilldownMenu()}),e._uU(93," Add Drilldown "),e.qZA()()(),e.TgZ(94,"div",51)(95,"div",52)(96,"button",53),e.NdJ("click",function(){return t.saveReportObject()}),e._uU(97," Save Report Object "),e.qZA()()()(),e.YNc(98,mn,119,54,"ng-template",null,54,e.W1O),e.YNc(100,On,22,11,"ng-template",null,55,e.W1O),e.YNc(102,bn,49,30,"ng-template",null,56,e.W1O),e.YNc(104,Tn,58,37,"ng-template",null,57,e.W1O),e.TgZ(106,"div",58,59)(108,"div",60)(109,"div",61)(110,"div",62)(111,"button",63),e.NdJ("click",function(){e.CHM(o);const l=e.MAs(107);return e.KtG(l.hide())}),e.TgZ(112,"span",64),e._uU(113,"\xd7"),e.qZA()(),e.TgZ(114,"h4",65),e._uU(115,"Information18"),e.qZA()(),e.TgZ(116,"div",66),e._uU(117),e.qZA()()()(),e.TgZ(118,"div",58,67)(120,"div",68)(121,"div",69)(122,"div",62)(123,"h4",65),e._uU(124,"Add Projection"),e.qZA(),e.TgZ(125,"button",63),e.NdJ("click",function(){return t.addProjectionModal.hide()}),e.TgZ(126,"span",64),e._uU(127,"\xd7"),e.qZA()()(),e.TgZ(128,"div",66),e.GkF(129,70),e.TgZ(130,"button",44),e.NdJ("click",function(){return t.newProjectionHide()}),e._uU(131,"Save"),e.qZA(),e.TgZ(132,"button",53),e.NdJ("click",function(){return t.addProjectionModal.hide()}),e._uU(133," Cancel "),e.qZA()()()()(),e.TgZ(134,"div",58,71)(136,"div",68)(137,"div",69)(138,"div",62)(139,"h4",65),e._uU(140,"Add System Fields"),e.qZA(),e.TgZ(141,"button",63),e.NdJ("click",function(){return t.addSystemFieldModal.hide()}),e.TgZ(142,"span",64),e._uU(143,"\xd7"),e.qZA()()(),e.TgZ(144,"div",66),e.GkF(145,70),e.TgZ(146,"button",72),e.NdJ("click",function(){return t.newSystemFieldSave()}),e._uU(147," Save "),e.qZA(),e.TgZ(148,"button",73),e.NdJ("click",function(){return t.addSystemFieldModal.hide()}),e._uU(149," Cancel "),e.qZA()()()()(),e.TgZ(150,"div",58,74)(152,"div",68)(153,"div",61)(154,"div",62)(155,"h4",65),e._uU(156,"Add Optional Fields"),e.qZA(),e.TgZ(157,"button",63),e.NdJ("click",function(){return t.addOptionalFieldModal.hide()}),e.TgZ(158,"span",64),e._uU(159,"\xd7"),e.qZA()()(),e.TgZ(160,"div",66),e.GkF(161,70),e.TgZ(162,"button",72),e.NdJ("click",function(){return t.newOptionalFieldSave()}),e._uU(163," Save "),e.qZA(),e.TgZ(164,"button",75),e.NdJ("click",function(){return t.addOptionalFieldModal.hide()}),e._uU(165," Cancel "),e.qZA()()()()(),e.YNc(166,vn,2,0,"ng-template",null,76,e.W1O),e.YNc(168,An,1,1,"ng-template",null,77,e.W1O),e.YNc(170,En,1,1,"ng-template",null,78,e.W1O),e.YNc(172,Fn,1,1,"ng-template",null,79,e.W1O),e.YNc(174,xn,1,1,"ng-template",null,80,e.W1O),e.YNc(176,Yn,1,1,"ng-template",null,81,e.W1O)}if(2&r){const o=e.MAs(99),i=e.MAs(103),l=e.MAs(169),c=e.MAs(171),_=e.MAs(173),d=e.MAs(177);e.xp6(3),e.Q6J("ReportFilterSetting",t.reportObj)("UserReportList",t.userReportList),e.xp6(3),e.Q6J("simpleTableConfig",t.genericSimpleTableConfig)("mergeHeaderTemplate",l)("SearchHeaderTemplate",c)("TableDataTemplate",_)("FooterTemplate",d),e.xp6(7),e.Q6J("ngModel",t.reportObj.reportName),e.xp6(4),e.Q6J("ngModel",t.reportObj.reportType),e.xp6(4),e.Q6J("ngModel",t.reportObj.reportUser),e.xp6(9),e.Q6J("ngModel",t.reportObj.queryType),e.xp6(14),e.Q6J("ngModel",t.reportObj.querySplit),e.xp6(4),e.Q6J("ngModel",t.reportObj.reportSort),e.xp6(4),e.Q6J("ngModel",t.reportObj.dataSourceType),e.xp6(10),e.Q6J("ngModel",t.reportObj.fiscalBeginDate),e.xp6(5),e.Q6J("ngModel",t.reportObj.table),e.xp6(8),e.Q6J("ngForOf",t.reportObj.fieldgroup[0].filterFields),e.xp6(8),e.Q6J("ngForOf",t.reportObj.projectionfieldFormats),e.xp6(8),e.Q6J("ngForOf",t.reportObj.drilldownmenus),e.xp6(15),e.Q6J("config",e.DdM(30,se)),e.xp6(11),e.Oqu(t.DialogMessage),e.xp6(1),e.Q6J("config",e.DdM(31,se)),e.xp6(11),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(32,Jn,t.newProjection)),e.xp6(5),e.Q6J("config",e.DdM(34,se)),e.xp6(11),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(35,Me,t.newSystemField)),e.xp6(5),e.Q6J("config",e.DdM(37,se)),e.xp6(11),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(38,Me,t.newOptionalField))}},dependencies:[he.oB,u.sg,u.O5,u.tP,u.PC,u.RF,u.n9,u.ED,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,W.O,D.B6,D.XO,D.Zw,u.JJ,u.uU],styles:["@media (min-width: 1400px) {\n      .container[_ngcontent-%COMP%] {\n        max-width: 1340px;\n      }\n    }\n    .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n      margin-left: 5px;\n      margin-right: 10px;\n    }\n\n    .container[_ngcontent-%COMP%]{\n        height: 80vh;\n        overflow: auto;\n    }\n\n    label[_ngcontent-%COMP%]{\n      width: 100px;\n    }"]}),n})();const Gn=S.Bz.forChild([{path:"",component:V,children:[{path:"reportmain",component:f,canActivate:[T.C]},{path:"closingStock",component:f,canActivate:[T.C]},{path:"purchasebookreport",component:f,canActivate:[T.C]},{path:"salesreport-itemwise",component:f,canActivate:[T.C]},{path:"salesbook-report",component:f,canActivate:[T.C]},{path:"SalesReportProductTypeWise",component:f,canActivate:[T.C]},{path:"PurchaseReportProductTypeWise",component:f,canActivate:[T.C]},{path:"SalesReportCategoryWise",component:f,canActivate:[T.C]},{path:"PurchaseReportCategoryWise",component:f,canActivate:[T.C]},{path:"saleseregisterreport-dialog",component:f,canActivate:[T.C]},{path:"purchasereport-itemwise",component:f,canActivate:[T.C]},{path:"salesreport-itemwise-detail",component:f,canActivate:[T.C]},{path:"purchasereport-itemwise-detail",component:f,canActivate:[T.C]},{path:"creditnotebook-report",component:f,canActivate:[T.C]},{path:"debitnotebook-report",component:f,canActivate:[T.C]},{path:"purchasereport-supplierwise",component:f,canActivate:[T.C]},{path:"salesreport-customerwise",component:f,canActivate:[T.C]},{path:"salesreport-supplierwise",component:f,canActivate:[T.C]},{path:"salesregisterreport-dialog",component:f,canActivate:[T.C]},{path:"purchaseRegisterReport",component:f,canActivate:[T.C]},{path:"onelakhpurchasereport",component:f,canActivate:[T.C]},{path:"onelakhsalesreport",component:f,canActivate:[T.C]},{path:"stock-summary-report",component:f,canActivate:[T.C]},{path:"requisition-approval-report",component:f,canActivate:[T.C]},{path:"report-master",component:Ae,canActivate:[T.C]},{path:"report-designer",component:Re,canActivate:[T.C]},{path:"stock-ledger-report",component:f,canActivate:[T.C]},{path:"stock-valuation-report",component:f,canActivate:[T.C]},{path:"membershippointreport",component:f,canActivate:[T.C]},{path:"datereport",component:f,canActivate:[T.C]},{path:"transreport",component:f,canActivate:[T.C]},{path:"branch-transfer-report",component:f,canActivate:[T.C]},{path:"item-expiry-report",component:f,canActivate:[T.C]},{path:"max-stocklevel-report",component:f,canActivate:[T.C]},{path:"minimum-stocklevel-report",component:f,canActivate:[T.C]},{path:"reorder-levelstock-report",component:f,canActivate:[T.C]},{path:"stock-abcanalysis-report",component:f,canActivate:[T.C]},{path:"price-changelog-report",component:f,canActivate:[T.C]},{path:"salesprofitability-analysis",component:f,canActivate:[T.C]},{path:"purchaseorderreport",component:f,canActivate:[T.C]},{path:"purchaseorder-outstanding",component:f,canActivate:[T.C]},{path:"quotationreport",component:f,canActivate:[T.C]},{path:"salesorderreport",component:f,canActivate:[T.C]},{path:"salesorderoutstanding",component:f,canActivate:[T.C]},{path:"currentstock-warehousewise",component:f,canActivate:[T.C]},{path:"grn-report",component:f,canActivate:[T.C]},{path:"repack-report",component:f,canActivate:[T.C]},{path:"requisition-report",component:f,canActivate:[T.C]},{path:"raw-data-report",component:f,canActivate:[T.C]},{path:"recurring-transaction-report",component:f,canActivate:[T.C]},{path:"recurring-transaction-analysis-report",component:f,canActivate:[T.C]},{path:"report-master",component:Ae,canActivate:[T.C]},{path:"stockageing-report",component:f,canActivate:[T.C]},{path:"branch-transferout-vs-inreport",component:f,canActivate:[T.C]},{path:"stock-report-warehouse-wise",component:f,canActivate:[T.C]},{path:"consolidatedpurchase-report-branchwise",component:f,canActivate:[T.C]},{path:"consolidatedsales-report-branchwise",component:f,canActivate:[T.C]},{path:"consolidatedstock-report-branchwise",component:f,canActivate:[T.C]},{path:"branch-transfer-inreport-itemwise",component:f,canActivate:[T.C]},{path:"branch-transferout-itemwise",component:f,canActivate:[T.C]},{path:"sales-collection-report",component:f,canActivate:[T.C]},{path:"openingstockreport",component:f,canActivate:[T.C]},{path:"rate-group-report",component:f,canActivate:[T.C]},{path:"salesprice-changelog-report",component:f,canActivate:[T.C]},{path:"openingstock-report",component:f,canActivate:[T.C]},{path:"salesprice-changelog-report",component:f,canActivate:[T.C]},{path:"vat-saleseregisterreport-new",component:f,canActivate:[T.C]},{path:"vat-purchaseregisterreport-new",component:f,canActivate:[T.C]},{path:"stock-issue-report",component:f,canActivate:[T.C]},{path:"credit-note-sales-return-report",component:f,canActivate:[T.C]},{path:"vat-other-adjustment-report",component:f,canActivate:[T.C]},{path:"debitnote-purchasereturn-report",component:f,canActivate:[T.C]},{path:"shift-close-report",component:f,canActivate:[T.C]},{path:"stock-variance-report",component:f,canActivate:[T.C]},{path:"salesrevenue-analysisreport",component:f,canActivate:[T.C]},{path:"salesreport-salesmanwise",component:f,canActivate:[T.C]},{path:"salesreport-membershipwise",component:f,canActivate:[T.C]},{path:"proformainvoicereport",component:f,canActivate:[T.C]},{path:"sales-flow-report-monthwise",component:f,canActivate:[T.C]},{path:"purchase-flow-report-monthwise",component:f,canActivate:[T.C]},{path:"annexure13report",component:f,canActivate:[T.C]},{path:"worsesales-analysisreport",component:f,canActivate:[T.C]},{path:"topnsales-analysisreport",component:f,canActivate:[T.C]},{path:"sales-revenue-metrics-report",component:f,canActivate:[T.C]},{path:"hourly-sales-report",component:f,canActivate:[T.C]},{path:"report-designer",component:Re,canActivate:[T.C]}]}]);var U=C(79199);function Hn(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function Qn(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,Hn,2,2,"option",18),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let zn=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.repObj={reportname:"Purchase Order Detail",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYTYPE:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportparam.COMPANYTYPE=this.masterService.userProfile.CompanyInfo.ORG_TYPE;let r=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-detail-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Order Detail Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,Qn,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return t.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&r&&(e.xp6(11),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),Kn=(()=>{class n{constructor(r,t,o,i){this.masterService=r,this._transactionService=t,this.fb=o,this.reportMainService=i,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",division:"",REPMODE:0}},this.reportdataEmit=new e.vpe,this.ClosingStockReport={},this.repObj.reportparam.division=this.masterService.userProfile.userDivision,this.masterService.reportName="Closing Stock",this.reportMainService.reportName="Closing Stock",this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ClosingStockReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.ClosingStockReport.DATE1,"AD"),this.ClosingStockReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.ClosingStockReport.DATE,"AD"),this.ranges=this.masterService.dateFilterRange}changeEntryDate(r,t){"AD"==t?this.ClosingStockReport.BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this.ClosingStockReport.DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this.ClosingStockReport.BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this.ClosingStockReport.DATE=this.masterService.toADDate(r))}onload(){this.repObj.reportname="Closing Stock",this.repObj.reportparam.REPMODE="0"==this.REPORTMODE?0:1,this.repObj.reportparam.DATE2=this.ClosingStockReport.DATE,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.repObj})}ngOnInit(){}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["closing-stock"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:37,vars:2,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#ffffff"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"smallBoldLabel"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Closing Stock Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"fieldset")(16,"legend",11),e._uU(17,"Date Range Selection :"),e.qZA(),e.TgZ(18,"table")(19,"tr")(20,"td")(21,"label",12),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",12)(26,"input",13),e.NdJ("ngModelChange",function(i){return t.ClosingStockReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(27,"tr")(28,"td")(29,"label",12)(30,"input",14),e.NdJ("ngModelChange",function(i){return t.ClosingStockReport.BSDATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()()()()()(),e._UZ(31,"hr",15),e.TgZ(32,"div",16)(33,"button",17),e.NdJ("click",function(){return t.onload()}),e._uU(34,"RUN"),e.qZA(),e.TgZ(35,"button",18),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(36,"Close"),e.qZA()()()()),2&r&&(e.xp6(26),e.Q6J("ngModel",t.ClosingStockReport.DATE),e.xp6(4),e.Q6J("ngModel",t.ClosingStockReport.BSDATE2))},dependencies:[s.Fj,s.JJ,s.On],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function $n(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function Xn(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,$n,2,2,"option",18),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let ea=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.repObj={reportname:"Purchase Invoice Detail",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYTYPE:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportparam.COMPANYTYPE=this.masterService.userProfile.CompanyInfo.ORG_TYPE;let r=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-invoice-detail-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Invoice Detail Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,Xn,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return t.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&r&&(e.xp6(11),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function ta(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function ra(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.PHISCALID=o)}),e.YNc(4,ta,2,2,"option",19),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let ia=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.reportdataEmit=new e.vpe,this.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let r=this.calendarForm.value;this.reportdataEmit.emit({status:"ok",data:{reportname:"Customer Wise Item Sales Detail",reportparam:{PHISCALID:this.PHISCALID,COMPANYTYPE:this.masterService.userProfile.CompanyInfo.ORG_TYPE,DATE1:E()(r.selectedDate.startDate).format("MM-DD-YYYY"),DATE2:E()(r.selectedDate.endDate).format("MM-DD-YYYY")}}})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:{}})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["customer-wise-item-sales-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Customerwise item sales Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,ra,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return t.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&r&&(e.xp6(12),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function oa(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function na(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.dailySalesObj.reportparam.PHISCALID=o)}),e.YNc(4,oa,2,2,"option",19),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.dailySalesObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let aa=(()=>{class n{constructor(r,t,o){this.masterService=r,this._transactionService=t,this.fb=o,this.dailySalesObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.dailySalesObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.dailySalesObj.reportname="DAILY SALES REPORT";let r=this.calendarForm.value;this.dailySalesObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.dailySalesObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.dailySalesObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.dailySalesObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["daily-sales-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Daily Sales Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,na,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return t.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&r&&(e.xp6(12),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),sa=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.reportObj={reportname:"STOCK SETTLEMENT",reportparam:{DATE1:"",DATE2:""}},this.reportdataEmit=new e.vpe,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let r=this.calendarForm.value;this.reportObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-settlement-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:4,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Stock Settlement Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return t.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&r&&(e.xp6(15),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function la(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function pa(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,la,2,2,"option",18),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let ca=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.repObj={reportname:"PURCHASE RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let r=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-return-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Return Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,pa,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return t.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&r&&(e.xp6(11),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function _a(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function da(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,_a,2,2,"option",19),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let ha=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.repObj.reportname="SALES ORDER";let r=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-order-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Order Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,da,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return t.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&r&&(e.xp6(12),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function ua(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function ga(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,ua,2,2,"option",19),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let Sa=(()=>{class n{constructor(r,t,o){this.masterService=r,this._transactionService=t,this.fb=o,this.repObj={reportname:"CUSTOMERWISE SALES RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let r=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["customerwise-salesreturn-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," CustomerWise SalesReturn Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,ga,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return t.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&r&&(e.xp6(12),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function ma(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function Oa(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportObj.reportparam.PHISCALID=o)}),e.YNc(4,ma,2,2,"option",19),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.reportObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let ba=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.reportObj={reportname:"SALES RETURN REPORT",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.reportObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let r=this.calendarForm.value;this.reportObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesreturn-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Return Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,Oa,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return t.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&r&&(e.xp6(12),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Ta(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function va(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,Ta,2,2,"option",18),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let fa=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.repObj={reportname:"Purchase Order Summary",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let r=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-summary"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Order Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,va,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return t.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&r&&(e.xp6(11),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Ca(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function Aa(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,Ca,2,2,"option",18),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let Pa=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.repObj={reportname:"Purchase Summary",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let r=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-summary"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,Aa,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return t.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&r&&(e.xp6(11),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Ma(n,a){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function Ra(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",11)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.reportObj.reportparam.PHISCALID=o)}),e.YNc(4,Ma,2,2,"option",19),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.reportObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let Ea=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.reportObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.reportObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){this.reportObj.reportname="Sales Return Summary";let r=this.calendarForm.value;this.reportObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.reportObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.reportObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.reportObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-return-summary"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:24,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Sales Return Summary Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,Ra,5,2,"div",10),e.TgZ(13,"div",11)(14,"label"),e._uU(15,"Date Selection"),e.qZA(),e.TgZ(16,"form",12),e._UZ(17,"input",13),e.qZA()()()()()(),e._UZ(18,"hr",14),e.TgZ(19,"div",15)(20,"button",16),e.NdJ("click",function(){return t.onload()}),e._uU(21,"RUN"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(23,"Close"),e.qZA()()()()),2&r&&(e.xp6(12),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Da=["division"];function Ia(n,a){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let Na=(()=>{class n{constructor(r,t,o,i){if(this.masterService=r,this._trnMainService=t,this._alertService=o,this._authService=i,this.purchaseRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var l=new Date;l.setMonth(l.getMonth()-1),this.purchaseRegisterReport.DATE1=l.toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD")}else this.purchaseRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.purchaseRegisterReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD")):(this.purchaseRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD")),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.purchaseRegisterReport.isPI=!0,this.purchaseRegisterReport.isCP=!0,this.purchaseRegisterReport.isDN=!0,this.purchaseRegisterReport.isCN=!0;var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const _=new Date;this.currDate=(0,u.p6)(_,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.purchaseRegisterReport.V1=1==this.purchaseRegisterReport.isPI?"PI":"",this.purchaseRegisterReport.V3=1==this.purchaseRegisterReport.isCP?"CP":"",this.purchaseRegisterReport.V2=1==this.purchaseRegisterReport.isDN?"DN":"",this.purchaseRegisterReport.V4=1==this.purchaseRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:r,data:{reportname:"VAT Purchase Register Report",reportparam:{DATE1:this.purchaseRegisterReport.DATE1,DATE2:this.purchaseRegisterReport.DATE,DIVISION:this.purchaseRegisterReport.DIV?this.purchaseRegisterReport.DIV:"%",PHISCALID:this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:" ",V1:this.purchaseRegisterReport.V1,V2:this.purchaseRegisterReport.V2,V3:this.purchaseRegisterReport.V3}}})}divisionChanged(){this.purchaseRegisterReport.DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this.purchaseRegisterReport.BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.purchaseRegisterReport.DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this.purchaseRegisterReport.BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.purchaseRegisterReport.DATE=this.masterService.toADDate(r)}}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["result-purchaseregisterreport-dialog"]],viewQuery:function(r,t){if(1&r&&e.Gf(Da,5),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:60,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","100%"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Purchase Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.purchaseRegisterReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.purchaseRegisterReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.DIV=i})("change",function(){return t.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,Ia,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"div",19)(44,"label",20)(45,"input",21),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.isPI=i}),e.qZA(),e._uU(46," Trading Purchase Transaction "),e.qZA()(),e.TgZ(47,"div",22)(48,"label",20)(49,"input",23),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.isCP=i}),e.qZA(),e._uU(50," Capital Purchase Transaction "),e.qZA()(),e.TgZ(51,"div",22)(52,"label",20)(53,"input",23),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.isDN=i}),e.qZA(),e._uU(54," Debit Note Transaction "),e.qZA()()(),e.TgZ(55,"div",24)(56,"button",25),e.NdJ("click",function(){return t.onload()}),e._uU(57,"RUN"),e.qZA(),e.TgZ(58,"button",26),e.NdJ("click",function(){return t.cancel()}),e._uU(59,"Close"),e.qZA()()()()()()()()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.purchaseRegisterReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t.purchaseRegisterReport.BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.purchaseRegisterReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t.purchaseRegisterReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",t.purchaseRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t.purchaseRegisterReport.isPI),e.xp6(4),e.Q6J("ngModel",t.purchaseRegisterReport.isCP),e.xp6(4),e.Q6J("ngModel",t.purchaseRegisterReport.isDN))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),ka=(()=>{class n{constructor(r){this.masterService=r,this.isActive=!1,this.closingStock={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe}onload(){this.closingStock.reportname="Opening Stock",this.closingStock.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.closingStock})}ngOnInit(){}dateChanged(){this.closingStock.reportparam.DATE1=E()(this.selectedDate.startDate).format("MM-DD-YYYY"),this.closingStock.reportparam.DATE2=E()(this.selectedDate.endDate).format("MM-DD-YYYY")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.closingStock})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["opening-stock"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:14,vars:0,consts:[[2,"height","200px"],[1,"modal-content","modal-content-main-area","mx-auto;"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Opening Stock Report "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return t.onload()}),e._uU(11,"RUN"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(13,"Close"),e.qZA()()()())},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}",".modal-content-main-area[_ngcontent-%COMP%] {\n    width: 100% !important;\n  }"]}),n})(),ja=(()=>{class n{constructor(r){this.masterService=r,this.isActive=!1,this.audit={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe}onload(){this.audit.reportname="Audit Report",this.audit.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.reportdataEmit.emit({status:"ok",data:this.audit})}ngOnInit(){}dateChanged(r){this.audit.reportparam.DATE1=E()(this.selectedDate.startDate).format("MM-DD-YYYY"),this.audit.reportparam.DATE2=E()(this.selectedDate.endDate).format("MM-DD-YYYY")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.audit})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["audit-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:14,vars:0,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title",2,"text-align","center"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4," Audit Report Filter "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e.TgZ(6,"span",5),e._uU(7,"\xd7"),e.qZA()()(),e._UZ(8,"hr",6),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return t.onload()}),e._uU(11,"RUN"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(13,"Close"),e.qZA()()()())},styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function ya(n,a){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PhiscalID),e.xp6(1),e.hij(" ",r.PhiscalID,"")}}function Fa(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",10)(1,"label"),e._uU(2,"Phiscal Year"),e.qZA(),e.TgZ(3,"select",17),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.repObj.reportparam.PHISCALID=o)}),e.YNc(4,ya,2,2,"option",18),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r.repObj.reportparam.PHISCALID),e.xp6(1),e.Q6J("ngForOf",r.masterService.fiscalYearList)}}let wa=(()=>{class n{constructor(r,t){this.masterService=r,this.fb=t,this.repObj={reportname:"Purchase Return Summary Report",reportparam:{DATE1:"",DATE2:"",PHISCALID:""}},this.reportdataEmit=new e.vpe,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.calendarForm=this.fb.group({selectedDate:[{startDate:E()(),endDate:E()()},s.kI.required]}),this.ranges=this.masterService.dateFilterRange}onload(){let r=this.calendarForm.value;this.repObj.reportparam.DATE1=E()(r.selectedDate.startDate).format("MM-DD-YYYY"),this.repObj.reportparam.DATE2=E()(r.selectedDate.endDate).format("MM-DD-YYYY"),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchasereturn-summary-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:23,vars:5,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],["class","report-filter",4,"ngIf"],[1,"report-filter"],[3,"formGroup"],["type","text","ngxDaterangepickerMd","","formControlName","selectedDate","placeholder","Choose date","showCancel","true",1,"form-control",3,"showDropdowns","ranges","alwaysShowCalendars"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Purchase Return Summary Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.YNc(11,Fa,5,2,"div",9),e.TgZ(12,"div",10)(13,"label"),e._uU(14,"Date Selection"),e.qZA(),e.TgZ(15,"form",11),e._UZ(16,"input",12),e.qZA()()()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"button",15),e.NdJ("click",function(){return t.onload()}),e._uU(20,"RUN"),e.qZA(),e.TgZ(21,"button",16),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(22,"Close"),e.qZA()()()()),2&r&&(e.xp6(11),e.Q6J("ngIf",t.masterService.fiscalYearList&&t.masterService.fiscalYearList.length),e.xp6(4),e.Q6J("formGroup",t.calendarForm),e.xp6(1),e.Q6J("showDropdowns",!0)("ranges",t.ranges)("alwaysShowCalendars",!0))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.sg,s.u,U.SP],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var Wa=C(46543);const La=["division"];function Za(n,a){if(1&n&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.INITIAL),e.xp6(1),e.hij(" ",r.NAME," ")}}let xa=(()=>{class n{constructor(r,t){this.masterService=r,this._trnMainService=t,this.VATsalesRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.VATsalesRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD"),this.VATsalesRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.VATsalesRegisterReport.DIV="%",this.VATsalesRegisterReport.SUMMARYREPORT=1,this.VATsalesRegisterReport.isSI=!0,this.VATsalesRegisterReport.isCN=!0}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.VATsalesRegisterReport.V1=1==this.VATsalesRegisterReport.isSI?"SI":"",this.VATsalesRegisterReport.V2=1==this.VATsalesRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:r,data:{reportname:"VAT Sales Register Report",reportparam:{DATE1:this.VATsalesRegisterReport.DATE1,DATE2:this.VATsalesRegisterReport.DATE,DIV:this.VATsalesRegisterReport.DIV?this.VATsalesRegisterReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,REPMODE:"1"==this.VATsalesRegisterReport.SUMMARYREPORT?1:0,V1:this.VATsalesRegisterReport.V1,V2:this.VATsalesRegisterReport.V2,V3:"XX"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(r,t){"AD"==t?this.VATsalesRegisterReport.BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this.VATsalesRegisterReport.DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this.VATsalesRegisterReport.BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this.VATsalesRegisterReport.DATE=this.masterService.toADDate(r))}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-sales-register-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(La,5),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:74,vars:12,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"width","100%"],[2,"width","inherit !important"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDatefrom","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],["id","nepaliDateto","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"radio",2,"width","inherit !important"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"checkbox"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat Sales Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend"),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table",10)(16,"tr")(17,"td")(18,"label",11),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label",11),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.BSDATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",14),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.BSDATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",15,16),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.DIV=i}),e.TgZ(43,"option",17),e._uU(44,"ALL"),e.qZA(),e.YNc(45,Za,2,2,"option",18),e.qZA()()(),e.TgZ(46,"div",9)(47,"fieldset")(48,"legend",19),e._uU(49,"Report Mode:"),e.qZA(),e.TgZ(50,"div",20)(51,"label",11)(52,"input",21),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(53," Summary Report"),e.qZA()(),e.TgZ(54,"div",20)(55,"label",11)(56,"input",21),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(57," Detail Report"),e.qZA()()()(),e.TgZ(58,"div",9)(59,"fieldset")(60,"div",22)(61,"label",11)(62,"input",23),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.isSI=i}),e.qZA(),e._uU(63," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(64,"div",22)(65,"label",11)(66,"input",23),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.isCN=i}),e.qZA(),e._uU(67," Show Credit Note "),e.qZA()()()()()()()(),e._UZ(68,"hr",24),e.TgZ(69,"div",25)(70,"button",26),e.NdJ("click",function(){return t.onload()}),e._uU(71,"RUN"),e.qZA(),e.TgZ(72,"button",27),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(73,"Close"),e.qZA()()()()),2&r&&(e.xp6(26),e.Q6J("ngModel",t.VATsalesRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",t.VATsalesRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",t.VATsalesRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",t.VATsalesRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",t.VATsalesRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList),e.xp6(7),e.Q6J("value",1)("ngModel",t.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(4),e.Q6J("value",0)("ngModel",t.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",t.VATsalesRegisterReport.isSI),e.xp6(4),e.Q6J("ngModel",t.VATsalesRegisterReport.isCN))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();const Ua=["division"];function Va(n,a){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.INITIAL),e.xp6(1),e.hij(" ",r.NAME," ")}}let Ba=(()=>{class n{constructor(r,t){this.masterService=r,this._trnMainService=t,this.purchaseRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.purchaseRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.purchaseRegisterReport.DATE1,"AD"),this.purchaseRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.purchaseRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.purchaseRegisterReport.DIV="%",this.purchaseRegisterReport.isPI=!0,this.purchaseRegisterReport.isCP=!0,this.purchaseRegisterReport.isDN=!0,this.purchaseRegisterReport.isCN=!0}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.purchaseRegisterReport.V1=1==this.purchaseRegisterReport.isPI?"PI":"",this.purchaseRegisterReport.V3=1==this.purchaseRegisterReport.isCP?"CP":"",this.purchaseRegisterReport.V2=1==this.purchaseRegisterReport.isDN?"DN":"",this.purchaseRegisterReport.V4=1==this.purchaseRegisterReport.isCN?"CN":"",this.reportdataEmit.emit({status:r,data:{reportname:"VAT Purchase Register Report",reportparam:{DATE1:this.purchaseRegisterReport.DATE1,DATE2:this.purchaseRegisterReport.DATE,DIVISION:this.purchaseRegisterReport.DIV?this.purchaseRegisterReport.DIV:"%",PHISCALID:this._trnMainService.userProfile.CompanyInfo.PhiscalID?this._trnMainService.userProfile.CompanyInfo.PhiscalID:" ",V1:this.purchaseRegisterReport.V1,V2:this.purchaseRegisterReport.V2,V3:this.purchaseRegisterReport.V3}}})}divisionChanged(){this.purchaseRegisterReport.DIV=this.division.nativeElement.value}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(r,t){"AD"==t?this.purchaseRegisterReport.BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this.purchaseRegisterReport.DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this.purchaseRegisterReport.BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this.purchaseRegisterReport.DATE=this.masterService.toADDate(r))}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-purchase-register-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Ua,5),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:66,vars:9,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat Purchase Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.BSDATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.BSDATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,Va,2,2,"option",17),e.qZA()()(),e.TgZ(46,"div",9)(47,"fieldset")(48,"div",18)(49,"label",11)(50,"input",19),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.isPI=i}),e.qZA(),e._uU(51," Trading Purchase Transaction "),e.qZA()(),e.TgZ(52,"div",18)(53,"label",11)(54,"input",20),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.isCP=i}),e.qZA(),e._uU(55," Capital Purchase Transaction "),e.qZA()(),e.TgZ(56,"div",18)(57,"label",11)(58,"input",20),e.NdJ("ngModelChange",function(i){return t.purchaseRegisterReport.isDN=i}),e.qZA(),e._uU(59," Debit Note Transaction "),e.qZA()()()()()()()(),e._UZ(60,"hr",21),e.TgZ(61,"div",22)(62,"button",23),e.NdJ("click",function(){return t.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",24),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()),2&r&&(e.xp6(26),e.Q6J("ngModel",t.purchaseRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",t.purchaseRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",t.purchaseRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",t.purchaseRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",t.purchaseRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList),e.xp6(5),e.Q6J("ngModel",t.purchaseRegisterReport.isPI),e.xp6(4),e.Q6J("ngModel",t.purchaseRegisterReport.isCP),e.xp6(4),e.Q6J("ngModel",t.purchaseRegisterReport.isDN))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();const Ya=["division"];function Ja(n,a){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.INITIAL),e.xp6(1),e.Oqu(r.NAME)}}let qa=(()=>{class n{constructor(r,t){this.masterService=r,this._trnMainService=t,this.CreditNoteRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.CreditNoteRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.CreditNoteRegisterReport.DATE1,"AD"),this.CreditNoteRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.CreditNoteRegisterReport.DATE,"AD"),this.CreditNoteRegisterReport.DIV="%",this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.reportdataEmit.emit({status:r,data:{reportname:"Credit Note Register Report",reportparam:{DATE1:this.CreditNoteRegisterReport.DATE1,DATE2:this.CreditNoteRegisterReport.DATE,DIV:this.CreditNoteRegisterReport.DIV?this.CreditNoteRegisterReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(r,t){"AD"==t?this.CreditNoteRegisterReport.BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this.CreditNoteRegisterReport.DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this.CreditNoteRegisterReport.BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this.CreditNoteRegisterReport.DATE=this.masterService.toADDate(r))}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["creditnote-register-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Ya,5),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:52,vars:6,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat CreditNote Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection :"),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return t.CreditNoteRegisterReport.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return t.CreditNoteRegisterReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return t.CreditNoteRegisterReport.BSDATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return t.CreditNoteRegisterReport.BSDATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return t.CreditNoteRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,Ja,2,2,"option",17),e.qZA()()()()()()(),e._UZ(46,"hr",18),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return t.onload()}),e._uU(49,"RUN"),e.qZA(),e.TgZ(50,"button",21),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(51,"Close"),e.qZA()()()()),2&r&&(e.xp6(26),e.Q6J("ngModel",t.CreditNoteRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",t.CreditNoteRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",t.CreditNoteRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",t.CreditNoteRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",t.CreditNoteRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On],styles:["legend[_ngcontent-%COMP%] {\n    font-size: 11px;\n    font-weight: bold;\n    width: auto;\n\n  }"]}),n})();const Ga=["division"];function Ha(n,a){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.INITIAL),e.xp6(1),e.hij(" ",r.NAME,"")}}let Qa=(()=>{class n{constructor(r,t){this.masterService=r,this._trnMainService=t,this.DebitNoteRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.DebitNoteRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.DebitNoteRegisterReport.DATE1,"AD"),this.DebitNoteRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.DebitNoteRegisterReport.DATE,"AD"),this.masterService.getAllDivisions().subscribe(o=>{this.divisionList=o.data}),this.DebitNoteRegisterReport.DIV="%"}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.reportdataEmit.emit({status:r,data:{reportname:"Debit Note Register Report",reportparam:{DATE1:this.DebitNoteRegisterReport.DATE1,DATE2:this.DebitNoteRegisterReport.DATE,DIVISION:this.DebitNoteRegisterReport.DIV,COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,PHISCALID:" "}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(r,t){"AD"==t?this.DebitNoteRegisterReport.BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this.DebitNoteRegisterReport.DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this.DebitNoteRegisterReport.BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this.DebitNoteRegisterReport.DATE=this.masterService.toADDate(r))}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debitnote-register-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Ga,5),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:52,vars:6,consts:[[2,"height","500px"],[1,"modal-content","modal-content-main-area",2,"width","auto !important"],[1,"modal-header",2,"padding","0px","background","#7ed0ff"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"row","col-md-12","pd0"],[1,"col-md-12"],[1,"col-md-12","form-group"],[1,"report-filter"],[2,"font-size","11px","font-weight","bold","width","auto"],[2,"width","100%"],["type","date","placeholder","Year Start Date",2,"width","152px","min-width","50%",3,"ngModel","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar",2,"width","152px","height","25px","text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control",3,"ngModel","ngModelChange"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"margin-bottom","0px !important"],[1,"row","col-md-12","pd0",2,"padding","10px"],[1,"btn","btn-info","pull-right",2,"margin-left","10px",3,"click"],[1,"btn","btn-info","pull-right",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Vat DebitNote Register Report Filter"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(6,"\xd7"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"fieldset")(13,"legend",10),e._uU(14,"Date Range Selection : "),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td")(18,"label"),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td")(21,"label"),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td")(25,"label",11)(26,"input",12),e.NdJ("ngModelChange",function(i){return t.DebitNoteRegisterReport.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(27,"td")(28,"label",11)(29,"input",12),e.NdJ("ngModelChange",function(i){return t.DebitNoteRegisterReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()()()(),e.TgZ(30,"tr")(31,"td")(32,"label",11)(33,"input",13),e.NdJ("ngModelChange",function(i){return t.DebitNoteRegisterReport.BSDATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"BS")}),e.qZA()()(),e.TgZ(34,"td")(35,"label",11)(36,"input",13),e.NdJ("ngModelChange",function(i){return t.DebitNoteRegisterReport.BSDATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"BS")}),e.qZA()()()()()()(),e.TgZ(37,"div",9)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",14,15),e.NdJ("ngModelChange",function(i){return t.DebitNoteRegisterReport.DIV=i}),e.TgZ(43,"option",16),e._uU(44,"ALL"),e.qZA(),e.YNc(45,Ha,2,2,"option",17),e.qZA()()()()()()(),e._UZ(46,"hr",18),e.TgZ(47,"div",19)(48,"button",20),e.NdJ("click",function(){return t.onload()}),e._uU(49,"RUN"),e.qZA(),e.TgZ(50,"button",21),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(51,"Close"),e.qZA()()()()),2&r&&(e.xp6(26),e.Q6J("ngModel",t.DebitNoteRegisterReport.DATE1),e.xp6(3),e.Q6J("ngModel",t.DebitNoteRegisterReport.DATE),e.xp6(4),e.Q6J("ngModel",t.DebitNoteRegisterReport.BSDATE1),e.xp6(3),e.Q6J("ngModel",t.DebitNoteRegisterReport.BSDATE2),e.xp6(5),e.Q6J("ngModel",t.DebitNoteRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On],styles:["legend[_ngcontent-%COMP%] {\n        font-size: 11px;\n        font-weight: bold;\n        width: auto;\n\n    }"]}),n})();function za(n,a){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let Ka=(()=>{class n{constructor(r,t,o,i){if(this.masterService=r,this._trnMainService=t,this._alertService=o,this._authService=i,this.OneLakhAbovePurchaseReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var l=new Date;l.setMonth(l.getMonth()-1),this.OneLakhAbovePurchaseReport.DATE1=l.toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAbovePurchaseReport.DATE1,"AD")}else this.OneLakhAbovePurchaseReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAbovePurchaseReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.OneLakhAbovePurchaseReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.OneLakhAbovePurchaseReport.DATE,"AD")):(this.OneLakhAbovePurchaseReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.OneLakhAbovePurchaseReport.DATE,"AD")),this.OneLakhAbovePurchaseReport.DIV="%",this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.OneLakhAbovePurchaseReport.isR1=!0,this.OneLakhAbovePurchaseReport.isR2=!0,this.OneLakhAbovePurchaseReport.isR3=!0;var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const _=new Date;this.currDate=(0,u.p6)(_,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.OneLakhAbovePurchaseReport.R1=1==this.OneLakhAbovePurchaseReport.isR1?"1":"",this.OneLakhAbovePurchaseReport.R2=1==this.OneLakhAbovePurchaseReport.isR2?"1":"",this.OneLakhAbovePurchaseReport.R3=1==this.OneLakhAbovePurchaseReport.isR3?"1":"",this.reportdataEmit.emit({status:r,data:{reportname:"One Lakh Above Purchase Report",reportparam:{DATE1:this.OneLakhAbovePurchaseReport.DATE1,DATE2:this.OneLakhAbovePurchaseReport.DATE,DIV:this.OneLakhAbovePurchaseReport.DIV?this.OneLakhAbovePurchaseReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,R1:this.OneLakhAbovePurchaseReport.R1,R2:this.OneLakhAbovePurchaseReport.R2,R3:this.OneLakhAbovePurchaseReport.R3,DETAIL:"0",PARTY:"%",VATNO:"%"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this.OneLakhAbovePurchaseReport.BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.OneLakhAbovePurchaseReport.DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this.OneLakhAbovePurchaseReport.BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.OneLakhAbovePurchaseReport.DATE=this.masterService.toADDate(r)}}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["one-lakh-above-purchase-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:59,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","inherit"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","inherit"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"One Lakh Above Purchase Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.cancel()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t.OneLakhAbovePurchaseReport.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.OneLakhAbovePurchaseReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t.OneLakhAbovePurchaseReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.OneLakhAbovePurchaseReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15),e.NdJ("ngModelChange",function(i){return t.OneLakhAbovePurchaseReport.DIV=i}),e.TgZ(38,"option",16),e._uU(39,"ALL"),e.qZA(),e.YNc(40,za,2,2,"option",17),e.qZA()(),e.TgZ(41,"fieldset")(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return t.OneLakhAbovePurchaseReport.isR1=i}),e.qZA(),e._uU(45," Credit Purchases Only "),e.qZA()(),e.TgZ(46,"div",21)(47,"label",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return t.OneLakhAbovePurchaseReport.isR2=i}),e.qZA(),e._uU(49," Non Credit Purchases With Pan No Only "),e.qZA()(),e.TgZ(50,"div",21)(51,"label",19)(52,"input",20),e.NdJ("ngModelChange",function(i){return t.OneLakhAbovePurchaseReport.isR3=i}),e.qZA(),e._uU(53," Non Credit Purchases Without Pan No Only "),e.qZA()()(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return t.onload()}),e._uU(56,"RUN"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return t.cancel()}),e._uU(58,"Close"),e.qZA()()()()()()()()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.OneLakhAbovePurchaseReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t.OneLakhAbovePurchaseReport.BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.OneLakhAbovePurchaseReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t.OneLakhAbovePurchaseReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",t.OneLakhAbovePurchaseReport.DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t.OneLakhAbovePurchaseReport.isR1),e.xp6(4),e.Q6J("ngModel",t.OneLakhAbovePurchaseReport.isR2),e.xp6(4),e.Q6J("ngModel",t.OneLakhAbovePurchaseReport.isR3))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function $a(n,a){if(1&n&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let Xa=(()=>{class n{constructor(r,t,o,i){if(this.masterService=r,this._trnMainService=t,this._alertService=o,this._authService=i,this.OneLakhAboveSalesReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var l=new Date;l.setMonth(l.getMonth()-1),this.OneLakhAboveSalesReport.DATE1=l.toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAboveSalesReport.DATE1,"AD")}else this.OneLakhAboveSalesReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.OneLakhAboveSalesReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.OneLakhAboveSalesReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.OneLakhAboveSalesReport.DATE,"AD")):(this.OneLakhAboveSalesReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.OneLakhAboveSalesReport.DATE,"AD")),this.OneLakhAboveSalesReport.DIV="%",this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.OneLakhAboveSalesReport.isR1=!0,this.OneLakhAboveSalesReport.isR2=!0,this.OneLakhAboveSalesReport.isR3=!0;var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const _=new Date;this.currDate=(0,u.p6)(_,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.OneLakhAboveSalesReport.R1=1==this.OneLakhAboveSalesReport.isR1?"1":"",this.OneLakhAboveSalesReport.R2=1==this.OneLakhAboveSalesReport.isR2?"1":"",this.OneLakhAboveSalesReport.R3=1==this.OneLakhAboveSalesReport.isR3?"1":"",this.reportdataEmit.emit({status:r,data:{reportname:"One Lakh Above Sales Report",reportparam:{DATE1:this.OneLakhAboveSalesReport.DATE1,DATE2:this.OneLakhAboveSalesReport.DATE,DIV:this.OneLakhAboveSalesReport.DIV?this.OneLakhAboveSalesReport.DIV:"%",COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,R1:this.OneLakhAboveSalesReport.R1,R2:this.OneLakhAboveSalesReport.R2,R3:this.OneLakhAboveSalesReport.R3,DETAIL:"0",PARTY:"%",VATNO:"%"}}})}closeReportBox(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this.OneLakhAboveSalesReport.BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.OneLakhAboveSalesReport.DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this.OneLakhAboveSalesReport.BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.OneLakhAboveSalesReport.DATE=this.masterService.toADDate(r)}}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["one-lakh-above-SALES-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:59,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","inherit"],[2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","inherit"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"One Lakh Above Sales Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.cancel()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t.OneLakhAboveSalesReport.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.OneLakhAboveSalesReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t.OneLakhAboveSalesReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.OneLakhAboveSalesReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15),e.NdJ("ngModelChange",function(i){return t.OneLakhAboveSalesReport.DIV=i}),e.TgZ(38,"option",16),e._uU(39,"ALL"),e.qZA(),e.YNc(40,$a,2,2,"option",17),e.qZA()(),e.TgZ(41,"fieldset")(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return t.OneLakhAboveSalesReport.isR1=i}),e.qZA(),e._uU(45," Credit Sales Only "),e.qZA()(),e.TgZ(46,"div",21)(47,"label",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return t.OneLakhAboveSalesReport.isR2=i}),e.qZA(),e._uU(49," Non Credit Sales With Pan No Only "),e.qZA()(),e.TgZ(50,"div",21)(51,"label",19)(52,"input",20),e.NdJ("ngModelChange",function(i){return t.OneLakhAboveSalesReport.isR3=i}),e.qZA(),e._uU(53," Non Credit Sales Without Pan No Only "),e.qZA()()(),e.TgZ(54,"div",22)(55,"button",23),e.NdJ("click",function(){return t.onload()}),e._uU(56,"RUN"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(){return t.cancel()}),e._uU(58,"Close"),e.qZA()()()()()()()()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.OneLakhAboveSalesReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t.OneLakhAboveSalesReport.BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.OneLakhAboveSalesReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t.OneLakhAboveSalesReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",t.OneLakhAboveSalesReport.DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t.OneLakhAboveSalesReport.isR1),e.xp6(4),e.Q6J("ngModel",t.OneLakhAboveSalesReport.isR2),e.xp6(4),e.Q6J("ngModel",t.OneLakhAboveSalesReport.isR3))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var es=C(46056),m=C(28698);const ts=["PLedgerChild"],rs=["genericGridAccountLedger"],is=["genericGridMultipleAccountLedger"];function os(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.INITIAL),e.xp6(1),e.hij(" ",r.NAME," ")}}function ns(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function as(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",17)(1,"label",11)(2,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.SHOWNARATION=o)}),e.qZA(),e._uU(3," Show Narration in Summary "),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.SHOWNARATION)}}function ss(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"tr",11)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const i=e.CHM(r).index,l=e.oxw(2);return e.KtG(l.deleteAccount(i))}),e._uU(7,"Delete"),e.qZA()()()}if(2&n){const r=a.$implicit,t=a.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(r.ACNAME)}}function ls(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"fieldset")(2,"legend")(3,"label",11),e._uU(4,"\xa0Ledger Wise"),e.qZA()(),e.TgZ(5,"div")(6,"div",35)(7,"input",36),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.multipleACNAME=o)})("keydown.Tab",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.MultipleAccountEnterClicked(o))})("keydown.enter",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.MultipleAccountEnterClicked(o))}),e.qZA()(),e.TgZ(8,"div",37)(9,"button",38),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.addAccountToList())}),e._uU(10,"Add"),e.qZA()(),e.TgZ(11,"div",39)(12,"table",40)(13,"tr",11)(14,"th",41),e._uU(15,"S.No."),e.qZA(),e.TgZ(16,"th",42),e._uU(17,"Account"),e.qZA(),e.TgZ(18,"th",43),e._uU(19,"Action"),e.qZA()(),e.YNc(20,ss,8,2,"tr",44),e.qZA()()(),e.TgZ(21,"div",17)(22,"label",11)(23,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.MERGEREPORT=o)}),e.qZA(),e._uU(24," Merge Combined Ledger "),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(7),e.Q6J("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger)("ngModel",r._reportFilterService.AccoutLedgerObj.multipleACNAME),e.xp6(2),e.Q6J("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(11),e.Q6J("ngForOf",r._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.MERGEREPORT)("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function ps(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"area-list"),e.qZA())}function cs(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.Q6J("ngValue",r),e.xp6(1),e.hij(" ",r.COSTCENTERNAME," ")}}function _s(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(r);const o=e.oxw(2);return e.KtG(o.addCostcenterToList())}),e._uU(1,"Add"),e.qZA()}if(2&n){const r=e.oxw(2);e.Q6J("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function ds(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"tr",11)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const i=e.CHM(r).index,l=e.oxw(3);return e.KtG(l.deleteCostcenter(i))}),e._uU(7,"Delete"),e.qZA()()()}if(2&n){const r=a.$implicit,t=a.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(r.COSTCENTERNAME)}}function hs(n,a){if(1&n&&(e.TgZ(0,"div",39)(1,"table",55)(2,"tr",11)(3,"th",41),e._uU(4,"S.No."),e.qZA(),e.TgZ(5,"th",42),e._uU(6,"Cost Center"),e.qZA(),e.TgZ(7,"th",43),e._uU(8,"Action"),e.qZA()(),e.YNc(9,ds,8,2,"tr",44),e.qZA()()),2&n){const r=e.oxw(2);e.xp6(9),e.Q6J("ngForOf",r._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter)}}function us(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",17)(1,"label",11)(2,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts=o)})("change",function(){e.CHM(r);const o=e.oxw(2);return e.KtG(o.checkCostCenterValue())}),e.qZA(),e._uU(3," Show All Cost Center "),e.qZA()()}if(2&n){const r=e.oxw(2);e.xp6(2),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts)("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}function gs(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"fieldset")(2,"legend")(3,"label",11),e._uU(4,"\xa0Cost Center Wise"),e.qZA()(),e.TgZ(5,"div")(6,"div",35)(7,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.CCENTER=o)}),e.YNc(8,cs,2,2,"option",51),e.qZA()(),e.TgZ(9,"div",37),e.YNc(10,_s,2,1,"button",52),e.qZA(),e.YNc(11,hs,10,1,"div",53),e.qZA(),e.YNc(12,us,4,2,"div",19),e.TgZ(13,"div",17)(14,"label",11)(15,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.AccoutLedgerObj.MERGEREPORT=o)}),e.qZA(),e._uU(16," Merge Combined Ledger "),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(7),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.CCENTER)("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(1),e.Q6J("ngForOf",r.CostcenterList),e.xp6(2),e.Q6J("ngIf",r.showMultipleCC),e.xp6(1),e.Q6J("ngIf",r.showMultipleCC),e.xp6(1),e.Q6J("ngIf",r._reportFilterService.showAllcontactsInCC),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.AccoutLedgerObj.MERGEREPORT)("disabled",0==r._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===r._reportFilterService.AccoutLedgerObj.EnableCombineLedger)}}let Ss=(()=>{class n{constructor(r,t,o,i,l){this.masterService=r,this._authService=t,this.alertService=o,this._reportFilterService=i,this.arouter=l,this.acname="",this.accode="",this.account=[],this.division=[],this.CostcenterList=[],this.reportdataEmit=new e.vpe,this.gridPopupSettingsForAccountLedgerList=new m.im,this.gridPopupSettingsForMultipleAccountLedgerList=new m.im,this.dropListItem=c=>new es.Observable(_=>{this.masterService.getAccountListACIDNotLikePA().map(d=>(this.result=d.result,this.result.filter(h=>h.ACNAME.toUpperCase().indexOf(c.toUpperCase())>-1))).subscribe(d=>{_.next(d)})}),this.masterService.reportName="Account Ledger report",this._reportFilterService.showAllcontactsInCC=!0,this._reportFilterService.AccoutLedgerObj.Reportnameis="accountledger",this._reportFilterService.AccoutLedgerObj.Reportnameis="accountledger",this.userProfile=this._authService.getUserProfile(),this.reportNameFormatWise="Account Ledger Report",this.masterService.getAccountListACIDNotLikePA().subscribe(c=>{this.account=c.data,this.AccLedger_result=0!=this.account.length}),this.division=[],this.masterService.getAllDivisions().subscribe(c=>{this.division.push(c)},c=>{this.masterService.resolveError(c,"divisions - getDivisions")}),this.masterService.getCostcenter().subscribe(c=>{this.CostcenterList=c}),this.showMultipleCC=!0,this.getReportTitle(),this.checkValueForCombine()}ngOnInit(){1!=this._reportFilterService.AccoutLedgerObj.assignPrevioiusDate&&(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.userProfile.CompanyInfo.ActualFY==this.masterService.PhiscalObj.PhiscalID?(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,"AD")):(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.changeEndDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,"AD")),this._reportFilterService.AccoutLedgerObj.AccLedger_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter="%",this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=2,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[],this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[],this.checkValue(),1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&this.checkValue()),this.changeEntryDate(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1,"AD")}changeEntryDate(r,t){"AD"==t?this._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=this.masterService.toADDate(r))}onload(){if(1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger||2!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts&&0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.length)if(1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger||4!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||0!=this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts&&void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter&&0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.length)if(!(1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType||this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts)||void 0!==this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount&&""!=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount)if(1!=this.AccLedger_result||void 0!==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&0!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger)this.DialogClosedResult("ok");else{if(void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount||""==this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount||""==this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME)return void this.alertService.info("Please Select Account");this.DialogClosedResult("ok")}else this.alertService.info("Please Select Account");else this.alertService.info("Please Select Costcenter");else this.alertService.info("Please Select Account")}getReportTitle(){this.masterService.getReportTitle(this.reportNameFormatWise).subscribe(r=>{"ok"==r.status&&(this.reportNameFormatWise=r.result)})}DialogClosedResult(r){let t=[],o="";void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter?o=this._reportFilterService.AccoutLedgerObj.CCENTER:0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.length?this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.forEach(l=>{t.push(l.CCID),o+=`${t},`}):o=this._reportFilterService.AccoutLedgerObj.CCENTER;let i=[];if(void 0===this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts?this._reportFilterService.SelectedAccount=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount:0!=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.length?this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.forEach(l=>{i.push(l.ACID),this._reportFilterService.SelectedAccount+=`${i},`}):this._reportFilterService.SelectedAccount=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount,4!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(o=this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter),1==this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC?(this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=1,this.reportNameFormatWise="Account Ledger Report_1"):(this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=0,this.reportNameFormatWise="Account Ledger Report"),this._reportFilterService.AccoutLedgerObj.SHOWNDATE=1==this._reportFilterService.AccoutLedgerObj.SHOWNDATE?1:0,this._reportFilterService.AccoutLedgerObj.MERGEREPORT=1==this._reportFilterService.AccoutLedgerObj.MERGEREPORT?1:0,this._reportFilterService.AccoutLedgerObj.SHOWNARATION=1==this._reportFilterService.AccoutLedgerObj.SHOWNARATION?1:0,1==this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=3,o="%"),1!=this._reportFilterService.AccoutLedgerObj.EnableCombineLedger&&(this._reportFilterService.selectedAccountParty=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount,o=this._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter,this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=0),2!=this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(this._reportFilterService.selectedAccountParty=this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount),"ok"==r){this._reportFilterService.AccoutLedgerObj.assignPrevioiusDate=!0;let c,l=this.arouter.url.split("/");l&&l.length&&(c=l[l.length-1]);let _=this._reportFilterService.previouslyLoadedReportList.findIndex(d=>"Account Ledger Report"==d.reportname);_>=0&&this._reportFilterService.previouslyLoadedReportList.splice(_,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:"Account Ledger Report",activeurlpath:this.arouter.url,activerurlpath2:c})}this.reportdataEmit.emit({status:r,data:{reportname:this.reportNameFormatWise,reportparam:{DATE1:this._reportFilterService.AccoutLedgerObj.AccLedger_DATE1,DATE2:this._reportFilterService.AccoutLedgerObj.AccLedger_DATE2,DIV:this._reportFilterService.AccoutLedgerObj.AccLedger_DIV?this._reportFilterService.AccoutLedgerObj.AccLedger_DIV:"%",COSTCENTER:o||"%",AREA:this._reportFilterService.AccoutLedgerObj.AccLedger_Areawise?this._reportFilterService.AccoutLedgerObj.AccLedger_Areawise:0,COMID:this.masterService.userProfile.CompanyInfo.COMPANYID,REPORTTYPE:this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType:0,IGNOREOPPOSITAC:this._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC,SHOWNDATE:this._reportFilterService.AccoutLedgerObj.SHOWNDATE,ACID:this._reportFilterService.SelectedAccount?this._reportFilterService.SelectedAccount:"%",MERGEREPORT:this._reportFilterService.AccoutLedgerObj.MERGEREPORT,SHOWNARATION:this._reportFilterService.AccoutLedgerObj.SHOWNARATION,ACNAME:this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME}}})}closeReportBox(){this.DialogClosedResult("cancel")}checkValue(){2==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?(this.showLedgerTable=!0,this.acname=this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",this.accode=this._reportFilterService.AccoutLedgerObj.AccLedger_ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID="",this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount="",this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[]):(this.showLedgerTable=!1,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=this.acname,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=this.accode,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=this.accode),this.showAreaTable=1==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType,4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?(this.showCCtable=!0,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[]):this.showCCtable=!1}checkValueForCombine(){1==this._reportFilterService.AccoutLedgerObj.EnableCombineLedger?(this.showCombineLedgerList=!0,this.showMergeCombineLedger=!0,this.acname=this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",this.accode=this._reportFilterService.AccoutLedgerObj.AccLedger_ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID="",this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount="",2==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType?this.showLedgerTable=!0:4==this._reportFilterService.AccoutLedgerObj.AccLedger_ReportType&&(this.showCCtable=!0)):(this.showCombineLedgerList=!1,this.showMergeCombineLedger=!1,this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts=[],this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter=[])}accodeChanged(r){var t;t=this.masterService.accountList.find(o=>o.ACCODE==r),this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME="",t&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=r=t.ACNAME)}onEnterAcnameChange(r){this.accodeChanged(r)}itemChanged(r){"object"==typeof r&&(this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=r.ACNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCODE=r.ACCODE,this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=r.ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=r.ACID)}AccountEnterClicked(){this.gridPopupSettingsForAccountLedgerList=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridAccountLedger.show()}dblClickAccountSelect(r){this._reportFilterService.AccoutLedgerObj.AccLedger_ACID=r.ACID,this._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=r.ACNAME,this._reportFilterService.AccoutLedgerObj.AccLedger_SingleAccount=r.ACID}checkCostCenterValue(){this.showMultipleCC=1!=this._reportFilterService.AccoutLedgerObj.AccLedger_showAllContacts}addCostcenterToList(){const r=this._reportFilterService.AccoutLedgerObj.CCENTER;this._reportFilterService.AccoutLedgerObj.CCENTER=r&&r.CCID?r.CCID:"";let t=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.filter(o=>o.COSTCENTERNAME==r.COSTCENTERNAME);""===r.COSTCENTERNAME||null==r.COSTCENTERNAME||0===t.length&&this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.push({CCID:r.CCID,COSTCENTERNAME:r.COSTCENTERNAME})}deleteCostcenter(r){this._reportFilterService.AccoutLedgerObj.AccLedger_multipleCostcenter.splice(r,1)}addAccountToList(){let r=this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.filter(t=>t.ACNAME==this._reportFilterService.AccoutLedgerObj.multipleACNAME);""===this._reportFilterService.AccoutLedgerObj.multipleACNAME||null==this._reportFilterService.AccoutLedgerObj.multipleACNAME||0===r.length&&(this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.push({ACID:this._reportFilterService.AccoutLedgerObj.multipleACID,ACNAME:this._reportFilterService.AccoutLedgerObj.multipleACNAME}),this._reportFilterService.AccoutLedgerObj.multipleACNAME="",this._reportFilterService.AccoutLedgerObj.multipleACCODE="")}deleteAccount(r){this._reportFilterService.AccoutLedgerObj.AccLedger_multipleAccounts.splice(r,1)}MultipleAccountEnterClicked(){this.gridPopupSettingsForMultipleAccountLedgerList=this.masterService.getGenericGridPopUpSettings("AccountLedgerList"),this.genericGridMultipleAccountLedger.show()}dblClickMultipleAccountSelect(r){this._reportFilterService.AccoutLedgerObj.multipleACID=r.ACID,this._reportFilterService.AccoutLedgerObj.multipleACNAME=r.ACNAME}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(P.e),e.Y36(R.c),e.Y36(A),e.Y36(S.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["account-ledger-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(ts,5),e.Gf(rs,5),e.Gf(is,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.PLedgerChild=o.first),e.iGM(o=e.CRH())&&(t.genericGridAccountLedger=o.first),e.iGM(o=e.CRH())&&(t.genericGridMultipleAccountLedger=o.first)}},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:37,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header",2,"border","0px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-12",2,"padding-top","2%"],[1,"col-md-6"],[2,"font-size","11px","font-weight","bold","width","auto","margin-bottom","-4px"],[1,"td-class"],[1,"smallBoldLabel"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["id","nepaliDate","type","text","placeholder","yyyy-mm-dd",1,"nepali-calendar","ndp-nepali-calendar","date-input","form-control",2,"text-align","center",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox",2,"padding-top","5px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],["class","checkbox","style","padding-top:5px;width:200px;",4,"ngIf"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control",2,"font-weight","bold",3,"ngModel","ngModelChange","keydown.Tab","keydown.enter"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","disabled","ngModelChange","change"],["value","2"],["value","4"],[4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[1,"reportpopup",2,"width","90%"],[3,"popupsettings","onItemDoubleClick"],["genericGridAccountLedger",""],["genericGridMultipleAccountLedger",""],[3,"value"],[1,"col-md-10"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control",2,"font-weight","bold",3,"disabled","ngModel","ngModelChange","keydown.Tab","keydown.enter"],[1,"col-md-2"],["type","button",1,"btn","btn-info",3,"disabled","click"],[1,"col-md-12"],[2,"height","175px"],[2,"width","3px","font-weight","bold"],[2,"width","10px","font-weight","bold"],[2,"width","4px","font-weight","bold"],["class","smallBoldLabel",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","disabled","ngModelChange"],[2,"width","3px"],[2,"width","10px"],[2,"width","4px"],["type","button",1,"action-btn",3,"click"],[1,"form-control","input-text",2,"height","30px !important",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button","class","btn btn-info",3,"disabled","click",4,"ngIf"],["class","col-md-12",4,"ngIf"],[3,"ngValue"],[2,"height","150px"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"button",5),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(7,"\xd7"),e.qZA(),e.TgZ(8,"h4",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"fieldset")(13,"legend",9),e._uU(14,"Date Range Selection :"),e.qZA(),e.TgZ(15,"table")(16,"tr")(17,"td",10)(18,"label",11),e._uU(19,"From:(AD)"),e.qZA()(),e.TgZ(20,"td",10)(21,"label",11),e._uU(22,"To:(AD)"),e.qZA()()(),e.TgZ(23,"tr")(24,"td",10)(25,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.AccLedger_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.ALo(26,"date"),e.ALo(27,"date"),e.qZA()(),e.TgZ(28,"td",10)(29,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.AccLedger_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.ALo(30,"date"),e.ALo(31,"date"),e.qZA()()(),e.TgZ(32,"tr")(33,"td",10)(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"BS")}),e.qZA()(),e.TgZ(35,"td",10)(36,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"BS")}),e.qZA()()()()(),e.TgZ(37,"fieldset")(38,"legend"),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",14),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.AccLedger_DIV=i}),e.TgZ(41,"option",15),e._uU(42,"ALL"),e.qZA(),e.YNc(43,os,2,2,"option",16),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend"),e._uU(46,"Cost Center:"),e.qZA(),e.TgZ(47,"select",14),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter=i}),e._UZ(48,"option",15),e.YNc(49,ns,2,2,"option",16),e.qZA()(),e.TgZ(50,"div",17)(51,"label",11)(52,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.SHOWNDATE=i}),e.qZA(),e._uU(53," Show BS Date In Report "),e.qZA()(),e.TgZ(54,"div",17)(55,"label",11)(56,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC=i}),e.qZA(),e._uU(57," Show Ledger Report in Summary "),e.qZA()(),e.YNc(58,as,4,1,"div",19),e.qZA(),e.TgZ(59,"div",20)(60,"fieldset")(61,"legend"),e._uU(62,"Account Selection :"),e.qZA(),e.TgZ(63,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME=i})("keydown.Tab",function(){return t.AccountEnterClicked()})("keydown.enter",function(){return t.AccountEnterClicked()}),e.qZA()(),e.TgZ(64,"fieldset")(65,"legend")(66,"label",11)(67,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.EnableCombineLedger=i})("change",function(){return t.checkValueForCombine()}),e.qZA(),e._uU(68," Show Combined Ledger"),e.qZA()(),e.TgZ(69,"select",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.AccoutLedgerObj.AccLedger_ReportType=i})("change",function(){return t.checkValue()}),e.TgZ(70,"option",24),e._uU(71,"Multi Ledger Wise"),e.qZA(),e.TgZ(72,"option",25),e._uU(73,"Cost Center Wise"),e.qZA()()(),e.YNc(74,ls,25,6,"div",26),e.YNc(75,ps,2,0,"div",26),e.YNc(76,gs,17,8,"div",26),e.qZA()(),e.TgZ(77,"div",27)(78,"button",28),e.NdJ("click",function(){return t.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",29),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()(),e.TgZ(82,"div",30)(83,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return t.dblClickAccountSelect(i)}),e.qZA()(),e.TgZ(85,"div",30)(86,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return t.dblClickMultipleAccountSelect(i)}),e.qZA()()),2&r&&(e.xp6(9),e.Oqu(t.reportNameFormatWise),e.xp6(16),e.s9C("max",e.xi3(26,25,t.masterService.date1,"yyyy-MM-dd")),e.s9C("min",e.xi3(27,28,t.masterService.date2,"yyyy-MM-dd")),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_DATE1),e.xp6(4),e.s9C("max",e.xi3(30,31,t.masterService.date1,"yyyy-MM-dd")),e.s9C("min",e.xi3(31,34,t.masterService.date2,"yyyy-MM-dd")),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_DATE2),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE1),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_DIV),e.xp6(3),e.Q6J("ngForOf",t.division),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_CostCenter),e.xp6(2),e.Q6J("ngForOf",t.CostcenterList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.SHOWNDATE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.AccoutLedgerObj.IGNOREOPPOSITAC),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_ACCNAME),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(2),e.Q6J("ngModel",t._reportFilterService.AccoutLedgerObj.AccLedger_ReportType)("disabled",0==t._reportFilterService.AccoutLedgerObj.EnableCombineLedger||void 0===t._reportFilterService.AccoutLedgerObj.EnableCombineLedger),e.xp6(5),e.Q6J("ngIf",t.showLedgerTable),e.xp6(1),e.Q6J("ngIf",t.showAreaTable&&t.showCombineLedgerList),e.xp6(1),e.Q6J("ngIf",t.showCCtable),e.xp6(7),e.Q6J("popupsettings",t.gridPopupSettingsForAccountLedgerList),e.xp6(3),e.Q6J("popupsettings",t.gridPopupSettingsForMultipleAccountLedgerList))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,u.uU],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}",".action-btn[_ngcontent-%COMP%] {\n        width: 80%;\n        height: 80%;\n        display: block;\n        margin: 0 auto;\n        background-color: inherit;\n        border: none;\n    }\n    .input-text[_ngcontent-%COMP%]{\n        width : 100%; \n        \n        font-weight: bold;\n    }\n    .td-class[_ngcontent-%COMP%]{\n        border: none !important;\n    }\n    .date-input[_ngcontent-%COMP%]{\n        width: 93%;\n        font-size: 12px !important;\n        height: 30px !important;\n    }"]}),n})();const ms=["genericGridSupplierPopup"];function Os(n,a){1&n&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function bs(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Ts(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=o)}),e.YNc(4,Os,2,0,"option",40),e.YNc(5,bs,2,2,"option",41),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function vs(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function fs(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER=o)}),e._UZ(4,"option",44),e.TgZ(5,"option",42),e._uU(6," ALL "),e.qZA(),e.YNc(7,vs,2,2,"option",41),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function Cs(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function As(n,a){if(1&n&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function Ps(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",45)(5,"select",46),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Cs,2,2,"option",41),e.qZA()(),e.TgZ(7,"div",19)(8,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES=o)}),e._UZ(9,"option",42),e.YNc(10,As,2,2,"option",41),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}function Ms(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",29)(4,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",29)(8,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_INAD),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_INAD)}}function Rs(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Report Filter Option :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",45)(5,"label",49),e._uU(6,"Purchase Type :"),e.qZA()(),e.TgZ(7,"div",19)(8,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE=o)}),e.TgZ(9,"option",50),e._uU(10,"All"),e.qZA(),e.TgZ(11,"option",51),e._uU(12,"Local Purchase"),e.qZA(),e.TgZ(13,"option",52),e._uU(14,"Import Purchase"),e.qZA()()()(),e.TgZ(15,"div",1)(16,"div",45)(17,"label",49),e._uU(18,"Invoice Type :"),e.qZA()(),e.TgZ(19,"div",19)(20,"select",39),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE=o)}),e.TgZ(21,"option",51),e._uU(22,"All"),e.qZA(),e.TgZ(23,"option",52),e._uU(24,"Trading"),e.qZA(),e.TgZ(25,"option",53),e._uU(26,"Non-Trading"),e.qZA(),e.TgZ(27,"option",54),e._uU(28,"Mixed"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(8),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE),e.xp6(12),e.Q6J("ngModel",r._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE)}}let Es=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CUSTOMERNAME:"",params:"%",DIVISIONNAME:"",REPORTOPTIONDISPLAYNAME:"",INCLUDERETURNDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",SUPPLIERDISPLAYNAME:"",PURCHASETYPE:0,SHOWREVERESEENTRYONLY:0,INVOICETYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new m.im,this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("FORM AUTHSERVICE",this._authService.getUserProfile().PhiscalYearInfo),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=this._transactionService.userProfile.userDivision)}),i.PurchaseBookObj.PurchaseBook_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="2",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0"):"Purchase Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0"):"Purchase Book Report_1"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="1"),this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER=this._reportFilterService.drillParam.reportparam.COSTCENTER,this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.PurchaseBookObj.PurchaseBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,"AD")):(1!=this._reportFilterService.PurchaseBookObj.assignPreviousValue&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT="0",this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE="1",this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=0,this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD="1",this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE=100,this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=0,this._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE=0),this.changeVariant(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,"AD"))})}changeEntryDate(r,t){if(r>this.currDate&&"AD"==t&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate,r=this.currDate),"AD"==t)this._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if(r>this.currDate&&"AD"==t&&(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.currDate,r=this.currDate),"AD"==t)this._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER||null==this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV&&"%"==this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV)this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV&&"%"!=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV){let l=this.divisionList.filter(c=>c.Division==this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV);this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME=l&&l.length>0&&l[0]?l[0].NAME:""}else this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER?this._reportFilterService.PurchaseBookObj.PurchaseBook_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV?this._reportFilterService.PurchaseBookObj.PurchaseBook_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN?this._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE?this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT?this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE?this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE:"%",this.repObj.reportparam.INAD=this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD?this._reportFilterService.PurchaseBookObj.PurchaseBook_INAD:1,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME?this._reportFilterService.PurchaseBookObj.PurchaseBook_DIVISIONNAME:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER?this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER?this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE?this._reportFilterService.PurchaseBookObj.PurchaseItemWise_PURCHASETYPE:100,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.PurchaseBookObj.PurchaseBook_INVOICETYPE??0,this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE?this._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE:0;let r={};this.variantmaster.length>0?(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT||(this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT]=this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES?this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?"@Voucher Wise Purchase Report":2==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Purchase Report":3==this.repObj.reportparam.REPORT_TYPE?"@Month Wise Purchase Report":"",this.repObj.reportparam.INCLUDERETURNDISPLAYNAME=1==this.repObj.reportparam.INCLUDE_RETURN?"@Report Including Purchase Return":0==this.repObj.reportparam.INCLUDE_RETURN?"@Report Excluding Purchase Return":"",this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?0==this.repObj.reportparam.SHOWDETALREPORT?"@Summary Report":1==this.repObj.reportparam.SHOWDETALREPORT?"@Detail Report":"":"",1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Purchase Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Purchase Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Purchase Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Book Report_3"),this.repObj.REPORTDISPLAYNAME="Purchase Book Report",this._reportFilterService.PurchaseBookObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.PurchaseBookObj.PurchaseBook_CUSTOMERCODE=r.ACID,this._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseBookObj.PurchaseBook_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onReportOptionChange(){3==this._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE?(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-book-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(ms,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:30,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],["value","100"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,Ts,6,3,"fieldset",15),e.YNc(38,fs,8,2,"fieldset",15),e.TgZ(39,"div",16)(40,"div",17)(41,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=i})("change",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN=i.target.checked?1:0}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",20),e._uU(44,"Include Purchase Return (Debit Note) Transaction Also"),e.qZA()()()(),e.TgZ(45,"div",21)(46,"fieldset")(47,"legend",10),e._uU(48,"Supplier Selection :"),e.qZA(),e.TgZ(49,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.YNc(50,Ps,11,4,"fieldset",15),e.TgZ(51,"fieldset",23),e.NdJ("change",function(){return t.onReportOptionChange()}),e.TgZ(52,"legend",10),e._uU(53,"Report Option :"),e.qZA(),e.TgZ(54,"div",24)(55,"div",25)(56,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(57,"label"),e._uU(58,"Voucher Wise"),e.qZA()(),e.TgZ(59,"div",25)(60,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(61,"label"),e._uU(62,"Day Wise"),e.qZA()(),e.TgZ(63,"div",25)(64,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Month Wise"),e.qZA()()()(),e.TgZ(67,"fieldset")(68,"legend",10),e._uU(69,"Report Type :"),e.qZA(),e.TgZ(70,"div",29)(71,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Summary Report"),e.qZA()(),e.TgZ(74,"div",29)(75,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(76,"label"),e._uU(77,"Detail Report"),e.qZA()()(),e.YNc(78,Ms,11,2,"fieldset",15),e.TgZ(79,"div",32)(80,"div",17)(81,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=i})("change",function(i){return t._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(82,"div",19)(83,"label",33),e._uU(84,"Show Reverse Entry Only"),e.qZA()()(),e.YNc(85,Rs,29,2,"fieldset",15),e.qZA()()(),e.TgZ(86,"div",34)(87,"button",35),e.NdJ("click",function(){return t.onload()}),e._uU(88,"RUN"),e.qZA(),e.TgZ(89,"button",36),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(90,"Close"),e.qZA()()()()()(),e.TgZ(91,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN)("checked",1==t._reportFilterService.PurchaseBookObj.PurchaseBook_INCLUDE_RETURN),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT)("disabled",1!=t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWDETALREPORT)("disabled",1!=t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==t._reportFilterService.PurchaseBookObj.PurchaseBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE)("checked",1==t._reportFilterService.PurchaseBookObj.PurchaseBook_SHOWREVERSE),e.xp6(4),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Ds(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Is(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Ns(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function ks(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function js(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function ys(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function Fs(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",30)(5,"select",31),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,js,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",32)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,ys,2,2,"option",17),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}let ws=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",SHOWDETAIL:0,PTYPE:100,params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.PTypeList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),i.SalesProductTypeObj.SalesProductType_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Product Type Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,"AD")):(1!=this._reportFilterService.SalesProductTypeObj.assignPreviousValue&&(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL="0"),this.changeVariant(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT),this.changeEntryDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER||null==this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER?this._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV?this._reportFilterService.SalesProductTypeObj.SalesProductType_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE?this._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE:100,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL?this._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL:0;let r={};this.variantmaster.length>0?(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT||(this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT]=this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES?this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Product Type Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Product Type Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Product Type Wise",this._reportFilterService.SalesProductTypeObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesProductTypeObj.SalesProductType_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["SalesReportProductTypeWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:76,vars:22,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["value","100"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"col"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Product Type Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_DIV=i}),e.YNc(41,Ds,2,0,"option",16),e.YNc(42,Is,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Ns,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Product Type Selection:"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE=i}),e._UZ(56,"option",21),e.YNc(57,ks,2,2,"option",17),e.qZA()(),e.YNc(58,Fs,11,4,"fieldset",22),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Type :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Summary Report"),e.qZA()(),e.TgZ(67,"div",23)(68,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Detail Report"),e.qZA()()()()()()(),e.TgZ(71,"div",26)(72,"button",27),e.NdJ("click",function(){return t.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",28),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesProductTypeObj.SalesProductType_SHOWDETAIL))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Ws=["genericGridCustomerPopup"],Ls=["genericGridUserListPopup"];function Zs(n,a){1&n&&(e.TgZ(0,"option",53),e._uU(1,"ALL"),e.qZA())}function xs(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Us(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_DIV=o)}),e.YNc(4,Zs,2,0,"option",51),e.YNc(5,xs,2,2,"option",52),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function Vs(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Bs(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_CCENTER=o)}),e._UZ(4,"option",55),e.TgZ(5,"option",53),e._uU(6," All "),e.qZA(),e.YNc(7,Vs,2,2,"option",52),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function Ys(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset",36)(1,"legend",10),e._uU(2,"Order Mode Selection :"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_ORDERMODE=o)}),e.TgZ(4,"option",56),e._uU(5,"ALL"),e.qZA(),e.TgZ(6,"option",57),e._uU(7,"TAKE AWAY"),e.qZA(),e.TgZ(8,"option",58),e._uU(9,"DELIVERY"),e.qZA(),e.TgZ(10,"option",59),e._uU(11,"DINE IN"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_ORDERMODE)}}function Js(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset",36)(1,"legend",10),e._uU(2,"Sales Type :"),e.qZA(),e.TgZ(3,"select",50),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SALESTYPE=o)}),e.TgZ(4,"option",60),e._uU(5,"ALL"),e.qZA(),e.TgZ(6,"option",61),e._uU(7,"RETAIL SALES"),e.qZA(),e.TgZ(8,"option",62),e._uU(9,"WHOLESALE SALES"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SALESTYPE)}}function qs(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",26)(4,"label",27),e._uU(5,"Show Item Details Also"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL)("checked",1==r._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL)}}function Gs(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",37)(4,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",37)(8,"input",64),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesBookObj.SalesBook_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_INAD),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesBookObj.SalesBook_INAD)}}let Hs=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CUSTOMERNAME:"",params:"%",DIVISIONNAME:"",REPORTOPTIONDISPLAYNAME:"",INCLUDERETURNDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",CUSTOMERDISPLAYNAME:"",ORDERMODE:"",SHOWITEMDETAIL:0,SHOWREVERESEENTRYONLY:0,SALESTYPE:"",CUSTID:"",TRNUSER:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForUserList=new m.im,this.AppMode=j.N.appMode,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesBookObj.SalesBook_DIV=this._transactionService.userProfile.userDivision)});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{const o=t.mode;"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="1",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):"DRILL"==o&&this._reportFilterService.drillParam.returnUrl&&"Sales Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesBookObj.SalesBook_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD"),this._reportFilterService.SalesBookObj.SalesBook_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesBookObj.SalesBook_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="2",this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_VCHR=this._reportFilterService.drillParam.reportparam.VCHR,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesBookObj.SalesBook_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD")):(1!=this._reportFilterService.SalesBookObj.assignPreviousValue&&(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesBookObj.SalesBook_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesBookObj.SalesBook_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT="0",this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE="1",this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=0,this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=0,this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE="0",this._reportFilterService.SalesBookObj.SalesBook_INAD="1"),this.changeEntryDate(this._reportFilterService.SalesBookObj.SalesBook_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesBookObj.SalesBook_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesBookObj.SalesBook_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesBookObj.SalesBook_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesBookObj.SalesBook_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesBookObj.SalesBook_CCENTER||null==this._reportFilterService.SalesBookObj.SalesBook_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesBookObj.SalesBook_DIV&&"%"==this._reportFilterService.SalesBookObj.SalesBook_DIV)this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME="All";else if(this._reportFilterService.SalesBookObj.SalesBook_DIV&&"%"!=this._reportFilterService.SalesBookObj.SalesBook_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.SalesBookObj.SalesBook_DIV);this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesBookObj.SalesBook_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesBookObj.SalesBook_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesBookObj.SalesBook_CCENTER?this._reportFilterService.SalesBookObj.SalesBook_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesBookObj.SalesBook_DIV?this._reportFilterService.SalesBookObj.SalesBook_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN?this._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE?this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT?this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesBookObj.SalesBook_ACID?this._reportFilterService.SalesBookObj.SalesBook_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesBookObj.SalesBook_CUSTID?this._reportFilterService.SalesBookObj.SalesBook_CUSTID:"%",this.repObj.reportparam.INAD=this._reportFilterService.SalesBookObj.SalesBook_INAD?this._reportFilterService.SalesBookObj.SalesBook_INAD:1,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME?this._reportFilterService.SalesBookObj.SalesBook_DIVISIONNAME:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER?this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER?this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER:"",this.repObj.reportparam.ORDERMODE=this._reportFilterService.SalesBookObj.SalesBook_ORDERMODE?this._reportFilterService.SalesBookObj.SalesBook_ORDERMODE:"",this.repObj.reportparam.SHOWITEMDETAIL=this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL?this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL:0,this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE?this._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE:0,this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE?this._reportFilterService.SalesBookObj.SalesBook_SALESTYPE:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesBookObj.SalesBook_USERNAME?this._reportFilterService.SalesBookObj.SalesBook_USERNAME:"%",3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.SHOWDETALREPORT&&(this.repObj.reportparam.SHOWITEMDETAIL=0),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?"@Voucher Wise Sales Report":2==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Sales Report":3==this.repObj.reportparam.REPORT_TYPE?"@Month Wise Sales Report":"",this.repObj.reportparam.INCLUDERETURNDISPLAYNAME=1==this.repObj.reportparam.INCLUDE_RETURN?"@Report Including Sales Return":0==this.repObj.reportparam.INCLUDE_RETURN?"@Report Excluding Sales Return":"",this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=1==this.repObj.reportparam.REPORT_TYPE?0==this.repObj.reportparam.SHOWDETALREPORT?"@Summary Report":1==this.repObj.reportparam.SHOWDETALREPORT?"@Detail Report":"":"",1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Sales Book Report_3"),this.repObj.REPORTDISPLAYNAME="Sales Book Report",this._reportFilterService.SalesBookObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.SalesBookObj.SalesBook_CUSTOMERCODE=r.CUSTID,this._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=r.CUSTNAME,this._reportFilterService.SalesBookObj.SalesBook_ACID=r.ACID,this._reportFilterService.SalesBookObj.SalesBook_CUSTID=r.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}onchangeReportType(){0==this._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT&&(this._reportFilterService.SalesBookObj.SalesBook_SHOWITEMDETAIL=0)}UserListEnter(r){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(r){this._reportFilterService.SalesBookObj.SalesBook_USERNAME=r.UNAME}Change(){1==this._reportFilterService.SalesBookObj.SalesBook_ALLUSER&&(this._reportFilterService.SalesBookObj.SalesBook_USERNAME="")}onReportOptionChange(){3==this._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE?(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.SalesBookObj.SalesBook_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-book-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Ws,5),e.Gf(Ls,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:112,vars:35,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[2,"width","100%"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange","change"],["style","width: 100%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;width:200px;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["value","%","selected",""],["value","TAKE AWAY"],["value","DELIVERY"],["value","DINE IN"],["value","0"],["value","1"],["value","2"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,Us,6,3,"fieldset",15),e.YNc(38,Bs,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Filter Option :"),e.qZA(),e.TgZ(42,"div",1)(43,"div",16)(44,"label",17),e._uU(45,"User Name :"),e.qZA()(),e.TgZ(46,"div",18)(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_USERNAME=i})("keydown.enter",function(i){return t.UserListEnter(i)})("keydown.Tab",function(i){return t.UserListEnter(i)})("keyup",function(i){return t.UserListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(49,"input",21),e.NdJ("change",function(){return t.Change()})("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_ALLUSER=i}),e.qZA(),e.TgZ(50,"label",22),e._uU(51,"All User"),e.qZA()()()()(),e.TgZ(52,"div",23)(53,"div",24)(54,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=i})("change",function(i){return t._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN=i.target.checked?1:0}),e.qZA()(),e.TgZ(55,"div",26)(56,"label",27),e._uU(57,"Include Sales Return (Credit Note) Transaction Also"),e.qZA()()()(),e.TgZ(58,"div",28)(59,"fieldset")(60,"legend",10),e._uU(61,"Customer Selection :"),e.qZA(),e.TgZ(62,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(63,"fieldset",30),e.NdJ("change",function(){return t.onReportOptionChange()}),e.TgZ(64,"legend",10),e._uU(65,"Report Option :"),e.qZA(),e.TgZ(66,"div",31)(67,"div",32)(68,"input",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Voucher Wise"),e.qZA()(),e.TgZ(71,"div",32)(72,"input",34),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(73,"label"),e._uU(74,"Day Wise"),e.qZA()(),e.TgZ(75,"div",32)(76,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE=i}),e.qZA(),e.TgZ(77,"label"),e._uU(78,"Month Wise"),e.qZA()()()(),e.TgZ(79,"div",1)(80,"div",5)(81,"fieldset",36)(82,"legend",10),e._uU(83,"Report Type :"),e.qZA(),e.TgZ(84,"div",37)(85,"input",38),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT=i})("change",function(){return t.onchangeReportType()}),e.qZA(),e.TgZ(86,"label"),e._uU(87,"Summary Report"),e.qZA()(),e.TgZ(88,"div",37)(89,"input",39),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT=i})("change",function(){return t.onchangeReportType()}),e.qZA(),e.TgZ(90,"label"),e._uU(91,"Detail Report"),e.qZA()()()(),e.TgZ(92,"div",5),e.YNc(93,Ys,12,1,"fieldset",40),e.YNc(94,Js,10,1,"fieldset",40),e.qZA()(),e.YNc(95,qs,6,2,"div",41),e.YNc(96,Gs,11,2,"fieldset",15),e.TgZ(97,"div",42)(98,"div",24)(99,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=i})("change",function(i){return t._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(100,"div",26)(101,"label",43),e._uU(102,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(103,"div",44)(104,"button",45),e.NdJ("click",function(){return t.onload()}),e._uU(105,"RUN"),e.qZA(),e.TgZ(106,"button",46),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(107,"Close"),e.qZA()()()()()(),e.TgZ(108,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(110,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(i){return t.onUserListSelected(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesBookObj.SalesBook_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesBookObj.SalesBook_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_USERNAME)("disabled",1==t._reportFilterService.SalesBookObj.SalesBook_ALLUSER),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_ALLUSER),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN)("checked",1==t._reportFilterService.SalesBookObj.SalesBook_INCLUDE_RETURN),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_CUSTOMER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT)("disabled",1!=t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT)("disabled",1!=t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(4),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",1==t._reportFilterService.SalesBookObj.SalesBook_SHOWDETALREPORT&&"pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",3==t._reportFilterService.SalesBookObj.SalesBook_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE)("checked",1==t._reportFilterService.SalesBookObj.SalesBook_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForUserList))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var F=C(38011),$=C(72661),ge=C(51405),Se=C(56893);function Qs(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"input",12),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw().$implicit,l=e.oxw();return e.KtG(l.check(i,!i.data.check,o))}),e.qZA()}if(2&n){const r=e.oxw().$implicit;e.Q6J("indeterminate",r.data.indeterminate)("checked",r.data.check)}}function zs(n,a){if(1&n&&(e.YNc(0,Qs,1,2,"input",8),e.TgZ(1,"span",9),e._UZ(2,"img",10),e.TgZ(3,"label",11),e._uU(4),e.qZA()()),2&n){const r=a.$implicit,t=e.oxw();e.Q6J("ngIf",t.multiselect),e.xp6(1),e.s9C("title",r.data.subTitle),e.xp6(3),e.Oqu(null==r.data?null:r.data.name)}}let Ks=(()=>{class n{constructor(r,t,o){this.brandService=r,this.masterService=t,this.productMasterService=o,this.selectedNode=new e.vpe,this.multiselect=!1,this.mainGroupList=[],this.actionMapping={mouse:{click:(i,l,c)=>{this.multiselect&&this.afterSelect(l.data,c)}}},this.selectedItems=[],this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={displayField:"name",isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),allowDrag:!1},this.initTree(),this.productMasterService.getMainGroupList().subscribe(i=>{console.log("MainGroup",i),i.length>0?(this.mainGroupList=i,this.masterService.mainGroupList=i):(this.mainGroupList=[],this.masterService.mainGroupList=[])})}ngOnInit(){this.masterService.updateBrandTreeSubject.subscribe(r=>{console.log("init function ho hai"),console.log("init ma k hudaicha",r),this.initTree()}),this.multiselect&&(this.customTemplateStringOptions.actionMapping=this.actionMapping)}afterSelect(r,t){console.log("DATA on select",r,t.target.checked),t.target.checked?this.selectedItems.push(r):this.selectedItems=this.selectedItems.filter(d=>d!==r);let o="",i="";this.selectedItems.forEach(d=>{o+=`${d.id},`,i+=`${d.name},`});let l=o.substring(0,o.length-1),c=i.substring(0,i.length-1);this.selectedNode.emit({id:l,name:c})}onselect(r,t){this.selectedNode.emit(r.treeModel.getFocusedNode().data),console.log("selected node",this.selectedNode)}initTree(){this.nodes=[],this.busy=this.brandService.getBrandTree().subscribe(r=>{console.log("busy log",r),this.nodes=r[0],console.log("res0 ko log",this.nodes),null!=this.tree&&this.tree.treeModel.update()},r=>{var t=this.masterService.resolveError(r,"error");t&&alert(t)})}filterNodes(r){try{this.tree.treeModel.filterNodes(r,!0)}catch(t){console.log("Filter Not Working",t)}}getChildren(r){return new Promise((t,o)=>{setTimeout(()=>t(this.asyncChildren.map(i=>Object.assign({},i,{hasChildren:r.level<5}))),1e3)})}check(r,t){this.updateChildNodeCheckbox(r,t),this.updateParentNodeCheckbox(r.realParent)}updateChildNodeCheckbox(r,t){r.data.check=t,r.children&&r.children.forEach(o=>this.updateChildNodeCheckbox(o,t))}updateParentNodeCheckbox(r){if(!r)return;let t=!0,o=!0;for(const i of r.children)(!i.data.check||i.data.indeterminate)&&(t=!1),i.data.check&&(o=!1);t?(r.data.check=!0,r.data.indeterminate=!1):o?(r.data.check=!1,r.data.indeterminate=!1):(r.data.check=!0,r.data.indeterminate=!0),this.updateParentNodeCheckbox(r.parent)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36($.c),e.Y36(b.P),e.Y36(ge.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-tree"]],viewQuery:function(r,t){if(1&r&&e.Gf(Se.qr,5),2&r){let o;e.iGM(o=e.CRH())&&(t.tree=o.first)}},inputs:{multiselect:"multiselect"},outputs:{selectedNode:"selectedNode"},features:[e._Bn([ge.L])],decls:9,vars:2,consts:[[1,"plainBackground"],[1,"mx-auto"],["name","filter","placeholder","Search Item Group",1,"filterclass",3,"keyup"],["filter",""],[1,"tree"],[1,"reverse",3,"nodes","options","activate"],["tree",""],["treeNodeTemplate",""],["type","checkbox",3,"indeterminate","checked","change",4,"ngIf"],[3,"title"],["src","../../../assets/Folder.jpg","alt","Group","height","20","width","20",2,"margin-top","-2px"],[2,"padding-top","0px !important","width","auto !important","height","15px !important"],["type","checkbox",3,"indeterminate","checked","change"]],template:function(r,t){if(1&r){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("keyup",function(){e.CHM(o);const l=e.MAs(3);return e.KtG(t.filterNodes(l.value))}),e.qZA()(),e.TgZ(4,"div",4)(5,"tree-root",5,6),e.NdJ("activate",function(l){e.CHM(o);const c=e.MAs(6);return e.KtG(t.onselect(c,l))}),e.YNc(7,zs,5,3,"ng-template",null,7,e.W1O),e.qZA()()()}2&r&&(e.xp6(5),e.Q6J("nodes",t.nodes)("options",t.customTemplateStringOptions))},dependencies:[u.O5,Se.qr],styles:[".tree[_ngcontent-%COMP%]{overflow:auto;border:black;border-width:2px;height:70vh;width:96%;background:white;margin:10px;font-size:12px}.plainBackground[_ngcontent-%COMP%]{border:2px solid #e6e6e6;padding:5px;margin-left:5px!important;margin-right:5px!important;background-color:#f7f7f7;width:98%}.filterclass[_ngcontent-%COMP%]{width:90%;padding:10px}"]}),n})();function $s(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"button",6),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.hide())}),e._uU(6," \xd7 "),e.qZA()()()(),e.TgZ(7,"app-report-tree",7),e.NdJ("selectedNode",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.getTreeNodeValue(o))}),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(7),e.Q6J("multiselect",r.multiselect)}}let te=(()=>{class n{constructor(){this.isActive=!1,this.treeNodeValue=new e.vpe}ngOnInit(){}show(){this.isActive=!0}getTreeNodeValue(r){console.log("tree ko valueee",r),console.log("name matraaaa",r.name),this.treeNodeValue.emit(r)}hide(){console.log("helloStockLedger"),this.isActive=!1}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-report-popup"]],inputs:{multiselect:"multiselect"},outputs:{treeNodeValue:"treeNodeValue"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row",2,"margin-left","-15px !important"],[1,"col-12","col-md-12"],[1,"row"],[1,"modal-header","col-md-12",2,"border","0px"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"mx-auto",2,"width","100%",3,"multiselect","selectedNode"]],template:function(r,t){1&r&&e.YNc(0,$s,8,1,"div",0),2&r&&e.Q6J("ngIf",t.isActive)},dependencies:[u.O5,Ks],styles:[".container[_ngcontent-%COMP%]{position:fixed!important;transform:translate(-50px,-50px);background:#ffffff;z-index:99999;width:30.5%;top:17%;left:39%;height:85%;box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}"]}),n})();const Xs=["reportPopup"],el=["genericGridCustomerPopup"],tl=["genericGridItemPopup"],rl=["genericGridUserListPopup"],il=["multiselectGenericGrid"];function ol(n,a){1&n&&(e.TgZ(0,"option",42),e._uU(1,"ALL"),e.qZA())}function nl(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function al(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=o)}),e.YNc(4,ol,2,0,"option",73),e.YNc(5,nl,2,2,"option",43),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function sl(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function ll(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER=o)}),e._UZ(4,"option",75),e.TgZ(5,"option",42),e._uU(6," ALL "),e.qZA(),e.YNc(7,sl,2,2,"option",43),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function pl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"input",76),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=o)})("change",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.checkValue(5))}),e.qZA()(),e.TgZ(3,"div",21)(4,"label",22),e._uU(5,"Cost Center Wise Report"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT)}}function cl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset",77)(1,"div",17)(2,"div",18)(3,"div",78)(4,"input",79),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",21)(6,"label",22),e._uU(7,"Show Item Group Only"),e.qZA()()(),e.TgZ(8,"div",18)(9,"div",78)(10,"input",80),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",21)(12,"label",22),e._uU(13,"Show Item Within Groups"),e.qZA()()(),e.TgZ(14,"div",18)(15,"div",78)(16,"input",81),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(17,"div",21)(18,"label",22),e._uU(19,"Show All Item Group Hierarchy"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE)}}function _l(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",82)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT)("checked",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT)}}function dl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",33),e._uU(5,"Show User Wise Format"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER)("checked",1==r._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER)}}function hl(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function ul(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function gl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE=o)}),e._UZ(6,"option",45),e.YNc(7,ul,2,2,"option",43),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList)}}function Sl(n,a){if(1&n&&(e.TgZ(0,"option",74),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MANUFACTURER),e.xp6(1),e.hij("",r.MANUFACTURER," ")}}function ml(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER=o)}),e._UZ(6,"option",42),e.YNc(7,Sl,2,2,"option",43),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",r.ManufacturerList)}}function Ol(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",36)(2,"label",37),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE=o)}),e.TgZ(6,"option",47),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",46),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",83),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE)}}function bl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"input",84),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",85),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems)}}function Tl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",101)(1,"ng-multiselect-dropdown",102),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function vl(n,a){if(1&n&&(e.TgZ(0,"div",97)(1,"div",98)(2,"label",99),e._uU(3),e.qZA()(),e.YNc(4,Tl,2,4,"div",100),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function fl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",86)(2,"div",87)(3,"div",88)(4,"h5",89),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",90),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",91),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",92)(10,"div",93),e.YNc(11,vl,5,2,"div",94),e.qZA()(),e.TgZ(12,"div",95)(13,"button",96),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",96),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let Cl=(()=>{class n{constructor(r,t,o,i,l,c,_,d,h){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.brandService=h,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",CUSTOMERNAME:"",MENUCODE:"",params:"%",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",CUSTOMERDISPLAYNAME:"",VATMODE:"",MANUFACTURER:"%",SALESTYPE:"",ITEMGROUP:"",VCHR1:0,VCHR2:0,CUSTID:"",TRNUSER:"",SHOWUSERWISE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForUserList=new m.im,this.multiselectPopupSettings=new F.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.AppMode=j.N.appMode,this.masterService.getAllCostCenter().subscribe(g=>{this.costCenterList=g&&g||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(g=>{this.divisionList=g,this._reportFilterService.previouslyLoadedReportList?.some(N=>N.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(g=>{this.MCatList=g}),this.masterService.getPTypeList().subscribe(g=>{g&&(this.PTypeList=g)}),this.masterService.getItemGroup().subscribe(g=>{g&&(this.ItemGroupList=g)}),this.masterService.getProductGroupList().subscribe(g=>{g&&(this.ProductGroupList=g)}),this.masterService.getManufacturerList().subscribe(g=>{g&&(this.ManufacturerList=g)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(g=>{g.result&&g.result.length&&(this.categorywiseConfigurationdetails=g.result,this.categorywiseConfigurationdetails.forEach(O=>{if(O.SELECTEDMCAT=[],O.finalSelectedMCAT=[],O.hasOwnProperty("VARIANTVALUES")){let N=JSON.parse(O.VARIANTVALUES);O.VARIANTVALUES="object"==typeof N&&N&&N.length?N:[]}}))},g=>{});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Item Wise_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="2"):"Sales Report Item Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="3"),this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,"AD")):(1!=this._reportFilterService.SalesItemWiseObj.assignPreviousValue&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE="100",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE="0"),this.changeVariant(this._reportFilterService.SalesItemWiseObj.SalesItemWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=this.masterService.toADDate(r)}}onload(){if(console.log("saels item wise",this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER),1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER||null==this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV)this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME="All";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV);this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP)this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP);this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE&&"100"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP)this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME="";else if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE&&"100"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE);this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME="";if(this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT&&"%"==this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?"All":this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT&&"%"!=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV?this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CATEGORYNAME:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER:"",this.repObj.reportparam.VATMODE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_MANUFACTURER:"%",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SALESTYPE:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP?this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME?this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME:"%",this.repObj.reportparam.SHOWUSERWISE=this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER?this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER:0,this._reportFilterService.SalesItemWiseObj.VCHR1>this._reportFilterService.SalesItemWiseObj.VCHR2)return void this._alertService.warning("Range selection of From must be less the To");this.repObj.reportparam.VCHR1=this._reportFilterService.SalesItemWiseObj.VCHR1,this.repObj.reportparam.VCHR2=this._reportFilterService.SalesItemWiseObj.VCHR2,console.log("to and from",this.repObj.reportparam.VCHR1,this.repObj.reportparam.VCHR2),this.repObj.reportparam.params=1==this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_4":5==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Sales Report Item Wise_5"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_VARIANT":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_1_VARIANT":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_2_VARIANT":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_3_VARIANT":4==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Sales Report Item Wise_4_VARIANT":5==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Sales Report Item Wise_5_VARIANT")),this.repObj.REPORTDISPLAYNAME="Sales Report Item Wise",this._reportFilterService.SalesItemWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMERCODE=r.CUSTID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=r.CUSTNAME,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ACID=r.ACID,this._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTID=r.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}ItemEnterCommand(r){this.getItemList(),console.log("selected itemd",this.selectMultiItems),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}changeMultiSelect(r){console.log("events",r),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE="",this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM="",this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE="",this.selectMultiItems=1==r.target.checked?1:0}dblClickPopupItem(r){this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=r.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=r.DESCA,this._reportFilterService.SalesItemWiseObj.SalesItemWise_MENUCODE=r.MENUCODE}onMultiItemSelected(r){console.log("on multii item select",r),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MCODE=r.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=r.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(r){0==r&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="0",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),1==r&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="1",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),4==r&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="4",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0),5==r&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISE="5",this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWUSER=0)}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesItemWiseObj.SalesItemWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(r){}reportTree(){this.reportPopup.show()}selectedValue(r){console.log("k data ho yo?",r),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=r.MCODE,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=r.DESCA}treeNodeSelected(r){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",r),this._reportFilterService.SalesItemWiseObj.SalesItemWise_MGROUP=r.id,this._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=r.name}voucherRange(){this._reportFilterService.SalesItemWiseObj.VCHR1>this._reportFilterService.SalesItemWiseObj.VCHR2&&this._alertService.warning("Range selection of From must be less the To")}UserListEnter(r){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(r){this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME=r.UNAME}Change(){1==this._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER&&(this._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME="")}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c),e.Y36($.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesreport-itemwise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Xs,5),e.Gf(el,5),e.Gf(tl,5),e.Gf(rl,5),e.Gf(il,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.reportPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:165,vars:46,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[2,"margin-top","0"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","1%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-top","2%","margin-bottom","2%"],[1,"row",2,"margin-bottom","-5%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],[1,"col-md-1",2,"margin-left","-20%","margin-bottom","-1%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],["class","row","style","margin-bottom: -5%;",4,"ngIf"],["style","width: 127%; margin-left: -8%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex","margin-left","19%"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","mt-2"],[2,"display","flex"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["genericGridUserListPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["type","radio","name","reportType","value","5",3,"ngModel","ngModelChange","change"],[2,"width","127%","margin-left","-8%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","3",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],["value","2"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr",8),e.TgZ(13,"div",9)(14,"div",10)(15,"div",5)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,al,6,3,"fieldset",16),e.YNc(38,ll,8,2,"fieldset",16),e.TgZ(39,"fieldset")(40,"legend",11),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div",12)(43,"div",5)(44,"div",17)(45,"div",18)(46,"div",19)(47,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(0)}),e.qZA()(),e.TgZ(48,"div",21)(49,"label",22),e._uU(50,"Item Wise Report"),e.qZA()()(),e.TgZ(51,"div",18)(52,"div",23)(53,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(1)}),e.qZA()(),e.TgZ(54,"div",21)(55,"label",22),e._uU(56,"Item Group Wise Report"),e.qZA()()(),e.TgZ(57,"div",18)(58,"div",19)(59,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(4)}),e.qZA()(),e.TgZ(60,"div",21)(61,"label",22),e._uU(62,"Day Wise Report"),e.qZA()()(),e.YNc(63,pl,6,1,"div",26),e.qZA()(),e.TgZ(64,"div",5),e.YNc(65,cl,20,3,"fieldset",27),e.qZA()()(),e.YNc(66,_l,6,2,"div",28),e.TgZ(67,"div",29)(68,"div",30)(69,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING=i})("change",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(70,"div",32)(71,"label",33),e._uU(72,"Show Item Grouping Hierarchy"),e.qZA()()(),e.YNc(73,dl,6,2,"div",34),e.qZA(),e.TgZ(74,"div",35)(75,"fieldset")(76,"legend"),e._uU(77,"Report Filter Option :"),e.qZA(),e.TgZ(78,"div",1)(79,"div",36)(80,"label",37),e._uU(81,"Item Group :"),e.qZA()(),e.TgZ(82,"div",38)(83,"app-simple-suggest",39),e.NdJ("selectOption",function(i){return t.selectedValue(i)})("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP=i}),e.qZA(),e.TgZ(84,"button",40),e.NdJ("click",function(){return t.reportTree()}),e._uU(85,"+"),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",36)(88,"label",37),e._uU(89,"Item Category :"),e.qZA()(),e.TgZ(90,"div",32)(91,"select",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT=i}),e._UZ(92,"option",42),e.YNc(93,hl,2,2,"option",43),e.qZA()()(),e.YNc(94,gl,8,2,"div",44),e.YNc(95,ml,8,2,"div",44),e.TgZ(96,"div",1)(97,"div",36)(98,"label",37),e._uU(99,"Vat Mode :"),e.qZA()(),e.TgZ(100,"div",32)(101,"select",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE=i}),e._UZ(102,"option",45),e.TgZ(103,"option",46),e._uU(104,"VATABLE ITEM"),e.qZA(),e.TgZ(105,"option",47),e._uU(106,"NON-VATABLE ITEM"),e.qZA()()()(),e.YNc(107,Ol,12,1,"div",44),e.TgZ(108,"div",1)(109,"div",36)(110,"label",48),e._uU(111,"Customer Name :"),e.qZA()(),e.TgZ(112,"div",32)(113,"input",49),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(114,"div",1)(115,"div",50)(116,"label",51),e._uU(117,"User Name :"),e.qZA()(),e.TgZ(118,"div",52)(119,"div",53)(120,"input",54),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME=i})("keydown.enter",function(i){return t.UserListEnter(i)})("keydown.Tab",function(i){return t.UserListEnter(i)})("keyup",function(i){return t.UserListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(121,"input",55),e.NdJ("change",function(){return t.Change()})("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER=i}),e.qZA(),e.TgZ(122,"label",56),e._uU(123,"All User"),e.qZA()()()()(),e.TgZ(124,"fieldset")(125,"legend",11),e._uU(126,"Item Selection :"),e.qZA(),e.TgZ(127,"div",1)(128,"div",36)(129,"label",37),e._uU(130,"Item Name :"),e.qZA()(),e.TgZ(131,"div",32)(132,"input",57),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.YNc(133,bl,5,2,"div",44),e.qZA(),e.TgZ(134,"fieldset")(135,"legend",11),e._uU(136,"Voucher Range Selection:"),e.qZA(),e.TgZ(137,"div",58)(138,"div",12)(139,"div",13)(140,"div",59)(141,"label"),e._uU(142," From: "),e.qZA(),e.TgZ(143,"input",60),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.VCHR1=i}),e.qZA()()(),e.TgZ(144,"div",5)(145,"div",59)(146,"label"),e._uU(147," To: "),e.qZA(),e.TgZ(148,"input",61),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseObj.VCHR2=i})("change",function(){return t.voucherRange()}),e.qZA()()()()()()()()(),e.TgZ(149,"div",62)(150,"button",63),e.NdJ("click",function(){return t.onload()}),e._uU(151,"RUN"),e.qZA(),e.TgZ(152,"button",64),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(153,"Close"),e.qZA()()()()()(),e.TgZ(154,"generic-popup-grid",65,66),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(156,"generic-popup-grid",65,67),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(158,"multiselect-generic-grid",68,69),e.NdJ("onItemsSelected",function(i){return t.onMultiItemSelected(i)}),e.qZA(),e.TgZ(160,"generic-popup-grid",65,70),e.NdJ("onItemDoubleClick",function(i){return t.onUserListSelected(i)}),e.qZA(),e.YNc(162,fl,17,1,"div",16),e.TgZ(163,"app-report-popup",71,72),e.NdJ("treeNodeValue",function(i){return t.treeNodeSelected(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(4),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING)("checked",1==t._reportFilterService.SalesItemWiseObj.SalesItemWise_SHOWGROUPING),e.xp6(4),e.Q6J("ngIf",0==t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUPWISEREPORT),e.xp6(10),e.Q6J("options",t.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_VATMODE),e.xp6(6),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_CUSTOMER),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_USERNAME)("disabled",1==t._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ALLUSER),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.SalesItemWise_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.VCHR1),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseObj.VCHR2),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky,te,K.c,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Al=["genericGridCustomerPopup"],Pl=["genericGridUserListPopup"];function Ml(n,a){1&n&&(e.TgZ(0,"option",52),e._uU(1,"ALL"),e.qZA())}function Rl(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function El(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_DIV=o)}),e.YNc(4,Ml,2,0,"option",50),e.YNc(5,Rl,2,2,"option",51),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function Dl(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Il(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_CCENTER=o)}),e._UZ(4,"option",54),e.TgZ(5,"option",52),e._uU(6," ALL "),e.qZA(),e.YNc(7,Dl,2,2,"option",51),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function Nl(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function kl(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function jl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",55)(5,"select",56),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Nl,2,2,"option",51),e.qZA()(),e.TgZ(7,"div",41)(8,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES=o)}),e._UZ(9,"option",52),e.YNc(10,kl,2,2,"option",51),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}function yl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",16)(4,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",16)(8,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CreditNoteObj.CreditNote_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_INAD),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CreditNoteObj.CreditNote_INAD)}}let Fl=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,CNMODE:0,CUSTOMERNAME:"",params:"%",SHOWREVERESEENTRYONLY:0,CUSTID:"",TRNUSER:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.CreditNotebookReport={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForUserList=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.AppMode=j.N.appMode,this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),i.CreditNoteObj.CreditNote_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?("Credit Note Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="2",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0"):"Credit Note Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0"):"Credit Note Book Report_1"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="1"),this._reportFilterService.CreditNoteObj.CreditNote_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.CreditNoteObj.CreditNote_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.CreditNoteObj.CreditNote_CNMODE=this._reportFilterService.drillParam.reportparam.CNMODE,this._reportFilterService.CreditNoteObj.CreditNote_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE2,"AD")):(1!=this._reportFilterService.CreditNoteObj.assignPreviousValue&&(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.CreditNoteObj.CreditNote_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT="0",this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE="1",this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN=0,this._reportFilterService.CreditNoteObj.CreditNote_INAD="1",this._reportFilterService.CreditNoteObj.CreditNote_CNMODE="2",this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=0),this.changeVariant(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT),this.changeEntryDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CreditNoteObj.CreditNote_DATE2,"AD"))})}changeEntryDate(r,t){if(C(10484),"AD"==t)this._reportFilterService.CreditNoteObj.CreditNote_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var i=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(i))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.CreditNoteObj.CreditNote_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.CreditNoteObj.CreditNote_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.CreditNoteObj.CreditNote_CCENTER||null==this._reportFilterService.CreditNoteObj.CreditNote_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.CreditNoteObj.CreditNote_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CreditNoteObj.CreditNote_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.CreditNoteObj.CreditNote_CCENTER?this._reportFilterService.CreditNoteObj.CreditNote_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.CreditNoteObj.CreditNote_DIV?this._reportFilterService.CreditNoteObj.CreditNote_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN?this._reportFilterService.CreditNoteObj.CreditNote_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE?this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT?this._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.CreditNoteObj.CreditNote_ACID?this._reportFilterService.CreditNoteObj.CreditNote_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.CreditNoteObj.CreditNote_CUSTID?this._reportFilterService.CreditNoteObj.CreditNote_CUSTID:"%",this.repObj.reportparam.INAD=this._reportFilterService.CreditNoteObj.CreditNote_INAD?this._reportFilterService.CreditNoteObj.CreditNote_INAD:1,this.repObj.reportparam.CNMODE=this._reportFilterService.CreditNoteObj.CreditNote_CNMODE?this._reportFilterService.CreditNoteObj.CreditNote_CNMODE:2,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER?this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER:"",this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE?this._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE:0,this.repObj.reportparam.TRNUSER=this._reportFilterService.CreditNoteObj.CreditNote_USERNAME?this._reportFilterService.CreditNoteObj.CreditNote_USERNAME:"%";let r={};this.variantmaster.length>0?(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT||(this._reportFilterService.CreditNoteObj.CreditNote_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.CreditNoteObj.CreditNote_VARIANT]=this._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES?this._reportFilterService.CreditNoteObj.CreditNote_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Credit Note Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Credit Note Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Credit Note Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Credit Note Book Report_3"),this.repObj.REPORTDISPLAYNAME="Credit Note Book Report",this._reportFilterService.CreditNoteObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMERCODE=r.CUSTID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=r.CUSTNAME,this._reportFilterService.CreditNoteObj.CreditNote_ACID=r.ACID,this._reportFilterService.CreditNoteObj.CreditNote_CUSTID=r.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.CreditNoteObj.CreditNote_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}UserListEnter(r){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(r){this._reportFilterService.CreditNoteObj.CreditNote_USERNAME=r.UNAME}Change(){1==this._reportFilterService.CreditNoteObj.CreditNote_ALLUSER&&(this._reportFilterService.CreditNoteObj.CreditNote_USERNAME="")}onReportOptionChange(){3==this._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE?(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.CreditNoteObj.CreditNote_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["credit-notebook-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Al,5),e.Gf(Pl,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:116,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","creditNoteOption","value","2",2,"font-size","11px",3,"ngModel","ngModelChange"],["type","radio","name","creditNoteOption","value","0",2,"font-size","11px",3,"ngModel","ngModelChange"],[2,"width","50%"],["type","radio","name","creditNoteOption","value","1",2,"font-size","11px",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Credit Note Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,El,6,3,"fieldset",15),e.YNc(38,Il,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Credit Note Type Selection:"),e.qZA(),e.TgZ(42,"div",16)(43,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(44,"label"),e._uU(45,"Both"),e.qZA()(),e.TgZ(46,"div",16)(47,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(48,"label",19),e._uU(49,"Item Base Credit Note"),e.qZA()(),e.TgZ(50,"div",16)(51,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_CNMODE=i}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"A/C Base Credit Note"),e.qZA()()()(),e.TgZ(54,"div",21)(55,"fieldset")(56,"legend",10),e._uU(57,"Customer Selection :"),e.qZA(),e.TgZ(58,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"label",24),e._uU(65,"User Name :"),e.qZA()(),e.TgZ(66,"div",25)(67,"div",26)(68,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_USERNAME=i})("keydown.enter",function(i){return t.UserListEnter(i)})("keydown.Tab",function(i){return t.UserListEnter(i)})("keyup",function(i){return t.UserListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(69,"input",28),e.NdJ("change",function(){return t.Change()})("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_ALLUSER=i}),e.qZA(),e.TgZ(70,"label",29),e._uU(71,"All User"),e.qZA()()()()(),e.YNc(72,jl,11,4,"fieldset",15),e.TgZ(73,"fieldset",30),e.NdJ("change",function(){return t.onReportOptionChange()}),e.TgZ(74,"legend",10),e._uU(75,"Report Option :"),e.qZA(),e.TgZ(76,"div",31)(77,"div",32)(78,"input",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(79,"label"),e._uU(80,"Voucher Wise"),e.qZA()(),e.TgZ(81,"div",32)(82,"input",34),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(83,"label"),e._uU(84,"Day Wise"),e.qZA()(),e.TgZ(85,"div",32)(86,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(87,"label"),e._uU(88,"Month Wise"),e.qZA()()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Report Type :"),e.qZA(),e.TgZ(92,"div",16)(93,"input",36),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(94,"label"),e._uU(95,"Summary Report"),e.qZA()(),e.TgZ(96,"div",16)(97,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(98,"label"),e._uU(99,"Detail Report"),e.qZA()()(),e.YNc(100,yl,11,2,"fieldset",15),e.TgZ(101,"div",38)(102,"div",39)(103,"input",40),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=i})("change",function(i){return t._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(104,"div",41)(105,"label",42),e._uU(106,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(107,"div",43)(108,"button",44),e.NdJ("click",function(){return t.onload()}),e._uU(109,"RUN"),e.qZA(),e.TgZ(110,"button",45),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(111,"Close"),e.qZA()()()()()(),e.TgZ(112,"generic-popup-grid",46,47),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(114,"generic-popup-grid",46,48),e.NdJ("onItemDoubleClick",function(i){return t.onUserListSelected(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_CNMODE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_CUSTOMER),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_USERNAME)("disabled",1==t._reportFilterService.CreditNoteObj.CreditNote_ALLUSER),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_ALLUSER),e.xp6(3),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT)("disabled",1!=t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_SHOWDETALREPORT)("disabled",1!=t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==t._reportFilterService.CreditNoteObj.CreditNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE)("checked",1==t._reportFilterService.CreditNoteObj.CreditNote_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForUserList))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const wl=["genericGridSupplierPopup"];function Wl(n,a){1&n&&(e.TgZ(0,"option",44),e._uU(1,"ALL"),e.qZA())}function Ll(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Zl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_DIV=o)}),e.YNc(4,Wl,2,0,"option",42),e.YNc(5,Ll,2,2,"option",43),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function xl(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Ul(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_CCENTER=o)}),e._UZ(4,"option",46),e.TgZ(5,"option",44),e._uU(6," ALL "),e.qZA(),e.YNc(7,xl,2,2,"option",43),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function Vl(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function Bl(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function Yl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",47)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Vl,2,2,"option",43),e.qZA()(),e.TgZ(7,"div",34)(8,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES=o)}),e._UZ(9,"option",44),e.YNc(10,Bl,2,2,"option",43),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}function Jl(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Date:"),e.qZA(),e.TgZ(3,"div",16)(4,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INAD=o)}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Report In AD "),e.qZA()(),e.TgZ(7,"div",16)(8,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INAD=o)}),e.qZA(),e.TgZ(9,"label"),e._uU(10,"Report In BS "),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_INAD),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_INAD)}}function ql(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Report Filter Option :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",47)(5,"label",51),e._uU(6,"Invoice Type :"),e.qZA()(),e.TgZ(7,"div",34)(8,"select",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE=o)}),e.TgZ(9,"option",52),e._uU(10,"All"),e.qZA(),e.TgZ(11,"option",53),e._uU(12,"Trading"),e.qZA(),e.TgZ(13,"option",54),e._uU(14,"Non-Trading"),e.qZA(),e.TgZ(15,"option",55),e._uU(16,"Mixed"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(8),e.Q6J("ngModel",r._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE)}}let Gl=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,INCLUDE_RETURN:0,VCHR:"",ACID:"",INAD:0,DNMODE:0,CUSTOMERNAME:"",params:"%",SHOWREVERESEENTRYONLY:0,INVOICETYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.DebitNotebookReport={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new m.im,this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),this.userprofile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),i.DebitNoteObj.DebitNote_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userprofile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?("Debit Note Book Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="2",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0"):"Debit Note Book Report"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0"):"Debit Note Book Report"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="1"),this._reportFilterService.DebitNoteObj.DebitNote_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.DebitNoteObj.DebitNote_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN=this._reportFilterService.drillParam.reportparam.INCLUDE_RETURN,this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.DebitNoteObj.DebitNote_DNMODE=this._reportFilterService.drillParam.reportparam.DNMODE,this._reportFilterService.DebitNoteObj.DebitNote_INAD=this._reportFilterService.drillParam.reportparam.INAD,this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=this._reportFilterService.drillParam.reportparam.SHOWREVERSE,this.changeEntryDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE2,"AD")):(1!=this._reportFilterService.DebitNoteObj.assignPreviousValue&&(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.currDate>this.userprofile.PhiscalYearInfo.EndDate?this.userprofile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this.currDate>this.userprofile.PhiscalYearInfo.EndDate?this.userprofile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.DebitNoteObj.DebitNote_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT="0",this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE="1",this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN=0,this._reportFilterService.DebitNoteObj.DebitNote_INAD="1",this._reportFilterService.DebitNoteObj.DebitNote_DNMODE="2",this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=0,this._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE=0),this.changeVariant(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT),this.changeEntryDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE1,"AD"),this.changeEndDate(this._reportFilterService.DebitNoteObj.DebitNote_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.DebitNoteObj.DebitNote_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.DebitNoteObj.DebitNote_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.DebitNoteObj.DebitNote_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.DebitNoteObj.DebitNote_CCENTER||null==this._reportFilterService.DebitNoteObj.DebitNote_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.DebitNoteObj.DebitNote_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.DebitNoteObj.DebitNote_DATE2,this.repObj.reportparam.PHISCALID=this.userprofile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.DebitNoteObj.DebitNote_CCENTER?this._reportFilterService.DebitNoteObj.DebitNote_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.DebitNoteObj.DebitNote_DIV?this._reportFilterService.DebitNoteObj.DebitNote_DIV:"%",this.repObj.reportparam.INCLUDE_RETURN=this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN?this._reportFilterService.DebitNoteObj.DebitNote_INCLUDE_RETURN:0,this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE?this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT?this._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE?this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE:"%",this.repObj.reportparam.INAD=this._reportFilterService.DebitNoteObj.DebitNote_INAD?this._reportFilterService.DebitNoteObj.DebitNote_INAD:1,this.repObj.reportparam.DNMODE=this._reportFilterService.DebitNoteObj.DebitNote_DNMODE?this._reportFilterService.DebitNoteObj.DebitNote_DNMODE:2,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER?this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER:"",this.repObj.reportparam.SHOWREVERESEENTRYONLY=this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE?this._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE:0,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.DebitNoteObj.DebitNote_INVOICETYPE??0;let r={};this.variantmaster.length>0?(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT||(this._reportFilterService.DebitNoteObj.DebitNote_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.DebitNoteObj.DebitNote_VARIANT]=this._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES?this._reportFilterService.DebitNoteObj.DebitNote_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),3!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.INAD=1),1!=this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Debit Note Book Report":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Debit Note Book Report_1":2==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Debit Note Book Report_2":3==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Debit Note Book Report_3"),this.repObj.REPORTDISPLAYNAME="Debit Note Book Report",this._reportFilterService.DebitNoteObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getSuppliersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.DebitNoteObj.DebitNote_CUSTOMERCODE=r.ACID,this._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=r.ACNAME}getSuppliersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.DebitNoteObj.DebitNote_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onReportOptionChange(){3==this._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE?(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.date2,this.changeEntryDate(this.date2,"AD")):(this._reportFilterService.DebitNoteObj.DebitNote_DATE1=this.currDate,this.changeEntryDate(this.currDate,"AD"))}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debit-notebook-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(wl,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","creditNoteOption","value","2",2,"font-size","11px",3,"ngModel","ngModelChange"],["type","radio","name","creditNoteOption","value","0",2,"font-size","11px",3,"ngModel","ngModelChange"],[2,"width","50%"],["type","radio","name","creditNoteOption","value","1",2,"font-size","11px",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],[1,"col-md-4"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"],["type","radio","name","INAD","value","1",3,"ngModel","ngModelChange"],["type","radio","name","INAD","value","0",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Debit Note Book Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,Zl,6,3,"fieldset",15),e.YNc(38,Ul,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Debit Note Type Selection:"),e.qZA(),e.TgZ(42,"div",16)(43,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(44,"label"),e._uU(45,"Both"),e.qZA()(),e.TgZ(46,"div",16)(47,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(48,"label",19),e._uU(49,"Item Base Debit Note"),e.qZA()(),e.TgZ(50,"div",16)(51,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_DNMODE=i}),e.qZA(),e.TgZ(52,"label",19),e._uU(53,"A/C Base Debit Note"),e.qZA()()()(),e.TgZ(54,"div",21)(55,"fieldset")(56,"legend",10),e._uU(57,"Supplier Selection :"),e.qZA(),e.TgZ(58,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.YNc(59,Yl,11,4,"fieldset",15),e.TgZ(60,"fieldset",23),e.NdJ("change",function(){return t.onReportOptionChange()}),e.TgZ(61,"legend",10),e._uU(62,"Report Option :"),e.qZA(),e.TgZ(63,"div",24)(64,"div",25)(65,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(66,"label"),e._uU(67,"Voucher Wise"),e.qZA()(),e.TgZ(68,"div",25)(69,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(70,"label"),e._uU(71,"Day Wise"),e.qZA()(),e.TgZ(72,"div",25)(73,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE=i}),e.qZA(),e.TgZ(74,"label"),e._uU(75,"Month Wise"),e.qZA()()()(),e.TgZ(76,"fieldset")(77,"legend",10),e._uU(78,"Report Type :"),e.qZA(),e.TgZ(79,"div",16)(80,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(81,"label"),e._uU(82,"Summary Report"),e.qZA()(),e.TgZ(83,"div",16)(84,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Detail Report"),e.qZA()()(),e.YNc(87,Jl,11,2,"fieldset",15),e.YNc(88,ql,17,1,"fieldset",15),e.TgZ(89,"div",31)(90,"div",32)(91,"input",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=i})("change",function(i){return t._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE=i.target.checked?1:0}),e.qZA()(),e.TgZ(92,"div",34)(93,"label",35),e._uU(94,"Show Reverse Entry Only"),e.qZA()()()()()(),e.TgZ(95,"div",36)(96,"button",37),e.NdJ("click",function(){return t.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",38),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_DNMODE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT)("disabled",1!=t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_SHOWDETALREPORT)("disabled",1!=t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf",3==t._reportFilterService.DebitNoteObj.DebitNote_REPORT_TYPE),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE)("checked",1==t._reportFilterService.DebitNoteObj.DebitNote_SHOWREVERSE),e.xp6(9),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Hl=["multiselectGenericGrid"],Ql=["reportPopup"],zl=["genericGridSupplierPopup"],Kl=["genericGridItemPopup"];function $l(n,a){1&n&&(e.TgZ(0,"option",51),e._uU(1,"ALL"),e.qZA())}function Xl(n,a){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function ep(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=o)}),e.YNc(4,$l,2,0,"option",49),e.YNc(5,Xl,2,2,"option",50),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function tp(n,a){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function rp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER=o)}),e._UZ(4,"option",53),e.TgZ(5,"option",51),e._uU(6," ALL "),e.qZA(),e.YNc(7,tp,2,2,"option",50),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function ip(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",18)(2,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=o)})("change",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.checkValue(4))}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",21),e._uU(5,"Day Wise Report"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT)}}function op(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset",55)(1,"div",56)(2,"div",1)(3,"div",57)(4,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",20)(6,"label",21),e._uU(7,"Show Item Group Only"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",57)(10,"input",59),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",20)(12,"label",21),e._uU(13,"Show Item Within Groups"),e.qZA()()(),e.TgZ(14,"div",1)(15,"div",57)(16,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(17,"div",20)(18,"label",21),e._uU(19,"Show All Item Group Hierarchy"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE)}}function np(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",61)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT)("checked",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT)}}function ap(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",65)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=o.target.checked?1:0)})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onChangeEvent(o))}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Item Details Also"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO)("checked",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO)}}function sp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",29)(2,"label",30),e._uU(3,"Purchase Type :"),e.qZA()(),e.TgZ(4,"div",34)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP=o)}),e.TgZ(6,"option",66),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",67),e._uU(9,"IMPORT PURCHASE"),e.qZA(),e.TgZ(10,"option",68),e._uU(11,"LOCAL PURCHASE"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP)}}function lp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",29)(2,"label",30),e._uU(3,"Invoice Type :"),e.qZA()(),e.TgZ(4,"div",34)(5,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE=o)}),e.TgZ(6,"option",68),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",67),e._uU(9,"TRADING"),e.qZA(),e.TgZ(10,"option",69),e._uU(11,"NON-TRADING"),e.qZA(),e.TgZ(12,"option",70),e._uU(13,"MIXED"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE)}}function pp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"input",71),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",72),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems)}}function cp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",73)(1,"div",62)(2,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",34)(4,"label",64),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE)("checked",1==r._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE)}}function _p(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",89)(1,"ng-multiselect-dropdown",90),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function dp(n,a){if(1&n&&(e.TgZ(0,"div",85)(1,"div",86)(2,"label",87),e._uU(3),e.qZA()(),e.YNc(4,_p,2,4,"div",88),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function hp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",74)(2,"div",75)(3,"div",76)(4,"h5",77),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",78),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",79),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",80)(10,"div",81),e.YNc(11,dp,5,2,"div",82),e.qZA()(),e.TgZ(12,"div",83)(13,"button",84),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",84),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let up=(()=>{class n{constructor(r,t,o,i,l,c,_,d,h){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.brandService=h,this.categorywiseConfigurationdetails=[],this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",SUPPLIERNAME:"",MENUCODE:"",params:"%",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",VATMODE:"",MANUFACTURER:"%",PURCHASETYPE:"",ITEMGROUP:"",SHOWBATCHWISESTOCK:0,INVOICETYPE:0,DEPARTMENT:"",MOTHERITEM:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.PurchaseReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.resultList=[],this.showVariantPopup=!1,this.multiselectPopupSettings=new F.oe,this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(g=>{this.costCenterList=g&&g||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(g=>{this.divisionList=g,this._reportFilterService.previouslyLoadedReportList?.some(N=>N.activeurlpath==this.arouter.url)||(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(g=>{this.MCatList=g}),this.masterService.getPTypeList().subscribe(g=>{g&&(this.PTypeList=g)}),this.masterService.getItemGroup().subscribe(g=>{g&&(this.ItemGroupList=g)}),this.masterService.getProductGroupList().subscribe(g=>{g&&(this.ProductGroupList=g)}),this.masterService.getManufacturerList().subscribe(g=>{g&&(this.ManufacturerList=g)}),this.masterService.getDepartmentList().subscribe(g=>{this.masterService.departmentList=g}),this.masterService.getMotherItemList().subscribe(g=>{this.masterService.motherItemList=g.result}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(g=>{g.result&&g.result.length&&(this.categorywiseConfigurationdetails=g.result,this.categorywiseConfigurationdetails.forEach(O=>{if(O.SELECTEDMCAT=[],O.finalSelectedMCAT=[],O.hasOwnProperty("VARIANTVALUES")){let N=JSON.parse(O.VARIANTVALUES);O.VARIANTVALUES="object"==typeof N&&N&&N.length?N:[]}}))},g=>{}),console.log("this.categorywiseConfigurationdetails",this.categorywiseConfigurationdetails);var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Report Item Wise_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="2"):"Purchase Report Item Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="3"),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,"AD")):(1!=this._reportFilterService.PurchaseItemWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE="100",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP="100",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE=0,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE=0),this.changeVariant(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,"AD"))})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(r=>{this.resss=r[0],this.resultList=this.resss[0]})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=this.masterService.toADDate(r)}}changeMultiSelect(r){console.log("events",r),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE="",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM="",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE="",this.selectMultiItems=1==r.target.checked?1:0}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER||null==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME="";if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME="";if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE&&"100"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP)this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME="";else if(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE&&"100"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE);this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME="";this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT&&"%"==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?"All":this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT&&"%"!=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWGROUPING?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_CATEGORYNAME:"",this.repObj.reportparam.VATMODE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VATMODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MANUFACTURER?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MANUFACTURER:"%",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_PURCHASETYP:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWBATCHWISE??0,this.repObj.reportparam.INVOICETYPE=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_INVOICETYPE??0,this.repObj.reportparam.DEPARTMENT=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT:"%",this.repObj.reportparam.MOTHERITEM=this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM?this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM:"%",this.repObj.reportparam.params=1==this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=4),0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Purchase Report Item Wise_4"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_VARIANT":1==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_1_VARIANT":2==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_2_VARIANT":3==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportname="Purchase Report Item Wise_3_VARIANT":4==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportname="Purchase Report Item Wise_4_VARIANT")),this.repObj.REPORTDISPLAYNAME="Purchase Report Item Wise",this._reportFilterService.PurchaseItemWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIERCODE=r.ACID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(r){console.log("on multii item select",r),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=r.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=r.DESCA}dblClickPopupItem(r){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MCODE=r.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=r.DESCA,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(r){console.log("value check value",r),0==r&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="0"),1==r&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="1",this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMDETAILSALSO=0),4==r&&(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE="4")}onChangeEvent(r){console.log("k ho esto",r),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISE=1==r?"2":"1"}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}reportTree(){this.reportPopup.show()}selectedValue(r){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=r.MCODE,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP=r.DESCA}filterForDepartment(r){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWise_DEPARTMENT=r.DepartmentName}filterForMotherItem(r){this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEM=r.ID,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME=r.MOTHERITEMNAME}treeNodeSelected(r){this.reportPopup.hide(),this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MGROUP=r.id,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUP=r.name}showVariantFilter(r){1==r.target.checked?(this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1)}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e),e.Y36($.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchasereport-itemwise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Hl,5),e.Gf(Ql,5),e.Gf(zl,5),e.Gf(Kl,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(t.reportPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:111,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-5"],[2,"margin-top","2%","margin-bottom","2%","margin-left","-15%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["class","row",4,"ngIf"],[1,"col-md-7"],["style","width: 115%;",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[2,"margin-left","-10%","width","100%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"treeNodeValue"],["reportPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],[2,"width","115%"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","3",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox"],["value","100"],["value","1"],["value","0"],["value","2"],["value","3"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"row","checkbox",2,"margin-top","5px"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,ep,6,3,"fieldset",15),e.YNc(38,rp,8,2,"fieldset",15),e.TgZ(39,"fieldset")(40,"legend",10),e._uU(41,"Report Type Selection :"),e.qZA(),e.TgZ(42,"div",11)(43,"div",16)(44,"div",17)(45,"div",1)(46,"div",18)(47,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(0)}),e.qZA()(),e.TgZ(48,"div",20)(49,"label",21),e._uU(50,"Item Wise Report"),e.qZA()()(),e.TgZ(51,"div",1)(52,"div",18)(53,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(1)}),e.qZA()(),e.TgZ(54,"div",20)(55,"label",21),e._uU(56,"Mother Item Wise Report"),e.qZA()()(),e.YNc(57,ip,6,1,"div",23),e.qZA()(),e.TgZ(58,"div",24),e.YNc(59,op,20,3,"fieldset",25),e.qZA()()(),e.YNc(60,np,6,2,"div",26),e.YNc(61,ap,6,2,"div",27),e.qZA(),e.TgZ(62,"div",28)(63,"fieldset")(64,"legend"),e._uU(65,"Report Filter Option :"),e.qZA(),e.TgZ(66,"div",1)(67,"div",29)(68,"label",30),e._uU(69,"Department :"),e.qZA()(),e.TgZ(70,"div",31)(71,"app-simple-suggest",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT=i})("selectOption",function(i){return t.filterForDepartment(i)}),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",29)(74,"label",30),e._uU(75,"Main Item :"),e.qZA()(),e.TgZ(76,"div",31)(77,"app-simple-suggest",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME=i})("selectOption",function(i){return t.filterForMotherItem(i)}),e.qZA()()(),e.YNc(78,sp,12,1,"div",23),e.YNc(79,lp,14,1,"div",23),e.TgZ(80,"div",1)(81,"div",29)(82,"label",33),e._uU(83,"Supplier Name :"),e.qZA()(),e.TgZ(84,"div",34)(85,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(86,"fieldset")(87,"legend",10),e._uU(88,"Item Selection :"),e.qZA(),e.TgZ(89,"div",1)(90,"div",29)(91,"label",30),e._uU(92,"Item Name :"),e.qZA()(),e.TgZ(93,"div",34)(94,"input",36),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.YNc(95,pp,5,2,"div",23),e.qZA(),e.YNc(96,cp,6,2,"div",37),e.qZA()()(),e.TgZ(97,"div",38)(98,"button",39),e.NdJ("click",function(){return t.onload()}),e._uU(99,"RUN"),e.qZA(),e.TgZ(100,"button",40),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(101,"Close"),e.qZA()()()()()(),e.TgZ(102,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(104,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(106,"multiselect-generic-grid",44,45),e.NdJ("onItemsSelected",function(i){return t.onMultiItemSelected(i)}),e.qZA(),e.TgZ(108,"app-report-popup",46,47),e.NdJ("treeNodeValue",function(i){return t.treeNodeSelected(i)}),e.qZA(),e.YNc(110,hp,17,1,"div",15)),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(4),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(2),e.Q6J("ngIf",1==t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf",1==t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEMGROUPWISEREPORT),e.xp6(10),e.Q6J("options",t.masterService.departmentList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_DEPARTMENT),e.xp6(6),e.Q6J("options",t.masterService.motherItemList)("labelKey","MOTHERITEMNAME")("valueKey","MOTHERITEMNAME")("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_MOTHERITEMNAME),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseObj.PurchaseItemWise_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==t.AppMode),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings),e.xp6(4),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky,te,K.c,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const gp=["genericGridItemPopup"],Sp=["genericGridUserListPopup"];function mp(n,a){1&n&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function Op(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function bp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=o)}),e.YNc(4,mp,2,0,"option",53),e.YNc(5,Op,2,2,"option",30),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function Tp(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function vp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER=o)}),e._UZ(4,"option",55),e.TgZ(5,"option",29),e._uU(6," ALL "),e.qZA(),e.YNc(7,Tp,2,2,"option",30),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function fp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",23),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT)}}function Cp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",56)(1,"div",18)(2,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20)(4,"label",23),e._uU(5,"Show User Wise Format"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER)("checked",1==r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER)}}function Ap(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function Pp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",25)(2,"label",26),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",20)(5,"select",28),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE=o)}),e.TgZ(6,"option",57),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",58),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",59),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE)}}function Mp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",75)(1,"ng-multiselect-dropdown",76),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function Rp(n,a){if(1&n&&(e.TgZ(0,"div",71)(1,"div",72)(2,"label",73),e._uU(3),e.qZA()(),e.YNc(4,Mp,2,4,"div",74),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function Ep(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",60)(2,"div",61)(3,"div",62)(4,"h5",63),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",64),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",65),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",66)(10,"div",67),e.YNc(11,Rp,5,2,"div",68),e.qZA()(),e.TgZ(12,"div",69)(13,"button",70),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",70),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let Dp=(()=>{class n{constructor(r,t,o,i,l,c,_,d,h){this.masterService=r,this._transactionService=t,this.fb=o,this._alertService=i,this._reportFilterService=l,this.arouter=c,this._ActivatedRoute=_,this._authService=d,this._alertservice=h,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORT_TYPE:0,VCHR:"",BARCODE:"",SHOWDETAIL:0,MCODE:"",ITEMGROUPWISE:0,ITEMGROUP:"",ITEMNAME:"",MENUCODE:"",params:"%",DIVISIONNAME:"",ITEMGROUPNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SEGREGATEBYITEM:0,ShowDetail:0,SALESTYPE:"",VCHR1:0,VCHR2:0,TRNUSER:"",SHOWUSERWISE:0,SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForUserList=new m.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(g=>{this.costCenterList=g&&g||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(g=>{this.divisionList=g}),this.masterService.getItemGroup().subscribe(g=>{g&&(this.ItemGroupList=g)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(g=>{g.result&&g.result.length&&(this.categorywiseConfigurationdetails=g.result,this.categorywiseConfigurationdetails.forEach(O=>{if(O.SELECTEDMCAT=[],O.finalSelectedMCAT=[],O.hasOwnProperty("VARIANTVALUES")){let N=JSON.parse(O.VARIANTVALUES);O.VARIANTVALUES="object"==typeof N&&N&&N.length?N:[]}}))},g=>{});var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.date2=p,this.masterService.getAccDivList(),this.AppMode=j.N.appMode}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?"Sales Report Item Wise Detail"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETAIL,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE="0",this.changeEntryDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,"AD")):(1!=this._reportFilterService.SalesItemWiseDetailObj.assignPreviousValue&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=0,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE="0",this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=0,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE="0"),this.changeVariant(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_VARIANT),this.changeEntryDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER||null==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV&&"%"==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME="All";else if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV&&"%"!=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME="";if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP&&"%"==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP)this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP&&"%"!=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP);this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME="";if(this.repObj.reportparam.DATE1=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL??0,this.repObj.reportparam.ShowDetail=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL??0,this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPWISE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUPNAME:"",this.repObj.reportparam.SEGREGATEBYITEM=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION??0,this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SALESTYPE:"",this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME?this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME:"%",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING??0,this.repObj.reportparam.SHOWUSERWISE=this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER??0,this._reportFilterService.SalesItemWiseDetailObj.VCHR1>this._reportFilterService.SalesItemWiseDetailObj.VCHR2)return void this._alertService.warning("Range selection of From must be less the To");this.repObj.reportparam.VCHR1=this._reportFilterService.SalesItemWiseDetailObj.VCHR1,this.repObj.reportparam.VCHR2=this._reportFilterService.SalesItemWiseDetailObj.VCHR2,this.repObj.reportparam.params=1==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORT_TYPE?"@Bill Wise Report":1==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Report":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_1":1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_2":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM&&(this.repObj.reportname="Sales Report Item Wise Detail_3"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_VARIANT":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_1_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SEGREGATEBYITEM?this.repObj.reportname="Sales Report Item Wise Detail_2_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SEGREGATEBYITEM&&(this.repObj.reportname="Sales Report Item Wise Detail_3_VARIANT")),this.repObj.REPORTDISPLAYNAME="Sales Report Item Wise Detail",this._reportFilterService.SalesItemWiseDetailObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MCODE=r.MCODE,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=r.DESCA,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(r){}voucherRange(){this._reportFilterService.SalesItemWiseDetailObj.VCHR1>this._reportFilterService.SalesItemWiseDetailObj.VCHR2&&this._alertService.warning("Range selection of From must be less the To")}UserListEnter(r){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(r){this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME=r.UNAME}Change(){1==this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME="")}checkValue(r){(0==r||1==r)&&(this._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWUSER=0)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-itemwise-detail"]],viewQuery:function(r,t){if(1&r&&(e.Gf(gp,5),e.Gf(Sp,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridUserListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:124,vars:36,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],["class","row checkbox",4,"ngIf"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-md-3"],[2,"margin-left","-10%","margin-top","10px"],[1,"col-md-9",2,"margin-left","-22px"],[2,"display","flex","margin-left","19%"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","change"],[1,"row","mt-2"],[2,"display","flex"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"font-size","13px",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridUserListPopup",""],["value","%",4,"ngIf"],[3,"value"],["value",""],[1,"row","checkbox"],["value","0"],["value","1"],["value","2"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Item Wise Detail"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,bp,6,3,"fieldset",15),e.YNc(38,vp,8,2,"fieldset",15),e.YNc(39,fp,6,2,"div",16),e.TgZ(40,"div",17)(41,"div",18)(42,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=i})("change",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(43,"div",20)(44,"label",21),e._uU(45,"Show Item Detail In Report"),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",18)(48,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=i})("change",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(49,"div",20)(50,"label",21),e._uU(51,"Show Report Without Item Wise Segregation"),e.qZA()()(),e.YNc(52,Cp,6,2,"div",22),e.TgZ(53,"div",17)(54,"div",18)(55,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING=i})("change",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(56,"div",20)(57,"label",23),e._uU(58,"Show Item Grouping Hierarchy"),e.qZA()()()(),e.TgZ(59,"div",24)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Filter Option :"),e.qZA(),e.TgZ(63,"div",1)(64,"div",25)(65,"label",26),e._uU(66,"Item Name :"),e.qZA()(),e.TgZ(67,"div",20)(68,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",25)(71,"label",26),e._uU(72,"Item Group :"),e.qZA()(),e.TgZ(73,"div",20)(74,"select",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP=i}),e._UZ(75,"option",29),e.YNc(76,Ap,2,2,"option",30),e.qZA()()(),e.YNc(77,Pp,12,1,"div",31),e.TgZ(78,"div",1)(79,"div",32)(80,"label",33),e._uU(81,"User Name :"),e.qZA()(),e.TgZ(82,"div",34)(83,"div",35)(84,"input",36),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME=i})("keydown.enter",function(i){return t.UserListEnter(i)})("keydown.Tab",function(i){return t.UserListEnter(i)})("keyup",function(i){return t.UserListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(85,"input",37),e.NdJ("change",function(){return t.Change()})("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER=i}),e.qZA(),e.TgZ(86,"label",38),e._uU(87,"All User"),e.qZA()()()()(),e.TgZ(88,"fieldset")(89,"legend",10),e._uU(90,"Report Option :"),e.qZA(),e.TgZ(91,"div",39)(92,"div",40)(93,"input",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE=i})("change",function(){return t.checkValue(0)}),e.qZA(),e.TgZ(94,"label"),e._uU(95,"Bill Wise Report"),e.qZA()(),e.TgZ(96,"div",40)(97,"input",42),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE=i})("change",function(){return t.checkValue(1)}),e.qZA(),e.TgZ(98,"label"),e._uU(99,"Day Wise Report"),e.qZA()()()(),e.TgZ(100,"fieldset")(101,"legend",10),e._uU(102,"Voucher Range Selection:"),e.qZA(),e.TgZ(103,"div",43)(104,"div",40)(105,"div",44)(106,"label"),e._uU(107," From: "),e.qZA(),e.TgZ(108,"input",45),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.VCHR1=i}),e.qZA()()(),e.TgZ(109,"div",40)(110,"div",44)(111,"label"),e._uU(112," To: "),e.qZA(),e.TgZ(113,"input",46),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesItemWiseDetailObj.VCHR2=i})("change",function(){return t.voucherRange()}),e.qZA()()()()()()()(),e.TgZ(114,"div",47)(115,"button",48),e.NdJ("click",function(){return t.onload()}),e._uU(116,"RUN"),e.qZA(),e.TgZ(117,"button",49),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(118,"Close"),e.qZA()()()()()(),e.TgZ(119,"generic-popup-grid",50,51),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(121,"generic-popup-grid",50,52),e.NdJ("onItemDoubleClick",function(i){return t.onUserListSelected(i)}),e.qZA(),e.YNc(123,Ep,17,1,"div",15)),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL)("checked",1==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION)("checked",1==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMSEGREGATION),e.xp6(4),e.Q6J("ngIf",0==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING)("checked",1==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_SHOWGROUPING),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEM),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_USERNAME)("disabled",1==t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_ALLUSER),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.SalesItemWiseDetail_REPORT_TYPE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.VCHR1),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesItemWiseDetailObj.VCHR2),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Ip=["genericGridSupplierPopup"],Np=["genericMultiSelectItems"];function kp(n,a){1&n&&(e.TgZ(0,"option",22),e._uU(1,"ALL"),e.qZA())}function jp(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function yp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=o)}),e.YNc(4,kp,2,0,"option",38),e.YNc(5,jp,2,2,"option",23),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function Fp(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function wp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER=o)}),e._UZ(4,"option",40),e.TgZ(5,"option",22),e._uU(6," ALL "),e.qZA(),e.YNc(7,Fp,2,2,"option",23),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function Wp(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function Lp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",17)(2,"label",18),e._uU(3,"Purchase Type :"),e.qZA()(),e.TgZ(4,"div",19)(5,"select",21),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE=o)}),e.TgZ(6,"option",41),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",42),e._uU(9,"IMPORT PURCHASE"),e.qZA(),e.TgZ(10,"option",43),e._uU(11,"LOCAL PURCHASE"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE)}}function Zp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",19)(4,"label",47),e._uU(5,"Show Item Detail In Report"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL)("checked",1==r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL)}}function xp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",44)(1,"div",45)(2,"input",46),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",19)(4,"label",47),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT)("checked",1==r._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT)}}function Up(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",63)(1,"ng-multiselect-dropdown",64),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function Vp(n,a){if(1&n&&(e.TgZ(0,"div",59)(1,"div",60)(2,"label",61),e._uU(3),e.qZA()(),e.YNc(4,Up,2,4,"div",62),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function Bp(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",48)(2,"div",49)(3,"div",50)(4,"h5",51),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",52),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",53),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",54)(10,"div",55),e.YNc(11,Vp,5,2,"div",56),e.qZA()(),e.TgZ(12,"div",57)(13,"button",58),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",58),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let Yp=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._alertService=i,this._reportFilterService=l,this.arouter=c,this._ActivatedRoute=_,this._authService=d,this.categorywiseConfigurationdetails=[],this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{SUPPLIERDISPLAYNAME:"",CUSTOMERNAME:"",ACID:"",DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORT_TYPE:0,VCHR:"",BARCODE:"",SHOWDETAIL:0,MCODE:"",ITEMGROUPWISE:0,ITEMGROUP:"",ITEMNAME:"",MENUCODE:"",params:"%",DIVISIONNAME:"",ITEMGROUPNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",PURCHASETYPE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.showVariantPopup=!1,this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForMultipleItems=new F.oe,this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),l.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{})}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?"Purchase Report Item Wise Detail"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETAIL,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=this._reportFilterService.drillParam.reportparam.CUSTOMER,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE="0",this.changeEntryDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,"AD")):(1!=this._reportFilterService.PurchaseItemWiseDetailObj.assignPreviousValue&&(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL=0,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE="0",this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE="100"),this.changeVariant(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER||null==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(""==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||void 0===this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||null==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM||null===this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM)return void this._alertService.info("Please Select Item");if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV&&"%"==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV&&"%"!=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME="";if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP&&"%"==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP)this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP&&"%"!=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP);this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWDETAIL:0,this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPWISE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUPNAME:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE?this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_PURCHASETYPE:"",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE||"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER||"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER||"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.params=1==this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORT_TYPE?"@Bill Wise Report":1==this.repObj.reportparam.REPORT_TYPE?"@Day Wise Report":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_1":1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Report Item Wise Detail_2"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_VARIANT":0==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Item Wise Detail_1_VARIANT":1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Purchase Report Item Wise Detail_2_VARIANT")),this.repObj.REPORTDISPLAYNAME="Purchase Report Item Wise Detail",this._reportFilterService.PurchaseItemWiseDetailObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemsEnterCommand(){this.getMultiItemsList(),this.genericMultiSelectItems.show()}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(r){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_CUSTOMERCODE=r.ACID,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=r.ACNAME}onMultiItemsSelected(r){this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_MCODE=r.MCODE,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=r.DESCA}getMultiItemsList(){this.gridPopupSettingsForMultipleItems=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){1==r.target.checked?(this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1)}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-report-itemwise-detail"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Ip,5),e.Gf(Np,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericMultiSelectItems=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:86,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter to select Items",1,"form-control","input-text",2,"background","white",3,"ngModel","readonly","ngModelChange","keydown.enter"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["type","text","placeholder","Press Enter for Account List",1,"form-control","input-text",2,"background","white",3,"readonly","ngModel","ngModelChange","keydown.enter"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"popupsettings","onItemsSelected"],["genericMultiSelectItems",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["value","100"],["value","1"],["value","0"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Item Wise Detail"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,yp,6,3,"fieldset",15),e.YNc(38,wp,8,2,"fieldset",15),e.qZA(),e.TgZ(39,"div",16)(40,"fieldset")(41,"legend",10),e._uU(42,"Item Selection :"),e.qZA(),e.TgZ(43,"div",1)(44,"div",17)(45,"label",18),e._uU(46,"Item Name :"),e.qZA()(),e.TgZ(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM=i})("keydown.enter",function(){return t.ItemsEnterCommand()}),e.qZA()()(),e.TgZ(49,"div",1)(50,"div",17)(51,"label",18),e._uU(52,"Item Group :"),e.qZA()(),e.TgZ(53,"div",19)(54,"select",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP=i}),e._UZ(55,"option",22),e.YNc(56,Wp,2,2,"option",23),e.qZA()()(),e.YNc(57,Lp,12,1,"div",24),e.qZA(),e.TgZ(58,"fieldset")(59,"legend",10),e._uU(60,"Supplier Selection :"),e.qZA(),e.TgZ(61,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)}),e.qZA()(),e.TgZ(62,"fieldset")(63,"legend",10),e._uU(64,"Report Option :"),e.qZA(),e.TgZ(65,"div",26)(66,"div",27)(67,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE=i}),e.qZA(),e.TgZ(68,"label"),e._uU(69,"Bill Wise Report"),e.qZA()(),e.TgZ(70,"div",27)(71,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE=i}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Day Wise Report"),e.qZA()()()(),e.YNc(74,Zp,6,2,"div",30),e.YNc(75,xp,6,2,"div",30),e.qZA()()(),e.TgZ(76,"div",31)(77,"button",32),e.NdJ("click",function(){return t.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",33),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(83,"multiselect-generic-grid",36,37),e.NdJ("onItemsSelected",function(i){return t.onMultiItemsSelected(i)}),e.qZA(),e.YNc(85,Bp,17,1,"div",15)),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEM)("readonly",!0),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(4),e.Q6J("readonly",!0)("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_SUPPLIER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseItemWiseDetailObj.PurchaseItemWiseDetail_REPORT_TYPE),e.xp6(3),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForMultipleItems),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Jp=["genericGridItemPopup"],qp=["genericGridSupplierPopup"];function Gp(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Hp(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Qp(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function zp(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function Kp(n,a){if(1&n&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function $p(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",25)(5,"select",45),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,zp,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",27)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Kp,2,2,"option",17),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}let Xp=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,VCHR:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,ACID:"",SHOWBILLDETAIL:0,SUPPLIERNAME:"",ITEMNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForSupplier=new m.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=this._transactionService.userProfile.userDivision)}),i.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?("Purchase Report Supplier Wise_1"==this._reportFilterService.drillParam.reportname?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="1":"Purchase Report Supplier Wise_2"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="2"),this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE):(1!=this._reportFilterService.PurchaseSupplierWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL="0",this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=0,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL=0),this.changeVariant(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER||null==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT:0,this.repObj.reportparam.SHOWBILLDETAIL=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWBILLDETAIL:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM:"";let r={};this.variantmaster.length>0?(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT||(this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT]=this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES?this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),(1==this.repObj.reportparam.SHOWDETAIL||2==this.repObj.reportparam.SHOWDETAIL)&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0),this.repObj.reportparam.SHOWBILLDETAIL=2==this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL?1:0,0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Supplier Wise":1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Supplier Wise_1":2==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Supplier Wise_2"),this.repObj.REPORTDISPLAYNAME="Purchase Report Supplier Wise",this._reportFilterService.PurchaseSupplierWiseObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_MCODE=r.MCODE,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=r.DESCA}dblClickPopupParty(r){this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ACID=r.ACID,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=r.ACNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-report-supplier-wise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Jp,5),e.Gf(qp,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:104,vars:30,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","3%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","col-md-8"],[1,"col-md-2"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"width","85%"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Supplier Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV=i}),e.YNc(41,Gp,2,0,"option",16),e.YNc(42,Hp,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Qp,2,2,"option",17),e.qZA()(),e.TgZ(51,"div",1)(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=i})("change",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Item Selection :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"label",26),e._uU(67,"Item Name :"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(70,"div",1),e._UZ(71,"div",25),e.TgZ(72,"div",29),e._UZ(73,"div",30),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Transaction >= Amount :"),e.qZA()(),e.TgZ(77,"div",5)(78,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT=i}),e.qZA()()()()(),e.YNc(79,$p,11,4,"fieldset",32),e.TgZ(80,"fieldset")(81,"legend",10),e._uU(82,"Report Type :"),e.qZA(),e.TgZ(83,"div",33)(84,"input",34),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Summary Report"),e.qZA()(),e.TgZ(87,"div",33)(88,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(89,"label",36),e._uU(90,"Detail Report - By Item"),e.qZA()(),e.TgZ(91,"div",33)(92,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(93,"label",36),e._uU(94,"Detail Report - By Purchase Bill"),e.qZA()()()()()(),e.TgZ(95,"div",38)(96,"button",39),e.NdJ("click",function(){return t.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",40),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(102,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT)("checked",1==t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TOPNSORT)("disabled",1==t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL||2==t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_ITEM),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_TRANSACTIONAMOUNT)("disabled",1==t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL||2==t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseSupplierWiseObj.PurchaseSupplierWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const ec=["genericGridItemPopup"],tc=["genericGridCustomerPopup"];function rc(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function ic(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function oc(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function nc(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",23)(1,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=o.target.checked?1:0)}),e.qZA(),e.TgZ(2,"label",22),e._uU(3,"List Customer Name By Customer Type"),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE)("checked",1==r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE)("disabled",0!=r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL)}}function ac(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.OrgTypeCode),e.xp6(1),e.hij(" ",r.OrgTypeName,"")}}function sc(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.AREA_ID),e.xp6(1),e.hij(" ",r.AREA_NAME," ")}}function lc(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.ACID),e.xp6(1),e.hij(" ",r.PARTYTYPE,"")}}function pc(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",32)(2,"label",34),e._uU(3,"Customer Type :"),e.qZA()(),e.TgZ(4,"div",28)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE=o)}),e._UZ(6,"option",19),e.YNc(7,lc,2,2,"option",17),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE),e.xp6(2),e.Q6J("ngForOf",r.CustomerTypeList)}}function cc(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function _c(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function dc(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",32)(5,"select",57),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,cc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",28)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,_c,2,2,"option",17),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}let hc=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,CUSTID:"",CTYPE:"",VCHR:"",AREAID:"",TRNMODE:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,SHOWBILLDETAIL:0,SHOWAREAWISE:0,ITEMNAME:"",CUSTOMERNAME:"",params:"%",PARTYTYPE:"%",SHOWCTYPEWISE:0,ACID:"%",WITHOUTCUSTOMERWISESEGRATION:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.areaLists=[],this.GeoList=[],this.variantmaster=[],this.variantvaluesList=[],this.CustomerTypeList=[],this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForCustomer=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getAreaGroup().subscribe(p=>{this.areaLists="ok"==p.status&&p.result?p.result:[]}),this.masterService.getGeoList().subscribe(p=>{"ok"==p.status&&(this.GeoList=p.result)}),this.masterService.getCustomerType().subscribe(p=>{p&&(this.CustomerTypeList=p)}),i.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Customer Wise_2"==this._reportFilterService.drillParam.reportname?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="1":"Sales Report Customer Wise_3"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="2"),this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE=this._reportFilterService.drillParam.reportparam.CTYPE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=this._reportFilterService.drillParam.reportparam.SHOWAREAWISE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE=this._reportFilterService.drillParam.reportparam.TRNMODE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID=this._reportFilterService.drillParam.reportparam.AREAID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID=this._reportFilterService.drillParam.reportparam.CUSTID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this.changeEntryDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,"AD")):(1!=this._reportFilterService.SalesCustomerWiseObj.assignPreviousValue&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL="0",this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=0,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=0),this.changeVariant(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER||null==this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL:0,this.repObj.reportparam.ACID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID:"%",this.repObj.reportparam.CTYPE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE:"%",this.repObj.reportparam.AREAID=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID:0,this.repObj.reportparam.TRNMODE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT:0,this.repObj.reportparam.SHOWBILLDETAIL=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWBILLDETAIL:0,this.repObj.reportparam.SHOWAREAWISE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER:"",this.repObj.reportparam.PARTYTYPE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_PARTYTYPE:"%",0!=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=0),this.repObj.reportparam.SHOWCTYPEWISE=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE:0,this.repObj.reportparam.WITHOUTCUSTOMERWISESEGRATION=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION:0;let r={};this.variantmaster.length>0?(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT||(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT]=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES?this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",(1==this.repObj.reportparam.SHOWDETAIL||2==this.repObj.reportparam.SHOWDETAIL)&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0,this.repObj.reportparam.SHOWAREAWISE=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.CUSTID="%"),0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWAREAWISE?this.repObj.reportname="Sales Report Customer Wise":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWAREAWISE?this.repObj.reportname="Sales Report Customer Wise_1":1==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Customer Wise_2":2==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Customer Wise_3":3==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Customer Wise_4"),this.repObj.REPORTDISPLAYNAME="Sales Report Customer Wise",this._reportFilterService.SalesCustomerWiseObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_MCODE=r.MCODE,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=r.DESCA}dblClickPopupParty(r){this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=r.ACID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTID=r.CUSTID,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=r.CUSTNAME,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ACID=r.ACID}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}onChangeValue(){0!=this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL&&(this._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWCTYPEWISE=0)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-customer-wise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(ec,5),e.Gf(tc,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:143,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","-9%","margin-left","5%","font-weight","bold","width","110%"],[1,"col",2,"padding-left","5px","margin-top","-5%"],[2,"font-size","11px","margin-left","5%","font-weight","bold","width","110%","margin-top","-9%"],["class","col","style","padding-left:5px;margin-top: -5%;",4,"ngIf"],[1,"row","checkbox",2,"padding-left","5px"],[1,"col-sm-1",2,"margin-left","-3%"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%","width","100% !important"],[2,"margin-left","-10%"],["value","0"],[1,"row","col-md-8"],[1,"form-control",2,"width","140%","margin-left","-9%","margin-top","8%","height","30px",3,"ngModel","ngModelChange"],["value","CREDIT"],["value","NONCREDIT"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change","click"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change","click"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridCustomerPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report- Customer Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV=i}),e.YNc(41,rc,2,0,"option",16),e.YNc(42,ic,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49,"ALL "),e.qZA(),e.YNc(50,oc,2,2,"option",17),e.qZA()(),e.TgZ(51,"div")(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=i})("change",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"List Customer Name By Area"),e.qZA()(),e.TgZ(56,"div",23)(57,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=i})("change",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(58,"label",24),e._uU(59,"Sort in Top N Basis"),e.qZA()(),e.YNc(60,nc,4,3,"div",25),e.TgZ(61,"div",26)(62,"div",27)(63,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=i})("change",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(64,"div",28)(65,"label",29),e._uU(66,"Show Report Without Customer Wise Record Segregation"),e.qZA()()()()(),e.TgZ(67,"div",30)(68,"fieldset")(69,"legend",10),e._uU(70,"Customer Selection :"),e.qZA(),e.TgZ(71,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(72,"fieldset")(73,"div",1)(74,"div",32)(75,"label",33),e._uU(76,"Customer Category :"),e.qZA()(),e.TgZ(77,"div",28)(78,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE=i}),e._UZ(79,"option",19),e.YNc(80,ac,2,2,"option",17),e.qZA()()(),e.TgZ(81,"div",1)(82,"div",32)(83,"label",34),e._uU(84,"Area :"),e.qZA()(),e.TgZ(85,"div",28)(86,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID=i}),e._UZ(87,"option",35),e.YNc(88,sc,2,2,"option",17),e.qZA()()(),e.TgZ(89,"div",1)(90,"div",32)(91,"label",33),e._uU(92,"Transaction Mode :"),e.qZA()(),e.TgZ(93,"div",36)(94,"div",32)(95,"select",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE=i}),e._UZ(96,"option",19),e.TgZ(97,"option",38),e._uU(98,"Credit"),e.qZA(),e.TgZ(99,"option",39),e._uU(100,"Non Credit"),e.qZA()()(),e.TgZ(101,"div",32)(102,"label",34),e._uU(103,"Transaction >= Amount :"),e.qZA()(),e.TgZ(104,"div",32)(105,"input",40),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=i}),e.qZA()()()(),e.TgZ(106,"div",1)(107,"div",32)(108,"label",34),e._uU(109,"Item Name :"),e.qZA()(),e.TgZ(110,"div",28)(111,"input",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.YNc(112,pc,8,2,"div",42),e.qZA(),e.YNc(113,dc,11,4,"fieldset",43),e.TgZ(114,"fieldset")(115,"legend",10),e._uU(116,"Report Type :"),e.qZA(),e.TgZ(117,"div")(118,"div",44)(119,"input",45),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return t.onChangeValue()}),e.qZA(),e.TgZ(120,"label",46),e._uU(121,"Summary Report - By Customer"),e.qZA()(),e.TgZ(122,"div",44)(123,"input",47),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return t.onChangeValue()}),e.qZA(),e.TgZ(124,"label",46),e._uU(125,"Summary Report - Day Wise"),e.qZA()(),e.TgZ(126,"div",44)(127,"input",48),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return t.onChangeValue()})("click",function(){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=null}),e.qZA(),e.TgZ(128,"label",46),e._uU(129,"Detail Report - By Item"),e.qZA()(),e.TgZ(130,"div",44)(131,"input",49),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL=i})("change",function(){return t.onChangeValue()})("click",function(){return t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT=null}),e.qZA(),e.TgZ(132,"label",46),e._uU(133,"Detail Report - By Sales Bill"),e.qZA()()()()()()(),e.TgZ(134,"div",50)(135,"button",51),e.NdJ("click",function(){return t.onload()}),e._uU(136,"RUN"),e.qZA(),e.TgZ(137,"button",52),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(138,"Close"),e.qZA()()()()()(),e.TgZ(139,"generic-popup-grid",53,54),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(141,"generic-popup-grid",53,55),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE)("checked",1==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWAREAWISE)("disabled",1==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT)("checked",1==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TOPNSORT)("disabled",1==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(3),e.Q6J("ngIf",1==t.userSetting.ISPATVERSION),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION)("checked",1==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_WITHOUTCUSTOMERWISESEGRATION)("disabled",0==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||3==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CUSTOMER),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_CTYPE),e.xp6(2),e.Q6J("ngForOf",t.GeoList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_AREAID),e.xp6(2),e.Q6J("ngForOf",t.areaLists),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRNMODE),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_TRANSACTIONAMOUNT)("disabled",1==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL||2==t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_ITEM),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCustomerWiseObj.SalesCustomerWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const uc=["genericGridItemPopup"],gc=["genericGridSupplierPopup"];function Sc(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function mc(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Oc(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function bc(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function Tc(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function vc(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",25)(5,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,bc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",27)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Tc,2,2,"option",17),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}let fc=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._alertService=c,this._ActivatedRoute=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,VCHR:"",MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,ACID:"",SHOWBILLDETAIL:0,SUPPLIERNAME:"",ITEMNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForSupplier=new m.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=this._transactionService.userProfile.userDivision)}),i.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Supplier Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,"AD")):(1!=this._reportFilterService.SalesSupplierWiseObj.assignPreviousValue&&(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL="0",this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=0,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWBILLDETAIL=0),this.changeVariant(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER||null==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(1==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL&&(""==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||void 0===this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||null==this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER||null===this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER))return void this._alertService.info("Please Select Supplier");this.repObj.reportparam.DATE1=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM:"";let r={};this.variantmaster.length>0?(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT||(this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT]=this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES?this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0),0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Supplier Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Supplier Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Supplier Wise",this._reportFilterService.SalesSupplierWiseObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_MCODE=r.MCODE,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=r.DESCA}dblClickPopupParty(r){this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ACID=r.ACID,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=r.ACNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(R.c),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-supplier-wise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(uc,5),e.Gf(gc,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:100,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","2%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","col-md-8"],[1,"col-md-2"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""],[3,"value"],[1,"form-control","input-text",2,"width","125px","margin-top","5px",3,"ngModel","ngModelChange","change"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Supplier Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV=i}),e.YNc(41,Sc,2,0,"option",16),e.YNc(42,mc,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Oc,2,2,"option",17),e.qZA()(),e.TgZ(51,"div",1)(52,"div",20)(53,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=i})("change",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"fieldset")(58,"legend",10),e._uU(59,"Supplier Selection :"),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Item Selection :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"label",26),e._uU(67,"Item Name :"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(70,"div",1),e._UZ(71,"div",25),e.TgZ(72,"div",29),e._UZ(73,"div",30),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Transaction >= Amount :"),e.qZA()(),e.TgZ(77,"div",5)(78,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT=i}),e.qZA()()()()(),e.YNc(79,vc,11,4,"fieldset",32),e.TgZ(80,"fieldset")(81,"legend",10),e._uU(82,"Report Type :"),e.qZA(),e.TgZ(83,"div",33)(84,"input",34),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(85,"label"),e._uU(86,"Summary Report"),e.qZA()(),e.TgZ(87,"div",33)(88,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(89,"label"),e._uU(90,"Detail Report"),e.qZA()()()()()(),e.TgZ(91,"div",36)(92,"button",37),e.NdJ("click",function(){return t.onload()}),e._uU(93,"RUN"),e.qZA(),e.TgZ(94,"button",38),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(95,"Close"),e.qZA()()()()()(),e.TgZ(96,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(98,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT)("checked",1==t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TOPNSORT)("disabled",1==t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_ITEM),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_TRANSACTIONAMOUNT)("disabled",1==t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesSupplierWiseObj.SalesSupplierWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Cc(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Ac(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Pc(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Mc(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Rc(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function Ec(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function Dc(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",34)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Rc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",25)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Ec,2,2,"option",17),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}let Ic=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",MCAT:"",SHOWREPORT_ON_EXTRA_CATEGORY:0,SHOWDETAIL:0,VCHR:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),i.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Category Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,"AD")):(1!=this._reportFilterService.SalesCategoryWiseObj.assignPreviousValue&&(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL="0",this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=0),this.changeVariant(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT),this.changeEntryDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this.masterService.toADDate(r),this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this.masterService.toADDate(r),this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER||null==this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV:"%",this.repObj.reportparam.MCAT=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT:"%",this.repObj.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let r={};this.variantmaster.length>0?(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT||(this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT]=this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES?this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Category Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Category Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Category Wise",this._reportFilterService.SalesCategoryWiseObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["SalesReportCategoryWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:82,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Category Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV=i}),e.YNc(41,Cc,2,0,"option",16),e.YNc(42,Ac,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Pc,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Category Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT=i}),e._UZ(56,"option",19),e.YNc(57,Mc,2,2,"option",17),e.qZA()(),e.YNc(58,Dc,11,4,"fieldset",21),e.TgZ(59,"div",22)(60,"div",23)(61,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i})("change",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i.target.checked?1:0}),e.qZA()(),e.TgZ(62,"div",25)(63,"label",26),e._uU(64,"Show Report Of Extra Category"),e.qZA()()(),e.TgZ(65,"fieldset")(66,"legend",10),e._uU(67,"Report Type :"),e.qZA(),e.TgZ(68,"div",1)(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Summary Report"),e.qZA()(),e.TgZ(73,"div",27)(74,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label"),e._uU(76,"Detail Report"),e.qZA()()()()()()(),e.TgZ(77,"div",30)(78,"button",31),e.NdJ("click",function(){return t.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",32),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY)("checked",1==t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCategoryWiseObj.SalesCategoryWise_SHOWDETAIL))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Nc=["division"];function kc(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let jc=(()=>{class n{constructor(r,t,o,i){if(this.masterService=r,this._trnMainService=t,this._alertService=o,this._authService=i,this.VATsalesRegisterReport={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",REPMODE:"",V1:"",V2:"",V3:""},REPORTDISPLAYNAME:""},this.userProfile=this._authService.getUserProfile(),(new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var l=new Date;l.setMonth(l.getMonth()-1),this.VATsalesRegisterReport.DATE1=l.toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD")}else this.VATsalesRegisterReport.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.VATsalesRegisterReport.DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this.VATsalesRegisterReport.DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD")):(this.VATsalesRegisterReport.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.VATsalesRegisterReport.DATE,"AD")),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.VATsalesRegisterReport.isSI=!0,this.VATsalesRegisterReport.isCN=!0,this.VATsalesRegisterReport.SUMMARYREPORT=0;var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const _=new Date;this.currDate=(0,u.p6)(_,"yyyy-MM-dd","en-US")}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.VATsalesRegisterReport.V1=1==this.VATsalesRegisterReport.isSI?"SI":"",this.VATsalesRegisterReport.V2=1==this.VATsalesRegisterReport.isCN?"CN":"",this.repObj.reportparam.DATE1=this.VATsalesRegisterReport.DATE1,this.repObj.reportparam.DATE2=this.VATsalesRegisterReport.DATE,this.repObj.reportparam.DIV=this.VATsalesRegisterReport.DIV?this.VATsalesRegisterReport.DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.REPMODE=this.VATsalesRegisterReport.SUMMARYREPORT,this.repObj.reportparam.V1=this.VATsalesRegisterReport.V1,this.repObj.reportparam.V2=this.VATsalesRegisterReport.V2,this.repObj.reportparam.V3="XX","1"==this.repObj.reportparam.REPMODE?this.repObj.reportname="VAT Sales Register Report":"0"==this.repObj.reportparam.REPMODE&&(this.repObj.reportname="VAT Sales Register Report_1"),this.repObj.REPORTDISPLAYNAME="VAT Sales Register Report",this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this.VATsalesRegisterReport.DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this.VATsalesRegisterReport.BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.VATsalesRegisterReport.DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this.VATsalesRegisterReport.BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.VATsalesRegisterReport.DATE=this.masterService.toADDate(r)}}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesregisterreport-dialog"]],viewQuery:function(r,t){if(1&r&&e.Gf(Nc,5),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:69,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff","width","69%","margin-left","280px"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"radio",2,"width","152px"],[1,"smallBoldLabel",2,"width","100%"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[2,"display","flex"],[1,"checkbox",2,"padding-top","5px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","152px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Sales Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.VATsalesRegisterReport.BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.VATsalesRegisterReport.BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.DIV=i})("change",function(){return t.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,kc,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",9),e._uU(44,"Report Mode:"),e.qZA(),e.TgZ(45,"div",19)(46,"label",20)(47,"input",21),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(48," Summary Report"),e.qZA()(),e.TgZ(49,"div",19)(50,"label",20)(51,"input",21),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.SUMMARYREPORT=i}),e.qZA(),e._uU(52," Detail Report"),e.qZA()()(),e.TgZ(53,"fieldset")(54,"div",22)(55,"div")(56,"div",23)(57,"label",20)(58,"input",24),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.isSI=i}),e.qZA(),e._uU(59," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(60,"div",25)(61,"label",20)(62,"input",24),e.NdJ("ngModelChange",function(i){return t.VATsalesRegisterReport.isCN=i}),e.qZA(),e._uU(63," Show Credit Note "),e.qZA()()()()(),e.TgZ(64,"div",26)(65,"button",27),e.NdJ("click",function(){return t.onload()}),e._uU(66,"RUN"),e.qZA(),e.TgZ(67,"button",28),e.NdJ("click",function(){return t.cancel()}),e._uU(68,"Close"),e.qZA()()()()()()()()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.VATsalesRegisterReport.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t.VATsalesRegisterReport.BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.VATsalesRegisterReport.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t.VATsalesRegisterReport.BSDATE2),e.xp6(4),e.Q6J("ngModel",t.VATsalesRegisterReport.DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("value",1)("ngModel",t.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(4),e.Q6J("value",0)("ngModel",t.VATsalesRegisterReport.SUMMARYREPORT),e.xp6(7),e.Q6J("ngModel",t.VATsalesRegisterReport.isSI),e.xp6(4),e.Q6J("ngModel",t.VATsalesRegisterReport.isCN))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,M.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function yc(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Fc(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function wc(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Wc(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Lc(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function Zc(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function xc(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",34)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Lc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",24)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Zc,2,2,"option",17),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}let Uc=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",MCAT:"",SHOWREPORT_ON_EXTRA_CATEGORY:0,SHOWDETAIL:0,VCHR:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.variantmaster=[],this.variantvaluesList=[],this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),i.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl&&"Purchase Report Category Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.drillParam.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,"AD")):(1!=this._reportFilterService.PurchaseCategoryWiseObj.assignPreviousValue&&(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL="0",this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=0),this.changeVariant(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER||null==this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV:"%",this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT:"%",this.repObj.reportparam.SHOWREPORT_ON_EXTRA_CATEGORY=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let r={};this.variantmaster.length>0?(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT||(this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT]=this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES?this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Category Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Category Wise_1"),this.repObj.REPORTDISPLAYNAME="Purchase Report Category Wise",this._reportFilterService.PurchaseCategoryWiseObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["PurchaseReportCategoryWise"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:82,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","margin-top","0%","width","100%","margin-left","-3%"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report - Category Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV=i}),e.YNc(41,yc,2,0,"option",16),e.YNc(42,Fc,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,wc,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Category Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT=i}),e._UZ(56,"option",19),e.YNc(57,Wc,2,2,"option",17),e.qZA()(),e.TgZ(58,"div",21)(59,"div",22)(60,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i})("change",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY=i.target.checked?1:0}),e.qZA()(),e.TgZ(61,"div",24)(62,"label",25),e._uU(63,"Show Report Of Extra Category"),e.qZA()()(),e.YNc(64,xc,11,4,"fieldset",26),e.TgZ(65,"fieldset")(66,"legend",10),e._uU(67,"Report Type :"),e.qZA(),e.TgZ(68,"div",1)(69,"div",27)(70,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label"),e._uU(72,"Summary Report"),e.qZA()(),e.TgZ(73,"div",27)(74,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label"),e._uU(76,"Detail Report"),e.qZA()()()()()()(),e.TgZ(77,"div",30)(78,"button",31),e.NdJ("click",function(){return t.onload()}),e._uU(79,"RUN"),e.qZA(),e.TgZ(80,"button",32),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(81,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY)("checked",1==t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWREPORT_ON_EXTRA_CATEGORY),e.xp6(4),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseCategoryWiseObj.PurchaseCategoryWise_SHOWDETAIL))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Vc=["genericGridSupplierPopup"];function Bc(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Yc(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME,"\n")}}function Jc(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function qc(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function Gc(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.VARIANTNAME),e.xp6(1),e.hij(" ",r.VARIANTNAME," ")}}function Hc(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function Qc(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Variant Selection:"),e.qZA(),e.TgZ(3,"div",8)(4,"div",32)(5,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeVariant(o.target.value))}),e.YNc(6,Gc,2,2,"option",17),e.qZA()(),e.TgZ(7,"div",34)(8,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES=o)}),e._UZ(9,"option",19),e.YNc(10,Hc,2,2,"option",17),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT),e.xp6(1),e.Q6J("ngForOf",r.variantmaster),e.xp6(2),e.Q6J("ngModel",r._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES),e.xp6(2),e.Q6J("ngForOf",r.variantvaluesList)}}let zc=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",SHOWDETAIL:0,PTYPE:100,params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.PTypeList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new m.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),i.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl&&"Purchase Report Product Type Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,"AD")):(1!=this._reportFilterService.PurchaseProductTypeObj.assignPreviousValue&&(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL="0"),this.changeVariant(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER||null==this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE:100,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL:0,this.repObj.reportparam.VCHR="%";let r={};this.variantmaster.length>0?(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT||(this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT]=this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES?this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Purchase Report Product Type Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Purchase Report Product Type Wise_1"),this.repObj.REPORTDISPLAYNAME="Purchase Report Product Type Wise",this._reportFilterService.PurchaseProductTypeObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CUSTOMERCODE=r.ACID,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["PurchaseReportProductTypeWise"]],viewQuery:function(r,t){if(1&r&&e.Gf(Vc,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:78,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["value","100"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"],[1,"col-md-4"],[1,"form-control","input-text",2,"width","120px","margin-top","5px","margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"col"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Report Product Type Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV=i}),e.YNc(41,Bc,2,0,"option",16),e.YNc(42,Yc,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Jc,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Product Type Selection :"),e.qZA(),e.TgZ(55,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE=i}),e._UZ(56,"option",21),e.YNc(57,qc,2,2,"option",17),e.qZA()(),e.YNc(58,Qc,11,4,"fieldset",22),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Type :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",23)(64,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(65,"label"),e._uU(66,"Summary Report"),e.qZA()(),e.TgZ(67,"div",23)(68,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL=i}),e.qZA(),e.TgZ(69,"label"),e._uU(70,"Detail Report"),e.qZA()()()()()()(),e.TgZ(71,"div",26)(72,"button",27),e.NdJ("click",function(){return t.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",28),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()(),e.TgZ(76,"generic-popup-grid",29,30),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseProductTypeObj.PurchaseProductType_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var Kc=C(63321),q=C(63213);const $c=["reportPopup"],Xc=["genericGridSupplierPopup"],e_=["genericGridItemPopup"],t_=["multiselectGenericGrid"];function r_(n,a){1&n&&(e.TgZ(0,"option",53),e._uU(1,"ALL"),e.qZA())}function i_(n,a){if(1&n&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function o_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",9),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",73),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DIV=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onSelectDivision(o))}),e.YNc(4,r_,2,0,"option",74),e.YNc(5,i_,2,2,"option",54),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function n_(n,a){1&n&&(e.TgZ(0,"label",19),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function a_(n,a){1&n&&(e.TgZ(0,"label",19),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function s_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",16)(2,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",18),e.YNc(4,n_,2,0,"label",76),e.YNc(5,a_,2,0,"label",76),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==r._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE)}}function l_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",77)(2,"div",41)(3,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(4,"div",43)(5,"label",62),e._uU(6,"Show Variant Filters Popup"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT)}}function p_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",78)(2,"div",41)(3,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",43)(5,"label",62),e._uU(6,"Include Transit Data"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA)}}function c_(n,a){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"ng-multiselect-dropdown",79),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=o)}),e.ALo(2,"disableField"),e.qZA(),e.BQk()}if(2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Warehouse ")("settings",r.warehousedropdownSettings)("data",r.warehouseList)("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE)("disabled",e.lcZ(2,5,"disableWareHouse"))}}function __(n,a){if(1&n&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function d_(n,a){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"select",80),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",53),e.YNc(4,__,2,2,"option",54),e.qZA(),e.BQk()}if(2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList)}}function h_(n,a){if(1&n&&(e.TgZ(0,"fieldset")(1,"legend",9),e._uU(2,"Warehouse Selection:"),e.qZA(),e.YNc(3,c_,3,7,"ng-container",14),e.YNc(4,d_,5,5,"ng-container",14),e.qZA()),2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngIf",0==r.userSetting.UserWiseWarehouse),e.xp6(1),e.Q6J("ngIf",1==r.userSetting.UserWiseWarehouse)}}function u_(n,a){if(1&n&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function g_(n,a){if(1&n&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function S_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",47)(2,"label",48),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",43)(5,"select",52),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_PTYPE=o)}),e._UZ(6,"option",81),e.YNc(7,g_,2,2,"option",54),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList)}}function m_(n,a){if(1&n&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MANUFACTURER),e.xp6(1),e.hij("",r.MANUFACTURER," ")}}function O_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",59)(2,"label",48),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",43)(5,"select",82),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER=o)}),e._UZ(6,"option",53),e.YNc(7,m_,2,2,"option",54),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",r.ManufacturerList)}}function b_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"input",83),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",84),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems)}}function T_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",9),e._uU(2,"Report Format :"),e.qZA(),e.TgZ(3,"div",85)(4,"div",86)(5,"input",87),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT=o)}),e.qZA(),e.TgZ(6,"label"),e._uU(7,"Summary Report"),e.qZA()(),e.TgZ(8,"div",86)(9,"input",88),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT=o)}),e.qZA(),e.TgZ(10,"label"),e._uU(11,"Detail Report"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT)}}function v_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",89)(2,"div",90)(3,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",43)(5,"label",91),e._uU(6,"Show Batch Wise Stock Report"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE)}}function f_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",78)(2,"div",2)(3,"div",61)(4,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=o.target.checked?1:0)}),e.qZA()(),e.TgZ(5,"div",43)(6,"label",62),e._uU(7,"Show Variant in Report"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_ShowVariant)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_ShowVariant)}}function C_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",40)(2,"div",2)(3,"div",61)(4,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(5,"div",43)(6,"label",62),e._uU(7,"Show Alt Unit Stock Report"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)}}function A_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",89)(2,"div",2)(3,"div",61)(4,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(5,"div",43)(6,"label",62),e._uU(7,"Show Alt Unit Stock Report"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)("checked",1==r._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT)}}function P_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",107)(1,"ng-multiselect-dropdown",108),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function M_(n,a){if(1&n&&(e.TgZ(0,"div",103)(1,"div",104)(2,"label",105),e._uU(3),e.qZA()(),e.YNc(4,P_,2,4,"div",106),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function R_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",92)(2,"div",93)(3,"div",94)(4,"h5",95),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",96),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",97),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",98)(10,"div",99),e.YNc(11,M_,5,2,"div",100),e.qZA()(),e.TgZ(12,"div",101)(13,"button",102),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",102),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let E_=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",WAREHOUSETYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0,MANUFACTURER:"%",DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",SHOWLCOSTFORLOCALPURCHASE:0,INCLUDETRANSITDATA:0,ITEMGROUP:"",ShowVariant:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.multiselectPopupSettings=new F.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.variantparamters2={},this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),console.log("usersetting....",this.userSetting.EnableVariantCategory),this.userProfile=this._authService.getUserProfile(),console.log("userprofile....",this.userProfile),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getProductGroupList().subscribe(p=>{p&&(this.ProductGroupList=p)}),this.masterService.getWarehouseListByDivision(this._reportFilterService.StockSummaryObj.StockSummary_DIV??"").subscribe(p=>{this.warehouseList=p.result},p=>{this.warehouseList=[]}),this.masterService.getManufacturerList().subscribe(p=>{p&&(this.ManufacturerList=p)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100},this.warehousedropdownSettings={singleSelection:!1,enableCheckAll:!1,idField:"NAME",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:200};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?"Stock Summary Report_A"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):"Stock Summary Report_4"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="2",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=1,this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):"Stock Summary Report_2"==this._reportFilterService.drillParam.reportname&&(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.StockSummaryObj.StockSummary_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="1",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=1,this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=1,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=this._reportFilterService.drillParam.reportparam.SUPPLIERNAME,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=this._reportFilterService.drillParam.reportparam.SUPCODE,this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.StockSummaryObj.StockSummary_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.StockSummaryObj.StockSummary_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD")):(1!=this._reportFilterService.StockSummaryObj.assignPreviousValue&&(this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockSummaryObj.StockSummary_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":"lite"==this.AppMode?this.masterService.userProfile.userDivision:this.masterService.PhiscalObj.Div,this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ReportMode="0",this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport=0,this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT="0",this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT=0,this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0,this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant=0,this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.userProfile.userWarehouse:"%",this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=0),"lite"==this.AppMode&&(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE=this.masterService.userProfile.userWarehouse),this.changeVariant(this._reportFilterService.StockSummaryObj.StockSummary_VARIANT),this.changeEntryDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockSummaryObj.StockSummary_DATE2,"AD"))}),this.userSetting.EnableTransitWiseTransferIn&&(this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA=1),console.log(this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA)}onSelectDivision(r){this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(r.target.value).subscribe(t=>{this.warehouseList=t.result},t=>{this.warehouseList=[]})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.StockSummaryObj.StockSummary_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockSummaryObj.StockSummary_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.StockSummaryObj.StockSummary_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockSummaryObj.StockSummary_DATE2=this.masterService.toADDate(r)}}changeMultiSelect(r){console.log("events",r),this._reportFilterService.StockSummaryObj.StockSummary_MCODE="",this._reportFilterService.StockSummaryObj.StockSummary_ITEM="",this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE="",this.selectMultiItems=1==r.target.checked?1:0}onload(){console.log("transitsetting",this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA);let r=[];if(0==this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE.length&&(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE="%"),"%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE.forEach(l=>{r.push(l.NAME)}),this._reportFilterService.StockSummaryObj.StockSummary_DIV&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_DIV)this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME="All";else if(this._reportFilterService.StockSummaryObj.StockSummary_DIV&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_DIV){let l=this.divisionList.filter(c=>c.Division==this._reportFilterService.StockSummaryObj.StockSummary_DIV);this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME=l&&l.length>0&&l[0]?l[0].NAME:""}else this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME="";if(this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSENAME=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?"All":this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE:"",this._reportFilterService.StockSummaryObj.StockSummary_MGROUP&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP)this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME="All";else if(this._reportFilterService.StockSummaryObj.StockSummary_MGROUP&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_MGROUP){let l=this.ProductGroupList.filter(c=>c.MCODE==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP);this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME=l&&l.length>0&&l[0]?l[0].DESCA:""}else this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME="";if(this._reportFilterService.StockSummaryObj.StockSummary_PTYPE&&"100"==this._reportFilterService.StockSummaryObj.StockSummary_MGROUP)this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME="";else if(this._reportFilterService.StockSummaryObj.StockSummary_PTYPE&&"100"!=this._reportFilterService.StockSummaryObj.StockSummary_PTYPE){let l=this.PTypeList.filter(c=>c.PTYPEID==this._reportFilterService.StockSummaryObj.StockSummary_PTYPE);this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME=l&&l.length>0&&l[0]?l[0].PTYPENAME:""}else this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME="";this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME=this._reportFilterService.StockSummaryObj.StockSummary_MCAT&&"%"==this._reportFilterService.StockSummaryObj.StockSummary_MCAT?"All":this._reportFilterService.StockSummaryObj.StockSummary_MCAT&&"%"!=this._reportFilterService.StockSummaryObj.StockSummary_MCAT?this._reportFilterService.StockSummaryObj.StockSummary_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockSummaryObj.StockSummary_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockSummaryObj.StockSummary_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockSummaryObj.StockSummary_DIV?this._reportFilterService.StockSummaryObj.StockSummary_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.DETAILFORMAT=this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT?this._reportFilterService.StockSummaryObj.StockSummary_DETAILFORMAT:0,this.repObj.reportparam.SUPCODE=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockSummaryObj.StockSummary_MCODE?this._reportFilterService.StockSummaryObj.StockSummary_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE?this._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE:0,this.repObj.reportparam.ReportMode=this._reportFilterService.StockSummaryObj.StockSummary_ReportMode?this._reportFilterService.StockSummaryObj.StockSummary_ReportMode:0,this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE?this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport?this._reportFilterService.StockSummaryObj.StockSummary_ShowItemInGroupWiseReport:0,this.repObj.reportparam.ShowVariant=this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant?this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant:0,this.repObj.reportparam.WAREHOUSE="%"!=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSE?r.toString():"%",this.repObj.reportparam.MGROUP=this._reportFilterService.StockSummaryObj.StockSummary_MGROUP?this._reportFilterService.StockSummaryObj.StockSummary_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockSummaryObj.StockSummary_PTYPE?this._reportFilterService.StockSummaryObj.StockSummary_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockSummaryObj.StockSummary_MCAT?this._reportFilterService.StockSummaryObj.StockSummary_MCAT:"%",this.repObj.reportparam.ShowDetail=this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL?this._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEM?this._reportFilterService.StockSummaryObj.StockSummary_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE?this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE?this._reportFilterService.StockSummaryObj.StockSummary_SHOWBATCHWISE:0,this.repObj.reportparam.ShowAltUnitStockReport=this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT?this._reportFilterService.StockSummaryObj.StockSummary_SHOWALTUNIT:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING?this._reportFilterService.StockSummaryObj.StockSummary_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME?this._reportFilterService.StockSummaryObj.StockSummary_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSENAME?r.toString():"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME?this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME?this._reportFilterService.StockSummaryObj.StockSummary_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME?this._reportFilterService.StockSummaryObj.StockSummary_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER?this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER?this._reportFilterService.StockSummaryObj.StockSummary_MANUFACTURER:"%",this.repObj.reportparam.SHOWLCOSTFORLOCALPURCHASE=this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL?this._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL:0,this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockSummaryObj.StockSummary_INCLUDETRANSITDATA:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP?this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP:"",this.repObj.reportparam.params=1==this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.ReportMode?" @Stock Report Excluding Zero B/L":2==this.repObj.reportparam.ReportMode?" @Negative Stock Report Only":3==this.repObj.reportparam.ReportMode?" @Zero B/L Stock Report Only":"",this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.ShowDetail?"@Report with Item Detail":"",1==this.masterService.userSetting.EnableVariantCategory&&0==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A_VARIANT":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A_VARIANT"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A_VARIANT":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A_VARIANT")):1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_2_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_4_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_5_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_6_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report_7_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A_SBATCH":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A_SBATCH"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_2_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK&&0==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_4_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_4A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_5A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowVariant?this.repObj.reportname="Stock Summary Report Detail_6A_SBATCH":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowVariant&&(this.repObj.reportname="Stock Summary Report Detail_7A_SBATCH"),1==this._reportFilterService.StockSummaryObj.StockSummary_ShowVariant&&(this.repObj.reportname+="_VARIANT")):(0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_Batch":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_1_Batch":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_2_Batch":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_3_Batch":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report_4_Batch":0==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_A":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_1A":0==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_2A":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report_3A":0==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report_4A"),1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&0==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_Batch":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_1_Batch":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_2_Batch":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_3_Batch":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&0==this.repObj.reportparam.ShowDetail&&1==this.repObj.reportparam.SHOWBATCHWISESTOCK?this.repObj.reportname="Stock Summary Report Detail_4_Batch":1==this.repObj.reportparam.DETAILFORMAT&&0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_A":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_1A":1==this.repObj.reportparam.DETAILFORMAT&&1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_2A":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail?this.repObj.reportname="Stock Summary Report Detail_3A":1==this.repObj.reportparam.DETAILFORMAT&&2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&1==this.repObj.reportparam.ShowDetail&&(this.repObj.reportname="Stock Summary Report Detail_4A")),this.repObj.REPORTDISPLAYNAME="Stock Summary Report",this._reportFilterService.StockSummaryObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj}),console.log(this.repObj)}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIERCODE=r.ACID,this._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(r){console.log("on multii item select",r),this._reportFilterService.StockSummaryObj.StockSummary_MCODE=r.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=r.DESCA}dblClickPopupItem(r){this._reportFilterService.StockSummaryObj.StockSummary_MCODE=r.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEM=r.DESCA,this._reportFilterService.StockSummaryObj.StockSummary_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockSummaryObj.StockSummary_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockSummaryObj.StockSummary_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(r){}reportTree(){this.reportPopup.show()}selectedValue(r){console.log("k data ho yo?",r),this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=r.MCODE,this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=r.DESCA}changeValue(r){(""==r||null==r||null==r)&&(this._reportFilterService.StockSummaryObj.StockSummary_MGROUP="%")}treeNodeSelected(r){console.log("stock ledger ma data ayoo",r),this._reportFilterService.StockSummaryObj.StockSummary_MGROUP=r.id,this._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=r.name}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-summary-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf($c,5),e.Gf(Xc,5),e.Gf(e_,5),e.Gf(t_,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.reportPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:196,vars:52,consts:[[1,"container"],[2,"background-color","#ffffff"],[1,"row"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"mt-0","mb-0"],[1,"row","mt-1"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col-lg-5","col-md-5","col-sm-12"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],[1,"col-lg-7","col-md-7","col-sm-12"],["class","row",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12"],[1,"row",2,"margin-top","-10px","margin-bottom","-3%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"row",2,"margin-top","-10px"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"width","100%","margin-left","-3%"],[1,"row",2,"margin-top","-10px","margin-bottom","-2%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"col-lg-2","col-md-2","col-sm-12",2,"margin-bottom","-10px"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],[1,"col-lg-5","col-md-5","col-sm-12",2,"margin-bottom","-10px"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","col-lg-6 col-md-6 col-sm-12",4,"ngIf"],[1,"row","checkbox",2,"margin-top","-10px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-4%"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","-2%"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center","margin-right","1%"],[2,"width","95%","margin-left","8.2%",3,"options","labelKey","valueKey","ngModel","selectOption","change","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"form-control","input-text",2,"width","91%","margin-left","8%",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","120%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"width","91%","margin-left","8%",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-sm-1",2,"margin-left","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"multiselect","treeNodeValue"],["reportPopup",""],[1,"form-control","input-text","division-input","mt-0","mb-0",3,"ngModel","ngModelChange","change"],["value","%",4,"ngIf"],[3,"value"],["style","width: 100%;",4,"ngIf"],[1,"row","checkbox",2,"padding-top","3px"],[1,"row","checkbox"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","disabled","onSelect","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","100"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"row",2,"margin-top","-2%","margin-bottom","-1%"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px","margin-top","-3%"],[2,"font-size","12px","width","100%","margin-top","-3%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Stock Summary Report"),e.qZA()(),e.TgZ(7,"div",4)(8,"button",6),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(9,"\xd7"),e.qZA()()()(),e._UZ(10,"hr",7),e.TgZ(11,"div",8)(12,"div",4)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection : "),e.qZA(),e.TgZ(16,"div",2)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",4)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_BSDATE2=i}),e.qZA()()()()()(),e.YNc(34,o_,6,3,"fieldset",14),e.TgZ(35,"fieldset")(36,"legend",9),e._uU(37,"Report Type Selection :"),e.qZA(),e.TgZ(38,"div",2)(39,"div",15)(40,"div",2)(41,"div",16)(42,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(43,"div",18)(44,"label",19),e._uU(45,"Item Wise Stock Report"),e.qZA()()()(),e.TgZ(46,"div",20),e.YNc(47,s_,6,4,"div",21),e.qZA(),e.TgZ(48,"div",22)(49,"div",23)(50,"div",16)(51,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(52,"div",18)(53,"label",19),e._uU(54,"Item Group Wise Stock Report"),e.qZA()()()(),e.TgZ(55,"div",22)(56,"div",23)(57,"div",16)(58,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE=i}),e.qZA()(),e.TgZ(59,"div",18)(60,"label",19),e._uU(61,"Item Category Wise Stock Report"),e.qZA()()()()()(),e.TgZ(62,"fieldset")(63,"legend",9),e._uU(64,"Report Option :"),e.qZA(),e.TgZ(65,"div",2)(66,"div",22)(67,"div",2)(68,"div",16)(69,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(70,"div",18)(71,"label",19),e._uU(72,"Show All Item Stock Report"),e.qZA()()()(),e.TgZ(73,"div",22)(74,"div",2)(75,"div",16)(76,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(77,"div",18)(78,"label",19),e._uU(79,"Show Zero Stock B/L Item Only"),e.qZA()()()(),e.TgZ(80,"div",28)(81,"div",29)(82,"div",16)(83,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(84,"div",18)(85,"label",31),e._uU(86,"Show Negative Stock B/L Item Only"),e.qZA()()()(),e.TgZ(87,"div",28)(88,"div",32)(89,"div",16)(90,"input",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_ReportMode=i}),e.qZA()(),e.TgZ(91,"div",18)(92,"label",31),e._uU(93,"Show Stock Report Excluding Zero B/L"),e.qZA()()()()()(),e.TgZ(94,"fieldset")(95,"legend",9),e._uU(96,"WareHouse Type :"),e.qZA(),e.TgZ(97,"div",2)(98,"div",34)(99,"div",2)(100,"div",16)(101,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(102,"div",18)(103,"label",19),e._uU(104,"All"),e.qZA()()()(),e.TgZ(105,"div",36)(106,"div",2)(107,"div",16)(108,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(109,"div",18)(110,"label",19),e._uU(111,"Sellable WareHouse"),e.qZA()()()(),e.TgZ(112,"div",36)(113,"div",2)(114,"div",16)(115,"input",38),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(116,"div",18)(117,"label",19),e._uU(118,"Non-Sellable WareHouse"),e.qZA()()()()()(),e.TgZ(119,"div",2),e.YNc(120,l_,7,2,"div",39),e.YNc(121,p_,7,2,"div",39),e.TgZ(122,"div",28)(123,"div",40)(124,"div",41)(125,"input",42),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=i})("change",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL=i.target.checked?1:0}),e.qZA()(),e.TgZ(126,"div",43)(127,"label",44),e._uU(128,"Show Landing Cost For Local Purchase Item as Well"),e.qZA()()()()()(),e.TgZ(129,"div",45),e.YNc(130,h_,5,2,"fieldset",14),e.TgZ(131,"fieldset")(132,"legend"),e._uU(133,"Report Filter Option :"),e.qZA(),e.TgZ(134,"div",46)(135,"div",47)(136,"label",48),e._uU(137,"Item Group :"),e.qZA()(),e.TgZ(138,"div",49)(139,"app-simple-suggest",50),e.NdJ("selectOption",function(i){return t.selectedValue(i)})("change",function(i){return t.changeValue(i)})("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP=i}),e.qZA(),e.TgZ(140,"button",51),e.NdJ("click",function(){return t.reportTree()}),e._uU(141,"+"),e.qZA()()(),e.TgZ(142,"div",2)(143,"div",47)(144,"label",48),e._uU(145,"Item Category :"),e.qZA()(),e.TgZ(146,"div",43)(147,"select",52),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_MCAT=i}),e._UZ(148,"option",53),e.YNc(149,u_,2,2,"option",54),e.qZA()()(),e.YNc(150,S_,8,2,"div",21),e.YNc(151,O_,8,2,"div",21),e.TgZ(152,"div",55)(153,"div",47)(154,"label",56),e._uU(155,"Supplier Name :"),e.qZA()(),e.TgZ(156,"div",43)(157,"input",57),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(158,"fieldset")(159,"legend",9),e._uU(160,"Item Selection :"),e.qZA(),e.TgZ(161,"div",58)(162,"div",59)(163,"label",48),e._uU(164,"Item Name :"),e.qZA()(),e.TgZ(165,"div",43)(166,"input",60),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.YNc(167,b_,5,2,"div",21),e.qZA(),e.YNc(168,T_,12,2,"fieldset",14),e.TgZ(169,"div")(170,"div",2),e.YNc(171,v_,7,2,"div",39),e.YNc(172,f_,8,2,"div",39),e.YNc(173,C_,8,2,"div",39),e.YNc(174,A_,8,2,"div",39),e.TgZ(175,"div",22)(176,"div",40)(177,"div",61)(178,"input",42),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=i})("change",function(i){return t._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(179,"div",43)(180,"label",62),e._uU(181,"Show Item Grouping Hierarchy"),e.qZA()()()()()()(),e.TgZ(182,"div",63)(183,"button",64),e.NdJ("click",function(){return t.onload()}),e._uU(184,"RUN"),e.qZA(),e.TgZ(185,"button",65),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(186,"Close"),e.qZA()()()(),e.YNc(187,R_,17,1,"div",14),e.TgZ(188,"generic-popup-grid",66,67),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(190,"generic-popup-grid",66,68),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(192,"multiselect-generic-grid",69,70),e.NdJ("onItemsSelected",function(i){return t.onMultiItemSelected(i)}),e.qZA(),e.TgZ(194,"app-report-popup",71,72),e.NdJ("treeNodeValue",function(i){return t.treeNodeSelected(i)}),e.qZA()()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(5),e.Q6J("ngIf",0!=t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ReportMode),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_WAREHOUSETYPE),e.xp6(5),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf",t.userSetting.EnableTransitWiseTransferIn),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWLANDINGCOSTFORLOCAL),e.xp6(5),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(9),e.Q6J("options",t.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(3),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.ENABLESINGLEBATCHMODE&&"pro"==t.AppMode),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL)("checked",1==t._reportFilterService.StockSummaryObj.StockSummary_SHOWDETAIL),e.xp6(9),e.Q6J("ngIf",1==t.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings),e.xp6(2),e.Q6J("multiselect",!0))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky,te,K.c,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const D_=["reportPopup"],I_=["genericGridItemPopup"],N_=["multiselectGenericGrid"];function k_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",41)(4,"label",42),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT)("checked",1==r._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT)}}function j_(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function y_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Warehouse Selection:"),e.qZA(),e.TgZ(3,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=o)}),e.ALo(4,"disableField"),e._UZ(5,"option",44),e.YNc(6,j_,2,2,"option",45),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE)("disabled","lite"==r.AppMode||e.lcZ(4,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList)}}function F_(n,a){1&n&&(e.TgZ(0,"option",44),e._uU(1,"ALL"),e.qZA())}function w_(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function W_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",47),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_DIV=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.onSelectDivision(o))}),e.YNc(4,F_,2,0,"option",48),e.YNc(5,w_,2,2,"option",45),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_DIV)("disabled","lite"==r.AppMode),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function L_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Type:"),e.qZA(),e.TgZ(3,"div",49)(4,"div",50)(5,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE=o)}),e.qZA(),e.TgZ(6,"label",52),e._uU(7,"Detail Report"),e.qZA()(),e.TgZ(8,"div",50)(9,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE=o)}),e.qZA(),e.TgZ(10,"label",52),e._uU(11,"Summary Report"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE)}}function Z_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Report Option"),e.qZA(),e.TgZ(3,"div",49)(4,"div",5)(5,"input",54),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE=o)}),e.qZA(),e.TgZ(6,"label",52),e._uU(7,"Item Wise Report"),e.qZA()(),e.TgZ(8,"div",5)(9,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE=o)}),e.qZA(),e.TgZ(10,"label",56),e._uU(11,"Item Group Wise Report"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE)}}function x_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"input",62),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i.selectMultiItems=o)})("change",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i.changeMultiSelect(o))}),e.qZA(),e._uU(2," \xa0 "),e.TgZ(3,"a",63),e._uU(4," Select Multiple Items"),e.qZA()()}if(2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("ngModel",r.selectMultiItems)("checked",1==r.selectMultiItems)}}function U_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset",57)(1,"legend",10),e._uU(2,"Item Selection :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",58)(5,"label",59),e._uU(6,"Item Name :"),e.qZA()(),e.TgZ(7,"div",41)(8,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEM=o)})("keydown.enter",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keydown.Tab",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keyup",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keypress",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()(),e.YNc(9,x_,5,2,"div",61),e.qZA()}if(2&n){const r=e.oxw();e.xp6(8),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_ITEM),e.xp6(1),e.Q6J("ngIf","pro"==r.AppMode)}}function V_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset",57)(1,"legend",10),e._uU(2,"Item Group Selection :"),e.qZA(),e.TgZ(3,"div",1)(4,"div",64)(5,"label",59),e._uU(6,"Item Group :"),e.qZA()(),e.TgZ(7,"div",65)(8,"app-simple-suggest",66),e.NdJ("selectOption",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.selectedValue(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=o)}),e.qZA(),e.TgZ(9,"button",67),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.reportTree())}),e._uU(10,"+"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(8),e.Q6J("options",r.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME)}}function B_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",71)(1,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=o)})("change",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()()}if(2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE)("checked",1==r._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE)}}function Y_(n,a){1&n&&(e.TgZ(0,"div",41)(1,"label",42),e._uU(2,"Show Batch Wise Stock Report"),e.qZA()())}function J_(n,a){if(1&n&&(e.TgZ(0,"div",68),e.YNc(1,B_,2,2,"div",69),e.YNc(2,Y_,3,0,"div",70),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(1),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE)}}function q_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",38)(1,"div",71)(2,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",41)(4,"label",42),e._uU(5,"Show Item Detail In Report"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL)("checked",1==r._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL)}}function G_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",41)(4,"label",42),e._uU(5,"Include Transit Data"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA)("checked",1==r._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA)}}function H_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",89)(1,"ng-multiselect-dropdown",90),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function Q_(n,a){if(1&n&&(e.TgZ(0,"div",85)(1,"div",86)(2,"label",87),e._uU(3),e.qZA()(),e.YNc(4,H_,2,4,"div",88),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function z_(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",74)(2,"div",75)(3,"div",76)(4,"h5",77),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",78),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",79),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",80)(10,"div",81),e.YNc(11,Q_,5,2,"div",82),e.qZA()(),e.TgZ(12,"div",83)(13,"button",84),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",84),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let K_=(()=>{class n{constructor(r,t,o,i,l,c,_,d,h,p){this.masterService=r,this._transactionService=t,this.fb=o,this._alertService=i,this._reportFilterService=l,this.arouter=c,this._ActivatedRoute=_,this._authService=d,this.brandService=h,this.productMasterService=p,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MCODE:"",WAREHOUSE:"",ITEMGROUPWISE:0,ITEMGROUP:"",SHOWDETAIL:0,ITEMNAME:"",MENUCODE:"",params:"%",SHOWBATCH:0,DIVISIONNAME:"",WAREHOUSENAME:"",WAREHOUSETYPE:0,INCLUDETRANSITDATA:0,SHOWITEMDETAILDISPLAY:"",REPORTYPE:0,ITEMGROUPNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.mainGroupList=[],this.resultList=[],this.gridPopupSettingsForItem=new m.im,this.multiselectPopupSettings=new F.oe,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.showVariantPopup=!1,this.variantparamters2={},this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(O=>{this.costCenterList=O&&O||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(O=>{this.divisionList=O,this._reportFilterService.previouslyLoadedReportList?.some(ee=>ee.activeurlpath==this.arouter.url)||(this._reportFilterService.StockLedgerObj.StockLedger_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getItemGroup().subscribe(O=>{O&&(this.ItemGroupList=O)}),this.masterService.getWarehouseListByDivision(this._reportFilterService.StockLedgerObj.StockLedger_DIV??"").subscribe(O=>{this.warehouseList=O.result},O=>{this.warehouseList=[]}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(O=>{O.result&&O.result.length&&(this.categorywiseConfigurationdetails=O.result,this.categorywiseConfigurationdetails.forEach(N=>{if(N.SELECTEDMCAT=[],N.finalSelectedMCAT=[],N.hasOwnProperty("VARIANTVALUES")){let ee=JSON.parse(N.VARIANTVALUES);N.VARIANTVALUES="object"==typeof ee&&ee&&ee.length?ee:[]}}))},O=>{});var g=this.userProfile.PhiscalYearInfo.BeginDate;g=g.substring(0,10),this.date2=g,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{const o=t.mode;this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE:"0","DRILL"==o&&this._reportFilterService.drillParam.returnUrl?(console.log("drill to stock leedget",this._reportFilterService.drillParam.returnUrl,this._reportFilterService.drillParam),this._reportFilterService.StockLedgerObj.StockLedger_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this._reportFilterService.drillParam.reportparam.DATE1?this._reportFilterService.drillParam.reportparam.DATE1.toString().substring(0,10):"",this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this._reportFilterService.drillParam.reportparam.DATE2?this._reportFilterService.drillParam.reportparam.DATE2.toString().substring(0,10):"",this._reportFilterService.StockLedgerObj.StockLedger_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this._reportFilterService.drillParam.reportparam.WAREHOUSE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE="0",this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=0,this.changeEntryDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE2,"AD")):(1!=this._reportFilterService.StockLedgerObj.assignPreviousValue&&(this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this.userProfile.userWarehouse),1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?this._reportFilterService.StockLedgerObj.StockLedger_DIV="%":"lite"==this.AppMode?(this._reportFilterService.StockLedgerObj.StockLedger_DIV=this.masterService.userProfile.userDivision,this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE=this.masterService.userProfile.userWarehouse):this._reportFilterService.StockLedgerObj.StockLedger_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE="0",this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL=0,this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0,this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE=0,this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE="1"),this.changeVariant(this._reportFilterService.StockLedgerObj.StockLedger_VARIANT),this.changeEntryDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockLedgerObj.StockLedger_DATE2,"AD"))}),this.userSetting.EnableTransitWiseTransferIn&&(this._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=1)}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.StockLedgerObj.StockLedger_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockLedgerObj.StockLedger_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.StockLedgerObj.StockLedger_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockLedgerObj.StockLedger_DATE2=this.masterService.toADDate(r)}}changeMultiSelect(r){console.log("events",r),this._reportFilterService.StockLedgerObj.StockLedger_MCODE="",this._reportFilterService.StockLedgerObj.StockLedger_ITEM="",this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE="",this.selectMultiItems=1==r.target.checked?1:0}onload(){if(0==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE&&(""==this._reportFilterService.StockLedgerObj.StockLedger_ITEM||void 0===this._reportFilterService.StockLedgerObj.StockLedger_ITEM||null==this._reportFilterService.StockLedgerObj.StockLedger_ITEM||null===this._reportFilterService.StockLedgerObj.StockLedger_ITEM))return void this._alertService.info("Please Select Item");if(1==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE&&("%"==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||void 0===this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||""==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||null==this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP||null===this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP))return void this._alertService.info("Please Select Item Group first!");if(this._reportFilterService.StockLedgerObj.StockLedger_DIV&&"%"==this._reportFilterService.StockLedgerObj.StockLedger_DIV)this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME="All";else if(this._reportFilterService.StockLedgerObj.StockLedger_DIV&&"%"!=this._reportFilterService.StockLedgerObj.StockLedger_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.StockLedgerObj.StockLedger_DIV);this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME="";this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE&&"%"==this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?"All":this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE&&"%"!=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockLedgerObj.StockLedger_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockLedgerObj.StockLedger_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockLedgerObj.StockLedger_DIV?this._reportFilterService.StockLedgerObj.StockLedger_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockLedgerObj.StockLedger_MCODE?this._reportFilterService.StockLedgerObj.StockLedger_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE:0,this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL?this._reportFilterService.StockLedgerObj.StockLedger_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEM?this._reportFilterService.StockLedgerObj.StockLedger_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE?this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE:"",this.repObj.reportparam.SHOWBATCH=this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE?this._reportFilterService.StockLedgerObj.StockLedger_SHOWBATCHWISE:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME?this._reportFilterService.StockLedgerObj.StockLedger_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSENAME:"",this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE?this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE:0,this.repObj.reportparam.REPORTYPE=this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE?this._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE:0,this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA?this._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA:0,this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME?this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME:"",console.log("this.repObj.reportparam.ITEMGROUPNAME",this.repObj.reportparam.ITEMGROUPNAME),this.repObj.reportparam.params=1==this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT&&this.abc.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMGROUPWISE?this.repObj.reportparam.ITEMGROUP="%":1==this.repObj.reportparam.ITEMGROUPWISE&&(this.repObj.reportparam.MCODE="%",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME,console.log("loglolglglglglg",this.repObj.reportparam.ITEMGROUPNAME)),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.SHOWDETAIL?"@Report with Item Detail":"",1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_SBATCH":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_1_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_2_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH&&(this.repObj.reportname="Stock Ledger Other Report_3_SBATCH"),0==this.repObj.reportparam.REPORTYPE&&(this.repObj.reportname="Stock Ledger Other Report_4_SBATCH")):(0==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report":0==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_1":1==this.repObj.reportparam.SHOWDETAIL&&0==this.repObj.reportparam.SHOWBATCH?this.repObj.reportname="Stock Ledger Other Report_2":1==this.repObj.reportparam.SHOWDETAIL&&1==this.repObj.reportparam.SHOWBATCH&&(this.repObj.reportname="Stock Ledger Other Report_3"),0==this.repObj.reportparam.REPORTYPE&&(this.repObj.reportname="Stock Ledger Other Report_4")),this.repObj.REPORTDISPLAYNAME="Stock Ledger Report",this._reportFilterService.StockLedgerObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(r){console.log("on multii item select",r),this._reportFilterService.StockLedgerObj.StockLedger_MCODE=r.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=r.DESCA}dblClickPopupItem(r){this._reportFilterService.StockLedgerObj.StockLedger_MCODE=r.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEM=r.DESCA,this._reportFilterService.StockLedgerObj.StockLedger_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockLedgerObj.StockLedger_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockLedgerObj.StockLedger_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(r){}reportTree(){this.reportPopup.show()}selectedValue(r){console.log("k data ho yo?",r),this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP=r.MCODE,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=r.DESCA}treeNodeSelected(r){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",r),this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUP=r.id,this._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPNAME=r.name}onSelectDivision(r){this._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSE="%",this.masterService.getWarehouseListByDivision(r.target.value).subscribe(t=>{this.warehouseList=t.result},t=>{this.warehouseList=[]})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36($.c),e.Y36(ge.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-ledger-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(D_,5),e.Gf(I_,5),e.Gf(N_,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.reportPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:83,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[4,"ngIf"],[1,"col-md-6","filter-part"],["style","width: 96%;",4,"ngIf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],["class","row checkbox",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"treeNodeValue"],["reportPopup",""],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange","change"],["value","%",4,"ngIf"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reporttype","value","1",3,"ngModel","ngModelChange"],[2,"width","85% !important"],["type","radio","name","reporttype","value","0",3,"ngModel","ngModelChange"],["type","radio","name","itemgroup","value","0",3,"ngModel","ngModelChange"],["type","radio","name","itemgroup","value","1",3,"ngModel","ngModelChange"],[2,"width","88% !important"],[2,"width","96%"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row",4,"ngIf"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-3"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"row","checkbox",2,"margin-top","5px"],["class","col-sm-1","style","margin-left: -10px;",4,"ngIf"],["class","col",4,"ngIf"],[1,"col-sm-1",2,"margin-left","-10px"],[1,"row","checkbox"],[1,"col-1"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Ledger Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockLedgerObj.StockLedger_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockLedgerObj.StockLedger_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockLedgerObj.StockLedger_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockLedgerObj.StockLedger_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,k_,6,2,"div",15),e.YNc(38,y_,7,5,"fieldset",16),e.YNc(39,W_,6,4,"fieldset",16),e.qZA(),e.TgZ(40,"div",17),e.YNc(41,L_,12,2,"fieldset",16),e.YNc(42,Z_,12,2,"fieldset",16),e.TgZ(43,"div",1),e.YNc(44,U_,10,2,"fieldset",18),e.YNc(45,V_,11,4,"fieldset",18),e.TgZ(46,"fieldset")(47,"legend",10),e._uU(48,"WareHouse Type :"),e.qZA(),e.TgZ(49,"div",19)(50,"div",20)(51,"div",21)(52,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(53,"div",23)(54,"label",24),e._uU(55,"All"),e.qZA()()(),e.TgZ(56,"div",20)(57,"div",21)(58,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(59,"div",23)(60,"label",24),e._uU(61,"Sellable WareHouse"),e.qZA()()(),e.TgZ(62,"div",20)(63,"div",21)(64,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(65,"div",23)(66,"label",24),e._uU(67,"Non-Sellable WareHouse"),e.qZA()()()()()(),e.YNc(68,J_,3,2,"div",27),e.YNc(69,q_,6,2,"div",15),e.YNc(70,G_,6,2,"div",28),e.qZA()()(),e.TgZ(71,"div",29)(72,"button",30),e.NdJ("click",function(){return t.onload()}),e._uU(73,"RUN"),e.qZA(),e.TgZ(74,"button",31),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(75,"Close"),e.qZA()()()()()(),e.YNc(76,z_,17,1,"div",16),e.TgZ(77,"generic-popup-grid",32,33),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(79,"multiselect-generic-grid",34,35),e.NdJ("onItemsSelected",function(i){return t.onMultiItemSelected(i)}),e.qZA(),e.TgZ(81,"app-report-popup",36,37),e.NdJ("treeNodeValue",function(i){return t.treeNodeSelected(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_BSDATE2),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(2),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(2),e.Q6J("ngIf",0==t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(1),e.Q6J("ngIf",1==t._reportFilterService.StockLedgerObj.StockLedger_ITEMGROUPWISE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockLedgerObj.StockLedger_WAREHOUSETYPE),e.xp6(4),e.Q6J("ngIf",1==t._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE&&"pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf",1==t._reportFilterService.StockLedgerObj.StockLedger_REPORTYPE),e.xp6(1),e.Q6J("ngIf",t.userSetting.EnableTransitWiseTransferIn),e.xp6(6),e.Q6J("ngIf",1==t.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky,te,K.c,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const $_=["genericGridItemPopup"];function X_(n,a){1&n&&(e.TgZ(0,"option",46),e._uU(1,"ALL"),e.qZA())}function ed(n,a){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function td(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",43),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockValuation_DIV=o)}),e.YNc(4,X_,2,0,"option",44),e.YNc(5,ed,2,2,"option",45),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function rd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",48)(1,"div",26)(2,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",23)(4,"label",28),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT)("checked",1==r._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT)}}function id(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",30)(2,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",50)(4,"label",33),e._uU(5,"Include Transit Data"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA)("checked",1==r._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA)}}function od(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",66)(1,"ng-multiselect-dropdown",67),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function nd(n,a){if(1&n&&(e.TgZ(0,"div",62)(1,"div",63)(2,"label",64),e._uU(3),e.qZA()(),e.YNc(4,od,2,4,"div",65),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function ad(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",51)(2,"div",52)(3,"div",53)(4,"h5",54),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",55),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",56),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",57)(10,"div",58),e.YNc(11,nd,5,2,"div",59),e.qZA()(),e.TgZ(12,"div",60)(13,"button",61),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",61),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let sd=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMID:"",DIV:"",BARCODE:"",MCODE:"",MENUCODE:"",SHOWDETAIL:0,ITEMNAME:"",params:"%",SHOWLCOSTFORLOCALPURCHASE:0,WAREHOUSETYPE:0,INCLUDETRANSITDATA:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForItem=new m.im,this.showVariantPopup=!1,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.categorywiseConfigurationdetails=[],this.variantparamters2={},this.finalParam={},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100},this.AppMode=j.N.appMode;const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.StockValuationObj.StockValuation_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.StockValuationObj.StockValuation_DATE1=this._reportFilterService.drillParam.reportparam.DATE,this._reportFilterService.StockValuationObj.StockValuation_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL="1",this._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockValuationObj.StockValuation_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this.changeEntryDate(this._reportFilterService.StockValuationObj.StockValuation_DATE1,"AD")):(1!=this._reportFilterService.StockValuationObj.assignPreviousValue&&(this._reportFilterService.StockValuationObj.StockValuation_DATE1=(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]:this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.StockValuationObj.StockValuation_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL="0",this._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE="0",this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=0),this.changeVariant(this._reportFilterService.StockValuationObj.StockValuation_VARIANT),this.changeEntryDate(this._reportFilterService.StockValuationObj.StockValuation_DATE1,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.StockValuationObj.StockValuation_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockValuationObj.StockValuation_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.StockValuationObj.StockValuation_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockValuationObj.StockValuation_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.StockValuationObj.StockValuation_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockValuationObj.StockValuation_DIV?this._reportFilterService.StockValuationObj.StockValuation_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockValuationObj.StockValuation_MCODE?this._reportFilterService.StockValuationObj.StockValuation_MCODE:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL?this._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockValuationObj.StockValuation_ITEM?this._reportFilterService.StockValuationObj.StockValuation_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockValuationObj.StockValuation_MENUCODE?this._reportFilterService.StockValuationObj.StockValuation_MENUCODE:"",this.repObj.reportparam.SHOWLCOSTFORLOCALPURCHASE=this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL?this._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL:0,this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE?this._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE:0,this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockValuationObj.StockSummary_INCLUDETRANSITDATA:0;let r={};this.variantmaster.length>0?(this._reportFilterService.StockValuationObj.StockValuation_VARIANT||(this._reportFilterService.StockValuationObj.StockValuation_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.StockValuationObj.StockValuation_VARIANT]=this._reportFilterService.StockValuationObj.StockValuation_VARIANTVALUES?this._reportFilterService.StockValuationObj.StockValuation_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Stock Valuation ReportNONDMS_SBATCH":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Stock Valuation ReportNONDMS_1_SBATCH"):0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Stock Valuation ReportNONDMS":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Stock Valuation ReportNONDMS_1"),this.repObj.REPORTDISPLAYNAME="Stock Valuation Report",this._reportFilterService.StockValuationObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.StockValuationObj.StockValuation_MCODE=r.MCODE,this._reportFilterService.StockValuationObj.StockValuation_ITEM=r.DESCA,this._reportFilterService.StockValuationObj.StockValuation_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockValuationObj.StockValuation_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.StockValuationObj.StockValuation_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];this.abc=this.categorywiseConfigurationdetails.filter(o=>o.SELECTEDMCAT.length>0),this.abc.forEach(o=>{t.push(o.VARIANTNAME)}),this.abc.forEach(o=>{r="",t.forEach(i=>{o.VARIANTNAME==i&&(o.SELECTEDMCAT.forEach(l=>{r+=`${l.NAME},`,this.finalParam[i]=r}),this.finalParam[i]=this.finalParam[i].slice(0,-1))})})}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-valuation-report"]],viewQuery:function(r,t){if(1&r&&e.Gf($_,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:91,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-lg-2","col-md-2","col-sm-12",2,"margin-bottom","-10px"],[1,"col-md-1"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],[1,"col-lg-5","col-md-5","col-sm-12",2,"margin-bottom","-10px"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],["type","checkbox","name","warehouseType","value","0",3,"ngModel","checked","ngModelChange","change"],["calss","col-md-12"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Valuation Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockValuation_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockValuation_BSDATE1=i}),e.qZA()()()()()(),e.YNc(27,td,6,3,"fieldset",15),e.TgZ(28,"fieldset")(29,"legend",10),e._uU(30,"Report Type :"),e.qZA(),e.TgZ(31,"div",1)(32,"div",16)(33,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL=i}),e.qZA(),e.TgZ(34,"label"),e._uU(35,"Summary Report"),e.qZA()(),e.TgZ(36,"div",16)(37,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL=i}),e.qZA(),e.TgZ(38,"label"),e._uU(39,"Detail Report"),e.qZA()()()(),e.YNc(40,rd,6,2,"div",19),e.qZA(),e.TgZ(41,"div",20)(42,"fieldset")(43,"legend",10),e._uU(44,"Item Selection :"),e.qZA(),e.TgZ(45,"div",1)(46,"div",21)(47,"label",22),e._uU(48,"Item Name :"),e.qZA()(),e.TgZ(49,"div",23)(50,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockValuation_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(51,"div",25)(52,"div",26)(53,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=i})("change",function(i){return t._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL=i.target.checked?1:0}),e.qZA()(),e.TgZ(54,"div",23)(55,"label",28),e._uU(56,"Show Landing Cost For Purchase Item As Well "),e.qZA()()(),e.TgZ(57,"fieldset")(58,"legend",10),e._uU(59,"WareHouse Type :"),e.qZA(),e.TgZ(60,"div",1)(61,"div",29)(62,"div",1)(63,"div",30)(64,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(65,"div",32)(66,"label",33),e._uU(67,"All"),e.qZA()()()(),e.TgZ(68,"div",34)(69,"div",1)(70,"div",30)(71,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(72,"div",32)(73,"label",33),e._uU(74,"Sellable WareHouse"),e.qZA()()()(),e.TgZ(75,"div",34)(76,"div",1)(77,"div",30)(78,"input",36),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(79,"div",32)(80,"label",33),e._uU(81,"Non-Sellable WareHouse"),e.qZA()()()()()(),e.YNc(82,id,6,2,"div",37),e.qZA()()(),e.TgZ(83,"div",38)(84,"button",39),e.NdJ("click",function(){return t.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",40),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.YNc(88,ad,17,1,"div",15),e.TgZ(89,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.StockValuationObj.StockValuation_BSDATE1),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_SHOWDETAIL),e.xp6(3),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_ITEM),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL)("checked",1==t._reportFilterService.StockValuationObj.StockValuation_SHOWLANDINGCOSTFORLOCAL),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockValuationObj.StockSummary_WAREHOUSETYPE),e.xp6(4),e.Q6J("ngIf",t.userSetting.EnableTransitWiseTransferIn),e.xp6(6),e.Q6J("ngIf",1==t.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const ld=["genericGridMemberPopup"];function pd(n,a){1&n&&(e.TgZ(0,"option",39),e._uU(1,"ALL"),e.qZA())}function cd(n,a){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let _d=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MEMID:"",TOPNSORT:0,POINT:0,SUMMARY:1,MEMNAME:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.gridPopupSettingsForMember=new m.im,this.userProfile=this._authService.getUserProfile(),this.userSetting=d.getSetting(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID=this._reportFilterService.drillParam.reportparam.MEMID,this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.MembershipPointObj.MembershipPoint_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY="0",this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.MembershipPointObj.MembershipPoint_POINT=this._reportFilterService.drillParam.reportparam.POINT,this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=this._reportFilterService.drillParam.reportparam.MEMNAME,this.changeEntryDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,"AD")):(1!=this._reportFilterService.MembershipPointObj.assignPreviousValue&&(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.MembershipPointObj.MembershipPoint_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY="1",this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=0),this.changeEntryDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.MembershipPointObj.MembershipPoint_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.MembershipPointObj.MembershipPoint_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MembershipPointObj.MembershipPoint_DIV?this._reportFilterService.MembershipPointObj.MembershipPoint_DIV:"%",this.repObj.reportparam.MEMID=this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID?this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID:"%",this.repObj.reportparam.POINT=this._reportFilterService.MembershipPointObj.MembershipPoint_POINT?this._reportFilterService.MembershipPointObj.MembershipPoint_POINT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT?this._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT:0,this.repObj.reportparam.SUMMARY=this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY?this._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY:1,this.repObj.reportparam.MEMNAME=this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME?this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME:"",""==this.repObj.reportparam.MEMNAME&&(this.repObj.reportparam.MEMID="%"),1==this.repObj.reportparam.SUMMARY?this.repObj.reportname="Membership Point Report":0==this.repObj.reportparam.SUMMARY&&(this.repObj.reportname="Membership Point Report_1"),this.repObj.REPORTDISPLAYNAME="Membership Point Report",this._reportFilterService.MembershipPointObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}memberEnterCommand(r){this.getMembersList(),this.genericGridMemberPopup.show()}dblClickPopupParty(r){this._reportFilterService.MembershipPointObj.MembershipPoint_MEMID=r.MEMID,this._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=null==r.LNAME?r.FNAME:r.FNAME+" "+r.LNAME}getMembersList(){this.gridPopupSettingsForMember=this.masterService.getGenericGridPopUpSettings("AllMemberList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["membership-point-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(ld,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridMemberPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:79,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-5"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keypress"],[1,"row",2,"padding-top","5px","width","90%"],[2,"width","60%"],[2,"width","100%","font-weight","bold"],[2,"width","20%"],["type","text",1,"form-control","input-text",2,"width","100%",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridMemberPopup",""],["value","%"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Membership Point Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_DIV=i}),e.YNc(41,pd,2,0,"option",16),e.YNc(42,cd,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Report Type :"),e.qZA(),e.TgZ(47,"div",19)(48,"div",20)(49,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY=i}),e.qZA(),e.TgZ(50,"label"),e._uU(51,"Summary Report"),e.qZA()(),e.TgZ(52,"div",20)(53,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY=i}),e.qZA(),e.TgZ(54,"label"),e._uU(55,"Detail Report"),e.qZA()()()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Member Name Selection :"),e.qZA(),e.TgZ(59,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME=i})("keydown.enter",function(i){return t.memberEnterCommand(i)})("keydown.Tab",function(i){return t.memberEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(60,"div",24)(61,"div",25)(62,"label",26),e._uU(63,"Show Report having Points >= "),e.qZA()(),e.TgZ(64,"div",27)(65,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_POINT=i}),e.qZA()()(),e.TgZ(66,"div",29)(67,"div",30)(68,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=i})("change",function(i){return t._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT=i.target.checked?1:0}),e.qZA()(),e.TgZ(69,"div",32)(70,"label",33),e._uU(71,"Sort Report by Top N order"),e.qZA()()()()()(),e.TgZ(72,"div",34)(73,"button",35),e.NdJ("click",function(){return t.onload()}),e._uU(74,"RUN"),e.qZA(),e.TgZ(75,"button",36),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(76,"Close"),e.qZA()()()()()(),e.TgZ(77,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_SUMMARY),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_MEMNAME),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_POINT),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.MembershipPointObj.MembershipPoint_TOPNSORT),e.xp6(9),e.Q6J("popupsettings",t.gridPopupSettingsForMember))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function dd(n,a){if(1&n&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let hd=(()=>{class n{constructor(r,t,o,i){this.masterService=r,this._alertService=t,this._transactionService=o,this._authService=i,this.Annex5Report={},this.divisionList=[],this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),this.Annex5Report.DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this.Annex5Report.DATE1,"AD"),this.Annex5Report.DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this.Annex5Report.DATE,"AD");var l=this.userProfile.PhiscalYearInfo.BeginDate;l=l.substring(0,10),this.date2=l;const c=new Date;this.currDate=(0,u.p6)(c,"yyyy-MM-dd","en-US"),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.Annex5Report.DIV="%"}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this.reportdataEmit.emit({status:r,data:{reportname:"Annex 5 Report",reportparam:{DATE1:this.Annex5Report.DATE1,DATE2:this.Annex5Report.DATE,DIV:this.Annex5Report.DIV?this.Annex5Report.DIV:"%"}}})}hide(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this.Annex5Report.BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.Annex5Report.DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this.Annex5Report.BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this.Annex5Report.DATE=this.masterService.toADDate(r)}}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(R.c),e.Y36(v.p),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["datereport"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:50,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-12"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Materialized View Report (Annex 5)"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.hide()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return t.Annex5Report.DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.Annex5Report.BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",14),e.NdJ("ngModelChange",function(i){return t.Annex5Report.DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t.Annex5Report.BSDATE2=i}),e.qZA()()()()()()(),e.TgZ(37,"div",10)(38,"fieldset")(39,"legend"),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(i){return t.Annex5Report.DIV=i}),e.TgZ(42,"option",17),e._uU(43,"ALL"),e.qZA(),e.YNc(44,dd,2,2,"option",18),e.qZA()()(),e.TgZ(45,"div",19)(46,"button",20),e.NdJ("click",function(){return t.onload()}),e._uU(47,"RUN"),e.qZA(),e.TgZ(48,"button",21),e.NdJ("click",function(){return t.cancel()}),e._uU(49,"Close"),e.qZA()()()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.Annex5Report.DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t.Annex5Report.BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t.Annex5Report.DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t.Annex5Report.BSDATE2),e.xp6(5),e.Q6J("ngModel",t.Annex5Report.DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function ud(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.UserId),e.xp6(1),e.Oqu(r.UserId)}}function gd(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.FormName),e.xp6(1),e.Oqu(r.FormName)}}function Sd(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.HostName),e.xp6(1),e.Oqu(r.HostName)}}function md(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.TrnMode),e.xp6(1),e.Oqu(r.TrnMode)}}let Od=(()=>{class n{constructor(r,t,o,i,l){this.masterService=r,this._alertService=t,this._authService=o,this._reportFilterService=i,this.arouter=l,this.usersList=[],this.FormNameList=[],this.HostNameList=[],this.ActionList=[],this.repObj={reportname:"",reportparam:{SDate:"",EDate:"",Flg:1,UserID:"",HostNM:"",FormNM:"",ActionNM:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.userProfile=this._authService.getUserProfile(),this.masterService.getUsersFromLog().subscribe(d=>{"ok"==d.status&&(this.usersList=d.result)});var c=this.userProfile.PhiscalYearInfo.BeginDate;c=c.substring(0,10),this.date2=c;const _=new Date;this.currDate=(0,u.p6)(_,"yyyy-MM-dd","en-US")}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),console.log("check",this._reportFilterService.TransactionLogObj.assignPreviousValue),1!=this._reportFilterService.TransactionLogObj.assignPreviousValue&&(this._reportFilterService.TransactionLogObj.transLog_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.TransactionLogObj.transLog_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=1,this._reportFilterService.TransactionLogObj.transLog_USERID="",this._reportFilterService.TransactionLogObj.transLog_HOSTNM="",this._reportFilterService.TransactionLogObj.transLog_FORMNM="",this._reportFilterService.TransactionLogObj.transLog_ACTIONNM="",this.changeEntryDate(this._reportFilterService.TransactionLogObj.transLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.TransactionLogObj.transLog_DATE2,"AD"))}onUserChange(){this.userID=this._reportFilterService.TransactionLogObj.transLog_USERID,this.masterService.getFormNameFromLog(this.userID).subscribe(r=>{this.FormNameList=r.result}),this.masterService.getHostNameFromLog(this.userID).subscribe(r=>{this.HostNameList=r.result}),this.masterService.getActionFromLog(this.userID).subscribe(r=>{this.ActionList=r.result})}onload(){this.repObj.reportparam.SDate=this._reportFilterService.TransactionLogObj.transLog_DATE1,this.repObj.reportparam.EDate=this._reportFilterService.TransactionLogObj.transLog_DATE2,this.repObj.reportparam.Flg=this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT?this._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT:1,this.repObj.reportparam.UserID=this._reportFilterService.TransactionLogObj.transLog_USERID?this._reportFilterService.TransactionLogObj.transLog_USERID:"%",this.repObj.reportparam.HostNM=this._reportFilterService.TransactionLogObj.transLog_HOSTNM?this._reportFilterService.TransactionLogObj.transLog_HOSTNM:"%",this.repObj.reportparam.FormNM=this._reportFilterService.TransactionLogObj.transLog_FORMNM?this._reportFilterService.TransactionLogObj.transLog_FORMNM:"%",this.repObj.reportparam.ActionNM=this._reportFilterService.TransactionLogObj.transLog_ACTIONNM?this._reportFilterService.TransactionLogObj.transLog_ACTIONNM:"%",this.repObj.reportname="Transaction Activity Log Report",this.repObj.REPORTDISPLAYNAME="Transaction Activity Log Report",this._reportFilterService.TransactionLogObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}hide(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.TransactionLogObj.transLog_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.TransactionLogObj.transLog_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.TransactionLogObj.transLog_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.TransactionLogObj.transLog_DATE2=this.masterService.toADDate(r)}}cancel(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(R.c),e.Y36(P.e),e.Y36(A),e.Y36(S.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["transreport"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:88,vars:26,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","form-group"],[1,"col-sm-4"],[1,"radio"],[1,"smallBoldLabel",2,"padding-right","10px"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"form-group","row"],[1,"col-md-3","smallBoldLabel"],[1,"col-md-9"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Transaction Activity Log Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.hide()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",15),e._uU(39,"Report Mode:"),e.qZA(),e.TgZ(40,"div",16)(41,"div",17)(42,"div",18)(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(45," Summary (User Wise)"),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",18)(48,"label",19)(49,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(50," Summary"),e.qZA()()(),e.TgZ(51,"div",17)(52,"div",18)(53,"label",19)(54,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT=i}),e.qZA(),e._uU(55," Detail"),e.qZA()()()()()(),e.TgZ(56,"div",21)(57,"fieldset")(58,"div",22)(59,"label",23),e._uU(60,"User"),e.qZA(),e.TgZ(61,"div",24)(62,"select",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_USERID=i})("change",function(){return t.onUserChange()}),e.YNc(63,ud,2,2,"option",26),e.qZA()()()(),e.TgZ(64,"fieldset")(65,"div",22)(66,"label",23),e._uU(67,"Entry Form"),e.qZA(),e.TgZ(68,"div",24)(69,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_FORMNM=i}),e.YNc(70,gd,2,2,"option",26),e.qZA()()(),e.TgZ(71,"div",22)(72,"label",23),e._uU(73,"Computer Name"),e.qZA(),e.TgZ(74,"div",24)(75,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_HOSTNM=i}),e.YNc(76,Sd,2,2,"option",26),e.qZA()()(),e.TgZ(77,"div",22)(78,"label",23),e._uU(79,"Action"),e.qZA(),e.TgZ(80,"div",24)(81,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TransactionLogObj.transLog_ACTIONNM=i}),e.YNc(82,md,2,2,"option",26),e.qZA()()()()(),e.TgZ(83,"div",28)(84,"button",29),e.NdJ("click",function(){return t.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",30),e.NdJ("click",function(){return t.cancel()}),e._uU(87,"Close"),e.qZA()()()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.TransactionLogObj.transLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.TransactionLogObj.transLog_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.TransactionLogObj.transLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.TransactionLogObj.transLog_BSDATE2),e.xp6(8),e.Q6J("value",1)("ngModel",t._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(5),e.Q6J("value",2)("ngModel",t._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(5),e.Q6J("value",3)("ngModel",t._reportFilterService.TransactionLogObj.transLog_SUMMARYREPORT),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.TransactionLogObj.transLog_USERID),e.xp6(1),e.Q6J("ngForOf",t.usersList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.TransactionLogObj.transLog_FORMNM),e.xp6(1),e.Q6J("ngForOf",t.FormNameList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.TransactionLogObj.transLog_HOSTNM),e.xp6(1),e.Q6J("ngForOf",t.HostNameList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.TransactionLogObj.transLog_ACTIONNM),e.xp6(1),e.Q6J("ngForOf",t.ActionList))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function bd(n,a){1&n&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function Td(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function vd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"input",43),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",36)(4,"label",37),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT)("checked",1==r._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT)}}function fd(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.INITIAL),e.xp6(1),e.hij("",r.NAME," ")}}function Cd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",36)(4,"label",37),e._uU(5,"Show InTransit Branch Transfer In Transaction Only"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT)("checked",1==r._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT)("disabled","TO%"==r._reportFilterService.BranchTransferObj.BranchTransfer_VNO)}}function Ad(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",59)(1,"ng-multiselect-dropdown",60),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function Pd(n,a){if(1&n&&(e.TgZ(0,"div",55)(1,"div",56)(2,"label",57),e._uU(3),e.qZA()(),e.YNc(4,Ad,2,4,"div",58),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function Md(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",44)(2,"div",45)(3,"div",46)(4,"h5",47),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",48),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",49),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",50)(10,"div",51),e.YNc(11,Pd,5,2,"div",52),e.qZA()(),e.TgZ(12,"div",53)(13,"button",54),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",54),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let Rd=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",OPT_BRANCHINOUT:"",ITEMWISE:0,IGNOREBRANCH:0,SHOWINTRANSIT:0,COMID:"",DIV:"",STATUS:0,BRANCH:"%",PHISCALID:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getNotLoginDivisionList().subscribe(p=>{this.transferToList=p}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.BranchTransferObj.assignPreviousValue&&(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferObj.BranchTransfer_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.BranchTransferObj.BranchTransfer_VNO="TO%",this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE="0",this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS="0"),this.changeVariant(this._reportFilterService.BranchTransferObj.BranchTransfer_VARIANT),this.changeEntryDate(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferObj.BranchTransfer_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferObj.BranchTransfer_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.BranchTransferObj.BranchTransfer_DIV?this._reportFilterService.BranchTransferObj.BranchTransfer_DIV:"%",this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferObj.BranchTransfer_DIV?this._reportFilterService.BranchTransferObj.BranchTransfer_DIV:"%",this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.BRANCH=this._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH?this._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH:"%",this.repObj.reportparam.OPT_BRANCHINOUT=this._reportFilterService.BranchTransferObj.BranchTransfer_VNO?this._reportFilterService.BranchTransferObj.BranchTransfer_VNO:"TR%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ITEMWISE=this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE?this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE:0,this.repObj.reportparam.STATUS=this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS?this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS:0,this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH?this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH:0,this.repObj.reportparam.SHOWINTRANSIT=this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT?this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT:0,this.repObj.reportparam.params=1==this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT&&this.abc?.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportparam.IGNOREBRANCH=0),"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&(this.repObj.reportparam.SHOWINTRANSIT=0),"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&(this.repObj.reportparam.STATUS=0),"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&1==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_2":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&0==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer In Report_1":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer Out Report":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportname="Branch Transfer Out Report_1"),1===this.masterService.userSetting.EnableVariantCategory&&("TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&1==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_2_VARIANT":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE&&0==this.repObj.reportparam.SHOWINTRANSIT?this.repObj.reportname="Branch Transfer In Report_VARIANT":"TR%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer In Report_1_VARIANT":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&0==this.repObj.reportparam.ITEMWISE?this.repObj.reportname="Branch Transfer Out Report_VARIANT":"TO%"==this.repObj.reportparam.OPT_BRANCHINOUT&&1==this.repObj.reportparam.ITEMWISE&&(this.repObj.reportname="Branch Transfer Out Report_1_VARIANT")),this.repObj.REPORTDISPLAYNAME="Branch Transfer Report",this._reportFilterService.BranchTransferObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}TransferInOutChange(r){"TO%"==this._reportFilterService.BranchTransferObj.BranchTransfer_VNO&&(this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWINTRANSIT=0),"TR%"==this._reportFilterService.BranchTransferObj.BranchTransfer_VNO&&(this._reportFilterService.BranchTransferObj.BranchTransfer_STATUS="0")}ItemWiseChange(r){0==this._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE&&(this._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=0)}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.BranchTransferObj.BranchTransfer_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.BranchTransferObj.BranchTransfer_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transfer-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:33,consts:[[1,"container",2,"width","58rem"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-left","4%"],["type","radio","name","reportOption","value","TO%",3,"ngModel","ngModelChange","change"],[2,"width","auto"],["type","radio","name","reportOption","value","TR%",3,"ngModel","ngModelChange","change"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],[2,"width","88%"],["value","%"],["type","radio","name","reportType","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[4,"ngIf"],[3,"value"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_DIV=i}),e.YNc(41,bd,2,0,"option",16),e.YNc(42,Td,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Report Option :"),e.qZA(),e.TgZ(46,"div",18)(47,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_VNO=i})("change",function(i){return t.TransferInOutChange(i)}),e.qZA(),e.TgZ(48,"label",20),e._uU(49,"Branch Transfer Out Report"),e.qZA()(),e.TgZ(50,"div",18)(51,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_VNO=i})("change",function(i){return t.TransferInOutChange(i)}),e.qZA(),e.TgZ(52,"label",20),e._uU(53,"Branch Transfer In Report"),e.qZA()()(),e.YNc(54,vd,6,2,"div",22),e.qZA(),e.TgZ(55,"div",23)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE=i})("change",function(i){return t.ItemWiseChange(i)}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",24)(65,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE=i}),e.qZA(),e.TgZ(66,"label",28),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Branch Transfer to/from:"),e.qZA(),e.TgZ(71,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH=i}),e._UZ(72,"option",29),e.YNc(73,fd,2,2,"option",17),e.qZA()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Report Type :"),e.qZA(),e.TgZ(77,"div",18)(78,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(79,"label",26),e._uU(80,"Show All"),e.qZA()(),e.TgZ(81,"div",18)(82,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(83,"label",26),e._uU(84,"Show Closed Transaction Only"),e.qZA()(),e.TgZ(85,"div",18)(86,"input",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_STATUS=i}),e.qZA(),e.TgZ(87,"label",26),e._uU(88,"Show Pending Transaction Only"),e.qZA()()(),e.TgZ(89,"div",33)(90,"div",34)(91,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=i})("change",function(i){return t._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH=i.target.checked?1:0}),e.qZA()(),e.TgZ(92,"div",36)(93,"label",37),e._uU(94,"Disable Branch Wise Segragation In Report"),e.qZA()()(),e.YNc(95,Cd,6,3,"div",22),e.qZA()()(),e.TgZ(96,"div",38)(97,"button",39),e.NdJ("click",function(){return t.onload()}),e._uU(98,"RUN"),e.qZA(),e.TgZ(99,"button",40),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(100,"Close"),e.qZA()()()()()(),e.YNc(101,Md,17,1,"div",41)),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(3),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_BRANCH),e.xp6(2),e.Q6J("ngForOf",t.transferToList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==t._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==t._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_STATUS)("disabled","TR%"==t._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH)("checked",1==t._reportFilterService.BranchTransferObj.BranchTransfer_IGNOREBRANCH)("disabled",0==t._reportFilterService.BranchTransferObj.BranchTransfer_ITEMWISE),e.xp6(4),e.Q6J("ngIf","TR%"==t._reportFilterService.BranchTransferObj.BranchTransfer_VNO),e.xp6(6),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,M.v,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Ed=["genericGridSupplierPopup"];function Dd(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function Id(n,a){1&n&&(e.TgZ(0,"option",16),e._uU(1,"ALL"),e.qZA())}function Nd(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function kd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",25)(4,"label",45),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT)("checked",1==r._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT)}}function jd(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function yd(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Fd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",61)(1,"ng-multiselect-dropdown",62),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function wd(n,a){if(1&n&&(e.TgZ(0,"div",57)(1,"div",58)(2,"label",59),e._uU(3),e.qZA()(),e.YNc(4,Fd,2,4,"div",60),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function Wd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",46)(2,"div",47)(3,"div",48)(4,"h5",49),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",50),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",51),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",52)(10,"div",53),e.YNc(11,wd,5,2,"div",54),e.qZA()(),e.TgZ(12,"div",55)(13,"button",56),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",56),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let Ld=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,WAREHOUSE:"%",MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",SUPPLIERNAME:"",FROMDATE:"",TODATE:"",CURRENTDATE:"",COMID:"",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new m.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getWarehouseList().subscribe(p=>{this.warehouseList=p}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ItemExpiryObj.assignPreviousValue&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE="0"),this.changeVariant(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT),this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,this.repObj.reportparam.CURRENTDATE=(new Date).toJSON().split("T")[0],this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV?this._reportFilterService.ItemExpiryObj.ItemExpiry_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID?this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE?this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE:0,this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE?this._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP?this._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT?this._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT:"%",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER?this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER:"";let r={};this.variantmaster.length>0?(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT||(this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT]=this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANTVALUES?this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),1==this.userSetting.ENABLESINGLEBATCHMODE?(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report SBATCH":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report SBATCH_1"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report SBATCH_VARIANT":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report SBATCH_1_VARIANT"))):(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report_1"),1==this.masterService.userSetting.EnableVariantCategory&&(0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Item Expiry Report_VARIANT":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Item Expiry Report_1_VARIANT"))),this.repObj.REPORTDISPLAYNAME="Item Expiry Report",this._reportFilterService.ItemExpiryObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.ItemExpiryObj.ItemExpiry_ACID=r.ACID,this._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}daysSelection(r){let t=r.target.value;(""==t||null==t||null==t)&&(t=0),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt(t)),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=this.date.toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD")}disableDaysSelection(r){1==this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection="",this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD")),0==this._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE&&(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2,"AD"),this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1,"AD"))}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.ItemExpiryObj.ItemExpiry_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.ItemExpiryObj.ItemExpiry_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["item-expiry-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Ed,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:106,vars:32,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],[2,"margin-left","3%","width","100%"],["type","number",2,"width","50px",3,"ngModel","disabled","ngModelChange","input"],[1,"col"],["type","radio","name","reportFormat","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange","change"],[2,"width","88%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Item Expiry Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Warehouse Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE=i}),e.ALo(41,"disableField"),e._UZ(42,"option",16),e.YNc(43,Dd,2,2,"option",17),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend",10),e._uU(46,"Division Selection:"),e.qZA(),e.TgZ(47,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_DIV=i}),e.YNc(48,Id,2,0,"option",19),e.YNc(49,Nd,2,2,"option",17),e.qZA()(),e.YNc(50,kd,6,2,"div",20),e.qZA(),e.TgZ(51,"div",21)(52,"fieldset")(53,"legend",10),e._uU(54,"Days Selection :"),e.qZA(),e.TgZ(55,"div",1)(56,"div",22)(57,"label",23),e._uU(58,"Going To Expire With In "),e.TgZ(59,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection=i})("input",function(i){return t.daysSelection(i)}),e.qZA(),e._uU(60," Days"),e.qZA()()()(),e.TgZ(61,"fieldset")(62,"legend",10),e._uU(63,"Report Format :"),e.qZA(),e.TgZ(64,"div",1)(65,"div",25)(66,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE=i})("change",function(i){return t.disableDaysSelection(i)}),e.qZA(),e.TgZ(67,"label",27),e._uU(68,"Near To Expire Report"),e.qZA()(),e.TgZ(69,"div",25)(70,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE=i})("change",function(i){return t.disableDaysSelection(i)}),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"Already Expired Report"),e.qZA()()()(),e.TgZ(73,"fieldset")(74,"legend"),e._uU(75,"Report Filter Option :"),e.qZA(),e.TgZ(76,"div",8)(77,"div",30)(78,"label",31),e._uU(79,"Item Group :"),e.qZA()(),e.TgZ(80,"div",25)(81,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP=i}),e._UZ(82,"option",16),e.YNc(83,jd,2,2,"option",17),e.qZA()()(),e.TgZ(84,"div",1)(85,"div",30)(86,"label",31),e._uU(87,"Item Category :"),e.qZA()(),e.TgZ(88,"div",25)(89,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT=i}),e._UZ(90,"option",16),e.YNc(91,yd,2,2,"option",17),e.qZA()()(),e.TgZ(92,"div",32)(93,"div",30)(94,"label",33),e._uU(95,"Supplier Name :"),e.qZA()(),e.TgZ(96,"div",25)(97,"input",34),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(98,"div",35)(99,"button",36),e.NdJ("click",function(){return t.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",37),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",38,39),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.YNc(105,Wd,17,1,"div",40)),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_WAREHOUSE)("disabled",e.lcZ(41,30,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_daysSelection)("disabled",1==t._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ItemExpiryObj.ItemExpiry_SUPPLIER),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Zd=["genericGridSupplierPopup"];function xd(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function Ud(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Vd(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function Bd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT)("checked",1==r._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT)}}function Yd(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function Jd(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function qd(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Gd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function Hd(n,a){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,Gd,2,4,"div",53),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function Qd(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,Hd,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let zd=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new m.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getWarehouseList().subscribe(p=>{this.warehouseList=p}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.MaximumStockLevelObj.assignPreviousValue&&(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_REPORTTYPE="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ReportMode="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DETAILFORMAT="0",this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.ACID=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE:"100",this.repObj.reportparam.CATEGORY=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ITEM?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MENUCODE?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MENUCODE:"";let r={};this.variantmaster.length>0?(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT||(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT]=this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANTVALUES?this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Maximum Stock Level Report",this.repObj.REPORTDISPLAYNAME="Maximum Stock Level Report",this._reportFilterService.MaximumStockLevelObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIERCODE=r.ACID,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["maximum-stock-level-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Zd,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Maximum Stock Level Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,xd,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,Ud,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,Vd,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.YNc(60,Bd,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,Yd,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV=i}),e.YNc(74,Jd,2,0,"option",27),e.YNc(75,qd,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return t.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,Qd,17,1,"div",33)),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.MaximumStockLevelObj.MaximumStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Kd=["genericGridSupplierPopup"];function $d(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function Xd(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function eh(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function th(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT)("checked",1==r._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT)}}function rh(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function ih(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function oh(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function nh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function ah(n,a){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,nh,2,4,"div",53),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function sh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,ah,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let lh=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new m.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getWarehouseList().subscribe(p=>{this.warehouseList=p}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.MinimumStockLevelObj.assignPreviousValue&&(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_REPORTTYPE="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ReportMode="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DETAILFORMAT="0",this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.ACID=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE:"100",this.repObj.reportparam.ITEMNAME=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ITEM?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MENUCODE?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MENUCODE:"";let r={};this.variantmaster.length>0?(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT||(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT]=this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANTVALUES?this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Minimum Stock Level Report",this.repObj.REPORTDISPLAYNAME="Minimum Stock Level Report",this._reportFilterService.MinimumStockLevelObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIERCODE=r.ACID,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["minimum-stock-level-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Kd,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Minimum Stock Level Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,$d,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,Xd,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,eh,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.YNc(60,th,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,rh,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV=i}),e.YNc(74,ih,2,0,"option",27),e.YNc(75,oh,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return t.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,sh,17,1,"div",33)),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.MinimumStockLevelObj.MinimumStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const ph=["genericGridSupplierPopup"];function ch(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function _h(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function dh(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function hh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.showVariantFilter(o))}),e.qZA()(),e.TgZ(3,"div",17)(4,"label",38),e._uU(5,"Show Variant Filters"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT)("checked",1==r._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT)}}function uh(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function gh(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Sh(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function mh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",54)(1,"ng-multiselect-dropdown",55),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function Oh(n,a){if(1&n&&(e.TgZ(0,"div",50)(1,"div",51)(2,"label",52),e._uU(3),e.qZA()(),e.YNc(4,mh,2,4,"div",53),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function bh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",43),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",44),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",45)(10,"div",46),e.YNc(11,Oh,5,2,"div",47),e.qZA()(),e.TgZ(12,"div",48)(13,"button",49),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",49),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let Th=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",COMID:"%",CATEGORY:"%",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForSupplier=new m.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getWarehouseList().subscribe(p=>{this.warehouseList=p}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ReorderLevelStockReport.assignPreviousValue&&(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_REPORTTYPE="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ReportMode="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ShowItemInGroupWiseReport=0,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT="0",this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWDETAIL=0),this.changeVariant(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT),this.changeEntryDate(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.DETAILFORMAT=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DETAILFORMAT:0,this.repObj.reportparam.ACID=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCODE:"%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE:"100",this.repObj.reportparam.CATEGORY=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ITEM?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MENUCODE?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MENUCODE:"";let r={};this.variantmaster.length>0?(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT||(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT]=this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANTVALUES?this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%",this.repObj.reportparam.ACID="%"),this.repObj.reportname="Reorder Level Stock Report",this.repObj.REPORTDISPLAYNAME="Reorder Level Stock Report",this._reportFilterService.ReorderLevelStockReport.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIERCODE=r.ACID,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1,console.log("save save",this.categorywiseConfigurationdetails)}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["reorder-level-stock-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(ph,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:84,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"value"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Reorder Level Stock Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend"),e._uU(29,"Report Filter Option :"),e.qZA(),e.TgZ(30,"div",8)(31,"div",15)(32,"label",16),e._uU(33,"Item Group :"),e.qZA()(),e.TgZ(34,"div",17)(35,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP=i}),e._UZ(36,"option",19),e.YNc(37,ch,2,2,"option",20),e.qZA()()(),e.TgZ(38,"div",1)(39,"div",15)(40,"label",16),e._uU(41,"Item Category :"),e.qZA()(),e.TgZ(42,"div",17)(43,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT=i}),e._UZ(44,"option",19),e.YNc(45,_h,2,2,"option",20),e.qZA()()(),e.TgZ(46,"div",1)(47,"div",15)(48,"label",16),e._uU(49,"Item Type :"),e.qZA()(),e.TgZ(50,"div",17)(51,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE=i}),e._UZ(52,"option",21),e.YNc(53,dh,2,2,"option",20),e.qZA()()(),e.TgZ(54,"div",22)(55,"div",15)(56,"label",16),e._uU(57,"Supplier Name :"),e.qZA()(),e.TgZ(58,"div",17)(59,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.YNc(60,hh,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Warehouse Selection:"),e.qZA(),e.TgZ(65,"div",1)(66,"select",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE=i}),e.ALo(67,"disableField"),e._UZ(68,"option",19),e.YNc(69,uh,2,2,"option",20),e.qZA()()(),e.TgZ(70,"fieldset")(71,"legend",10),e._uU(72,"Division Selection:"),e.qZA(),e.TgZ(73,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV=i}),e.YNc(74,gh,2,0,"option",27),e.YNc(75,Sh,2,2,"option",20),e.qZA()()()()(),e.TgZ(76,"div",28)(77,"button",29),e.NdJ("click",function(){return t.onload()}),e._uU(78,"RUN"),e.qZA(),e.TgZ(79,"button",30),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(80,"Close"),e.qZA()()()()()(),e.TgZ(81,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.YNc(83,bh,17,1,"div",33)),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_BSDATE1),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_SUPPLIER),e.xp6(1),e.Q6J("ngIf",1==t.masterService.userSetting.EnableVariantCategory),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_WAREHOUSE)("disabled",e.lcZ(67,22,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ReorderLevelStockReport.ReorderStockLevel_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v,W.O,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const vh=["reportPopup"],fh=["genericGridSupplierPopup"],Ch=["genericGridItemPopup"];function Ah(n,a){1&n&&(e.TgZ(0,"option",37),e._uU(1,"ALL"),e.qZA())}function Ph(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Mh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV=o)}),e.YNc(4,Ah,2,0,"option",53),e.YNc(5,Ph,2,2,"option",38),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function Rh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",55)(1,"div",56)(2,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(o.target.checked?i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA=1:i._reportFilterService.StockLedgerObj.StockLedger_INCLUDETRANSITDATA=0)}),e.qZA()(),e.TgZ(3,"div",35)(4,"label",58),e._uU(5,"Include Transit Data"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA)("checked",1==r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA)}}function Eh(n,a){1&n&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function Dh(n,a){1&n&&(e.TgZ(0,"label",21),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function Ih(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",20),e.YNc(4,Eh,2,0,"label",59),e.YNc(5,Dh,2,0,"label",59),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport)("checked",1==r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE)}}function Nh(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function kh(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function jh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",30)(2,"label",31),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",35)(5,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE=o)}),e._UZ(6,"option",60),e.YNc(7,kh,2,2,"option",38),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList)}}function yh(n,a){if(1&n&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MANUFACTURER),e.xp6(1),e.hij("",r.MANUFACTURER," ")}}function Fh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",30)(2,"label",31),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",35)(5,"select",36),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER=o)}),e._UZ(6,"option",37),e.YNc(7,yh,2,2,"option",38),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",r.ManufacturerList)}}let wh=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.brandService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",MANUFACTURER:"%",ITEMGROUP:"",WAREHOUSETYPE:"0",INCLUDETRANSITDATA:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.ManufacturerList=[],this.resultList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.AppMode=j.N.appMode,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getProductGroupList().subscribe(p=>{p&&(this.ProductGroupList=p)}),this.masterService.getManufacturerList().subscribe(p=>{p&&(this.ManufacturerList=p)}),o.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE:"0",this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockAbcAnalysisObj.assignPreviousValue&&(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE="0",this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport=0),this.changeVariant(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT),this.changeEntryDate(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2,"AD"))}),this.userSetting.EnableTransitWiseTransferIn&&(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA=1)}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(r=>{console.log("dataaaaaa",r[0]),this.resss=r[0],this.resultList=this.resss[0],console.log("dataaaaaaChildren",this.resss[0].children),console.log("LEVELS",this.resss[0].LEVELS),console.log("name",this.resss[0].name)})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ShowItemInGroupWiseReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE:"",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MANUFACTURER:"%",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP:"%",this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE:"0",this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_INCLUDETRANSITDATA:0;let r={};this.variantmaster.length>0?(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT||(this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT=this.variantmaster.length>0&&this.variantmaster[0].VARIANTNAME),r[this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT]=this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES?this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANTVALUES:"%",this.repObj.reportparam.params=JSON.stringify(r)):this.repObj.reportparam.params="%",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Stock  Movement Analysis Report_SBATCH":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock  Movement Analysis Report_1_SBATCH":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock  Movement Analysis Report_2_SBATCH":2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock  Movement Analysis Report_3_SBATCH":2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&(this.repObj.reportname="Stock  Movement Analysis Report_4_SBATCH"):0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Stock Movement Analysis Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Movement Analysis Report_1":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Movement Analysis Report_2":2==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.ShowItemInGroupWiseReport?this.repObj.reportname="Stock Movement Analysis Report_3":2==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.ShowItemInGroupWiseReport&&(this.repObj.reportname="Stock Movement Analysis Report_4"),this.repObj.REPORTDISPLAYNAME="Stock Movement Analysis Report",this._reportFilterService.StockAbcAnalysisObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIERCODE=r.ACID,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCODE=r.MCODE,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM=r.DESCA,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}reportTree(){this.reportPopup.show()}selectedValue(r){console.log("k data ho yo?",r),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP=r.MCODE,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=r.DESCA}treeNodeSelected(r){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",r),this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MGROUP=r.id,this._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=r.name}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e),e.Y36($.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stockabc-analysis-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(vh,5),e.Gf(fh,5),e.Gf(Ch,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.reportPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:132,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","row checkbox",4,"ngIf"],[1,"col-md-6","filter-part"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["class","row","style","margin-bottom: -3%",4,"ngIf"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],[1,"row","checkbox"],[1,"col-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],["style","width: 100%;",4,"ngIf"],["value","100"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Movement Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,Mh,6,3,"fieldset",15),e.TgZ(38,"fieldset")(39,"legend",10),e._uU(40,"WareHouse Type :"),e.qZA(),e.TgZ(41,"div",16)(42,"div",17)(43,"div",18)(44,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(45,"div",20)(46,"label",21),e._uU(47,"All"),e.qZA()()(),e.TgZ(48,"div",17)(49,"div",18)(50,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(51,"div",20)(52,"label",21),e._uU(53,"Sellable WareHouse"),e.qZA()()(),e.TgZ(54,"div",17)(55,"div",18)(56,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(57,"div",20)(58,"label",21),e._uU(59,"Non-Sellable WareHouse"),e.qZA()()()()(),e.YNc(60,Rh,6,2,"div",24),e.qZA(),e.TgZ(61,"div",25)(62,"fieldset")(63,"legend",10),e._uU(64,"Report Type Selection :"),e.qZA(),e.TgZ(65,"div")(66,"div",17)(67,"div",18)(68,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(72,"div",17)(73,"div",18)(74,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(78,"div",17)(79,"div",18)(80,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(81,"div",20)(82,"label",21),e._uU(83,"Item Category Wise Stock Report"),e.qZA()()(),e.YNc(84,Ih,6,4,"div",29),e.qZA()(),e.TgZ(85,"fieldset")(86,"legend"),e._uU(87,"Report Filter Option :"),e.qZA(),e.TgZ(88,"div",8)(89,"div",30)(90,"label",31),e._uU(91,"Item Group :"),e.qZA()(),e.TgZ(92,"div",32)(93,"app-simple-suggest",33),e.NdJ("selectOption",function(i){return t.selectedValue(i)})("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP=i}),e.qZA(),e.TgZ(94,"button",34),e.NdJ("click",function(){return t.reportTree()}),e._uU(95,"+"),e.qZA()()(),e.TgZ(96,"div",1)(97,"div",30)(98,"label",31),e._uU(99,"Item Category :"),e.qZA()(),e.TgZ(100,"div",35)(101,"select",36),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT=i}),e._UZ(102,"option",37),e.YNc(103,Nh,2,2,"option",38),e.qZA()()(),e.YNc(104,jh,8,2,"div",39),e.YNc(105,Fh,8,2,"div",39),e.TgZ(106,"div",40)(107,"div",30)(108,"label",41),e._uU(109,"Supplier Name :"),e.qZA()(),e.TgZ(110,"div",35)(111,"input",42),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(112,"fieldset")(113,"legend",10),e._uU(114,"Item Selection :"),e.qZA(),e.TgZ(115,"div",43)(116,"div",30)(117,"label",31),e._uU(118,"Item Name :"),e.qZA()(),e.TgZ(119,"div",35)(120,"input",44),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(121,"div",45)(122,"button",46),e.NdJ("click",function(){return t.onload()}),e._uU(123,"RUN"),e.qZA(),e.TgZ(124,"button",47),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(125,"Close"),e.qZA()()()()()(),e.TgZ(126,"generic-popup-grid",48,49),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(128,"generic-popup-grid",48,50),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(130,"app-report-popup",51,52),e.NdJ("treeNodeValue",function(i){return t.treeNodeSelected(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_WAREHOUSETYPE),e.xp6(4),e.Q6J("ngIf",t.userSetting.EnableTransitWiseTransferIn),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_REPORTTYPE),e.xp6(9),e.Q6J("options",t.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.StockAbcAnalysisObj.StockAbcAnalysis_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,te,K.c],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var Wh=C(14422);const Lh=["genericGridCustomerPopup"];function Zh(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.UNAME),e.xp6(1),e.hij(" ",r.UNAME," ")}}let xh=(()=>{class n{constructor(r,t,o,i,l,c){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._alertService=l,this._ActivatedRoute=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",USERNAME:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.usernameList=[],this.gridPopupSettingsForCustomer=new m.im,this.masterService.getUsername().subscribe(h=>{console.log("@@response",h),this.usernameList=h});var _=this.masterService.PhiscalObj.BeginDate;_=_.substring(0,10),this.date2=_;const d=new Date;this.currDate=(0,u.p6)(d,"yyyy-MM-dd","en-US")}ngOnInit(){1!=this._reportFilterService.PriceChangeLogObj.assignPreviousValue&&(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2,"AD")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.USERNAME=this._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME?this._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME:"%",this.repObj.reportname="Price Change Log Report",this.repObj.REPORTDISPLAYNAME="Price Change Log Report",this._reportFilterService.PriceChangeLogObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(R.c),e.Y36(S.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pricechange-log-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Lh,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:49,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-9"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-3"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-12"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Price Change Log Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"fieldset")(17,"legend",12),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",13)(21,"div",14)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",16),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",17)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",16),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",12),e._uU(39,"Username Selection:"),e.qZA(),e.TgZ(40,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME=i}),e.TgZ(41,"option",19),e._uU(42,"ALL"),e.qZA(),e.YNc(43,Zh,2,2,"option",20),e.qZA()()()()(),e.TgZ(44,"div",21)(45,"button",22),e.NdJ("click",function(){return t.onload()}),e._uU(46,"RUN"),e.qZA(),e.TgZ(47,"button",23),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(48,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PriceChangeLogObj.PriceChangeLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PriceChangeLogObj.PriceChangeLog_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PriceChangeLogObj.PriceChangeLog_USERNAME),e.xp6(3),e.Q6J("ngForOf",t.usernameList))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var Uh=C(71459);const Vh=["genericGridCustomerPopup"],Bh=["genericGridItemPopup"],Yh=["genericGridSalesMan"];function Jh(n,a){1&n&&(e.TgZ(0,"option",36),e._uU(1,"ALL"),e.qZA())}function qh(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Gh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=o)}),e.YNc(4,Jh,2,0,"option",49),e.YNc(5,qh,2,2,"option",37),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function Hh(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Qh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER=o)}),e._UZ(4,"option",51),e.TgZ(5,"option",36),e._uU(6," ALL "),e.qZA(),e.YNc(7,Hh,2,2,"option",37),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function zh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Salesman Selection :"),e.qZA(),e.TgZ(3,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN=o)})("keydown.enter",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keydown.Tab",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keyup",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.salesmanEnterCommand(o))})("keypress",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN)}}function Kh(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",55)(2,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(3,"div",25)(4,"label",26),e._uU(5,"Show Item With Group Hierarchy"),e.qZA()()()}if(2&n){const r=e.oxw(2);e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE)}}function $h(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset",53)(1,"div",54)(2,"div",1)(3,"div",55)(4,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(5,"div",25)(6,"label",26),e._uU(7,"Show Summary Only"),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",55)(10,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=o)}),e.qZA()(),e.TgZ(11,"div",25)(12,"label",26),e._uU(13,"Show Item Detail Also"),e.qZA()()(),e.YNc(14,Kh,6,1,"div",39),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE),e.xp6(4),e.Q6J("ngIf",1==r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT)}}function Xh(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function eu(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function tu(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function ru(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",33)(2,"label",34),e._uU(3,"Sales Type :"),e.qZA()(),e.TgZ(4,"div",19)(5,"select",35),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE=o)}),e.TgZ(6,"option",59),e._uU(7,"ALL"),e.qZA(),e.TgZ(8,"option",60),e._uU(9,"RETAIL SALES"),e.qZA(),e.TgZ(10,"option",61),e._uU(11,"WHOLESALE SALES"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE)}}function iu(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",77)(1,"ng-multiselect-dropdown",78),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function ou(n,a){if(1&n&&(e.TgZ(0,"div",73)(1,"div",74)(2,"label",75),e._uU(3),e.qZA()(),e.YNc(4,iu,2,4,"div",76),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function nu(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",62)(2,"div",63)(3,"div",64)(4,"h5",65),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",66),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",67),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",68)(10,"div",69),e.YNc(11,ou,5,2,"div",70),e.qZA()(),e.TgZ(12,"div",71)(13,"button",72),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",72),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let au=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",SHOWITEMDETAIL:0,REPORTYTYPE:0,ITEMNAME:"",CUSTOMERNAME:"",MENUCODE:"",params:"%",SALESMAN:0,SALESMANNAME:"",SALESTYPE:"",showGrouping:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForSalesMan=new m.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP=this._reportFilterService.drillParam.reportparam.MGROUP,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT=this._reportFilterService.drillParam.reportparam.MCAT,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE=this._reportFilterService.drillParam.reportparam.ACID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=this._reportFilterService.drillParam.reportparam.CUSTOMERNAME,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MENUCODE=this._reportFilterService.drillParam.reportparam.MENUCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE=this._reportFilterService.drillParam.reportparam.PTYPE,this.changeEntryDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,"AD")):(1!=this._reportFilterService.SalesProfitabilityAnalysisObj.assignPreviousValue&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER||null==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP:"%",this.repObj.reportparam.SHOWITEMDETAIL=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE:0,this.repObj.reportparam.REPORTYTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT,this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER:"",this.repObj.reportparam.SALESMAN=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID:0,this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN:"",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE?this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESTYPE:"",this.repObj.reportparam.showGrouping=this._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping??0,this.repObj.reportparam.params=1==this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT&&this.abc.length>0?JSON.stringify(this.finalParam):"",0==this.repObj.reportparam.REPORTYTYPE&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS":1!=this.repObj.reportparam.REPORTYTYPE||0!=this.repObj.reportparam.SHOWITEMDETAIL&&1!=this.repObj.reportparam.SHOWITEMDETAIL?1==this.repObj.reportparam.REPORTYTYPE&&2==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_2":2==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_3":3==this.repObj.reportparam.REPORTYTYPE?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_4":4==this.repObj.reportparam.REPORTYTYPE&&0==this.repObj.reportparam.SHOWITEMDETAIL?this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_5":4==this.repObj.reportparam.REPORTYTYPE&&1==this.repObj.reportparam.SHOWITEMDETAIL&&(this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_6"):this.repObj.reportname="Sales Profitability Analysis ReportNONDMS_1",this.repObj.REPORTDISPLAYNAME="Sales Profitability Analysis Report",this._reportFilterService.SalesProfitabilityAnalysisObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){console.log("supplier ma k aaucha",r),this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMERCODE=r.ACID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCODE=r.MCODE,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEM=r.DESCA,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(r){0==r&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="0"),0!=r&&(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISE="1")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){1==r.target.checked?(this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(r){}salesmanEnterCommand(r){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(r){this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMANID=r.SALESMANID,this._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_SALESMAN=r.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-profitabilityanalysis"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Vh,5),e.Gf(Bh,5),e.Gf(Yh,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:131,vars:35,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%","margin-left","-10%"],[1,"col-md-1",2,"margin-left","-16%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","4",3,"ngModel","ngModelChange","change"],[1,"col-md-6",2,"margin-left","-5%"],["style","width: 130%;",4,"ngIf"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],["class","row",4,"ngIf"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSalesMan",""],["value","%",4,"ngIf"],[3,"value"],["value",""],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"width","130%"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-8%"],["type","radio","name","reportTypeSelection","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportTypeSelection","value","2",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Profitability Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,Gh,6,3,"fieldset",15),e.YNc(38,Qh,8,2,"fieldset",15),e.YNc(39,zh,4,1,"fieldset",15),e.TgZ(40,"div",16)(41,"div",17)(42,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping=i})("change",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping=i.target.checked?1:0}),e.qZA()(),e.TgZ(43,"div",19)(44,"label",20),e._uU(45,"Show Item Hierarchy"),e.qZA()()()(),e.TgZ(46,"div",21)(47,"fieldset")(48,"legend",10),e._uU(49,"Report Type Selection :"),e.qZA(),e.TgZ(50,"div",11)(51,"div",5)(52,"div",22)(53,"div",1)(54,"div",23)(55,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(0)}),e.qZA()(),e.TgZ(56,"div",25)(57,"label",26),e._uU(58,"Item Wise Report"),e.qZA()()(),e.TgZ(59,"div",1)(60,"div",23)(61,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(1)}),e.qZA()(),e.TgZ(62,"div",25)(63,"label",26),e._uU(64,"Item Group Wise Report"),e.qZA()()(),e.TgZ(65,"div",1)(66,"div",23)(67,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(2)}),e.qZA()(),e.TgZ(68,"div",25)(69,"label",26),e._uU(70,"Item Category Wise"),e.qZA()()(),e.TgZ(71,"div",1)(72,"div",23)(73,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(3)}),e.qZA()(),e.TgZ(74,"div",25)(75,"label",26),e._uU(76,"Supplier Wise Report"),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",23)(79,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT=i})("change",function(){return t.checkValue(4)}),e.qZA()(),e.TgZ(80,"div",25)(81,"label",26),e._uU(82,"Day Wise Report"),e.qZA()()()()(),e.TgZ(83,"div",31),e.YNc(84,$h,15,3,"fieldset",32),e.qZA()()(),e.TgZ(85,"fieldset")(86,"legend"),e._uU(87,"Report Filter Option :"),e.qZA(),e.TgZ(88,"div",1)(89,"div",33)(90,"label",34),e._uU(91,"Item Group :"),e.qZA()(),e.TgZ(92,"div",19)(93,"select",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP=i}),e._UZ(94,"option",36),e.YNc(95,Xh,2,2,"option",37),e.qZA()()(),e.TgZ(96,"div",1)(97,"div",33)(98,"label",34),e._uU(99,"Item Category :"),e.qZA()(),e.TgZ(100,"div",19)(101,"select",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT=i}),e._UZ(102,"option",36),e.YNc(103,eu,2,2,"option",37),e.qZA()()(),e.TgZ(104,"div",1)(105,"div",33)(106,"label",34),e._uU(107,"Item Type :"),e.qZA()(),e.TgZ(108,"div",19)(109,"select",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE=i}),e._UZ(110,"option",38),e.YNc(111,tu,2,2,"option",37),e.qZA()()(),e.YNc(112,ru,12,1,"div",39),e.TgZ(113,"div",1)(114,"div",33)(115,"label",40),e._uU(116,"Supplier Name :"),e.qZA()(),e.TgZ(117,"div",19)(118,"input",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(119,"div",42)(120,"button",43),e.NdJ("click",function(){return t.onload()}),e._uU(121,"RUN"),e.qZA(),e.TgZ(122,"button",44),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(123,"Close"),e.qZA()()()()()(),e.TgZ(124,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(126,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(128,"generic-popup-grid",45,48),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupSalesman(i)}),e.qZA(),e.YNc(130,nu,17,1,"div",15)),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping)("checked",1==t._reportFilterService.SalesProfitabilityAnalysisObj.salesProfitabilityAnalysisShowGrouping),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(5),e.Q6J("ngIf",0!=t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_ITEMGROUPWISEREPORT),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesProfitabilityAnalysisObj.SalesProfitabilityAnalysis_CUSTOMER),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForSalesMan),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const su=["genericGridSupplierPopup"];function lu(n,a){1&n&&(e.TgZ(0,"option",40),e._uU(1,"ALL"),e.qZA())}function pu(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let cu=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",FROMEXPDATE:"",TOEXPDATE:"",ACID:"%",SUMMARYREPORT:0,STATUS:100,POTYPE:100,REPORTMODE:0,CUSTOMERNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.gridPopupSettingsForSupplier=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.PurchaseOrderReportObj.assignPreviousValue&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT="0",this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE,"AD"),this.changeFromExpiryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE,"AD"),this.changeToExpiryDate(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=this.masterService.toADDate(r)}}changeFromDeliveryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=this.masterService.toADDate(r)}}changeToDeliveryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=this.masterService.toADDate(r)}}changeFromExpiryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=this.masterService.toADDate(r)}}changeToExpiryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE,this.repObj.reportparam.FROMEXPDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE,this.repObj.reportparam.TOEXPDATE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV:"%",this.repObj.reportparam.SUMMARYREPORT=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT:0,this.repObj.reportparam.STATUS=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS:100,this.repObj.reportparam.POTYPE=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE:100,this.repObj.reportparam.ACID=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER?this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER:"",0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=1:0==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE&&(this.repObj.reportparam.REPORTMODE=2),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.reportname=0==this.repObj.reportparam.SUMMARYREPORT?"Purchase Order Report":"Purchase Order Report_1",this.repObj.REPORTDISPLAYNAME="Purchase Order Report",this._reportFilterService.PurchaseOrderReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_ACID=r.ACID,this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}checkDeliveryDate(){1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE=!1)}checkExpiryDate(){1==this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE&&(this._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE=!1)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(su,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:144,vars:47,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],["name","nepaliDateTo",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","0"],["value","1"],["value","2"],["value","3"],["value","10"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["value","%"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Order Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE=i})("change",function(){return t.checkDeliveryDate()}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE=i})("change",function(i){return t.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE=i})("change",function(i){return t.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",16),e.NdJ("change",function(i){return t.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE=i}),e.qZA()()()()()(),e.TgZ(59,"fieldset")(60,"legend",10)(61,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE=i})("change",function(){return t.checkExpiryDate()}),e.qZA(),e._uU(62,"Order Expiry Date Range Selection : "),e.qZA(),e.TgZ(63,"div",1)(64,"div",11)(65,"div",12)(66,"div")(67,"label"),e._uU(68," From:(AD) "),e.qZA()(),e.TgZ(69,"div")(70,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE=i})("change",function(i){return t.changeFromExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(71,"div")(72,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeFromExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE=i}),e.qZA()()(),e.TgZ(73,"div",5)(74,"div")(75,"label"),e._uU(76," To:(AD) "),e.qZA()(),e.TgZ(77,"div")(78,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE=i})("change",function(i){return t.changeToExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(79,"div")(80,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeToExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE=i}),e.qZA()()()()()()(),e.TgZ(81,"div",17)(82,"fieldset")(83,"legend",10),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",1)(86,"div",18)(87,"label",19),e._uU(88,"Supplier :"),e.qZA()(),e.TgZ(89,"div",20)(90,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(91,"div",1)(92,"div",18)(93,"label",19),e._uU(94,"PO Status :"),e.qZA()(),e.TgZ(95,"div",20)(96,"select",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS=i}),e._UZ(97,"option",23),e.TgZ(98,"option",24),e._uU(99,"New/Pending PO"),e.qZA(),e.TgZ(100,"option",25),e._uU(101,"Confirmed PO"),e.qZA(),e.TgZ(102,"option",26),e._uU(103,"Non Confirmed PO"),e.qZA(),e.TgZ(104,"option",27),e._uU(105,"Cancelled PO"),e.qZA(),e.TgZ(106,"option",28),e._uU(107,"Delivered PO"),e.qZA()()()(),e.TgZ(108,"div",1)(109,"div",18)(110,"label",19),e._uU(111,"PO Type :"),e.qZA()(),e.TgZ(112,"div",20)(113,"select",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE=i}),e._UZ(114,"option",23),e.TgZ(115,"option",24),e._uU(116,"PO - Local"),e.qZA(),e.TgZ(117,"option",25),e._uU(118,"PO - Import"),e.qZA()()()()(),e.TgZ(119,"fieldset")(120,"legend",10),e._uU(121,"Report Type :"),e.qZA(),e.TgZ(122,"div",29)(123,"div",30)(124,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(125,"label"),e._uU(126,"Detail Report"),e.qZA()(),e.TgZ(127,"div",30)(128,"input",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(129,"label"),e._uU(130,"Summary Report"),e.qZA()()()(),e.TgZ(131,"fieldset")(132,"legend",10),e._uU(133,"Division Selection:"),e.qZA(),e.TgZ(134,"select",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV=i}),e.YNc(135,lu,2,0,"option",33),e.YNc(136,pu,2,2,"option",34),e.qZA()()()()(),e.TgZ(137,"div",35)(138,"button",36),e.NdJ("click",function(){return t.onload()}),e._uU(139,"RUN"),e.qZA(),e.TgZ(140,"button",37),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(141,"Close"),e.qZA()()()()()(),e.TgZ(142,"generic-popup-grid",38,39),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_BSDATE2),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DELIVERYDATE),e.xp6(9),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMDELBSDATE),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TODELBSDATE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_EXPIRYDATE),e.xp6(9),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPDATE),e.xp6(2),e.Q6J("id","from")("label","From")("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_FROMEXPBSDATE),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPDATE),e.xp6(2),e.Q6J("id","to")("label","From")("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_TOEXPBSDATE),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUPPLIER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_STATUS),e.xp6(17),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_POTYPE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderReportObj.PurchaseOrderReport_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const _u=["genericGridSupplierPopup"],du=["genericGridItemPopup"];function hu(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function uu(n,a){1&n&&(e.TgZ(0,"option",36),e._uU(1,"ALL"),e.qZA())}function gu(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let Su=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",ACID:"%",REPORTMODE:0,CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",MGROUP:"",REPORTTYPE:0,ITEMWISEREPORT:0,SHOWITEMWISESUMMARY:0,SHOWSUPPLIERWISEITEM:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.PurchaseOrderOutstandingObj.assignPreviousValue&&(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT="0",this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=this.masterService.toADDate(r)}}changeFromDeliveryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=this.masterService.toADDate(r)}}changeToDeliveryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=this.masterService.toADDate(r)}}onload(){this.checkValue(),this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE:0,this.repObj.reportparam.ITEMWISEREPORT=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT:0,this.repObj.reportparam.SHOWITEMWISESUMMARY=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY:0,this.repObj.reportparam.SHOWSUPPLIERWISEITEM=this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM?this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM:0,0==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE&&(this.repObj.reportparam.REPORTMODE=1),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMWISEREPORT?this.repObj.reportname="Purchase Order Outstanding Report":1==this.repObj.reportparam.ITEMWISEREPORT&&0==this.repObj.reportparam.SHOWITEMWISESUMMARY?this.repObj.reportname="Purchase Order Outstanding Report_1":1==this.repObj.reportparam.ITEMWISEREPORT&&1==this.repObj.reportparam.SHOWITEMWISESUMMARY&&(this.repObj.reportname="Purchase Order Outstanding Report_2"),this.repObj.REPORTDISPLAYNAME="Purchase Order Outstanding Report",this._reportFilterService.PurchaseOrderOutstandingObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ACID=r.ACID,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_MCODE=r.MCODE,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM=r.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(){0==this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT&&(this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=0,this._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=0)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-order-outstanding"]],viewQuery:function(r,t){if(1&r&&(e.Gf(_u,5),e.Gf(du,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:153,vars:43,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"col-md-1",2,"margin-left","-8%"],["type","checkbox","name","reportTypeSelection",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-5"],[2,"margin-left","-7%","width","100%"],[1,"col"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Order - Outstanding Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE=i})("change",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE=i.target.checked?1:0}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE=i})("change",function(i){return t.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE=i})("change",function(i){return t.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE=i}),e.qZA()()()()()()(),e.TgZ(59,"div",16)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Type Selection :"),e.qZA(),e.TgZ(63,"div",11)(64,"div",5)(65,"div",17)(66,"div",1)(67,"div",18)(68,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return t.checkValue()}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Purchase Order Wise"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",18)(74,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return t.checkValue()}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Wise Report"),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",17)(80,"div",1)(81,"div",23)(82,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=i})("change",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY=i.target.checked?1:0}),e.qZA()(),e.TgZ(83,"div",20)(84,"label",21),e._uU(85,"Show Item Wise Summary"),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",23)(88,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=i})("change",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM=i.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",20)(90,"label",21),e._uU(91,"Show Supplier Wise Item"),e.qZA()()()()()()(),e.TgZ(92,"fieldset")(93,"legend",10),e._uU(94,"Report Filter Option :"),e.qZA(),e.TgZ(95,"div",1)(96,"div",25)(97,"label",26),e._uU(98,"PO Delivery Status :"),e.qZA()(),e.TgZ(99,"div",27)(100,"div",1)(101,"div",18)(102,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(103,"div",20)(104,"label",21),e._uU(105,"Outstanding Only"),e.qZA()()(),e.TgZ(106,"div",1)(107,"div",18)(108,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(109,"div",20)(110,"label",21),e._uU(111,"Delivered Only"),e.qZA()()(),e.TgZ(112,"div",1)(113,"div",18)(114,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(115,"div",20)(116,"label",21),e._uU(117,"Both"),e.qZA()()()()(),e.TgZ(118,"div",1)(119,"div",31)(120,"label",32),e._uU(121,"Supplier :"),e.qZA()(),e.TgZ(122,"div",27)(123,"input",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(124,"div",1)(125,"div",31)(126,"label",32),e._uU(127,"Item Name :"),e.qZA()(),e.TgZ(128,"div",27)(129,"input",34),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(130,"div",1)(131,"div",31)(132,"label",32),e._uU(133,"Item Group :"),e.qZA()(),e.TgZ(134,"div",27)(135,"select",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP=i}),e._UZ(136,"option",36),e.YNc(137,hu,2,2,"option",37),e.qZA()()()(),e.TgZ(138,"fieldset")(139,"legend",10),e._uU(140,"Division Selection:"),e.qZA(),e.TgZ(141,"select",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV=i}),e.YNc(142,uu,2,0,"option",38),e.YNc(143,gu,2,2,"option",37),e.qZA()()()()(),e.TgZ(144,"div",39)(145,"button",40),e.NdJ("click",function(){return t.onload()}),e._uU(146,"RUN"),e.qZA(),e.TgZ(147,"button",41),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(148,"Close"),e.qZA()()()()()(),e.TgZ(149,"generic-popup-grid",42,43),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(151,"generic-popup-grid",42,44),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_BSDATE2),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DELIVERYDATE),e.xp6(9),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_FROMDELBSDATE),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_TODELBSDATE),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWITEMWISESUMMARY)("disabled",0==t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SHOWSUPPLIERWISEITEM)("disabled",0==t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMWISEREPORT),e.xp6(14),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_REPORTTYPE),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_SUPPLIER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEM),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseOrderOutstandingObj.PurchaseOrderOutstanding_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var mu=C(30334);const Ou=["genericGridCustomerPopup"],bu=["genericGridItemPopup"],Tu=["genericGridSalesMan"];function vu(n,a){if(1&n&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.ID),e.xp6(1),e.Oqu(r.STATUS)}}function fu(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",16)(2,"label",17),e._uU(3," Decline Remarks : "),e.qZA()(),e.TgZ(4,"div",18)(5,"select",38),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.selectedOption=o)})("change",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onStatusChange())}),e.YNc(6,vu,2,2,"option",39),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r.selectedOption),e.xp6(1),e.Q6J("ngForOf",r.remarksList)}}function Cu(n,a){1&n&&(e.TgZ(0,"option",41),e._uU(1,"ALL"),e.qZA())}function Au(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let Pu=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._paymentTermsService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",ACID:"%",CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",SMANID:"%",SALESMANNAME:"",STATUS:100,CUSTID:"",declinemode:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForSalesMan=new m.im,this.remarksList=[],this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.getDeclineStatusRemarks()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.QuotationReportObj.assignPreviousValue&&(this._reportFilterService.QuotationReportObj.QuotationReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.QuotationReportObj.QuotationReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.QuotationReportObj.QuotationReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.QuotationReportObj.QuotationReport_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.QuotationReportObj.QuotationReport_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.QuotationReportObj.QuotationReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.QuotationReportObj.QuotationReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.QuotationReportObj.QuotationReport_DIV?this._reportFilterService.QuotationReportObj.QuotationReport_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.QuotationReportObj.QuotationReport_ACID?this._reportFilterService.QuotationReportObj.QuotationReport_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID?this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER?this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.QuotationReportObj.QuotationReport_ITEM?this._reportFilterService.QuotationReportObj.QuotationReport_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.QuotationReportObj.QuotationReport_MCODE?this._reportFilterService.QuotationReportObj.QuotationReport_MCODE:"%",this.repObj.reportparam.SMANID=this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID?this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID:"%",this.repObj.reportparam.SALESMANNAME=this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN?this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN:"",this.repObj.reportparam.STATUS=this._reportFilterService.QuotationReportObj.QuotationReport_STATUS?this._reportFilterService.QuotationReportObj.QuotationReport_STATUS:100,this.repObj.reportparam.declinemode=this.selectedOption,""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SMANID="%"),this.repObj.reportname="Quotation Report",this.repObj.REPORTDISPLAYNAME="Quotation Report",this._reportFilterService.QuotationReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.QuotationReportObj.QuotationReport_ACID=r.ACID,this._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER=r.ACNAME,this._reportFilterService.QuotationReportObj.QuotationReport_CUSTID=r.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.QuotationReportObj.QuotationReport_MCODE=r.MCODE,this._reportFilterService.QuotationReportObj.QuotationReport_ITEM=r.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(r){this._reportFilterService.QuotationReportObj.QuotationReport_SALESMANID=r.SALESMANID,this._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN=r.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}getDeclineStatusRemarks(){this._paymentTermsService.getDeclineStatusRemarks().subscribe(r=>{this.remarksList=r.result})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(mu.S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["quotation-report-selector"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Ou,5),e.Gf(bu,5),e.Gf(Tu,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%","width","110% !important"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","2"],["value","1"],["value","0"],["class","row",4,"ngIf"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],["genericGridSalesMan",""],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["value","",3,"value",4,"ngFor","ngForOf"],["value","",3,"value"],["value","%"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Quotation Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2=i}),e.qZA()()()()()()(),e.TgZ(37,"div",15)(38,"fieldset")(39,"legend",10),e._uU(40,"Report Filter Option :"),e.qZA(),e.TgZ(41,"div",1)(42,"div",16)(43,"label",17),e._uU(44,"Quotation Status : "),e.qZA()(),e.TgZ(45,"div",18)(46,"select",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_STATUS=i}),e._UZ(47,"option",20),e.TgZ(48,"option",21),e._uU(49,"Declined Quotation"),e.qZA(),e.TgZ(50,"option",22),e._uU(51,"SO Converted Quotation"),e.qZA(),e.TgZ(52,"option",23),e._uU(53,"SO Pending Quotation"),e.qZA()()()(),e.YNc(54,fu,7,2,"div",24),e.TgZ(55,"div",1)(56,"div",16)(57,"label",25),e._uU(58,"Customer :"),e.qZA()(),e.TgZ(59,"div",18)(60,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(61,"div",1)(62,"div",16)(63,"label",25),e._uU(64,"Item Name :"),e.qZA()(),e.TgZ(65,"div",18)(66,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(67,"div",1)(68,"div",16)(69,"label",25),e._uU(70,"Salesman :"),e.qZA()(),e.TgZ(71,"div",18)(72,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN=i})("keydown.enter",function(){return t.salesmanEnterCommand()})("keydown.Tab",function(){return t.salesmanEnterCommand()})("keyup",function(){return t.salesmanEnterCommand()})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(73,"fieldset")(74,"legend",10),e._uU(75,"Division Selection:"),e.qZA(),e.TgZ(76,"select",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.QuotationReportObj.QuotationReport_DIV=i}),e.YNc(77,Cu,2,0,"option",29),e.YNc(78,Au,2,2,"option",30),e.qZA()()()()(),e.TgZ(79,"div",31)(80,"button",32),e.NdJ("click",function(){return t.onload()}),e._uU(81,"RUN"),e.qZA(),e.TgZ(82,"button",33),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(83,"Close"),e.qZA()()()()()(),e.TgZ(84,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(86,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(88,"generic-popup-grid",34,37),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupSalesman(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_BSDATE2),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_STATUS),e.xp6(8),e.Q6J("ngIf",2==t._reportFilterService.QuotationReportObj.QuotationReport_STATUS),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_CUSTOMER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_ITEM),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_SALESMAN),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.QuotationReportObj.QuotationReport_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForSalesMan))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Mu=["genericGridCustomerPopup"],Ru=["genericGridUserListPopup"],Eu=["genericGridSalesMan"];function Du(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Iu(n,a){1&n&&(e.TgZ(0,"option",30),e._uU(1,"ALL"),e.qZA())}function Nu(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let ku=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",FROMEXPDATE:"",TOEXPDATE:"",ACID:"%",SUMMARYREPORT:0,STATUS:100,REPORTMODE:0,CUSTOMERNAME:"",USER:"",CCENTER:"",COSTCENTER:"",SALESMANNAME:"",SMANID:"%",CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.costCenterList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForUserList=new m.im,this.gridPopupSettingsForSalesMan=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]})}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesOrderReportObj.assignPreviousValue&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT="0",this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=(new Date).toJSON().split("T")[0]),this.changeEntryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE,"AD"),this.changeFromExpiryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE,"AD"),this.changeToExpiryDate(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=this.masterService.toADDate(r)}}changeFromDeliveryDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=this.masterService.toADDate(r)}}changeToDeliveryDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=this.masterService.toADDate(r)}}changeFromExpiryDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=this.masterService.toADDate(r)}}changeToExpiryDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE,this.repObj.reportparam.FROMEXPDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE,this.repObj.reportparam.TOEXPDATE=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COSTCENTER=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV:"%",this.repObj.reportparam.SUMMARYREPORT=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT:0,this.repObj.reportparam.STATUS=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS:100,this.repObj.reportparam.ACID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER:"",this.repObj.reportparam.USER=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER:"%",this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN:"",this.repObj.reportparam.SMANID=this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID?this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID:"%",0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE?this.repObj.reportparam.REPORTMODE=1:0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE&&(this.repObj.reportparam.REPORTMODE=2),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SMANID="%"),0==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT?this.repObj.reportname="Sales Order Report":1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT&&(this.repObj.reportname="Sales Order Report_1"),this.repObj.REPORTDISPLAYNAME="Sales Order Report",this._reportFilterService.SalesOrderReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_ACID=r.ACID,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER=r.ACNAME,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTID=r.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getAccountPagedListByPType/PA/C",defaultFilterIndex:this.userSetting.FilterIndexForCustomer,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ACCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}checkDeliveryDate(){1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE=!1)}checkExpiryDate(){1==this._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE&&(this._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE=!1)}UserListEnter(r){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(r){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER=r.UNAME}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(r){this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMANID=r.SALESMANID,this._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN=r.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesorderreport-selector"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Mu,5),e.Gf(Ru,5),e.Gf(Eu,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:159,vars:52,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","100"],["value","0"],["value","20"],["value","30"],["value","10"],["value","1"],["value","2"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-6"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridUserListPopup",""],["genericGridSalesMan",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Order Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE=i})("change",function(){return t.checkDeliveryDate()}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE=i})("change",function(i){return t.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE=i})("change",function(i){return t.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE=i}),e.qZA()()()()()(),e.TgZ(59,"fieldset")(60,"legend",10)(61,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE=i})("change",function(){return t.checkExpiryDate()}),e.qZA(),e._uU(62,"Order Expiry Date Range Selection : "),e.qZA(),e.TgZ(63,"div",1)(64,"div",11)(65,"div",12)(66,"div")(67,"label"),e._uU(68," From:(AD) "),e.qZA()(),e.TgZ(69,"div")(70,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE=i})("change",function(i){return t.changeFromExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(71,"div")(72,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeFromExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE=i}),e.qZA()()(),e.TgZ(73,"div",5)(74,"div")(75,"label"),e._uU(76," To:(AD) "),e.qZA()(),e.TgZ(77,"div")(78,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE=i})("change",function(i){return t.changeToExpiryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(79,"div")(80,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeToExpiryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE=i}),e.qZA()()()()()()(),e.TgZ(81,"div",16)(82,"fieldset")(83,"legend",10),e._uU(84,"Report Filter Option :"),e.qZA(),e.TgZ(85,"div",1)(86,"div",17)(87,"label",18),e._uU(88,"Customer :"),e.qZA()(),e.TgZ(89,"div",19)(90,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(91,"div",1)(92,"div",17)(93,"label",18),e._uU(94,"User Name :"),e.qZA()(),e.TgZ(95,"div",19)(96,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER=i})("keydown.enter",function(i){return t.UserListEnter(i)})("keydown.Tab",function(i){return t.UserListEnter(i)})("keyup",function(i){return t.UserListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(97,"div",1)(98,"div",17)(99,"label",18),e._uU(100,"SO Status :"),e.qZA()(),e.TgZ(101,"div",19)(102,"select",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS=i}),e._UZ(103,"option",23),e.TgZ(104,"option",24),e._uU(105,"New/Pending SO "),e.qZA(),e.TgZ(106,"option",25),e._uU(107,"Delivered SO"),e.qZA(),e.TgZ(108,"option",26),e._uU(109,"Partial Delivered SO"),e.qZA(),e.TgZ(110,"option",27),e._uU(111,"Force Closed SO"),e.qZA(),e.TgZ(112,"option",28),e._uU(113,"Confirmed SO"),e.qZA(),e.TgZ(114,"option",29),e._uU(115,"NonConfirmed SO"),e.qZA()()()(),e.TgZ(116,"div",1)(117,"div",17)(118,"label",18),e._uU(119,"Cost Center:"),e.qZA()(),e.TgZ(120,"div",19)(121,"select",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER=i}),e._UZ(122,"option",30),e.YNc(123,Du,2,2,"option",31),e.qZA()()(),e.TgZ(124,"div",1)(125,"div",17)(126,"label",18),e._uU(127,"Salesman :"),e.qZA()(),e.TgZ(128,"div",19)(129,"input",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN=i})("keydown.enter",function(){return t.salesmanEnterCommand()})("keydown.Tab",function(){return t.salesmanEnterCommand()})("keyup",function(){return t.salesmanEnterCommand()})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(130,"fieldset")(131,"legend",10),e._uU(132,"Report Type :"),e.qZA(),e.TgZ(133,"div",33)(134,"div",34)(135,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(136,"label"),e._uU(137,"Detail Report"),e.qZA()(),e.TgZ(138,"div",34)(139,"input",36),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT=i}),e.qZA(),e.TgZ(140,"label"),e._uU(141,"Summary Report"),e.qZA()()()(),e.TgZ(142,"fieldset")(143,"legend",10),e._uU(144,"Division Selection:"),e.qZA(),e.TgZ(145,"select",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV=i}),e.YNc(146,Iu,2,0,"option",37),e.YNc(147,Nu,2,2,"option",31),e.qZA()()()()(),e.TgZ(148,"div",38)(149,"button",39),e.NdJ("click",function(){return t.onload()}),e._uU(150,"RUN"),e.qZA(),e.TgZ(151,"button",40),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(152,"Close"),e.qZA()()()()()(),e.TgZ(153,"generic-popup-grid",41,42),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(155,"generic-popup-grid",41,43),e.NdJ("onItemDoubleClick",function(i){return t.onUserListSelected(i)}),e.qZA(),e.TgZ(157,"generic-popup-grid",41,44),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupSalesman(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_BSDATE2),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_DELIVERYDATE),e.xp6(9),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELDATE),e.xp6(2),e.Q6J("id","nepDatefrom")("label","From")("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMDELBSDATE),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELDATE),e.xp6(2),e.Q6J("id","nepDateto")("label","From")("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_TODELBSDATE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_EXPIRYDATE),e.xp6(9),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPDATE),e.xp6(2),e.Q6J("id","Datefrom")("label","From")("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_FROMEXPBSDATE),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPDATE),e.xp6(2),e.Q6J("id","Dateto")("label","From")("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_TOEXPBSDATE),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_CUSTOMER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_USER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_STATUS),e.xp6(19),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_CCENTER),e.xp6(2),e.Q6J("ngForOf",t.costCenterList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_SALESMAN),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_SUMMARYREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderReportObj.SalesOrderReport_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForSalesMan))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const ju=["genericGridCustomerPopup"],yu=["genericGridItemPopup"];function Fu(n,a){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function wu(n,a){1&n&&(e.TgZ(0,"option",38),e._uU(1,"ALL"),e.qZA())}function Wu(n,a){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let Lu=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",FROMDATE:"",TODATE:"",FROMDELDATE:"",TODELDATE:"",ACID:"%",REPORTMODE:0,CUSTOMERNAME:"",MCODE:"%",ITEMNAME:"",MGROUP:"",REPORTTYPE:0,ITEMWISEREPORT:0,SHOWITEMWISESUMMARY:0,SHOWCUSTOMERWISEITEM:0,CUSTID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForItem=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesOrderOutstandingObj.assignPreviousValue&&(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT="0",this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,"AD"),this.changeFromDeliveryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE,"AD"),this.changeToDeliveryDate(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=this.masterService.toADDate(r)}}changeFromDeliveryDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=this.masterService.toADDate(r)}}changeToDeliveryDate(r,t){if("AD"==t)this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=this.masterService.toADDate(r)}}onload(){this.checkValue(),this.repObj.reportparam.DATE1=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,this.repObj.reportparam.FROMDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2,this.repObj.reportparam.FROMDELDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE,this.repObj.reportparam.TODELDATE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM:"",this.repObj.reportparam.MCODE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE:0,this.repObj.reportparam.ITEMWISEREPORT=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT:0,this.repObj.reportparam.SHOWITEMWISESUMMARY=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY:0,this.repObj.reportparam.SHOWCUSTOMERWISEITEM=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM:0,this.repObj.reportparam.CUSTID=this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID?this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID:"%",0==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE?this.repObj.reportparam.REPORTMODE=0:1==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE&&(this.repObj.reportparam.REPORTMODE=1),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMWISEREPORT?this.repObj.reportname="Sales Order Outstanding Report":1==this.repObj.reportparam.ITEMWISEREPORT&&0==this.repObj.reportparam.SHOWITEMWISESUMMARY?this.repObj.reportname="Sales Order Outstanding Report_1":1==this.repObj.reportparam.ITEMWISEREPORT&&1==this.repObj.reportparam.SHOWITEMWISESUMMARY&&(this.repObj.reportname="Sales Order Outstanding Report_2"),this.repObj.REPORTDISPLAYNAME="Sales Order Outstanding Report",this._reportFilterService.SalesOrderOutstandingObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ACID=r.ACID,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER=r.ACNAME,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTID=r.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getAccountPagedListByPType/PA/C",defaultFilterIndex:this.userSetting.FilterIndexForCustomer,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ACCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_MCODE=r.MCODE,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM=r.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(){0==this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT&&(this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=0,this._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=0)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesorderoutstanding-selector"]],viewQuery:function(r,t){if(1&r&&(e.Gf(ju,5),e.Gf(yu,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:159,vars:44,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","checkbox",2,"margin-right","10px",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"row",2,"flex-wrap","nowrap"],[1,"col-md-1",2,"margin-left","-8%"],["type","checkbox","name","reportTypeSelection",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-5"],[2,"margin-left","-7%","width","100%"],[1,"col"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","%",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Order - Outstanding Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10)(39,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE=i})("change",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE=i.target.checked?1:0}),e.qZA(),e._uU(40,"Delivery Date Range Selection : "),e.qZA(),e.TgZ(41,"div",1)(42,"div",11)(43,"div",12)(44,"div")(45,"label"),e._uU(46," From:(AD) "),e.qZA()(),e.TgZ(47,"div")(48,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE=i})("change",function(i){return t.changeFromDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(49,"div")(50,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeFromDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE=i}),e.qZA()()(),e.TgZ(51,"div",5)(52,"div")(53,"label"),e._uU(54," To:(AD) "),e.qZA()(),e.TgZ(55,"div")(56,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE=i})("change",function(i){return t.changeToDeliveryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(57,"div")(58,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeToDeliveryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE=i}),e.qZA()()()()()()(),e.TgZ(59,"div",16)(60,"fieldset")(61,"legend",10),e._uU(62,"Report Type Selection :"),e.qZA(),e.TgZ(63,"div",11)(64,"div",5)(65,"div",17)(66,"div",1)(67,"div",18)(68,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return t.checkValue()}),e.qZA()(),e.TgZ(69,"div",20)(70,"label",21),e._uU(71,"Sales Order Wise"),e.qZA()()(),e.TgZ(72,"div",1)(73,"div",18)(74,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT=i})("change",function(){return t.checkValue()}),e.qZA()(),e.TgZ(75,"div",20)(76,"label",21),e._uU(77,"Item Wise Report"),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",17)(80,"div",23)(81,"div",24)(82,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=i})("change",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY=i.target.checked?1:0}),e.qZA()(),e.TgZ(83,"div",20)(84,"label",21),e._uU(85,"Show Item Wise Summary"),e.qZA()()(),e.TgZ(86,"div",23)(87,"div",24)(88,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=i})("change",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM=i.target.checked?1:0}),e.qZA()(),e.TgZ(89,"div",20)(90,"label",21),e._uU(91,"Show Customer Wise Item"),e.qZA()()()()()()(),e.TgZ(92,"fieldset")(93,"legend",10),e._uU(94,"Report Filter Option :"),e.qZA(),e.TgZ(95,"div",1)(96,"div",26)(97,"label",27),e._uU(98,"SO Delivery Status :"),e.qZA()(),e.TgZ(99,"div",28)(100,"div",1)(101,"div",18)(102,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(103,"div",20)(104,"label",21),e._uU(105,"Outstanding Only"),e.qZA()()(),e.TgZ(106,"div",1)(107,"div",18)(108,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(109,"div",20)(110,"label",21),e._uU(111,"Delivered Only"),e.qZA()()(),e.TgZ(112,"div",1)(113,"div",18)(114,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(115,"div",20)(116,"label",21),e._uU(117,"Both"),e.qZA()()(),e.TgZ(118,"div",1)(119,"div",18)(120,"input",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE=i}),e.qZA()(),e.TgZ(121,"div",20)(122,"label",21),e._uU(123,"Force Closed Only "),e.qZA()()()()(),e.TgZ(124,"div",1)(125,"div",33)(126,"label",34),e._uU(127,"Customer :"),e.qZA()(),e.TgZ(128,"div",28)(129,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(130,"div",1)(131,"div",33)(132,"label",34),e._uU(133,"Item Name :"),e.qZA()(),e.TgZ(134,"div",28)(135,"input",36),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(136,"div",1)(137,"div",33)(138,"label",34),e._uU(139,"Item Group :"),e.qZA()(),e.TgZ(140,"div",28)(141,"select",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP=i}),e._UZ(142,"option",38),e.YNc(143,Fu,2,2,"option",39),e.qZA()()()(),e.TgZ(144,"fieldset")(145,"legend",10),e._uU(146,"Division Selection:"),e.qZA(),e.TgZ(147,"select",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV=i}),e.YNc(148,wu,2,0,"option",40),e.YNc(149,Wu,2,2,"option",39),e.qZA()()()()(),e.TgZ(150,"div",41)(151,"button",42),e.NdJ("click",function(){return t.onload()}),e._uU(152,"RUN"),e.qZA(),e.TgZ(153,"button",43),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(154,"Close"),e.qZA()()()()()(),e.TgZ(155,"generic-popup-grid",44,45),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(157,"generic-popup-grid",44,46),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_BSDATE2),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DELIVERYDATE),e.xp6(9),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELDATE),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_FROMDELBSDATE),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELDATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_TODELBSDATE),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWITEMWISESUMMARY)("disabled",0==t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_SHOWCUSTOMERWISEITEM)("disabled",0==t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMWISEREPORT),e.xp6(14),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_REPORTTYPE),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_CUSTOMER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEM),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_ITEMGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesOrderOutstandingObj.SalesOrderOutstanding_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Zu=["genericGridSupplierPopup"],xu=["genericGridItemPopup"];function Uu(n,a){1&n&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function Vu(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Bu(n,a){1&n&&(e.TgZ(0,"option",30),e._uU(1,"Main Warehouse"),e.qZA())}function Yu(n,a){if(1&n&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.Q6J("ngValue",r.NAME),e.xp6(1),e.Oqu(r.NAME)}}function Ju(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Yu,2,2,"option",31),e.BQk()),2&n){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.warehouseList)}}function qu(n,a){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"div",5)(7,"div",6)(8,"h5",7),e._uU(9,"Consolidated Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(12,"\xd7"),e.qZA()()()(),e._UZ(13,"hr"),e.TgZ(14,"div",9)(15,"div",10)(16,"div",6)(17,"fieldset")(18,"legend",11),e._uU(19,"Date Range Selection : "),e.qZA(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div")(24,"label"),e._uU(25," From:(AD) "),e.qZA()(),e.TgZ(26,"div")(27,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(28,"div")(29,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1=o)}),e.qZA()()(),e.TgZ(30,"div",6)(31,"div")(32,"label"),e._uU(33," To:(AD) "),e.qZA()(),e.TgZ(34,"div")(35,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(36,"div")(37,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2=o)}),e.qZA()()()()()(),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV=o)}),e.YNc(42,Uu,2,0,"option",17),e.YNc(43,Vu,2,2,"option",18),e.qZA()()(),e.TgZ(44,"div",19)(45,"fieldset")(46,"legend",11),e._uU(47,"Company Selection:"),e.qZA(),e.TgZ(48,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY=o)}),e.TgZ(49,"option",20),e._uU(50,"All"),e.qZA(),e.TgZ(51,"option",21),e._uU(52,"Nestle"),e.qZA(),e.TgZ(53,"option",22),e._uU(54,"Non-Nestle"),e.qZA()()(),e.TgZ(55,"fieldset")(56,"legend",11),e._uU(57,"Warehouse Type:"),e.qZA(),e.TgZ(58,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE=o)}),e.TgZ(59,"option",20),e._uU(60,"All"),e.qZA(),e.TgZ(61,"option",23),e._uU(62,"Saleable"),e.qZA(),e.TgZ(63,"option",24),e._uU(64,"Unsaleable"),e.qZA()()(),e.TgZ(65,"fieldset")(66,"legend",11),e._uU(67,"Warehouse Selection:"),e.qZA(),e.TgZ(68,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE=o)}),e.TgZ(69,"option",20),e._uU(70,"All"),e.qZA(),e.YNc(71,Bu,2,0,"option",25),e.YNc(72,Ju,2,1,"ng-container",0),e.qZA()()()()(),e.TgZ(73,"div",26)(74,"button",27),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onload())}),e._uU(75,"RUN"),e.qZA(),e.TgZ(76,"button",28),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(77,"Close"),e.qZA()()()()()(),e.BQk()}if(2&n){const r=e.oxw();e.xp6(27),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList),e.xp6(5),e.Q6J("ngModel",r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE),e.xp6(10),e.Q6J("ngModel",r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE),e.xp6(3),e.Q6J("ngIf","sellable"==r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE),e.xp6(1),e.Q6J("ngIf","nonsellable"==r._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE)}}function Gu(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Hu(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(r);const i=e.oxw(2);return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObjSHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",48)(4,"label",49),e._uU(5,"Show Batch Wise Stock Report "),e.qZA()()()}if(2&n){const r=e.oxw(2);e.xp6(2),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE)("checked",1==r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObjSHOWBATCHWISE)}}function Qu(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function zu(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Ku(n,a){if(1&n&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function $u(n,a){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",2)(6,"div",5)(7,"div",6)(8,"h5",33),e._uU(9,"Consolidated Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(10,"div",6)(11,"button",8),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(12,"\xd7"),e.qZA()()()(),e._UZ(13,"hr"),e.TgZ(14,"div",9)(15,"div",10)(16,"div",6)(17,"fieldset")(18,"legend",11),e._uU(19,"Date Range Selection : "),e.qZA(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div")(24,"label"),e._uU(25," From:(AD) "),e.qZA()(),e.TgZ(26,"div")(27,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(28,"div")(29,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1=o)}),e.qZA()()(),e.TgZ(30,"div",6)(31,"div")(32,"label"),e._uU(33," To:(AD) "),e.qZA()(),e.TgZ(34,"div")(35,"input",34),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(36,"div")(37,"nepali-date-picker",15),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2=o)}),e.qZA()()()()()(),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Division Selection:"),e.qZA(),e.TgZ(41,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV=o)}),e.TgZ(42,"option",20),e._uU(43,"ALL"),e.qZA(),e.YNc(44,Gu,2,2,"option",18),e.qZA()(),e.TgZ(45,"fieldset")(46,"legend",11),e._uU(47,"Report Option :"),e.qZA(),e.TgZ(48,"div",35)(49,"div",36)(50,"div",37)(51,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(52,"div",39)(53,"label",40),e._uU(54,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(55,"div",36)(56,"div",37)(57,"input",41),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(58,"div",39)(59,"label",40),e._uU(60,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(61,"div",36)(62,"div",37)(63,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode=o)}),e.qZA()(),e.TgZ(64,"div",39)(65,"label",40),e._uU(66,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(67,"fieldset",43),e.YNc(68,Hu,6,2,"div",44),e.TgZ(69,"div",45)(70,"div",46)(71,"input",47),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObj_ZEROBALSTOCKALSO=o.target.checked?1:0)}),e.qZA()(),e.TgZ(72,"div",48)(73,"label",49),e._uU(74,"Show Zero Balance Stock Also "),e.qZA()()()()(),e.TgZ(75,"div",50)(76,"fieldset")(77,"legend"),e._uU(78,"Report Filter Option :"),e.qZA(),e.TgZ(79,"div",9)(80,"div",51)(81,"label",52),e._uU(82,"Item Group :"),e.qZA()(),e.TgZ(83,"div",48)(84,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP=o)}),e._UZ(85,"option",20),e.YNc(86,Qu,2,2,"option",18),e.qZA()()(),e.TgZ(87,"div",2)(88,"div",51)(89,"label",52),e._uU(90,"Item Category :"),e.qZA()(),e.TgZ(91,"div",48)(92,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT=o)}),e._UZ(93,"option",20),e.YNc(94,zu,2,2,"option",18),e.qZA()()(),e.TgZ(95,"div",2)(96,"div",51)(97,"label",52),e._uU(98,"Item Type :"),e.qZA()(),e.TgZ(99,"div",48)(100,"select",16),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE=o)}),e._UZ(101,"option",53),e.YNc(102,Ku,2,2,"option",18),e.qZA()()(),e.TgZ(103,"div",54)(104,"div",51)(105,"label",55),e._uU(106,"Supplier Name :"),e.qZA()(),e.TgZ(107,"div",48)(108,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER=o)})("keydown.enter",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keydown.Tab",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keyup",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.customerEnterCommand(o))})("keypress",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()()(),e.TgZ(109,"fieldset")(110,"legend",11),e._uU(111,"Item Selection :"),e.qZA(),e.TgZ(112,"div",57)(113,"div",51)(114,"label",52),e._uU(115,"Item Name :"),e.qZA()(),e.TgZ(116,"div",48)(117,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM=o)})("keydown.enter",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keydown.Tab",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keyup",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.ItemEnterCommand(o))})("keypress",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.keyPress(o))}),e.qZA()()()()()()(),e.TgZ(118,"div",26)(119,"button",27),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onload())}),e._uU(120,"RUN"),e.qZA(),e.TgZ(121,"button",28),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeReportBox())}),e._uU(122,"Close"),e.qZA()()()()()(),e.TgZ(123,"generic-popup-grid",59,60),e.NdJ("onItemDoubleClick",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.dblClickPopupParty(o))}),e.qZA(),e.TgZ(125,"generic-popup-grid",59,61),e.NdJ("onItemDoubleClick",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.dblClickPopupItem(o))}),e.qZA(),e.BQk()}if(2&n){const r=e.oxw();e.xp6(27),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE1),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_BSDATE2),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(7),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode),e.xp6(5),e.Q6J("ngIf",1!=r.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO)("checked",1==r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewiseObj_ZEROBALSTOCKALSO),e.xp6(13),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP),e.xp6(2),e.Q6J("ngForOf",r.ItemGroupList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT),e.xp6(2),e.Q6J("ngForOf",r.MCatList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",r._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM),e.xp6(6),e.Q6J("popupsettings",r.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",r.gridPopupSettingsForItem)}}let Xu=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",date1:"",date2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"%",PhiscalID:"",DIVISION:"%",Warehouse:"%",WarehouseType:"%",Company:"%",MCODE:"",REPORTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",SUPPLIERDISPLAYNAME:"",params:"%",SHOWBATCHWISESTOCK:0,WAREHOUSE:"",DIVISIONWISEREPORT:0,DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",ZEROBALSTOCKALSO:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.warehouseList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.allwarehouseList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("HASANOTHER_PCL",this.userSetting.HASANOTHER_PCL),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getUnsaleableWarehouseList().subscribe(h=>{this.warehouseList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList(),0==this.userSetting.HASANOTHER_PCL&&(this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}))}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.CurrentStockWarehousewiseObj.assignPreviousValue&&(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV="%",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV="%"):(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV=this.masterService.PhiscalObj.Div),this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY="%",this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE="%",this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE="%",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode="0",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE=0,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO=0),this.changeEntryDate(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,"AD"),this.changeEntryDate(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.userSetting.HASANOTHER_PCL)this.repObj.reportparam.DATE1=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,this.repObj.reportparam.date1=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE1,this.repObj.reportparam.date2=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.PhiscalID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV:"%",this.repObj.reportparam.DIVISION=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_DIV:"%",this.repObj.reportparam.Warehouse=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSE:"%",this.repObj.reportparam.Company=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_COMPANY:"%",this.repObj.reportparam.WarehouseType=this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE?this._reportFilterService.CurrentStockWarehousewiseObj.CurrentStockWarehousewise_WAREHOUSETYPE:"%",this.repObj.reportname="Current Stock Warehousewise ReportNONDMS";else{if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME="";if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSENAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?"All":this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE:"",this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE&&"100"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP)this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE&&"100"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE);this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME="";this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT&&"%"==this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?"All":this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT&&"%"!=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE:"%",this.repObj.reportparam.REPORTYPE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE:"",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_WAREHOUSE:"%",this.repObj.reportparam.params="%",this.repObj.reportparam.DIVISIONWISEREPORT=0,this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SHOWBATCHWISE:0,this.repObj.reportparam.ZEROBALSTOCKALSO=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ZEROBALSTOCKALSO:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER?this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_SBATCH"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_1_SBATCH"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_2_SBATCH"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="":0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_1"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Warehouse Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=""}this.repObj.REPORTDISPLAYNAME="Consolidated Stock Report - Warehouse Wise",this._reportFilterService.CurrentStockWarehousewiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIERCODE=r.ACID,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MCODE=r.MCODE,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_ITEM=r.DESCA,this._reportFilterService.ConsolidatedStockWarehousewiseObj.ConsolidatedStockWarehousewise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["currentstockwarehousewise-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Zu,5),e.Gf(xu,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","400px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","315px"],["value","%"],["value","Nestle"],["value","Non Nestle"],["value","sellable"],["value","nonsellable"],["value","Main Warehouse",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"],["value","Main Warehouse"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"modal-title",2,"padding-left","3%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"display","flex","border","none","padding-bottom","20px"],["class","row checkbox","style","margin-top:5px; ",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""]],template:function(r,t){1&r&&(e.YNc(0,qu,78,20,"ng-container",0),e.YNc(1,$u,127,26,"ng-container",0)),2&r&&(e.Q6J("ngIf",1==t.userSetting.HASANOTHER_PCL),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.HASANOTHER_PCL))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const eg=["genericGridSupplierPopup"];function tg(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function rg(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function ig(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}let og=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.isActive=!1,this.REPORTMODE="0",this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,REPORT_TYPE:1,VCHR:"",ACID:"",CUSTOMERNAME:"",STATUS:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForSupplier=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.GrnReportObj.assignPreviousValue&&(this._reportFilterService.GrnReportObj.GrnReport_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.GrnReportObj.GrnReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.GrnReportObj.GrnReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT="0",this._reportFilterService.GrnReportObj.GrnReport_STATUS="0"),this.changeEntryDate(this._reportFilterService.GrnReportObj.GrnReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.GrnReportObj.GrnReport_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.GrnReportObj.GrnReport_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.GrnReportObj.GrnReport_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.GrnReportObj.GrnReport_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.GrnReportObj.GrnReport_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.GrnReportObj.GrnReport_CCENTER||null==this._reportFilterService.GrnReportObj.GrnReport_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.GrnReportObj.GrnReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.GrnReportObj.GrnReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.GrnReportObj.GrnReport_CCENTER?this._reportFilterService.GrnReportObj.GrnReport_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.GrnReportObj.GrnReport_DIV?this._reportFilterService.GrnReportObj.GrnReport_DIV:"%",this.repObj.reportparam.STATUS=this._reportFilterService.GrnReportObj.GrnReport_STATUS?this._reportFilterService.GrnReportObj.GrnReport_STATUS:0,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT?this._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT:0,this.repObj.reportparam.VCHR="%",this.repObj.reportparam.ACID=this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE?this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER?this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER:"",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.reportname="Grn Report",this.repObj.REPORTDISPLAYNAME="Grn Report",this._reportFilterService.GrnReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.GrnReportObj.GrnReport_CUSTOMERCODE=r.ACID,this._reportFilterService.GrnReportObj.GrnReport_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["grn-report-selector"]],viewQuery:function(r,t){if(1&r&&e.Gf(eg,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4","pd0"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],[2,"width","100px"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","100",2,"margin-left","20px",3,"ngModel","ngModelChange"],[2,"width","50px"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"GRN Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_DIV=i}),e.YNc(41,tg,2,0,"option",16),e.YNc(42,rg,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,ig,2,2,"option",17),e.qZA()()(),e.TgZ(51,"div",20)(52,"fieldset")(53,"legend",10),e._uU(54,"Supplier Selection :"),e.qZA(),e.TgZ(55,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Report Option :"),e.qZA(),e.TgZ(59,"div",22)(60,"div",23)(61,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(62,"label",25),e._uU(63,"Pending GRN Only"),e.qZA()(),e.TgZ(64,"div",23)(65,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(66,"label"),e._uU(67,"Billed GRN Only"),e.qZA()(),e.TgZ(68,"div",23)(69,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_STATUS=i}),e.qZA(),e.TgZ(70,"label",28),e._uU(71,"All GRN"),e.qZA()()()(),e.TgZ(72,"fieldset")(73,"legend",10),e._uU(74,"Report Type :"),e.qZA(),e.TgZ(75,"div",29)(76,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(77,"label"),e._uU(78,"Summary Report"),e.qZA()(),e.TgZ(79,"div",29)(80,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT=i}),e.qZA(),e.TgZ(81,"label"),e._uU(82,"Detail Report"),e.qZA()()()()()(),e.TgZ(83,"div",32)(84,"button",33),e.NdJ("click",function(){return t.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",34),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.TgZ(88,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.GrnReportObj.GrnReport_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.GrnReportObj.GrnReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_SUPPLIER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_STATUS),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.GrnReportObj.GrnReport_SHOWDETALREPORT),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const ng=["genericGridItemPopup"],ag=["genericGridParentItemPopup"];function sg(n,a){1&n&&(e.TgZ(0,"option",38),e._uU(1,"ALL"),e.qZA())}function lg(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let pg=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",MCODE:"",REPORTTYPE:0,ITEMNAME:"",MENUCODE:"",COMID:"",PMCODE:"",PITEMSEGREGATION:0,PITEMNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForParentItem=new m.im,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RepackReportObj.assignPreviousValue&&(this._reportFilterService.RepackReportObj.RepackReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RepackReportObj.RepackReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RepackReportObj.RepackReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE="0",this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=0),this.changeEntryDate(this._reportFilterService.RepackReportObj.RepackReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RepackReportObj.RepackReport_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.RepackReportObj.RepackReport_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.RepackReportObj.RepackReport_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.RepackReportObj.RepackReport_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.RepackReportObj.RepackReport_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RepackReportObj.RepackReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RepackReportObj.RepackReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RepackReportObj.RepackReport_DIV?this._reportFilterService.RepackReportObj.RepackReport_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RepackReportObj.RepackReport_MCODE?this._reportFilterService.RepackReportObj.RepackReport_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE?this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RepackReportObj.RepackReport_ITEM?this._reportFilterService.RepackReportObj.RepackReport_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RepackReportObj.RepackReport_MENUCODE?this._reportFilterService.RepackReportObj.RepackReport_MENUCODE:"%",this.repObj.reportparam.PMCODE=this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE?this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE:"%",this.repObj.reportparam.PITEMNAME=this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM?this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM:"%",this.repObj.reportparam.PITEMSEGREGATION=this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION?this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.PITEMNAME&&(this.repObj.reportparam.PMCODE="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Repack Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.PITEMSEGREGATION?this.repObj.reportname="Repack Report_1":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.PITEMSEGREGATION&&(this.repObj.reportname="Repack Report_2"),this.repObj.REPORTDISPLAYNAME="Repack Report",this._reportFilterService.RepackReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.RepackReportObj.RepackReport_MCODE=r.MCODE,this._reportFilterService.RepackReportObj.RepackReport_ITEM=r.DESCA,this._reportFilterService.RepackReportObj.RepackReport_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}ParentItemEnterCommand(r){this.gridPopupSettingsForParentItem=this.masterService.getGenericGridPopUpSettings("ParentItemsList"),this.genericGridParentItemPopup.show()}dblClickPopupParentItem(r){this._reportFilterService.RepackReportObj.RepackReport_PARENTMCODE=r.MCODE,this._reportFilterService.RepackReportObj.RepackReport_PARENTITEM=r.DESCA,this._reportFilterService.RepackReportObj.RepackReport_PARENTMENUCODE=r.MENUCODE}reportTypeChange(){0==this._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE&&(this._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=0)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["repack-report-selector"]],viewQuery:function(r,t){if(1&r&&(e.Gf(ng,5),e.Gf(ag,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridParentItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:90,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Parent Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridParentItemPopup",""],["value","%"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Repack Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_DIV=i}),e.YNc(41,sg,2,0,"option",16),e.YNc(42,lg,2,2,"option",17),e.qZA()()(),e.TgZ(43,"div",18)(44,"fieldset")(45,"legend",10),e._uU(46,"Report Type Selection :"),e.qZA(),e.TgZ(47,"div")(48,"div",19)(49,"div",20)(50,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE=i})("change",function(){return t.reportTypeChange()}),e.qZA()(),e.TgZ(51,"div",22)(52,"label",23),e._uU(53,"Entry Wise Report"),e.qZA()()(),e.TgZ(54,"div",19)(55,"div",20)(56,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE=i})("change",function(){return t.reportTypeChange()}),e.qZA()(),e.TgZ(57,"div",22)(58,"label",23),e._uU(59,"Item Wise Report"),e.qZA()()(),e.TgZ(60,"div",19)(61,"div",20)(62,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=i})("change",function(i){return t._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION=i.target.checked?1:0}),e.qZA()(),e.TgZ(63,"div",22)(64,"label",23),e._uU(65,"Do Parent Item Wise Segregation"),e.qZA()()()()(),e.TgZ(66,"fieldset")(67,"legend",10),e._uU(68,"Report Filter Option:"),e.qZA(),e.TgZ(69,"div",26)(70,"div",27)(71,"label",28),e._uU(72,"Item Name :"),e.qZA()(),e.TgZ(73,"div",29)(74,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(75,"div",26)(76,"div",27)(77,"label",28),e._uU(78,"Parent Item Name :"),e.qZA()(),e.TgZ(79,"div",29)(80,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RepackReportObj.RepackReport_PARENTITEM=i})("keydown.enter",function(i){return t.ParentItemEnterCommand(i)})("keydown.Tab",function(i){return t.ParentItemEnterCommand(i)})("keyup",function(i){return t.ParentItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(81,"div",32)(82,"button",33),e.NdJ("click",function(){return t.onload()}),e._uU(83,"RUN"),e.qZA(),e.TgZ(84,"button",34),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(85,"Close"),e.qZA()()()()()(),e.TgZ(86,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(88,"generic-popup-grid",35,37),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParentItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.RepackReportObj.RepackReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.RepackReportObj.RepackReport_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.RepackReportObj.RepackReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.RepackReportObj.RepackReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RepackReportObj.RepackReport_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION)("checked",1==t._reportFilterService.RepackReportObj.RepackReport_PITEMSEGREGATION)("disabled",0==t._reportFilterService.RepackReportObj.RepackReport_REPORTTYPE),e.xp6(12),e.Q6J("ngModel",t._reportFilterService.RepackReportObj.RepackReport_ITEM),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RepackReportObj.RepackReport_PARENTITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForParentItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const cg=["genericGridItemPopup"];function _g(n,a){1&n&&(e.TgZ(0,"option",47),e._uU(1,"ALL"),e.qZA())}function dg(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function hg(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.INITIAL),e.xp6(1),e.hij("",r.NAME," ")}}function ug(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=o)}),e._UZ(2,"option",47),e.YNc(3,hg,2,2,"option",17),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM),e.xp6(2),e.Q6J("ngForOf",r.reqdivisionList)}}function gg(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij("",r.NAME," ")}}function Sg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",30)(1,"select",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=o)}),e.ALo(2,"disableField"),e._UZ(3,"option",47),e.YNc(4,gg,2,2,"option",17),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM)("disabled",e.lcZ(2,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList)}}function mg(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.INITIAL),e.xp6(1),e.hij("",r.NAME," ")}}function Og(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO=o)}),e._UZ(2,"option",47),e.YNc(3,mg,2,2,"option",17),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),e.xp6(2),e.Q6J("ngForOf",r.reqdivisionList)}}function bg(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij("",r.NAME," ")}}function Tg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",30)(1,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO=o)}),e._UZ(2,"option",47),e.YNc(3,bg,2,2,"option",17),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO),e.xp6(2),e.Q6J("ngForOf",r.warehouseList)}}function vg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",50)(1,"div",51)(2,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",30)(4,"label",53),e._uU(5),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH)("checked",1==r._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH),e.xp6(3),e.hij("Disable ",r.typeWise," Wise Segragation In Report")}}let fg=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",ENTRYWISEREPORT:"",REQTYPE:"",Status:"",IGNOREBRANCH:"",REQFROM:"",REQTO:"",REQFROMDISPLAYNAME:"",REQTODISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.warehouseList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.reqdivisionList=[],this.userProfile={},this.typeWise="Division",this.gridPopupSettingsForItem=new m.im,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),console.log("this.userProfile",this.userProfile),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getDivisionWiseWarehouseList(this._transactionService.userProfile.userDivision).subscribe(h=>{this.warehouseList=h}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getNotLoginDivisionList().subscribe(h=>{this.reqdivisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RequisitionReportObj.assignPreviousValue&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RequisitionReportObj.RequisitionReport_ShowItemInGroupWiseReport=0,this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT="1",this._reportFilterService.RequisitionReportObj.RequisitionReport_Status="0",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO="%",this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE="0"),this.changeEntryDate(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=this.masterService.toADDate(r)}}onload(){if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM&&"%"==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM)this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME="All";else if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM&&"%"!=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM){let i=this.reqdivisionList.filter(l=>l.INITIAL==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM);this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME="";if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO&&"%"==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO)this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME="All";else if(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO&&"%"!=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO){let i=this.reqdivisionList.filter(l=>l.INITIAL==this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO);this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV?this._reportFilterService.RequisitionReportObj.RequisitionReport_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE?this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.RequisitionReportObj.RequisitionReport_MGROUP?this._reportFilterService.RequisitionReportObj.RequisitionReport_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.RequisitionReportObj.RequisitionReport_PTYPE?this._reportFilterService.RequisitionReportObj.RequisitionReport_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.RequisitionReportObj.RequisitionReport_MCAT?this._reportFilterService.RequisitionReportObj.RequisitionReport_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM?this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE?this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE:"",this.repObj.reportparam.ENTRYWISEREPORT=this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT?this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT:"",this.repObj.reportparam.REQTYPE=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE:"0",this.repObj.reportparam.Status=this._reportFilterService.RequisitionReportObj.RequisitionReport_Status?this._reportFilterService.RequisitionReportObj.RequisitionReport_Status:"",this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH?this._reportFilterService.RequisitionReportObj.RequisitionReport_IGNOREBRANCH:0,this.repObj.reportparam.REQFROM=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM:"%",this.repObj.reportparam.REQTO=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTO:"%",this.repObj.reportparam.REQFROMDISPLAYNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROMDISPLAYNAME:"",this.repObj.reportparam.REQTODISPLAYNAME=this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME?this._reportFilterService.RequisitionReportObj.RequisitionReport_REQTODISPLAYNAME:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),1==this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT?this.repObj.reportname="Requisition Report":2==this._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT&&(this.repObj.reportname="Requisition Report_1"),this.repObj.REPORTDISPLAYNAME="Requisition Report",this._reportFilterService.RequisitionReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}onChangeReqType(r){0==r&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM="%",this.typeWise="Division"),1==r&&(1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.RequisitionReportObj.RequisitionReport_REQFROM=this.userProfile.userWarehouse),this.typeWise="Warehouse")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.RequisitionReportObj.RequisitionReport_MCODE=r.MCODE,this._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM=r.DESCA,this._reportFilterService.RequisitionReportObj.RequisitionReport_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}ItemWiseChange(){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["requisition-report-selector"]],viewQuery:function(r,t){if(1&r&&e.Gf(cg,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:130,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col",2,"margin-left","4%"],["type","radio","name","reqType","value","0",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reqType","value","1",3,"ngModel","ngModelChange","change"],[1,"col-md-6","filter-part"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportFormat","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%","width","100px !important"],["class","col",4,"ngIf"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-bottom","-3%"],[1,"col-sm-1","pd0"],["type","radio","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","value","1",3,"ngModel","ngModelChange"],["type","radio","value","2",3,"ngModel","ngModelChange"],["type","radio","value","3",3,"ngModel","ngModelChange"],["type","radio","value","4",3,"ngModel","ngModelChange"],["class","row checkbox","style","padding-top:5px;",4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["value","%"],[3,"value"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Requisition Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_DIV=i}),e.YNc(41,_g,2,0,"option",16),e.YNc(42,dg,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Requisition Type:"),e.qZA(),e.TgZ(46,"div",1)(47,"div",18)(48,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE=i})("change",function(){return t.onChangeReqType(0)}),e.qZA(),e.TgZ(49,"label",20),e._uU(50,"Transfer Out"),e.qZA()(),e.TgZ(51,"div",18)(52,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE=i})("change",function(){return t.onChangeReqType(1)}),e.qZA(),e.TgZ(53,"label",20),e._uU(54,"Stock Issue"),e.qZA()()()()(),e.TgZ(55,"div",22)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",18)(61,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT=i}),e.qZA(),e.TgZ(62,"label",20),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",18)(65,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT=i}),e.qZA(),e.TgZ(66,"label",20),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Report Filter Option :"),e.qZA(),e.TgZ(71,"div",25)(72,"div",26)(73,"label",27),e._uU(74,"Requisition From :"),e.qZA()(),e.YNc(75,ug,4,2,"div",28),e.YNc(76,Sg,5,5,"div",28),e.qZA(),e.TgZ(77,"div",25)(78,"div",26)(79,"label",29),e._uU(80,"Requisition To :"),e.qZA()(),e.YNc(81,Og,4,2,"div",28),e.YNc(82,Tg,4,2,"div",28),e.qZA(),e.TgZ(83,"div",25)(84,"div",26)(85,"label",29),e._uU(86,"Item Name :"),e.qZA()(),e.TgZ(87,"div",30)(88,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(89,"fieldset")(90,"legend",10),e._uU(91,"Requisition Status :"),e.qZA(),e.TgZ(92,"div",32)(93,"div",33)(94,"input",34),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(95,"div",35)(96,"label",36),e._uU(97,"All"),e.qZA()()(),e.TgZ(98,"div",32)(99,"div",33)(100,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(101,"div",35)(102,"label",36),e._uU(103,"Pending"),e.qZA()()(),e.TgZ(104,"div",32)(105,"div",33)(106,"input",38),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(107,"div",35)(108,"label",36),e._uU(109,"Delivered"),e.qZA()()(),e.TgZ(110,"div",32)(111,"div",33)(112,"input",39),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(113,"div",35)(114,"label",36),e._uU(115,"Force Closed"),e.qZA()()(),e.TgZ(116,"div",32)(117,"div",33)(118,"input",40),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionReportObj.RequisitionReport_Status=i}),e.qZA()(),e.TgZ(119,"div",35)(120,"label",36),e._uU(121,"Partial"),e.qZA()()()()(),e.YNc(122,vg,6,3,"div",41),e.qZA()()(),e.TgZ(123,"div",42)(124,"button",43),e.NdJ("click",function(){return t.onload()}),e._uU(125,"RUN"),e.qZA(),e.TgZ(126,"button",44),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(127,"Close"),e.qZA()()()()()(),e.TgZ(128,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(10),e.Q6J("ngIf","0"==t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(1),e.Q6J("ngIf","1"==t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(5),e.Q6J("ngIf","0"==t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(1),e.Q6J("ngIf","1"==t._reportFilterService.RequisitionReportObj.RequisitionReport_REQTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_ITEM),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RequisitionReportObj.RequisitionReport_Status),e.xp6(4),e.Q6J("ngIf",2==t._reportFilterService.RequisitionReportObj.RequisitionReport_ENTRYWISEREPORT),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Cg(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Ag(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.ID),e.xp6(1),e.hij(" ",r.REPORTNAME," ")}}function Pg(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Mg(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Rg(n,a){if(1&n){const r=e.EpF();e.ynx(0),e.TgZ(1,"fieldset")(2,"legend",10),e._uU(3,"From Division:"),e.qZA(),e.TgZ(4,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV=o)}),e.TgZ(5,"option",16),e._uU(6,"ALL"),e.qZA(),e.YNc(7,Pg,2,2,"option",17),e.qZA()(),e.TgZ(8,"fieldset")(9,"legend",10),e._uU(10,"To Division:"),e.qZA(),e.TgZ(11,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.RawDataReportObj.RawDataReport_TODIV=o)}),e.TgZ(12,"option",16),e._uU(13,"ALL"),e.qZA(),e.YNc(14,Mg,2,2,"option",17),e.qZA()(),e.BQk()}if(2&n){const r=e.oxw();e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList),e.xp6(4),e.Q6J("ngModel",r._reportFilterService.RawDataReportObj.RawDataReport_TODIV),e.xp6(3),e.Q6J("ngForOf",r.divisionList)}}let Eg=(()=>{class n{constructor(r,t,o,i,l,c){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",COMID:"",REPORT_ID:1,REPORT_NAME:"",FROMDIV:"%",TODIV:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.rawdatareportList=[],this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getRawDataReportList().subscribe(d=>{this.rawdatareportList=d});var _=this.userProfile.PhiscalYearInfo.BeginDate;_=_.substring(0,10)}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.RawDataReportObj.assignPreviousValue&&(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RawDataReportObj.RawDataReport_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RawDataReportObj.RawDataReport_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV=!1),this.changeEntryDate(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RawDataReportObj.RawDataReport_DATE2,"AD"))})}changeEntryDate(r,t){"AD"==t?this._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.RawDataReportObj.RawDataReport_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.RawDataReportObj.RawDataReport_DATE2=this.masterService.toADDate(r))}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RawDataReportObj.RawDataReport_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RawDataReportObj.RawDataReport_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RawDataReportObj.RawDataReport_DIV?this._reportFilterService.RawDataReportObj.RawDataReport_DIV:"%",this.repObj.reportparam.REPORT_ID=this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID?this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID:1,this.repObj.reportparam.REPORT_NAME=this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME?this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME:"",this.repObj.reportparam.FROMDIV=this._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV?this._reportFilterService.RawDataReportObj.RawDataReport_FROMDIV:"%",this.repObj.reportparam.TODIV=this._reportFilterService.RawDataReportObj.RawDataReport_TODIV?this._reportFilterService.RawDataReportObj.RawDataReport_TODIV:"%",this.repObj.reportname=`Raw Data Report_${this.repObj.reportparam.REPORT_ID}`,this.repObj.REPORTDISPLAYNAME="Raw Data Report",this._reportFilterService.RawDataReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}showFromToDiv(){let r=this.rawdatareportList.filter(t=>t.ID==this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID);r.length>0&&(this._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTNAME=r[0].REPORTNAME,this._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV=!(!r[0].SHOWFROMTODIV||1!=r[0].SHOWFROMTODIV))}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rawdata-report-selector"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:56,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","310px"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Raw Data Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RawDataReportObj.RawDataReport_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RawDataReportObj.RawDataReport_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RawDataReportObj.RawDataReport_DIV=i}),e.TgZ(41,"option",16),e._uU(42,"ALL"),e.qZA(),e.YNc(43,Cg,2,2,"option",17),e.qZA()()(),e.TgZ(44,"div",18)(45,"fieldset")(46,"legend",10),e._uU(47,"Report Type:"),e.qZA(),e.TgZ(48,"select",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID=i})("change",function(){return t.showFromToDiv()}),e.YNc(49,Ag,2,2,"option",17),e.qZA()(),e.YNc(50,Rg,15,4,"ng-container",20),e.qZA()()(),e.TgZ(51,"div",21)(52,"button",22),e.NdJ("click",function(){return t.onload()}),e._uU(53,"RUN"),e.qZA(),e.TgZ(54,"button",23),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(55,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(26),e.Q6J("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.RawDataReportObj.RawDataReport_RAWREPORTID),e.xp6(1),e.Q6J("ngForOf",t.rawdatareportList),e.xp6(1),e.Q6J("ngIf",1==t._reportFilterService.RawDataReportObj.RawDataReport_SHOWFROMTODIV))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Dg=["genericGridSupplierPopup"],Ig=["genericGridItemPopup"];function Ng(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function kg(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function jg(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function yg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",27)(2,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",57)(4,"label",30),e._uU(5,"Include Transit Data"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA)("checked",1==r._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA)}}function Fg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE5=o)}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE5)}}function wg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE6=o)}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE6)}}function Wg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE7=o)}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE7)}}function Lg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE8=o)}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE8)}}function Zg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE9=o)}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE9)}}function xg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"input",37),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_AGE10=o)}),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_AGE10)}}function Ug(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function Vg(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Bg(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function Yg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",40)(2,"label",41),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",23)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_PTYPE=o)}),e._UZ(6,"option",58),e.YNc(7,Bg,2,2,"option",17),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList)}}function Jg(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MANUFACTURER),e.xp6(1),e.hij("",r.MANUFACTURER," ")}}function qg(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",40)(2,"label",41),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",23)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER=o)}),e._UZ(6,"option",19),e.YNc(7,Jg,2,2,"option",17),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",r.ManufacturerList)}}let Gg=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",AGE1:30,AGE2:60,AGE3:90,AGE4:120,AGE5:150,AGE6:180,AGE7:210,AGE8:240,AGE9:270,AGE10:300,AGEINGMODE:0,SHOWBATCHWISEAGEING:0,SHOWGROUPING:0,WAREHOUSE:"%",WAREHOUSETYPE:0,INCLUDETRANSITDATA:0,MANUFACTURER:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.ManufacturerList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h,this._reportFilterService.previouslyLoadedReportList?.some(g=>g.activeurlpath==this.arouter.url)||(this._reportFilterService.StockAgeingObj.StockAgeing_DIV=this._transactionService.userProfile.userDivision)}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.getManufacturerList().subscribe(h=>{h&&(this.ManufacturerList=h)});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){let r={};r=this.masterService.userProfile.userRights.find(o=>"StockAgeingLimit"==o.right),this.AgingValue=r.value,console.log("AGINGVALUE",this.AgingValue);const t=new Date;this.currDate=(0,u.p6)(t,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(o=>{"DRILL"==o.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockAgeingObj.assignPreviousValue&&(this._reportFilterService.StockAgeingObj.StockAgeing_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:this.currDate,this._reportFilterService.StockAgeingObj.StockAgeing_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockAgeingObj.StockAgeing_AGE1=30,this._reportFilterService.StockAgeingObj.StockAgeing_AGE2=60,this._reportFilterService.StockAgeingObj.StockAgeing_AGE3=90,this._reportFilterService.StockAgeingObj.StockAgeing_AGE4=120,this._reportFilterService.StockAgeingObj.StockAgeing_AGE5=150,this._reportFilterService.StockAgeingObj.StockAgeing_AGE6=180,this._reportFilterService.StockAgeingObj.StockAgeing_AGE7=210,this._reportFilterService.StockAgeingObj.StockAgeing_AGE8=240,this._reportFilterService.StockAgeingObj.StockAgeing_AGE9=270,this._reportFilterService.StockAgeingObj.StockAgeing_AGE10=300,this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE=1,this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING=0,this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING=0,this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE="0"),this.changeEntryDate(this._reportFilterService.StockAgeingObj.StockAgeing_DATE1,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockAgeingObj.StockAgeing_DATE1=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE=this._reportFilterService.StockAgeingObj.StockAgeing_DATE1,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockAgeingObj.StockAgeing_DIV?this._reportFilterService.StockAgeingObj.StockAgeing_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE?this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockAgeingObj.StockAgeing_MCODE?this._reportFilterService.StockAgeingObj.StockAgeing_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.StockAgeingObj.StockAgeing_MGROUP?this._reportFilterService.StockAgeingObj.StockAgeing_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockAgeingObj.StockAgeing_PTYPE?this._reportFilterService.StockAgeingObj.StockAgeing_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockAgeingObj.StockAgeing_MCAT?this._reportFilterService.StockAgeingObj.StockAgeing_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockAgeingObj.StockAgeing_ITEM?this._reportFilterService.StockAgeingObj.StockAgeing_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER?this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE?this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE:"",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE?this._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE:"%",this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE?this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE:0,this.repObj.reportparam.INCLUDETRANSITDATA=this._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA?this._reportFilterService.StockAgeingObj.StockSummary_INCLUDETRANSITDATA:0,this.repObj.reportparam.AGE1=this._reportFilterService.StockAgeingObj.StockAgeing_AGE1?this._reportFilterService.StockAgeingObj.StockAgeing_AGE1:30,this.repObj.reportparam.AGE2=this._reportFilterService.StockAgeingObj.StockAgeing_AGE2?this._reportFilterService.StockAgeingObj.StockAgeing_AGE2:60,this.repObj.reportparam.AGE3=this._reportFilterService.StockAgeingObj.StockAgeing_AGE3?this._reportFilterService.StockAgeingObj.StockAgeing_AGE3:90,this.repObj.reportparam.AGE4=this._reportFilterService.StockAgeingObj.StockAgeing_AGE4?this._reportFilterService.StockAgeingObj.StockAgeing_AGE4:120,this.repObj.reportparam.AGE5=this.AgingValue>=5?this._reportFilterService.StockAgeingObj.StockAgeing_AGE5?this._reportFilterService.StockAgeingObj.StockAgeing_AGE5:150:0,this.repObj.reportparam.AGE6=this.AgingValue>=6?this._reportFilterService.StockAgeingObj.StockAgeing_AGE6?this._reportFilterService.StockAgeingObj.StockAgeing_AGE6:180:0,this.repObj.reportparam.AGE7=this.AgingValue>=7?this._reportFilterService.StockAgeingObj.StockAgeing_AGE7?this._reportFilterService.StockAgeingObj.StockAgeing_AGE7:210:0,this.repObj.reportparam.AGE8=this.AgingValue>=8?this._reportFilterService.StockAgeingObj.StockAgeing_AGE8?this._reportFilterService.StockAgeingObj.StockAgeing_AGE8:240:0,this.repObj.reportparam.AGE9=this.AgingValue>=9?this._reportFilterService.StockAgeingObj.StockAgeing_AGE9?this._reportFilterService.StockAgeingObj.StockAgeing_AGE9:270:0,this.repObj.reportparam.AGE10=this.AgingValue>=10?this._reportFilterService.StockAgeingObj.StockAgeing_AGE10?this._reportFilterService.StockAgeingObj.StockAgeing_AGE10:300:0,this.repObj.reportparam.AGEINGMODE=this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE?this._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE:1,this.repObj.reportparam.SHOWBATCHWISEAGEING=this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING?this._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING?this._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING:0,this.repObj.reportparam.WAREHOUSETYPE=this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE?this._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE:"0",this.repObj.reportparam.MANUFACTURER=this._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER?this._reportFilterService.StockAgeingObj.StockAgeing_MANUFACTURER:"%",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?1==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_SBATCH":1==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_1_SBATCH":2==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_2_SBATCH":2==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_3_SBATCH":3==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_4_SBATCH":3==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING&&(this.repObj.reportname="Stock Ageing ReportNONDMS_5_SBATCH"):1==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS":1==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_1":2==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_2":2==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_3":3==this.repObj.reportparam.AGEINGMODE&&0==this.repObj.reportparam.SHOWBATCHWISEAGEING?this.repObj.reportname="Stock Ageing ReportNONDMS_4":3==this.repObj.reportparam.AGEINGMODE&&1==this.repObj.reportparam.SHOWBATCHWISEAGEING&&(this.repObj.reportname="Stock Ageing ReportNONDMS_5"),this.repObj.REPORTDISPLAYNAME="Stock Ageing Report",this._reportFilterService.StockAgeingObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(c=>c.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t});const i=this.storeInLargestAgeKeyTheLargetsAgeValue({...this.repObj.reportparam}),l={...this.repObj,reportparam:i};this.reportdataEmit.emit({status:"ok",data:l})}storeInLargestAgeKeyTheLargetsAgeValue(r){let t=0,o=0;const i=Object.entries(r);for(const[l,c]of i){let d;if(null!==(d=/(AGE)(\d+)/.exec(l))&&"number"==typeof c){if(d[2]){const h=+d[2];h>o&&(o=h)}c>t&&(t=c)}}return r[`AGE${o}`]=t,{...r}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIERCODE=r.ACID,this._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.StockAgeingObj.StockAgeing_MCODE=r.MCODE,this._reportFilterService.StockAgeingObj.StockAgeing_ITEM=r.DESCA,this._reportFilterService.StockAgeingObj.StockAgeing_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stockageing-report-selector"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Dg,5),e.Gf(Ig,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:153,vars:43,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"padding-top","0px"],[1,"col-lg-2","col-md-2","col-sm-12",2,"margin-bottom","-10px"],[1,"col-md-1"],["type","radio","name","warehouseType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],[1,"col-lg-5","col-md-5","col-sm-12",2,"margin-bottom","-10px"],["type","radio","name","warehouseType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","warehouseType","value","2",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[1,"col-md-6","filter-part"],[2,"margin-left","50px"],["type","text",1,"ageing","form-control",3,"ngModel","ngModelChange"],["type","text","class","ageing form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","1"],["value","2"],["value","3"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"],["type","checkbox","name","warehouseType","value","0",3,"ngModel","checked","ngModelChange","change"],["calss","col-md-12"],["value","100"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Ageing Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_DIV=i}),e.YNc(31,Ng,2,0,"option",16),e.YNc(32,kg,2,2,"option",17),e.qZA()(),e.TgZ(33,"fieldset")(34,"legend",10),e._uU(35,"Warehouse Selection:"),e.qZA(),e.TgZ(36,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE=i}),e.ALo(37,"disableField"),e._UZ(38,"option",19),e.YNc(39,jg,2,2,"option",17),e.qZA()(),e.TgZ(40,"div",20)(41,"div",21)(42,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING=i}),e.qZA()(),e.TgZ(43,"div",23)(44,"label",24),e._uU(45,"Show Batch In Ageing Report"),e.qZA()()(),e.TgZ(46,"div",25)(47,"div",21)(48,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING=i}),e.qZA()(),e.TgZ(49,"div",23)(50,"label",24),e._uU(51,"Show Item Grouping Hierarchy"),e.qZA()()(),e.TgZ(52,"fieldset")(53,"legend",10),e._uU(54,"WareHouse Type :"),e.qZA(),e.TgZ(55,"div",1)(56,"div",26)(57,"div",1)(58,"div",27)(59,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(60,"div",29)(61,"label",30),e._uU(62,"All"),e.qZA()()()(),e.TgZ(63,"div",31)(64,"div",1)(65,"div",27)(66,"input",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(67,"div",29)(68,"label",30),e._uU(69,"Sellable WareHouse"),e.qZA()()()(),e.TgZ(70,"div",31)(71,"div",1)(72,"div",27)(73,"input",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE=i}),e.qZA()(),e.TgZ(74,"div",29)(75,"label",30),e._uU(76,"Non-Sellable WareHouse"),e.qZA()()()()()(),e.YNc(77,yg,6,2,"div",34),e.qZA(),e.TgZ(78,"div",35)(79,"fieldset")(80,"legend",10),e._uU(81,"Ageing Parameter"),e.qZA(),e.TgZ(82,"div",36)(83,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_AGE1=i}),e.qZA(),e.TgZ(84,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_AGE2=i}),e.qZA(),e.TgZ(85,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_AGE3=i}),e.qZA(),e.TgZ(86,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_AGE4=i}),e.qZA(),e.YNc(87,Fg,1,1,"input",38),e.YNc(88,wg,1,1,"input",38),e.YNc(89,Wg,1,1,"input",38),e.YNc(90,Lg,1,1,"input",38),e.YNc(91,Zg,1,1,"input",38),e.YNc(92,xg,1,1,"input",38),e.qZA()(),e.TgZ(93,"fieldset")(94,"legend",10),e._uU(95,"Ageing Type Selection :"),e.qZA(),e.TgZ(96,"div",39)(97,"div",40)(98,"label",41),e._uU(99,"Ageing Type:"),e.qZA()(),e.TgZ(100,"div",23)(101,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE=i}),e.TgZ(102,"option",42),e._uU(103,"By Purchase Date"),e.qZA(),e.TgZ(104,"option",43),e._uU(105,"By Expiry Date"),e.qZA(),e.TgZ(106,"option",44),e._uU(107,"By Manufacturing Date"),e.qZA()()()()(),e.TgZ(108,"fieldset")(109,"legend"),e._uU(110,"Report Filter Option :"),e.qZA(),e.TgZ(111,"div",8)(112,"div",40)(113,"label",41),e._uU(114,"Item Group :"),e.qZA()(),e.TgZ(115,"div",23)(116,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_MGROUP=i}),e._UZ(117,"option",19),e.YNc(118,Ug,2,2,"option",17),e.qZA()()(),e.TgZ(119,"div",1)(120,"div",40)(121,"label",41),e._uU(122,"Item Category :"),e.qZA()(),e.TgZ(123,"div",23)(124,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_MCAT=i}),e._UZ(125,"option",19),e.YNc(126,Vg,2,2,"option",17),e.qZA()()(),e.YNc(127,Yg,8,2,"div",34),e.YNc(128,qg,8,2,"div",34),e.TgZ(129,"div",45)(130,"div",40)(131,"label",46),e._uU(132,"Supplier Name :"),e.qZA()(),e.TgZ(133,"div",23)(134,"input",47),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(135,"fieldset")(136,"legend",10),e._uU(137,"Item Selection :"),e.qZA(),e.TgZ(138,"div",39)(139,"div",40)(140,"label",41),e._uU(141,"Item Name :"),e.qZA()(),e.TgZ(142,"div",23)(143,"input",48),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockAgeingObj.StockAgeing_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(144,"div",49)(145,"button",50),e.NdJ("click",function(){return t.onload()}),e._uU(146,"RUN"),e.qZA(),e.TgZ(147,"button",51),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(148,"Close"),e.qZA()()()()()(),e.TgZ(149,"generic-popup-grid",52,53),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(151,"generic-popup-grid",52,54),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_BSDATE1),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_WAREHOUSE)("disabled",e.lcZ(37,41,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING)("checked",1==t._reportFilterService.StockAgeingObj.StockAgeing_SHOWBATCHWISEAGEING),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING)("checked",1==t._reportFilterService.StockAgeingObj.StockAgeing_SHOWGROUPING),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockSummary_WAREHOUSETYPE),e.xp6(4),e.Q6J("ngIf",t.userSetting.EnableTransitWiseTransferIn),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE1),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE2),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE3),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGE4),e.xp6(1),e.Q6J("ngIf",t.AgingValue>=5),e.xp6(1),e.Q6J("ngIf",t.AgingValue>=6),e.xp6(1),e.Q6J("ngIf",t.AgingValue>=7),e.xp6(1),e.Q6J("ngIf",t.AgingValue>=8),e.xp6(1),e.Q6J("ngIf",t.AgingValue>=9),e.xp6(1),e.Q6J("ngIf",t.AgingValue>=10),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_AGEINGMODE),e.xp6(15),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.StockAgeingObj.StockAgeing_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Hg=["genericGridSupplierPopup"],Qg=["genericGridItemPopup"];function zg(n,a){1&n&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function Kg(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function $g(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",24)(1,"div",1)(2,"div",19)(3,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",21)(5,"label",22),e._uU(6,"Show Item In Transit only"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit)("checked",1==r._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit)}}function Xg(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function eS(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function tS(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let rS=(()=>{class n{constructor(r,t,o,i,l,c){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",FROMDATE:"",TODATE:"",FROMDIV:"",SHOWINTRANSITONLY:0,COMID:"",SHOWBATCHWISE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.userSetting=c.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)}),this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.BranchtransferoutVsInObj.assignPreviousValue&&(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=0,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit=0,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=0),this.changeEntryDate(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,"AD")})}changeEntryDate(r,t){"AD"==t?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=this.masterService.toADDate(r))}onload(){console.log("@@reporttype",this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit),this.repObj.reportparam.DATE1=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM:"",this.repObj.reportparam.FROMDATE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1,this.repObj.reportparam.TODATE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2,this.repObj.reportparam.FROMDIV=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV:"%",this.repObj.reportparam.SHOWINTRANSITONLY=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowItemInTransit:0,this.repObj.reportparam.REPORTTYPE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE:"%",this.repObj.reportparam.SHOWBATCHWISE=this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise?this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_1":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_2":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&0==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_3":0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_4":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_5":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE?this.repObj.reportname="Branch Transfer Out Vs In Report_6":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.SHOWINTRANSITONLY&&1==this.repObj.reportparam.SHOWBATCHWISE&&(this.repObj.reportname="Branch Transfer Out Vs In Report_7"),this.repObj.REPORTDISPLAYNAME="Branch Transfer Out Vs In Report",this._reportFilterService.BranchtransferoutVsInObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_SUPPLIERCODE=r.ACID,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCODE=r.MCODE,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM=r.DESCA,this._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transferout-vs-inreport"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Hg,5),e.Gf(Qg,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:101,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],["class","row checkbox","style","margin-top:-10px;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","-10px"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","%"],["value","100"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Out Vs In Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV=i}),e.YNc(41,zg,2,0,"option",16),e.YNc(42,Kg,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",18)(44,"div",19)(45,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=i})("change",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport=i.target.checked?1:0}),e.qZA()(),e.TgZ(46,"div",21)(47,"label",22),e._uU(48,"Show value in Report Also"),e.qZA()()(),e.YNc(49,$g,7,2,"div",23),e.TgZ(50,"div",24)(51,"div",1)(52,"div",19)(53,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=i})("change",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise=i.target.checked?1:0}),e.qZA()(),e.TgZ(54,"div",21)(55,"label",22),e._uU(56,"Show Batch Wise Report"),e.qZA()()()()(),e.TgZ(57,"div",25)(58,"fieldset")(59,"legend"),e._uU(60,"Report Filter Option :"),e.qZA(),e.TgZ(61,"div",8)(62,"div",26)(63,"label",27),e._uU(64,"Item Group :"),e.qZA()(),e.TgZ(65,"div",21)(66,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP=i}),e._UZ(67,"option",28),e.YNc(68,Xg,2,2,"option",17),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",26)(71,"label",27),e._uU(72,"Item Category :"),e.qZA()(),e.TgZ(73,"div",21)(74,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT=i}),e._UZ(75,"option",28),e.YNc(76,eS,2,2,"option",17),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",26)(79,"label",27),e._uU(80,"Item Type :"),e.qZA()(),e.TgZ(81,"div",21)(82,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE=i}),e._UZ(83,"option",29),e.YNc(84,tS,2,2,"option",17),e.qZA()()()(),e.TgZ(85,"fieldset")(86,"legend",10),e._uU(87,"Item Selection :"),e.qZA(),e.TgZ(88,"div",30)(89,"div",26)(90,"label",27),e._uU(91,"Item Name :"),e.qZA()(),e.TgZ(92,"div",21)(93,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(94,"div",32)(95,"button",33),e.NdJ("click",function(){return t.onload()}),e._uU(96,"RUN"),e.qZA(),e.TgZ(97,"button",34),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(98,"Close"),e.qZA()()()()()(),e.TgZ(99,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport)("checked",1==t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowValueInReport),e.xp6(4),e.Q6J("ngIf",1==t.userSetting.EnableTransitWiseTransferIn),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise)("checked",1==t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ShowBatchWise),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.BranchtransferoutVsInObj.BranchtransferoutVsIn_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const iS=["genericGridSupplierPopup"],oS=["genericGridItemPopup"];function nS(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function aS(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function sS(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function lS(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let pS=(()=>{class n{constructor(r,t,o,i,l,c){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",DETAILFORMAT:0,ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.categorywiseConfigurationdetails=[],this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.StockWarehousewiseObj.assignPreviousValue&&(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2,"AD")})}changeEntryDate(r,t){"AD"==t?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2=this.masterService.toADDate(r))}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SUPCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE:"%",this.repObj.reportparam.ReportMode=this._reportFilterService.StockWarehousewiseObj.StockSummary_ReportMode?this._reportFilterService.StockWarehousewiseObj.StockSummary_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE?this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Stock Report Warehouse Wise",this.repObj.REPORTDISPLAYNAME="Stock Report Warehouse Wise",this._reportFilterService.StockWarehousewiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIERCODE=r.ACID,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCODE=r.MCODE,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM=r.DESCA,this._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-warehouse-wise-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(iS,5),e.Gf(oS,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:114,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"margin-top","5px","float","right"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Report - Warehouse Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,nS,2,2,"option",17),e.qZA()(),e.TgZ(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(56,"div",26)(57,"div",27)(58,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SHOWBATCHWISE=i}),e.qZA()(),e.TgZ(59,"div",29)(60,"label",30),e._uU(61,"Show Batch Wise Stock Report "),e.qZA()()()(),e.TgZ(62,"div",31)(63,"fieldset")(64,"legend"),e._uU(65,"Report Filter Option :"),e.qZA(),e.TgZ(66,"div",8)(67,"div",32)(68,"label",33),e._uU(69,"Item Group :"),e.qZA()(),e.TgZ(70,"div",29)(71,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP=i}),e._UZ(72,"option",16),e.YNc(73,aS,2,2,"option",17),e.qZA()()(),e.TgZ(74,"div",1)(75,"div",32)(76,"label",33),e._uU(77,"Item Category :"),e.qZA()(),e.TgZ(78,"div",29)(79,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT=i}),e._UZ(80,"option",16),e.YNc(81,sS,2,2,"option",17),e.qZA()()(),e.TgZ(82,"div",1)(83,"div",32)(84,"label",33),e._uU(85,"Item Type :"),e.qZA()(),e.TgZ(86,"div",29)(87,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE=i}),e._UZ(88,"option",34),e.YNc(89,lS,2,2,"option",17),e.qZA()()(),e.TgZ(90,"div",35)(91,"div",32)(92,"label",36),e._uU(93,"Supplier Name :"),e.qZA()(),e.TgZ(94,"div",29)(95,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(96,"fieldset")(97,"legend",10),e._uU(98,"Item Selection :"),e.qZA(),e.TgZ(99,"div",38)(100,"div",32)(101,"label",33),e._uU(102,"Item Name :"),e.qZA()(),e.TgZ(103,"div",29)(104,"input",39),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(105,"div",40)(106,"button",41),e.NdJ("click",function(){return t.onload()}),e._uU(107,"RUN"),e.qZA(),e.TgZ(108,"button",42),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(109,"Close"),e.qZA()()()()()(),e.TgZ(110,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(112,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(23),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_BSDATE1),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SHOWBATCHWISE),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.StockWarehousewiseObj.StockWarehousewise_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const cS=["genericGridSupplierPopup"],_S=["genericGridItemPopup"];function dS(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function hS(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function uS(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let gS=(()=>{class n{constructor(r,t,o,i,l,c){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",REPORTOPTIONDISPLAYNAME:"",SUPPLIERDISPLAYNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE="0",this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2,"AD"))})}changeEntryDate(r,t){"AD"==t?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=this.masterService.toADDate(r))}onload(){if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP)this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE);this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise"):1==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Group Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise_1"):2==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Category Wise Report",this.repObj.reportname="Consolidated Purchase Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Purchase Report - Division Wise",this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIERCODE=r.ACID,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCODE=r.MCODE,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM=r.DESCA,this._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedpurchase-reportbranchwise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(cS,5),e.Gf(_S,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:111,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Purchase Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Type Selection :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Item Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Item Group Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Item Category Wise Report"),e.qZA()()()()()(),e.TgZ(59,"div",23)(60,"fieldset")(61,"legend"),e._uU(62,"Report Filter Option :"),e.qZA(),e.TgZ(63,"div",8)(64,"div",24)(65,"label",25),e._uU(66,"Item Group :"),e.qZA()(),e.TgZ(67,"div",26)(68,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP=i}),e._UZ(69,"option",28),e.YNc(70,dS,2,2,"option",29),e.qZA()()(),e.TgZ(71,"div",1)(72,"div",24)(73,"label",25),e._uU(74,"Item Category :"),e.qZA()(),e.TgZ(75,"div",26)(76,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT=i}),e._UZ(77,"option",28),e.YNc(78,hS,2,2,"option",29),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",24)(81,"label",25),e._uU(82,"Item Type :"),e.qZA()(),e.TgZ(83,"div",26)(84,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE=i}),e._UZ(85,"option",30),e.YNc(86,uS,2,2,"option",29),e.qZA()()(),e.TgZ(87,"div",31)(88,"div",24)(89,"label",32),e._uU(90,"Supplier Name :"),e.qZA()(),e.TgZ(91,"div",26)(92,"input",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(93,"fieldset")(94,"legend",10),e._uU(95,"Item Selection :"),e.qZA(),e.TgZ(96,"div",34)(97,"div",24)(98,"label",25),e._uU(99,"Item Name :"),e.qZA()(),e.TgZ(100,"div",26)(101,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(102,"div",36)(103,"button",37),e.NdJ("click",function(){return t.onload()}),e._uU(104,"RUN"),e.qZA(),e.TgZ(105,"button",38),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(106,"Close"),e.qZA()()()()()(),e.TgZ(107,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(109,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.ConsolidtedPurchaseBranchWiseObj.ConsolidtedPurchaseBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const SS=["genericGridCustomerPopup"],mS=["genericGridItemPopup"];function OS(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function bS(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function TS(n,a){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let vS=(()=>{class n{constructor(r,t,o,i,l,c){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",ACID:"%",MCODE:"",REPORTTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",ITEMNAME:"",MENUCODE:"",CUSTOMERNAME:"",REPORTOPTIONDISPLAYNAME:"",CUSTOMERDISPLAYNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",SHOWGROUPING:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForItem=new m.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2,"AD"))})}changeEntryDate(r,t){"AD"==t?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=this.masterService.toADDate(r))}onload(){if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP)this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE);this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIV:"%",this.repObj.reportparam.ACID=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM:"",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CATEGORYNAME:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER?this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER:"",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping??0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise"):1==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Group Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise_1"):2==this.repObj.reportparam.REPORTTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Item Category Wise Report",this.repObj.reportname="Consolidated Sales Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Sales Report - Division Wise",this._reportFilterService.ConsolidtedSalesBranchWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMERCODE=r.CUSTID,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER=r.CUSTNAME}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCODE=r.MCODE,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM=r.DESCA,this._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedsales-reportbranchwise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(SS,5),e.Gf(mS,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:117,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Sales Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Type Selection :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Item Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Item Group Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Item Category Wise Report"),e.qZA()()()()(),e.TgZ(59,"div",23)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping=i})("change",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping=i.target.checked?1:0}),e.qZA()(),e.TgZ(62,"div",26)(63,"label",27),e._uU(64,"Show Item Hierarchy"),e.qZA()()()(),e.TgZ(65,"div",28)(66,"fieldset")(67,"legend"),e._uU(68,"Report Filter Option :"),e.qZA(),e.TgZ(69,"div",8)(70,"div",29)(71,"label",30),e._uU(72,"Item Group :"),e.qZA()(),e.TgZ(73,"div",26)(74,"select",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP=i}),e._UZ(75,"option",32),e.YNc(76,OS,2,2,"option",33),e.qZA()()(),e.TgZ(77,"div",1)(78,"div",29)(79,"label",30),e._uU(80,"Item Category :"),e.qZA()(),e.TgZ(81,"div",26)(82,"select",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT=i}),e._UZ(83,"option",32),e.YNc(84,bS,2,2,"option",33),e.qZA()()(),e.TgZ(85,"div",1)(86,"div",29)(87,"label",30),e._uU(88,"Item Type :"),e.qZA()(),e.TgZ(89,"div",26)(90,"select",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE=i}),e._UZ(91,"option",34),e.YNc(92,TS,2,2,"option",33),e.qZA()()(),e.TgZ(93,"div",35)(94,"div",29)(95,"label",36),e._uU(96,"Customer Name :"),e.qZA()(),e.TgZ(97,"div",26)(98,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(99,"fieldset")(100,"legend",10),e._uU(101,"Item Selection :"),e.qZA(),e.TgZ(102,"div",38)(103,"div",29)(104,"label",30),e._uU(105,"Item Name :"),e.qZA()(),e.TgZ(106,"div",26)(107,"input",39),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(108,"div",40)(109,"button",41),e.NdJ("click",function(){return t.onload()}),e._uU(110,"RUN"),e.qZA(),e.TgZ(111,"button",42),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(112,"Close"),e.qZA()()()()()(),e.TgZ(113,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(115,"generic-popup-grid",43,45),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping)("checked",1==t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWiseShowGrouping),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_CUSTOMER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.ConsolidtedSalesBranchWiseObj.ConsolidtedSalesBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const fS=["genericGridSupplierPopup"],CS=["genericGridItemPopup"];function AS(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",25)(1,"div",26)(2,"input",27),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",28)(4,"label",29),e._uU(5,"Show Batch Wise Stock Report "),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE)("checked",1==r._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE)}}function PS(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function MS(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function RS(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let ES=(()=>{class n{constructor(r,t,o,i,l,c){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._authService=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",COMID:"",DIV:"",MCODE:"",REPORTYPE:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",WAREHOUSE:"",DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",params:"%",DIVISIONWISEREPORT:1,SHOWBATCHWISESTOCK:0,ZEROBALSTOCKALSO:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.ConsolidtedStockBranchWiseObj.assignPreviousValue&&(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE="0",this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE=0,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=0,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV=1==this._transactionService.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.userProfile.CompanyInfo.INITIAL),this.changeEntryDate(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2,"AD"))})}changeEntryDate(r,t){"AD"==t?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=this.masterService.toADDate(r))}onload(){if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME="All";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME="";if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSENAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?"All":this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE:"",this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME="All";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME="";if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE&&"100"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP)this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME="";else if(this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE&&"100"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE);this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME="";this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT&&"%"==this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?"All":this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT&&"%"!=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE:"%",this.repObj.reportparam.REPORTYPE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE:"",this.repObj.reportparam.params="%",this.repObj.reportparam.WAREHOUSE=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_WAREHOUSE:"%",this.repObj.reportparam.DIVISIONWISEREPORT=1,this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SHOWBATCHWISE:0,this.repObj.reportparam.ZEROBALSTOCKALSO=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_CATEGORYNAME:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER?this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),1==this.masterService.userSetting.ENABLESINGLEBATCHMODE?0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_SBATCH"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_1_SBATCH"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_2_SBATCH"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="":0==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise"):1==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_1"):2==this.repObj.reportparam.REPORTYPE?(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=" @Show Stock Qty & Stock Value Wise Report",this.repObj.reportname="Consolidated Stock Report Division Wise_2"):this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="",this.repObj.REPORTDISPLAYNAME="Consolidated Stock Report - Division Wise",this._reportFilterService.ConsolidtedStockBranchWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIERCODE=r.ACID,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCODE=r.MCODE,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM=r.DESCA,this._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["consolidatedstock-reportbranchwise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(fS,5),e.Gf(CS,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:119,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[2,"display","flex","border","none","padding-bottom","20px"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Consolidated Stock Report - Division Wise "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Report Option :"),e.qZA(),e.TgZ(40,"div",15)(41,"div",16)(42,"div",17)(43,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(44,"div",19)(45,"label",20),e._uU(46,"Show Stock Qty Wise Report"),e.qZA()()(),e.TgZ(47,"div",16)(48,"div",17)(49,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(50,"div",19)(51,"label",20),e._uU(52,"Show Stock Value Wise Report"),e.qZA()()(),e.TgZ(53,"div",16)(54,"div",17)(55,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE=i}),e.qZA()(),e.TgZ(56,"div",19)(57,"label",20),e._uU(58,"Show Stock Qty & Stock Value Wise Report"),e.qZA()()()()(),e.TgZ(59,"fieldset",23),e.YNc(60,AS,6,2,"div",24),e.TgZ(61,"div",25)(62,"div",26)(63,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=i})("change",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO=i.target.checked?1:0}),e.qZA()(),e.TgZ(64,"div",28)(65,"label",29),e._uU(66,"Show Zero Balance Stock Also "),e.qZA()()()()(),e.TgZ(67,"div",30)(68,"fieldset")(69,"legend"),e._uU(70,"Report Filter Option :"),e.qZA(),e.TgZ(71,"div",8)(72,"div",31)(73,"label",32),e._uU(74,"Item Group :"),e.qZA()(),e.TgZ(75,"div",28)(76,"select",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP=i}),e._UZ(77,"option",34),e.YNc(78,PS,2,2,"option",35),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",31)(81,"label",32),e._uU(82,"Item Category :"),e.qZA()(),e.TgZ(83,"div",28)(84,"select",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT=i}),e._UZ(85,"option",34),e.YNc(86,MS,2,2,"option",35),e.qZA()()(),e.TgZ(87,"div",1)(88,"div",31)(89,"label",32),e._uU(90,"Item Type :"),e.qZA()(),e.TgZ(91,"div",28)(92,"select",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE=i}),e._UZ(93,"option",36),e.YNc(94,RS,2,2,"option",35),e.qZA()()(),e.TgZ(95,"div",37)(96,"div",31)(97,"label",38),e._uU(98,"Supplier Name :"),e.qZA()(),e.TgZ(99,"div",28)(100,"input",39),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(101,"fieldset")(102,"legend",10),e._uU(103,"Item Selection :"),e.qZA(),e.TgZ(104,"div",40)(105,"div",31)(106,"label",32),e._uU(107,"Item Name :"),e.qZA()(),e.TgZ(108,"div",28)(109,"input",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(110,"div",42)(111,"button",43),e.NdJ("click",function(){return t.onload()}),e._uU(112,"RUN"),e.qZA(),e.TgZ(113,"button",44),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(114,"Close"),e.qZA()()()()()(),e.TgZ(115,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(117,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_BSDATE2),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_REPORTTYPE),e.xp6(5),e.Q6J("ngIf",1!=t.masterService.userSetting.ENABLESINGLEBATCHMODE),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO)("checked",1==t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ZEROBALSTOCKALSO),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.ConsolidtedStockBranchWiseObj.ConsolidtedStockBranchWise_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const DS=["genericGridSupplierPopup"],IS=["genericGridItemPopup"];function NS(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function kS(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function jS(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function yS(n,a){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let FS=(()=>{class n{constructor(r,t,o,i,l){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(c=>{this.divisionList=c}),this.masterService.getMCatList().subscribe(c=>{this.MCatList=c}),this.masterService.getPTypeList().subscribe(c=>{c&&(this.PTypeList=c)}),this.masterService.getItemGroup().subscribe(c=>{c&&(this.ItemGroupList=c)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.BranchTransferOutItemwiseObj.assignPreviousValue&&(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE="0",this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport=0,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2,"AD"))})}changeEntryDate(r,t){"AD"==t?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2=this.masterService.toADDate(r))}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_REPORTTYPE:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ShowItemInGroupWiseReport:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE?this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Branch Transfer Out Item Wise Report",this.repObj.REPORTDISPLAYNAME="Branch Transfer Out - Item Wise Report",this._reportFilterService.BranchTransferOutItemwiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIERCODE=r.ACID,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCODE=r.MCODE,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM=r.DESCA,this._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branchtransferout-itemwise-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(DS,5),e.Gf(IS,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:108,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer Out - Item Wise Report "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,NS,2,2,"option",17),e.qZA()(),e.TgZ(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Show All"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Show Closed Transfer Out Only"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Show Open Transfer Out Only"),e.qZA()()()()()(),e.TgZ(56,"div",26)(57,"fieldset")(58,"legend"),e._uU(59,"Report Filter Option :"),e.qZA(),e.TgZ(60,"div",8)(61,"div",27)(62,"label",28),e._uU(63,"Item Group :"),e.qZA()(),e.TgZ(64,"div",29)(65,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP=i}),e._UZ(66,"option",16),e.YNc(67,kS,2,2,"option",17),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",27)(70,"label",28),e._uU(71,"Item Category :"),e.qZA()(),e.TgZ(72,"div",29)(73,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT=i}),e._UZ(74,"option",16),e.YNc(75,jS,2,2,"option",17),e.qZA()()(),e.TgZ(76,"div",1)(77,"div",27)(78,"label",28),e._uU(79,"Item Type :"),e.qZA()(),e.TgZ(80,"div",29)(81,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE=i}),e._UZ(82,"option",30),e.YNc(83,yS,2,2,"option",17),e.qZA()()(),e.TgZ(84,"div",31)(85,"div",27)(86,"label",32),e._uU(87,"Supplier Name :"),e.qZA()(),e.TgZ(88,"div",29)(89,"input",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(90,"fieldset")(91,"legend",10),e._uU(92,"Item Selection :"),e.qZA(),e.TgZ(93,"div",34)(94,"div",27)(95,"label",28),e._uU(96,"Item Name :"),e.qZA()(),e.TgZ(97,"div",29)(98,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(99,"div",36)(100,"button",37),e.NdJ("click",function(){return t.onload()}),e._uU(101,"RUN"),e.qZA(),e.TgZ(102,"button",38),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(103,"Close"),e.qZA()()()()()(),e.TgZ(104,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(106,"generic-popup-grid",39,41),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(23),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_BSDATE1),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ReportMode),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.BranchTransferOutItemwiseObj.BranchTransferOutItemwise_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const wS=["genericGridSupplierPopup"],WS=["genericGridItemPopup"];function LS(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function ZS(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function xS(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function US(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let VS=(()=>{class n{constructor(r,t,o,i,l,c){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",VCHR:"",ACID:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.categorywiseConfigurationdetails=[],this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(_=>{this.divisionList=_}),this.masterService.getMCatList().subscribe(_=>{this.MCatList=_}),this.masterService.getPTypeList().subscribe(_=>{_&&(this.PTypeList=_)}),this.masterService.getItemGroup().subscribe(_=>{_&&(this.ItemGroupList=_)})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.BranchTransferInItemWiseObj.assignPreviousValue&&(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=this.masterService.userProfile.CompanyInfo.FBDATE.split("T")[0],this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV=this.masterService.userProfile.CompanyInfo.INITIAL,this._reportFilterService.BranchTransferInItemWiseObj.StockWarehousewise_ReportMode="0"),this.changeEntryDate(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2,"AD")})}changeEntryDate(r,t){console.log("Value in date",r),"AD"==t?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=this.masterService.toADDate(r))}changeEndDate(r,t){"AD"==t?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE2=this.masterService.toBSDate(r):"BS"==t&&(this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2=this.masterService.toADDate(r))}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV:"%",this.repObj.reportparam.VCHR="%",this.repObj.reportparam.SUPCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE:"%",this.repObj.reportparam.ReportMode=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ReportMode?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ReportMode:0,this.repObj.reportparam.MGROUP=this._reportFilterService.BranchTransferInItemWiseObj.BranchtransferoutVsIn_MGROUP?this._reportFilterService.BranchTransferInItemWiseObj.BranchtransferoutVsIn_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE?this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Branch Transfer In Item Wise Report",this.repObj.REPORTDISPLAYNAME="Branch Transfer In - Item Wise Report",this._reportFilterService.BranchTransferInItemWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIERCODE=r.ACID,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCODE=r.MCODE,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM=r.DESCA,this._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["branch-transfer-in-reportitemwise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(wS,5),e.Gf(WS,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:92,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"margin-top","5px","float","right"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Branch Transfer In Report - Item Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV=i}),e.TgZ(31,"option",16),e._uU(32,"ALL"),e.qZA(),e.YNc(33,LS,2,2,"option",17),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SHOWTRANSITWISE=i}),e.qZA()(),e.TgZ(37,"div",21)(38,"label",22),e._uU(39,"Show Batch Wise Stock Report "),e.qZA()()()(),e.TgZ(40,"div",23)(41,"fieldset")(42,"legend"),e._uU(43,"Report Filter Option :"),e.qZA(),e.TgZ(44,"div",8)(45,"div",24)(46,"label",25),e._uU(47,"Item Group :"),e.qZA()(),e.TgZ(48,"div",21)(49,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MGROUP=i}),e._UZ(50,"option",16),e.YNc(51,ZS,2,2,"option",17),e.qZA()()(),e.TgZ(52,"div",1)(53,"div",24)(54,"label",25),e._uU(55,"Item Category :"),e.qZA()(),e.TgZ(56,"div",21)(57,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT=i}),e._UZ(58,"option",16),e.YNc(59,xS,2,2,"option",17),e.qZA()()(),e.TgZ(60,"div",1)(61,"div",24)(62,"label",25),e._uU(63,"Item Type :"),e.qZA()(),e.TgZ(64,"div",21)(65,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE=i}),e._UZ(66,"option",26),e.YNc(67,US,2,2,"option",17),e.qZA()()(),e.TgZ(68,"div",27)(69,"div",24)(70,"label",28),e._uU(71,"Supplier Name :"),e.qZA()(),e.TgZ(72,"div",21)(73,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Item Selection :"),e.qZA(),e.TgZ(77,"div",30)(78,"div",24)(79,"label",25),e._uU(80,"Item Name :"),e.qZA()(),e.TgZ(81,"div",21)(82,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()(),e.TgZ(83,"div",32)(84,"button",33),e.NdJ("click",function(){return t.onload()}),e._uU(85,"RUN"),e.qZA(),e.TgZ(86,"button",34),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(87,"Close"),e.qZA()()()()()(),e.TgZ(88,"generic-popup-grid",35,36),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(90,"generic-popup-grid",35,37),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(23),e.Q6J("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DATE1),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_BSDATE1),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SHOWTRANSITWISE),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.BranchTransferInItemWiseObj.BranchTransferInItemWise_ITEM),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const BS=["genericGridUserListPopup"],YS=["genericGridCounterListPopup"];function JS(n,a){1&n&&(e.TgZ(0,"option",51),e._uU(1,"ALL"),e.qZA())}function qS(n,a){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function GS(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_DIV=o)}),e.YNc(4,JS,2,0,"option",49),e.YNc(5,qS,2,2,"option",50),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function HS(n,a){if(1&n&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function QS(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10),e._uU(2,"Cost Center:"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER=o)}),e._UZ(4,"option",53),e.TgZ(5,"option",51),e._uU(6," ALL "),e.qZA(),e.YNc(7,HS,2,2,"option",50),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER),e.xp6(4),e.Q6J("ngForOf",r.costCenterList)}}function zS(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",10)(2,"input",54),e.NdJ("change",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.ChangeTime())})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=o.target.checked?1:0)}),e.qZA(),e._uU(3,"Time Wise Report :"),e.qZA(),e.TgZ(4,"div",1)(5,"div",22)(6,"label"),e._uU(7,"From Time:"),e.qZA(),e.TgZ(8,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP=o)}),e.qZA(),e.TgZ(9,"label",56),e._uU(10,"To Time:"),e.qZA(),e.TgZ(11,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP=o)}),e.qZA()()(),e._UZ(12,"div",1),e.qZA()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT)("checked",1==r._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT),e.xp6(6),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP)("disabled",1!=r._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT),e.xp6(3),e.Q6J("ngModel",r._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP)("disabled",1!=r._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT)}}let KS=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",COSTCENTER:"",REPORTOPTION:1,REPORTTYPE:0,TRNUSER:"",TERMINAL:"",TIMWISEREPORT:0,FROM_TIMESTAMP:0,TO_TIMESTAMP:0,COMPANYID:"",TIME1:"",TIME2:"",TERMINALNAME:"",ALLUSER:0,ALLTERMINAL:0,DIVISIONAME:"",REPORTOPTIONDISPLAYNAME:"",SUMMARYREPORTDISPLAYNAME:"",USERDISPLAYNAME:"",TERMINALDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",TIME1DISPLAY:"",TIME2DISPLAY:"",SHOWONLINEPAYMODE_INDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForUserList=new m.im,this.gridPopupSettingsForCounterList=new m.im,this.AppMode=j.N.appMode,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.SalesCollectionObj.SalesCollection_DIV=this._transactionService.userProfile.userDivision});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.SalesCollectionObj.assignPreviousValue&&(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesCollectionObj.SalesCollection_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0",this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE="0",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT=0),this.changeEntryDate(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2,"AD")})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER||null==this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&1!=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&("%"==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||void 0===this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||""==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||null==this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME||null===this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME))return void this._alertService.info("Please Select User Name first!");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&1!=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&("%"==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL||void 0===this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||""==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||null==this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME||null===this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME))return void this._alertService.info("Please Select Counter Name first!");if(1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%"),1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=""),this._reportFilterService.SalesCollectionObj.SalesCollection_DIV&&"%"==this._reportFilterService.SalesCollectionObj.SalesCollection_DIV)this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME="All";else if(this._reportFilterService.SalesCollectionObj.SalesCollection_DIV&&"%"!=this._reportFilterService.SalesCollectionObj.SalesCollection_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.SalesCollectionObj.SalesCollection_DIV);this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesCollectionObj.SalesCollection_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesCollectionObj.SalesCollection_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER?this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER:"%",this.repObj.reportparam.COSTCENTER=this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER?this._reportFilterService.SalesCollectionObj.SalesCollection_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesCollectionObj.SalesCollection_DIV?this._reportFilterService.SalesCollectionObj.SalesCollection_DIV:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE?this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE:0,this.repObj.reportparam.REPORTOPTION=this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION?this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION:0,this.repObj.reportparam.TIMWISEREPORT=this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT?this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT:0,this.repObj.reportparam.TRNUSER=this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME:"%",this.repObj.reportparam.TERMINAL=this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL?this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL:"%",this.repObj.reportparam.TIME1=this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP?this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP:"00:00",this.repObj.reportparam.TIME2=this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP?this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP:"00:00",this.repObj.reportparam.TERMINALNAME=this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME:"",this.repObj.reportparam.ALLUSER=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER?this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER:0,this.repObj.reportparam.ALLTERMINAL=this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER?this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER:0,this.repObj.reportparam.DIVISIONAME=this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME?this._reportFilterService.SalesCollectionObj.SalesCollection_DIVISIONNAME:"",this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL=this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL?this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL:0,this.repObj.reportparam.SUMMARYREPORTDISPLAYNAME=0==this.repObj.reportparam.REPORTTYPE?"@Summary Report":1==this.repObj.reportparam.REPORTTYPE?"@Detail Report":"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=0==this.repObj.reportparam.REPORTOPTION?"@User Wise Report":1==this.repObj.reportparam.REPORTOPTION?"@Counter Wise Report":2==this.repObj.reportparam.REPORTOPTION?"@Day Wise Report":"",this.repObj.reportparam.USERDISPLAYNAME="%"!=this.repObj.reportparam.TRNUSER?this.repObj.reportparam.TRNUSER:"%"==this.repObj.reportparam.TRNUSER&&1==this.repObj.reportparam.ALLUSER?"All Users":"",this.repObj.reportparam.TERMINALDISPLAYNAME="%"!=this.repObj.reportparam.TERMINAL?this.repObj.reportparam.TERMINALNAME:"%"==this.repObj.reportparam.TERMINAL&&1==this.repObj.reportparam.ALLTERMINAL?"All Counters":"",1==this.repObj.reportparam.TIMWISEREPORT&&(this.repObj.reportparam.SHOWITEMDETAILDISPLAY="@TimeWiseReport","00:00"!=this.repObj.reportparam.TIME1&&"00:00"!=this.repObj.reportparam.TIME2?(this.repObj.reportparam.TIME1DISPLAY=this.repObj.reportparam.TIME1,this.repObj.reportparam.TIME2DISPLAY=this.repObj.reportparam.TIME2):(this.repObj.reportparam.TIME1DISPLAY="",this.repObj.reportparam.TIME2DISPLAY="")),console.log("REPORTTYPE",this.repObj.reportparam.REPORTTYPE,this.repObj.reportparam.REPORTOPTION,this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL),0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_1":0==this.repObj.reportparam.REPORTTYPE&&2==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_2":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_3":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&0==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_4":0==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC":0==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_1":0==this.repObj.reportparam.REPORTTYPE&&2==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_2":1==this.repObj.reportparam.REPORTTYPE&&0==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL?this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_3":1==this.repObj.reportparam.REPORTTYPE&&1==this.repObj.reportparam.REPORTOPTION&&1==this.repObj.reportparam.SHOWONLINEPAYMODE_INDETAIL&&(this.repObj.reportname="Sales Collection ReportNONDMS_DYNAMIC_4"),this.repObj.REPORTDISPLAYNAME="Sales Collection Report",this._reportFilterService.SalesCollectionObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}UserListEnter(r){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(r){this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=r.UNAME}CounterListEnter(r){this.gridPopupSettingsForCounterList={title:"Counter List",apiEndpoints:"/getSalesCounterList",defaultFilterIndex:0,columns:[{key:"INITIAL",title:"INITIAL",hidden:!1,noSearch:!1},{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridCounterListPopup.show()}onCounterListSelected(r){this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL=r.INITIAL,this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=r.NAME}Change(){1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=""),1==this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="")}changeDeatil(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0),1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0),2==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION&&(this._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME="",this._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERINITIAL="%",this._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=0,this._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=0)}ChangeTime(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_TIMWISEREPORT&&(this._reportFilterService.SalesCollectionObj.SalesCollection_FROM_TIMESTAMP="",this._reportFilterService.SalesCollectionObj.SalesCollection_TO_TIMESTAMP="")}ChangeSum(){0==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&(this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0"),1==this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE&&(this._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION="0"),this.changeDeatil()}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}showOnlinePayment(r){console.log("show online",r.target.checked),this._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL=1==r.target.checked?1:0}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salescollection-selector"]],viewQuery:function(r,t){if(1&r&&(e.Gf(BS,5),e.Gf(YS,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridCounterListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:107,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[4,"ngIf"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[2,"display","flex"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],[2,"margin-left","10%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"row",2,"margin-top","2%","margin-bottom","2%"],[1,"col-sm-4"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportOption","value","2",3,"ngModel","disabled","ngModelChange","change"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"margin-left","-22px"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","width","184px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","0",2,"margin-top","10px","margin-left","21px",3,"ngModel","disabled","change","ngModelChange"],[2,"margin-top","10px","font-size","13px"],[1,"col-md-4",2,"margin-left","-56px"],[2,"margin-left","52%"],["type","text","placeholder","Press Enter for Counter List",1,"form-control","input-text",2,"background","white","width","182px",3,"ngModel","disabled","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","value","1",2,"margin-top","10px","margin-left","21px",3,"ngModel","disabled","change","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridUserListPopup",""],["genericGridCounterListPopup",""],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[3,"value"],["value",""],["type","checkbox",3,"ngModel","checked","change","ngModelChange"],["type","time",2,"width","100px","margin-left","-16px","margin-top","4px",3,"ngModel","disabled","ngModelChange"],[2,"margin-left","57px"],["type","time",2,"width","100px","margin-left","-35px","margin-top","4px",3,"ngModel","disabled","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Collection Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,GS,6,3,"fieldset",15),e.YNc(38,QS,8,2,"fieldset",15),e.TgZ(39,"div",16)(40,"div",17)(41,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL=i})("change",function(i){return t.showOnlinePayment(i)}),e.qZA()(),e.TgZ(42,"div",19)(43,"label",20),e._uU(44,"Show Credit Card Online Bill Payment Detail"),e.qZA()()()(),e.TgZ(45,"div",21)(46,"fieldset")(47,"legend",10),e._uU(48,"Report Type :"),e.qZA(),e.TgZ(49,"div",22)(50,"div",23)(51,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE=i})("change",function(){return t.ChangeSum()}),e.qZA(),e.TgZ(52,"label"),e._uU(53,"Summary Report"),e.qZA()(),e.TgZ(54,"div",25)(55,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE=i})("change",function(){return t.ChangeSum()}),e.qZA(),e.TgZ(56,"label"),e._uU(57,"Detail Report"),e.qZA()()()(),e.TgZ(58,"fieldset")(59,"legend",10),e._uU(60,"Report Option :"),e.qZA(),e.TgZ(61,"div",27)(62,"div",28)(63,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return t.changeDeatil()}),e.qZA(),e.TgZ(64,"label"),e._uU(65,"User Wise"),e.qZA()(),e.TgZ(66,"div",28)(67,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return t.changeDeatil()}),e.qZA(),e.TgZ(68,"label"),e._uU(69,"Counter Wise"),e.qZA()(),e.TgZ(70,"div",28)(71,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION=i})("change",function(){return t.changeDeatil()}),e.qZA(),e.TgZ(72,"label"),e._uU(73,"Day Wise"),e.qZA()()()(),e.TgZ(74,"fieldset")(75,"legend",10),e._uU(76,"Filter Option :"),e.qZA(),e.TgZ(77,"div",1)(78,"div",32)(79,"label",33),e._uU(80,"User Name :"),e.qZA()(),e.TgZ(81,"div",34)(82,"div",22)(83,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME=i})("keydown.enter",function(i){return t.UserListEnter(i)})("keydown.Tab",function(i){return t.UserListEnter(i)})("keyup",function(i){return t.UserListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(84,"input",36),e.NdJ("change",function(){return t.Change()})("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER=i}),e.qZA(),e.TgZ(85,"label",37),e._uU(86,"All User"),e.qZA()()()(),e.TgZ(87,"div",1)(88,"div",38)(89,"label",39),e._uU(90,"Counter Name :"),e.qZA()(),e.TgZ(91,"div",19)(92,"div",22)(93,"input",40),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME=i})("keydown.enter",function(i){return t.CounterListEnter(i)})("keydown.Tab",function(i){return t.CounterListEnter(i)})("keyup",function(i){return t.CounterListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(94,"input",41),e.NdJ("change",function(){return t.Change()})("ngModelChange",function(i){return t._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER=i}),e.qZA(),e.TgZ(95,"label",37),e._uU(96,"All Counter"),e.qZA()()()()(),e.YNc(97,zS,13,6,"fieldset",15),e.qZA()()(),e.TgZ(98,"div",42)(99,"button",43),e.NdJ("click",function(){return t.onload()}),e._uU(100,"RUN"),e.qZA(),e.TgZ(101,"button",44),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(102,"Close"),e.qZA()()()()()(),e.TgZ(103,"generic-popup-grid",45,46),e.NdJ("onItemDoubleClick",function(i){return t.onUserListSelected(i)}),e.qZA(),e.TgZ(105,"generic-popup-grid",45,47),e.NdJ("onItemDoubleClick",function(i){return t.onCounterListSelected(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL)("checked",1==t._reportFilterService.SalesCollectionObj.SalesCollection_SHOWONLINEPAYMODE_INDETAIL),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION)("disabled",1==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTTYPE),e.xp6(12),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_USERNAME)("disabled",1==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||1==t._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER||2==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_ALLUSER)("disabled",1==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||2==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_COUNTERNAME)("disabled",0==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||1==t._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER||2==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(1),e.Q6J("ngModel",t._reportFilterService.SalesCollectionObj.SalesCollection_ALLCOUNTER)("disabled",0==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION||2==t._reportFilterService.SalesCollectionObj.SalesCollection_REPORTOPTION),e.xp6(3),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForCounterList))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const $S=["reportPopup"],XS=["genericGridSupplierPopup"],em=["genericGridItemPopup"];function tm(n,a){1&n&&(e.TgZ(0,"option",34),e._uU(1,"ALL"),e.qZA())}function rm(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function im(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",33),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_DIV=o)}),e.YNc(4,tm,2,0,"option",55),e.YNc(5,rm,2,2,"option",35),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_DIV),e.xp6(1),e.Q6J("ngIf",0==r.userSetting.UserwiseDivision||r.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",r.divisionList)}}function om(n,a){1&n&&(e.TgZ(0,"label",17),e._uU(1,"Show Item In Group Wise Stock Report"),e.qZA())}function nm(n,a){1&n&&(e.TgZ(0,"label",17),e._uU(1,"Show Item In Category Wise Stock Report"),e.qZA())}function am(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",16),e.YNc(4,om,2,0,"label",57),e.YNc(5,nm,2,0,"label",57),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport)("checked",1==r._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport),e.xp6(2),e.Q6J("ngIf",1==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(1),e.Q6J("ngIf",2==r._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE)}}function sm(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=o.target.checked?1:0)}),e.qZA()(),e.TgZ(3,"div",32)(4,"label",60),e._uU(5,"Show Batch Wise Stock Report"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE)("checked",1==r._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE)}}function lm(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",61)(1,"div",1)(2,"div",59)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",32)(5,"label",62),e._uU(6,"Show Alt Unit Stock Report"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT)("checked",1==r._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT)}}function pm(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",61)(1,"div",1)(2,"div",59)(3,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=o.target.checked?1:0)}),e.qZA()(),e.TgZ(4,"div",32)(5,"label",63),e._uU(6,"Show Item Detail In Report"),e.qZA()()()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL)("checked",1==r._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL)}}function cm(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function _m(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Warehouse Selection:"),e.qZA(),e.TgZ(3,"select",64),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE=o)}),e.ALo(4,"disableField"),e._UZ(5,"option",34),e.YNc(6,cm,2,2,"option",35),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE)("disabled",e.lcZ(4,3,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",r.warehouseList)}}function dm(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function hm(n,a){if(1&n&&(e.TgZ(0,"option",56),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let um=(()=>{class n{constructor(r,t,o,i,l,c,_,d,h){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.brandService=h,this.isActive=!1,this.repObj={reportname:"",reportparam:{PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",BARCODE:"",MCODE:"",REPORTTYPE:0,ShowItemInGroupWiseReport:0,ReportMode:0,WAREHOUSE:"",MGROUP:"%",PTYPE:100,MCAT:"%",SUPCODE:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",SUPPLIERNAME:"",params:"%",SHOWBATCHWISESTOCK:0,ShowAltUnitStockReport:0,SHOWGROUPING:0,DIVISIONNAME:"",WAREHOUSENAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:"",SHOWITEMDETAILDISPLAY:"",SUPPLIERDISPLAYNAME:"",ITEMGROUP:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.ProductGroupList=[],this.warehouseList=[],this.resultList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getProductGroupList().subscribe(p=>{p&&(this.ProductGroupList=p)}),this.masterService.getWarehouseList().subscribe(p=>{this.warehouseList=p}),this.masterService.getAccDivList(),this.simpleSearchSuggestData()}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.OpeningStockObj.assignPreviousValue&&(this._reportFilterService.OpeningStockObj.OpeningStock_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE="0",this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode="0",this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE=0,this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT=0,this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE=1==this.userSetting.UserWiseWarehouse?this.masterService.userProfile.userWarehouse:"%")})}simpleSearchSuggestData(){this.busy=this.brandService.getBrandTree().subscribe(r=>{console.log("dataaaaaa",r[0]),this.resss=r[0],this.resultList=this.resss[0],console.log("dataaaaaaChildren",this.resss[0].children),console.log("LEVELS",this.resss[0].LEVELS),console.log("name",this.resss[0].name)})}onload(){if(this._reportFilterService.OpeningStockObj.OpeningStock_DIV&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_DIV)this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME="All";else if(this._reportFilterService.OpeningStockObj.OpeningStock_DIV&&"%"!=this._reportFilterService.OpeningStockObj.OpeningStock_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.OpeningStockObj.OpeningStock_DIV);this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME="";if(this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?"All":this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE:"",this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP)this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME="All";else if(this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP&&"%"!=this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP);this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME="";if(this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE&&"100"==this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP)this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME="";else if(this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE&&"100"!=this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE);this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME="";this._reportFilterService.OpeningStockObj.OpeningStock_CATEGORYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?"All":this._reportFilterService.OpeningStockObj.OpeningStock_MCAT&&"%"==this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"",this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.OpeningStockObj.OpeningStock_DIV?this._reportFilterService.OpeningStockObj.OpeningStock_DIV:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE:"%",this.repObj.reportparam.MCODE=this._reportFilterService.OpeningStockObj.OpeningStock_MCODE?this._reportFilterService.OpeningStockObj.OpeningStock_MCODE:"%",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE?this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE:0,this.repObj.reportparam.ReportMode=this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode?this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode:0,this.repObj.reportparam.ShowItemInGroupWiseReport=this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport?this._reportFilterService.OpeningStockObj.OpeningStock_ShowItemInGroupWiseReport:0,this.repObj.reportparam.WAREHOUSE=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP?this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE?this._reportFilterService.OpeningStockObj.OpeningStock_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"%",this.repObj.reportparam.ShowDetail=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWDETAIL:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEM?this._reportFilterService.OpeningStockObj.OpeningStock_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE?this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE:"",this.repObj.reportparam.SHOWBATCHWISESTOCK=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWBATCHWISE:0,this.repObj.reportparam.ShowAltUnitStockReport=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWALTUNIT:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING?this._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME?this._reportFilterService.OpeningStockObj.OpeningStock_DIVISIONNAME:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME?this._reportFilterService.OpeningStockObj.OpeningStock_WAREHOUSENAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_MCAT?this._reportFilterService.OpeningStockObj.OpeningStock_MCAT:"",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER?this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER:"",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP?this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP:"",0==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.ShowItemInGroupWiseReport=0),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS":1==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS_1":2==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Opening Stock ReportNONDMS_2":3==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Opening Stock ReportNONDMS_3"),this.repObj.reportparam.SHOWITEMDETAILDISPLAY=1==this.repObj.reportparam.ShowDetail?"@Report with Item Detail":"",this.repObj.reportparam.REPORTOPTIONDISPLAYNAME=1==this.repObj.reportparam.ReportMode?" @Negative Stock Report Only":"",this.repObj.REPORTDISPLAYNAME="Opening Stock Report",this._reportFilterService.OpeningStockObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIERCODE=r.ACID,this._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.OpeningStockObj.OpeningStock_MCODE=r.MCODE,this._reportFilterService.OpeningStockObj.OpeningStock_ITEM=r.DESCA,this._reportFilterService.OpeningStockObj.OpeningStock_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}Change(){(0==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||1==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==this._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE)&&(this._reportFilterService.OpeningStockObj.OpeningStock_ReportMode="0")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}reportTree(){this.reportPopup.show()}selectedValue(r){console.log("k data ho yo?",r),this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP=r.MCODE,this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=r.DESCA}treeNodeSelected(r){this.reportPopup.hide(),console.log("stock ledger ma data ayoo",r),this._reportFilterService.OpeningStockObj.OpeningStock_MGROUP=r.id,this._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=r.name}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e),e.Y36($.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["opening-stock-report-selector"]],viewQuery:function(r,t){if(1&r&&(e.Gf($S,5),e.Gf(XS,5),e.Gf(em,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.reportPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:128,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[4,"ngIf"],[1,"legend-class"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],["class","row","style","margin-bottom: -3%",4,"ngIf"],["type","radio","name","reportOption","value","0",3,"ngModel","disabled","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","disabled","ngModelChange"],["class","row checkbox","style","margin-top:5px;",4,"ngIf"],["class","row checkbox","style","margin-top:-10px;",4,"ngIf"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col",2,"display","flex","align-items","center"],[2,"width","77%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange"],["type","button",1,"btn","btn-secondary","confirm-btn","btn-sm","ml-2",2,"font-size","19px","padding","0 9px 0 9px",3,"click"],[1,"col"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],["value","100"],[1,"row",2,"margin-bottom","-1%"],[2,"margin-left","-10%","width","114%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","-5%"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","342%","margin-top","0%","margin-left","-18%"],[1,"col-sm-1",2,"margin-left","50px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridItemPopup",""],[3,"treeNodeValue"],["reportPopup",""],["value","%",4,"ngIf"],[3,"value"],["style","width: 100%;",4,"ngIf"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-6%"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-7%"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Opening Stock Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5),e.YNc(16,im,6,3,"fieldset",10),e.TgZ(17,"fieldset")(18,"legend",11),e._uU(19,"Report Type Selection :"),e.qZA(),e.TgZ(20,"div",12)(21,"div",13)(22,"div",14)(23,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return t.Change()}),e.qZA()(),e.TgZ(24,"div",16)(25,"label",17),e._uU(26,"Item Wise Stock Report"),e.qZA()()(),e.TgZ(27,"div",13)(28,"div",14)(29,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return t.Change()}),e.qZA()(),e.TgZ(30,"div",16)(31,"label",17),e._uU(32,"Item Group Wise Stock Report"),e.qZA()()(),e.TgZ(33,"div",13)(34,"div",14)(35,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return t.Change()}),e.qZA()(),e.TgZ(36,"div",16)(37,"label",17),e._uU(38,"Item Category Wise Stock Report"),e.qZA()()(),e.TgZ(39,"div",13)(40,"div",14)(41,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE=i})("change",function(){return t.Change()}),e.qZA()(),e.TgZ(42,"div",16)(43,"label",17),e._uU(44,"Voucher Wise Detail Report"),e.qZA()()(),e.YNc(45,am,6,4,"div",21),e.qZA()(),e.TgZ(46,"fieldset")(47,"legend",11),e._uU(48,"Report Option :"),e.qZA(),e.TgZ(49,"div",12)(50,"div",13)(51,"div",14)(52,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_ReportMode=i}),e.qZA()(),e.TgZ(53,"div",16)(54,"label",17),e._uU(55,"Show All Item Stock Report"),e.qZA()()(),e.TgZ(56,"div",13)(57,"div",14)(58,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_ReportMode=i}),e.qZA()(),e.TgZ(59,"div",16)(60,"label",17),e._uU(61,"Show Negative Stock B/L Item Only"),e.qZA()()()()(),e.YNc(62,sm,6,2,"div",24),e.YNc(63,lm,7,2,"div",25),e.YNc(64,pm,7,2,"div",25),e.qZA(),e.TgZ(65,"div",26),e.YNc(66,_m,7,5,"fieldset",10),e.TgZ(67,"fieldset")(68,"legend"),e._uU(69,"Report Filter Option :"),e.qZA(),e.TgZ(70,"div",8)(71,"div",27)(72,"label",28),e._uU(73,"Item Group :"),e.qZA()(),e.TgZ(74,"div",29)(75,"app-simple-suggest",30),e.NdJ("selectOption",function(i){return t.selectedValue(i)})("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP=i}),e.qZA(),e.TgZ(76,"button",31),e.NdJ("click",function(){return t.reportTree()}),e._uU(77,"+"),e.qZA()()(),e.TgZ(78,"div",1)(79,"div",27)(80,"label",28),e._uU(81,"Item Category :"),e.qZA()(),e.TgZ(82,"div",32)(83,"select",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_MCAT=i}),e._UZ(84,"option",34),e.YNc(85,dm,2,2,"option",35),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",27)(88,"label",28),e._uU(89,"Item Type :"),e.qZA()(),e.TgZ(90,"div",32)(91,"select",33),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_PTYPE=i}),e._UZ(92,"option",36),e.YNc(93,hm,2,2,"option",35),e.qZA()()(),e.TgZ(94,"div",37)(95,"div",27)(96,"label",38),e._uU(97,"Supplier Name :"),e.qZA()(),e.TgZ(98,"div",32)(99,"input",39),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(100,"fieldset")(101,"legend",11),e._uU(102,"Item Selection :"),e.qZA(),e.TgZ(103,"div",40)(104,"div",27)(105,"label",28),e._uU(106,"Item Name :"),e.qZA()(),e.TgZ(107,"div",32)(108,"input",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(109,"div",42)(110,"div",43)(111,"input",44),e.NdJ("ngModelChange",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING=i})("change",function(i){return t._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(112,"div",32)(113,"label",45),e._uU(114,"Show Item Grouping Hierarchy"),e.qZA()(),e._UZ(115,"div",46)(116,"div",32),e.qZA()()()(),e.TgZ(117,"div",47)(118,"button",48),e.NdJ("click",function(){return t.onload()}),e._uU(119,"RUN"),e.qZA(),e.TgZ(120,"button",49),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(121,"Close"),e.qZA()()()()()(),e.TgZ(122,"generic-popup-grid",50,51),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(124,"generic-popup-grid",50,52),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(126,"app-report-popup",53,54),e.NdJ("treeNodeValue",function(i){return t.treeNodeSelected(i)}),e.qZA()),2&r&&(e.xp6(16),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(4),e.Q6J("ngIf",0!=t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE&&3!=t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_ReportMode)("disabled",1==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_ReportMode)("disabled",1==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||2==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE||3==t._reportFilterService.OpeningStockObj.OpeningStock_REPORTTYPE),e.xp6(4),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(2),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(9),e.Q6J("options",t.ProductGroupList)("labelKey","DESCA")("valueKey","MCODE")("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_ITEMGROUP),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_SUPPLIER),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_ITEM),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING)("checked",1==t._reportFilterService.OpeningStockObj.OpeningStock_SHOWGROUPING),e.xp6(11),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,te,K.c,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const gm=["genericGridItemPopup"];function Sm(n,a){1&n&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function mm(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Om(n,a){1&n&&(e.TgZ(0,"option",28),e._uU(1,"ALL"),e.qZA())}function bm(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Tm(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function vm(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function fm(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let Cm=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",params:"%",ShowAltUnitSalesRate:0,ShowSalesRateofAllItems:0,ShowBaseSalesRate:0,SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForItem=new m.im,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h}),this.masterService.getMCatList().subscribe(h=>{this.MCatList=h}),this.masterService.getPTypeList().subscribe(h=>{h&&(this.PTypeList=h)}),this.masterService.getItemGroup().subscribe(h=>{h&&(this.ItemGroupList=h)}),this.masterService.getWarehouseList().subscribe(h=>{this.warehouseList=h}),this.masterService.getAccDivList()}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{1!=this._reportFilterService.RateGroupObj.assignPreviousValue&&(this._reportFilterService.RateGroupObj.Rategroup_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=0,this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=0,this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=0)})}onload(){if(this._reportFilterService.RateGroupObj.Rategroup_DIV&&"%"==this._reportFilterService.RateGroupObj.Rategroup_DIV)this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME="All";else if(this._reportFilterService.RateGroupObj.Rategroup_DIV&&"%"!=this._reportFilterService.RateGroupObj.Rategroup_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.RateGroupObj.Rategroup_DIV);this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME="";if(this._reportFilterService.RateGroupObj.Rategroup_MGROUP&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MGROUP)this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME="All";else if(this._reportFilterService.RateGroupObj.Rategroup_MGROUP&&"%"!=this._reportFilterService.RateGroupObj.Rategroup_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.RateGroupObj.Rategroup_MGROUP);this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME="";if(this._reportFilterService.RateGroupObj.Rategroup_PTYPE&&"100"==this._reportFilterService.RateGroupObj.Rategroup_MGROUP)this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME="";else if(this._reportFilterService.RateGroupObj.Rategroup_PTYPE&&"100"!=this._reportFilterService.RateGroupObj.Rategroup_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.RateGroupObj.Rategroup_PTYPE);this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME="";this._reportFilterService.RateGroupObj.Rategroup_CATEGORYNAME=this._reportFilterService.RateGroupObj.Rategroup_MCAT&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MCAT?"All":this._reportFilterService.RateGroupObj.Rategroup_MCAT&&"%"==this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.RateGroupObj.Rategroup_DIV?this._reportFilterService.RateGroupObj.Rategroup_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.RateGroupObj.Rategroup_MCODE?this._reportFilterService.RateGroupObj.Rategroup_MCODE:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.RateGroupObj.Rategroup_MGROUP?this._reportFilterService.RateGroupObj.Rategroup_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.RateGroupObj.Rategroup_PTYPE?this._reportFilterService.RateGroupObj.Rategroup_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"%",this.repObj.reportparam.ShowBaseSalesRate=this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate?this._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RateGroupObj.Rategroup_ITEM?this._reportFilterService.RateGroupObj.Rategroup_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.RateGroupObj.Rategroup_MENUCODE?this._reportFilterService.RateGroupObj.Rategroup_MENUCODE:"",this.repObj.reportparam.ShowAltUnitSalesRate=this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate?this._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate:0,this.repObj.reportparam.ShowSalesRateofAllItems=this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems?this._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems:0,this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING?this._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME?this._reportFilterService.RateGroupObj.Rategroup_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME?this._reportFilterService.RateGroupObj.Rategroup_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME?this._reportFilterService.RateGroupObj.Rategroup_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.RateGroupObj.Rategroup_MCAT?this._reportFilterService.RateGroupObj.Rategroup_MCAT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ShowAltUnitSalesRate?this.repObj.reportname="Rate Group Report":1==this.repObj.reportparam.ShowAltUnitSalesRate&&(this.repObj.reportname="Rate Group Report_1"),this.repObj.REPORTDISPLAYNAME="Rate Group Report",this._reportFilterService.RateGroupObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.RateGroupObj.Rategroup_MCODE=r.MCODE,this._reportFilterService.RateGroupObj.Rategroup_ITEM=r.DESCA,this._reportFilterService.RateGroupObj.Rategroup_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["rate-group-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(gm,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:102,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["id","rategrpdiv",1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],[2,"font-size","13px","font-weight","bold"],[1,"row","checkbox",2,"margin-top","5px"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"row","checkbox",2,"margin-top","-10px"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-6%"],[2,"font-size","12px","width","126%","margin-top","0%","margin-left","-7%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],["value","100"],[1,"row",2,"margin-top","-1%"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","168px"],[2,"font-size","12px","width","342%","margin-top","0%","margin-left","-26%"],[1,"col-sm-1",2,"margin-left","50px"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Rate Group Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Division Selection:"),e.qZA(),e.TgZ(19,"select",11),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_DIV=i}),e.YNc(20,Sm,2,0,"option",12),e.YNc(21,mm,2,2,"option",13),e.qZA()(),e.TgZ(22,"fieldset")(23,"legend",10),e._uU(24,"Rate Group Name Selection:"),e.qZA(),e.TgZ(25,"select",14),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_RATEDIV=i}),e.YNc(26,Om,2,0,"option",12),e.YNc(27,bm,2,2,"option",13),e.qZA(),e.TgZ(28,"label",15),e._uU(29,"Rate Type: "),e.qZA()(),e.TgZ(30,"div",16)(31,"div",17)(32,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=i})("change",function(i){return t._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate=i.target.checked?1:0}),e.qZA()(),e.TgZ(33,"div",19)(34,"label",20),e._uU(35,"Show Alternate Unit Sales Rate Also"),e.qZA()()(),e.TgZ(36,"div",21)(37,"div",1)(38,"div",17)(39,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=i})("change",function(i){return t._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems=i.target.checked?1:0}),e.qZA()(),e.TgZ(40,"div",19)(41,"label",22),e._uU(42,"Show Sales Rate of All Items"),e.qZA()()()(),e.TgZ(43,"div",21)(44,"div",1)(45,"div",17)(46,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=i})("change",function(i){return t._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate=i.target.checked?1:0}),e.qZA()(),e.TgZ(47,"div",19)(48,"label",23),e._uU(49,"Show Base Sales Rate Only"),e.qZA()()()()(),e.TgZ(50,"div",24)(51,"fieldset")(52,"legend"),e._uU(53,"Report Filter Option :"),e.qZA(),e.TgZ(54,"div",8)(55,"div",25)(56,"label",26),e._uU(57,"Item Group :"),e.qZA()(),e.TgZ(58,"div",19)(59,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_MGROUP=i}),e._UZ(60,"option",28),e.YNc(61,Tm,2,2,"option",13),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",25)(64,"label",26),e._uU(65,"Item Category :"),e.qZA()(),e.TgZ(66,"div",19)(67,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_MCAT=i}),e._UZ(68,"option",28),e.YNc(69,vm,2,2,"option",13),e.qZA()()(),e.TgZ(70,"div",1)(71,"div",25)(72,"label",26),e._uU(73,"Item Type :"),e.qZA()(),e.TgZ(74,"div",19)(75,"select",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_PTYPE=i}),e._UZ(76,"option",29),e.YNc(77,fm,2,2,"option",13),e.qZA()()()(),e.TgZ(78,"fieldset")(79,"legend",10),e._uU(80,"Item Selection :"),e.qZA(),e.TgZ(81,"div",30)(82,"div",25)(83,"label",26),e._uU(84,"Item Name :"),e.qZA()(),e.TgZ(85,"div",19)(86,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(87,"div",32)(88,"div",33)(89,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING=i})("change",function(i){return t._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(90,"div",19)(91,"label",34),e._uU(92,"Show Item Grouping Hierarchy"),e.qZA()(),e._UZ(93,"div",35)(94,"div",19),e.qZA()()()(),e.TgZ(95,"div",36)(96,"button",37),e.NdJ("click",function(){return t.onload()}),e._uU(97,"RUN"),e.qZA(),e.TgZ(98,"button",38),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(99,"Close"),e.qZA()()()()()(),e.TgZ(100,"generic-popup-grid",39,40),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(19),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_DIV)("disabled",t._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_RATEDIV)("disabled",t._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate)("checked",1==t._reportFilterService.RateGroupObj.Rategroup_ShowAltUnitSalesRate),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems)("checked",1==t._reportFilterService.RateGroupObj.Rategroup_ShowSalesRateofAllItems),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate)("checked",1==t._reportFilterService.RateGroupObj.Rategroup_ShowBaseSalesRate),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_ITEM),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING)("checked",1==t._reportFilterService.RateGroupObj.Rategroup_SHOWGROUPING),e.xp6(11),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Am=["genericGridItemPopup"];function Pm(n,a){1&n&&(e.TgZ(0,"option",32),e._uU(1,"ALL"),e.qZA())}function Mm(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Rm(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function Em(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Dm(n,a){if(1&n&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let Im=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",ACID:"",MCODE:"",MGROUP:"%",PTYPE:100,MCAT:"%",ShowDetail:0,ITEMNAME:"",MENUCODE:"",params:"%",RATETYPE:0,SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",ITEMTYPENAME:"",CATEGORYNAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.gridPopupSettingsForItem=new m.im,this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getWarehouseList().subscribe(p=>{this.warehouseList=p});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.SalesPricechangeLogObj.assignPreviousValue&&(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV="%":this._reportFilterService.SalesPricechangeLogObj.Rategroup_DIV=this.masterService.PhiscalObj.Div,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=0),this.changeEntryDate(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2,"AD")})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=this.masterService.toADDate(r)}}onload(){if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME="All";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV&&"%"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME="";if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP&&"%"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME="";if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE&&"100"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP)this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME="";else if(this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE&&"100"!=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE);this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME="";this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_CATEGORYNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?"All":this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT&&"%"==this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE:"%",this.repObj.reportparam.RATETYPE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE:0,this.repObj.reportparam.MGROUP=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"%",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM:"",this.repObj.reportparam.MENUCODE=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMGROUPNAME:"",this.repObj.reportparam.ITEMTYPENAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEMTYPENAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT?this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),this.repObj.reportname="Sales Price Change Log Report",this.repObj.REPORTDISPLAYNAME="Sales Price Change Log Report",this._reportFilterService.SalesPricechangeLogObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCODE=r.MCODE,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM=r.DESCA,this._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["salesprice-changelog-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Am,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:109,vars:26,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%"],["value","100"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Price Change Log Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Rate Group Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV=i}),e.YNc(41,Pm,2,0,"option",16),e.YNc(42,Mm,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Rate Type Selection:"),e.qZA(),e.TgZ(46,"div",18)(47,"div",19)(48,"div",20)(49,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(50,"div",22)(51,"label",23),e._uU(52,"Show retail Price Only"),e.qZA()()(),e.TgZ(53,"div",19)(54,"div",20)(55,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(56,"div",22)(57,"label",23),e._uU(58,"Show whole Sales price Only"),e.qZA()()(),e.TgZ(59,"div",19)(60,"div",20)(61,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE=i}),e.qZA()(),e.TgZ(62,"div",22)(63,"label",23),e._uU(64,"Show Both"),e.qZA()()()()()(),e.TgZ(65,"div",26)(66,"fieldset")(67,"legend",10),e._uU(68,"Item Selection :"),e.qZA(),e.TgZ(69,"div",27)(70,"div",28)(71,"label",29),e._uU(72,"Item Name :"),e.qZA()(),e.TgZ(73,"div",30)(74,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(75,"fieldset")(76,"legend"),e._uU(77,"Report Filter Option :"),e.qZA(),e.TgZ(78,"div",8)(79,"div",28)(80,"label",29),e._uU(81,"Item Group :"),e.qZA()(),e.TgZ(82,"div",30)(83,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP=i}),e._UZ(84,"option",32),e.YNc(85,Rm,2,2,"option",17),e.qZA()()(),e.TgZ(86,"div",1)(87,"div",28)(88,"label",29),e._uU(89,"Item Category :"),e.qZA()(),e.TgZ(90,"div",30)(91,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT=i}),e._UZ(92,"option",32),e.YNc(93,Em,2,2,"option",17),e.qZA()()(),e.TgZ(94,"div",1)(95,"div",28)(96,"label",29),e._uU(97,"Item Type :"),e.qZA()(),e.TgZ(98,"div",30)(99,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE=i}),e._UZ(100,"option",33),e.YNc(101,Dm,2,2,"option",17),e.qZA()()()()()()(),e.TgZ(102,"div",34)(103,"button",35),e.NdJ("click",function(){return t.onload()}),e._uU(104,"RUN"),e.qZA(),e.TgZ(105,"button",36),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(106,"Close"),e.qZA()()()()()(),e.TgZ(107,"generic-popup-grid",37,38),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_RATETYPE),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_ITEM),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesPricechangeLogObj.SalesPrice_changeLog_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForItem))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Nm=["division"],km=["genericGridCustomerPopup"],jm=["multiselectGenericGrid"];function ym(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Fm(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",37,38),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=o)})("change",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",39),e._uU(6,"ALL"),e.qZA(),e.YNc(7,ym,2,2,"option",40),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.VATSalesNewObj.VATSalesNew_DIV)("disabled","lite"==r.AppMode),e.xp6(4),e.Q6J("ngForOf",r.divisionList)}}let wm=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._trnMainService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.selectMultiCustomers=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",REPMODE:"",V1:"",V2:"",V3:"",SHOWSUBTOTAL:0,SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTOMERNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForCustomer=new m.im,this.multiselectPopupSettings=new F.oe,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this._trnMainService.userProfile.userDivision)});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US"),this.AppMode=j.N.appMode}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{if(("DRILL"!=r.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VATSalesNewObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,"AD")}else this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,"AD")):(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,"AD")),this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV="%",this._reportFilterService.VATSalesNewObj.VATSalesNew_isTI=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_isSI=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_isCN=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=1,this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=0,this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=0,this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=0,"lite"==this.AppMode&&(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this.masterService.userProfile.userDivision)}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){if(this._reportFilterService.VATSalesNewObj.VATSalesNew_V1=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isTI?"TI":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_V2=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isSI?"SI":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_V3=1==this._reportFilterService.VATSalesNewObj.VATSalesNew_isCN?"CN":"",this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV&&"%"==this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV)this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME="All";else if(this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV&&"%"!=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV){let l=this.divisionList.filter(c=>c.Division==this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV);this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME=l&&l.length>0&&l[0]?l[0].NAME:""}this.repObj.reportparam.DATE1=this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE,this.repObj.reportparam.DIV=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV?this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.REPMODE=this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT?this._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT:0,this.repObj.reportparam.V1=this._reportFilterService.VATSalesNewObj.VATSalesNew_V1?this._reportFilterService.VATSalesNewObj.VATSalesNew_V1:"~~",this.repObj.reportparam.V2=this._reportFilterService.VATSalesNewObj.VATSalesNew_V2?this._reportFilterService.VATSalesNewObj.VATSalesNew_V2:"~~",this.repObj.reportparam.V3=this._reportFilterService.VATSalesNewObj.VATSalesNew_V3?this._reportFilterService.VATSalesNewObj.VATSalesNew_V3:"~~",this.repObj.reportparam.SHOWSUBTOTAL=this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL?this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL:0,this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE?this._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING?this._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME?this._reportFilterService.VATSalesNewObj.VATSalesNew_DIVISIONNAME:"",this.repObj.reportparam.CUSTID=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID:"%",this.repObj.reportparam.ACID=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER?this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="VAT Sales Register New ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="VAT Sales Register New ReportNONDMS_1"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="VAT Sales Register  Report",this._reportFilterService.VATSalesNewObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.VATSalesNewObj.VATSalesNew_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=this.masterService.toADDate(r)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),0==this.selectMultiCustomers?this.genericGridCustomerPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForCustomer,this.multiselectGenericGrid.show())}onMultiCustomerSelected(r){this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID=r.MCODE,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=r.DESCA,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID=r.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:this.masterService.userSetting.FilterIndexForCustomer,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]}}dblClickPopupParty(r){this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTID=r.CUSTID,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=r.CUSTNAME,this._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_ACID=r.ACID}changeMultiSelect(r){this.selectMultiCustomers=1==r.target.checked?1:0}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["VATSalesRegister-ReportNew"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Nm,5),e.Gf(km,5),e.Gf(jm,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first),e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:94,vars:31,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleCustomer",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","152px"],[1,"row",2,"margin-top","-20px"],[1,"col-md-12"],["type","radio","name","summary",3,"value","ngModel","ngModelChange"],[1,"smallBoldLabel",2,"width","200px","margin-top","-10px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[1,"form-control",2,"font-size","12px",3,"ngModel","disabled","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Sales Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"fieldset")(15,"legend",9),e._uU(16,"Date Range Selection :"),e.qZA(),e.TgZ(17,"div",1)(18,"div",10)(19,"div",11)(20,"div")(21,"label"),e._uU(22," From:(AD) "),e.qZA()(),e.TgZ(23,"div")(24,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(25,"div")(26,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1=i}),e.qZA()()(),e.TgZ(27,"div",14)(28,"div")(29,"label"),e._uU(30," To:(AD) "),e.qZA()(),e.TgZ(31,"div")(32,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(33,"div")(34,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2=i}),e.qZA()()()()()(),e.YNc(35,Fm,8,3,"fieldset",15),e.TgZ(36,"fieldset")(37,"legend",16),e._uU(38,"Customer Selection :"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(40,"div",1)(41,"input",18),e.NdJ("ngModelChange",function(i){return t.selectMultiCustomers=i})("change",function(i){return t.changeMultiSelect(i)}),e.qZA(),e._uU(42," \xa0 "),e.TgZ(43,"a",19),e._uU(44," Select Multiple Customers"),e.qZA()()(),e.TgZ(45,"fieldset")(46,"div",20)(47,"label",21)(48,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_isTI=i}),e.qZA(),e._uU(49," Show Tax Sales Invoice "),e.qZA()(),e.TgZ(50,"div",20)(51,"label",21)(52,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_isSI=i}),e.qZA(),e._uU(53," Show Abbreviated Sales Invoice "),e.qZA()(),e.TgZ(54,"div",23)(55,"label",21)(56,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_isCN=i}),e.qZA(),e._uU(57," Show Sales Return (Credit Note) "),e.qZA()(),e.TgZ(58,"fieldset")(59,"legend"),e._uU(60,"Abbreviated Sales Invoice Report Mode"),e.qZA(),e.TgZ(61,"div",24)(62,"div",25)(63,"div",14)(64,"label",21)(65,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=i}),e.qZA(),e._uU(66," Summary Report"),e.qZA()(),e.TgZ(67,"div",14)(68,"label",27)(69,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT=i}),e.qZA(),e._uU(70," Detail Report"),e.qZA()()()()()(),e.TgZ(71,"fieldset")(72,"div",1)(73,"div",14)(74,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=i})("change",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL=i.target.checked?1:0}),e.qZA(),e.TgZ(75,"label",29),e._uU(76,"Show Sub Total In Report"),e.qZA()(),e.TgZ(77,"div",14)(78,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=i})("change",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(79,"label",29),e._uU(80,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(81,"div",14)(82,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i})("change",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(83,"label",29),e._uU(84,"Show Report Without Round Off "),e.qZA()()()(),e.TgZ(85,"div",30)(86,"button",31),e.NdJ("click",function(){return t.onload()}),e._uU(87,"RUN"),e.qZA(),e.TgZ(88,"button",32),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(89,"Close"),e.qZA()()()()()()()(),e.TgZ(90,"generic-popup-grid",33,34),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(92,"multiselect-generic-grid",35,36),e.NdJ("onItemsSelected",function(i){return t.onMultiCustomerSelected(i)}),e.qZA()),2&r&&(e.xp6(24),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_CustomerWise_CUSTOMER),e.xp6(2),e.Q6J("ngModel",t.selectMultiCustomers)("checked",1==t.selectMultiCustomers),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_isTI),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_isSI),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_isCN),e.xp6(9),e.Q6J("value",0)("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT),e.xp6(4),e.Q6J("value",1)("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_SUMMARYREPORT),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL)("checked",1==t._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWSUBTOTAL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE)("checked",1==t._reportFilterService.VATSalesNewObj.VATSalesNew_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING)("checked",1==t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Wm=["division"],Lm=["genericGridSupplierPopup"],Zm=["multiselectGenericGrid"];function xm(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Um(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",37,38),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=o)})("change",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",39),e._uU(6,"ALL"),e.qZA(),e.YNc(7,xm,2,2,"option",40),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV)("disabled","lite"==r.AppMode),e.xp6(4),e.Q6J("ngForOf",r.divisionList)}}let Vm=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._trnMainService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.selectMultiSupplier=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.gridPopupSettingsForSupplier=new m.im,this.multiselectPopupSettings=new F.oe,this.AppMode=j.N.appMode,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p,this._reportFilterService.previouslyLoadedReportList?.some(O=>O.activeurlpath==this.arouter.url)||(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this._trnMainService.userProfile.userDivision)});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{if(("DRILL"!=r.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VATPurchaseNewObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,"AD")}else this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,"AD")):(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,"AD")),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV="%",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN=!0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=0,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=0,this._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE="0"}}),"lite"==this.AppMode&&(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this.masterService.userProfile.userDivision)}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI?"PI":"",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP?"CP":"",this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2=1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN?"DN":"";let t="VAT Purchase Register New ReportNONDMS";if(0==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE?t="VAT Purchase Register New ReportNONDMS":1==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE&&(t="VAT Purchase Register New ReportNONDMS_1"),this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV&&"%"==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV)this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME="All";else if(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV&&"%"!=this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV){let _=this.divisionList.filter(d=>d.Division==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV);this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME=_&&_.length>0&&_[0]?_[0].NAME:""}else this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME="";(""==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER||null==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER||null==this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER)&&(this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE="%"),this._reportFilterService.VATPurchaseNewObj.assignPreviousValue=!0;let l,o="VAT Purchase Register  Report",i=this.arouter.url.split("/");i&&i.length&&(l=i[i.length-1]);let c=this._reportFilterService.previouslyLoadedReportList.findIndex(_=>_.reportname==o);c>=0&&this._reportFilterService.previouslyLoadedReportList.splice(c,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:o,activeurlpath:this.arouter.url,activerurlpath2:l}),this.reportdataEmit.emit({status:r,data:{REPORTDISPLAYNAME:"VAT Purchase Register Report",reportname:t,reportparam:{DATE1:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1,DATE2:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE,DIVISION:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV:"%",DIV:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV:"%",PHISCALID:this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:" ",V1:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V1:"~~",V2:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V2:"~~",V3:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_V3:"~~",SHOWSUBTOTAL:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL:0,SHOWSUMMARYREPORT:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE:0,EXCLUDEROUNDING:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING:0,COMPANYID:this._trnMainService.userProfile.CompanyInfo.COMPANYID,DIVISIONNAME:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIVISIONNAME:"",ACID:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE:"%",SUPPLIERDISPLAYNAME:this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER?this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER:"",DATEMODE:this._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE?this._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE:0}}})}divisionChanged(){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=this.masterService.toADDate(r)}}cancel(){this.DialogClosedResult("cancel")}preventInput(r){return r.preventDefault(),!1}customerEnterCommand(r){this.getCustomersList(),0==this.selectMultiSupplier?this.genericGridSupplierPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForSupplier,this.multiselectGenericGrid.show())}changeMultiSelect(r){this.selectMultiSupplier=1==r.target.checked?1:0}onMultiItemSelected(r){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=r.DESCA,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE=r.MCODE}dblClickPopupParty(r){this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_CUSTOMERCODE=r.ACID,this._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-purchaseregisterreport-new"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Wm,5),e.Gf(Lm,5),e.Gf(Zm,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleSupplier",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"checkbox",2,"padding-top","5px","width","200px"],[1,"smallBoldLabel",2,"width","230px"],["type","checkbox","checked","",3,"ngModel","ngModelChange"],[1,"checkbox",2,"padding-top","1px","width","200px"],["type","checkbox",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],["type","radio","name","dateMODE","value","0",3,"ngModel","ngModelChange"],[2,"white-space","nowrap"],["type","radio","name","dateMODE","value","1",3,"ngModel","ngModelChange"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[1,"form-control",2,"font-size","12px",3,"ngModel","disabled","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Purchase Register Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.hide()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2=i}),e.qZA()()()()()(),e.YNc(34,Um,8,3,"fieldset",15),e.TgZ(35,"fieldset")(36,"legend",16),e._uU(37,"Supplier Selection :"),e.qZA(),e.TgZ(38,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(39,"div",1)(40,"input",18),e.NdJ("ngModelChange",function(i){return t.selectMultiSupplier=i})("change",function(i){return t.changeMultiSelect(i)}),e.qZA(),e._uU(41," \xa0 "),e.TgZ(42,"a",19),e._uU(43," Select Multiple Suppliers"),e.qZA()()(),e.TgZ(44,"fieldset")(45,"div",1)(46,"div",14)(47,"div",20)(48,"label",21)(49,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI=i}),e.qZA(),e._uU(50," Trading Purchase Transaction "),e.qZA()(),e.TgZ(51,"div",23)(52,"label",21)(53,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP=i}),e.qZA(),e._uU(54," Capital Purchase Transaction "),e.qZA()(),e.TgZ(55,"div",23)(56,"label",21)(57,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN=i}),e.qZA(),e._uU(58," Purchase Return (Debit Note) Transaction "),e.qZA()()(),e.TgZ(59,"div",14)(60,"div",23)(61,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=i})("change",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL=i.target.checked?1:0}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Show Sub Total In Report"),e.qZA()(),e.TgZ(64,"div",23)(65,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=i})("change",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(66,"label",26),e._uU(67,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(68,"div",23)(69,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=i})("change",function(i){return i.target.checked?t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING=1:t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=0}),e.qZA(),e.TgZ(70,"label",26),e._uU(71,"Show Report Without Round Off "),e.qZA()()()()(),e.TgZ(72,"fieldset")(73,"legend"),e._uU(74,"Date Mode "),e.qZA(),e.TgZ(75,"div",1)(76,"div",14)(77,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE=i}),e.qZA(),e.TgZ(78,"label",28),e._uU(79,"Entry Date Wise"),e.qZA()(),e.TgZ(80,"div",14)(81,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE=i}),e.qZA(),e.TgZ(82,"label",28),e._uU(83,"Invoice Date Wise"),e.qZA()()()(),e.TgZ(84,"div",30)(85,"button",31),e.NdJ("click",function(){return t.onload()}),e._uU(86,"RUN"),e.qZA(),e.TgZ(87,"button",32),e.NdJ("click",function(){return t.cancel()}),e._uU(88,"Close"),e.qZA()()()()()()()(),e.TgZ(89,"generic-popup-grid",33,34),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(91,"multiselect-generic-grid",35,36),e.NdJ("onItemsSelected",function(i){return t.onMultiItemSelected(i)}),e.qZA()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SUPPLIER),e.xp6(2),e.Q6J("ngModel",t.selectMultiSupplier)("checked",1==t.selectMultiSupplier),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isPI),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isCP),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_isDN),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL)("checked",1==t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWSUBTOTAL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE)("checked",1==t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING)("checked",1==t._reportFilterService.VATPurchaseNewObj.VATPurchaseNew_EXCLUDEROUNDING),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VATPurchaseNewObj.PurchaseRegister_DATEMODE),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();function Bm(n,a){1&n&&(e.TgZ(0,"option",31),e._uU(1,"ALL"),e.qZA())}function Ym(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Jm(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function qm(n,a){if(1&n&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}let Gm=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",IGNOREBRANCH:0,COMID:"",DIV:"",PHISCALID:"",FROMWAREHOUSE:"%",TOWAREHOUSE:"%",ENTRYWISEREPORT:0,REPORTTYPE:0,DIVISIONNAME:"",FROMWAREHOUSENAME:"",TOWAREHOUSENAME:"",REPORTOPTIONDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.warehouseList=[],this.InitialWarehouseList=[],this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getNotLoginDivisionList().subscribe(p=>{this.transferToList=p});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList(),this.masterService.getWarehouseList().subscribe(p=>{this.warehouseList=p,this.InitialWarehouseList=p,this.filterWarehouses()})}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.StockIssueObj.assignPreviousValue&&(this._reportFilterService.StockIssueObj.StockIssue_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.StockIssueObj.StockIssue_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.StockIssueObj.StockIssue_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockIssueObj.StockIssue_BRANCH="0",this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE="1"),this.changeEntryDate(this._reportFilterService.StockIssueObj.StockIssue_DATE1,"AD"),this.changeEndDate(this._reportFilterService.StockIssueObj.StockIssue_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.StockIssueObj.StockIssue_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockIssueObj.StockIssue_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.StockIssueObj.StockIssue_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.StockIssueObj.StockIssue_DATE2=this.masterService.toADDate(r)}}filterWarehouses(){this.warehouseList=this._reportFilterService.filterWarehouses(this.InitialWarehouseList,this._reportFilterService.StockIssueObj.StockIssue_DIV)}onload(){if(this._reportFilterService.StockIssueObj.StockIssue_DIV&&"%"==this._reportFilterService.StockIssueObj.StockIssue_DIV)this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME="All";else if(this._reportFilterService.StockIssueObj.StockIssue_DIV&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.StockIssueObj.StockIssue_DIV);this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME="";this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE&&"%"==this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?"All":this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE:"",this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE&&"%"==this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?"All":this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE&&"%"!=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE:"",this.repObj.reportparam.DATE1=this._reportFilterService.StockIssueObj.StockIssue_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.StockIssueObj.StockIssue_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.StockIssueObj.StockIssue_DIV?this._reportFilterService.StockIssueObj.StockIssue_DIV:"%",this.repObj.reportparam.DIV=this._reportFilterService.StockIssueObj.StockIssue_DIV?this._reportFilterService.StockIssueObj.StockIssue_DIV:"%",this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ENTRYWISEREPORT=this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE?this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE:1,this.repObj.reportparam.REPORTTYPE=this._reportFilterService.StockIssueObj.StockIssue_BRANCH?this._reportFilterService.StockIssueObj.StockIssue_BRANCH:0,this.repObj.reportparam.IGNOREBRANCH=this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH?this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH:0,this.repObj.reportparam.FROMWAREHOUSE=this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE:"%",this.repObj.reportparam.TOWAREHOUSE=this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE?this._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE:"%",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME?this._reportFilterService.StockIssueObj.StockIssue_DIVISIONNAME:"%",this.repObj.reportparam.FROMWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME?this._reportFilterService.StockIssueObj.StockIssue_FROMWAREHOUSENAME:"",this.repObj.reportparam.TOWAREHOUSENAME=this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME?this._reportFilterService.StockIssueObj.StockIssue_TOWAREHOUSENAME:"",1==this.repObj.reportparam.ENTRYWISEREPORT?this.repObj.reportname="Stock Issue Report":2==this.repObj.reportparam.ENTRYWISEREPORT&&(this.repObj.reportname="Stock Issue Report_1"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="@Stock Issue Report":1==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportparam.REPORTOPTIONDISPLAYNAME="@Stock Issue Return Report"),this.repObj.REPORTDISPLAYNAME="Stock Issue Report",this._reportFilterService.StockIssueObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}change(){1==this._reportFilterService.StockIssueObj.StockIssue_ITEMWISE&&(this._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=0)}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-issue-report"]],inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:29,consts:[[1,"container",2,"width","58rem"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"display","flex"],[2,"margin-left","4%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],[2,"width","auto"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportFormat","value","1",3,"ngModel","ngModelChange","change"],[2,"width","85%"],["type","radio","name","reportFormat","value","2",3,"ngModel","ngModelChange"],[2,"width","88%"],[2,"width","110px","font-weight","bold","font-size","14px"],[1,"form-control","input-text",2,"margin-left","3px","width","96%",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"form-control","input-text",2,"margin-left","3px","width","96%",3,"ngModel","ngModelChange"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Issue Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_DIV=i})("ngModelChange",function(){return t.filterWarehouses()}),e.YNc(41,Bm,2,0,"option",16),e.YNc(42,Ym,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Report Option :"),e.qZA(),e.TgZ(46,"div",18)(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_BRANCH=i}),e.qZA(),e.TgZ(49,"label",21),e._uU(50,"Stock Issue Report"),e.qZA()(),e.TgZ(51,"div",19)(52,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_BRANCH=i}),e.qZA(),e.TgZ(53,"label",21),e._uU(54,"Stock Issue Return Report"),e.qZA()()()()(),e.TgZ(55,"div",23)(56,"fieldset")(57,"legend",10),e._uU(58,"Report Format :"),e.qZA(),e.TgZ(59,"div",1)(60,"div",24)(61,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_ITEMWISE=i})("change",function(){return t.change()}),e.qZA(),e.TgZ(62,"label",26),e._uU(63,"Entry Wise Report"),e.qZA()(),e.TgZ(64,"div",24)(65,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_ITEMWISE=i}),e.qZA(),e.TgZ(66,"label",28),e._uU(67,"Item Wise Report"),e.qZA()()()(),e.TgZ(68,"fieldset")(69,"legend",10),e._uU(70,"Issue Warehouse Selection:"),e.qZA(),e.TgZ(71,"label",29),e._uU(72,"From Warehouse:"),e.qZA(),e.TgZ(73,"select",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE=i}),e.ALo(74,"disableField"),e._UZ(75,"option",31),e.YNc(76,Jm,2,2,"option",17),e.qZA(),e.TgZ(77,"label",29),e._uU(78,"To Warehouse:"),e.qZA(),e.TgZ(79,"select",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE=i}),e._UZ(80,"option",31),e.YNc(81,qm,2,2,"option",17),e.qZA()(),e.TgZ(82,"div",33)(83,"div",34)(84,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=i})("change",function(i){return t._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH=i.target.checked?1:0}),e.qZA()(),e.TgZ(85,"div",36)(86,"label",37),e._uU(87,"Disable Warehouse Wise Segragation In Report"),e.qZA()()()()()(),e.TgZ(88,"div",38)(89,"button",39),e.NdJ("click",function(){return t.onload()}),e._uU(90,"RUN"),e.qZA(),e.TgZ(91,"button",40),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(92,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.StockIssueObj.StockIssue_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.StockIssueObj.StockIssue_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_BRANCH),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_BRANCH),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_ITEMWISE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_ITEMWISE),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_FROM_WAREHOUSE)("disabled",e.lcZ(74,27,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_TO_WAREHOUSE),e.xp6(2),e.Q6J("ngForOf",t.warehouseList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH)("checked",1==t._reportFilterService.StockIssueObj.StockIssue_IGNOREBRANCH)("disabled",1==t._reportFilterService.StockIssueObj.StockIssue_ITEMWISE))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,M.v,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Hm=["division"],Qm=["genericGridCustomerPopup"],zm=["multiselectGenericGrid"];function Km(n,a){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let $m=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._trnMainService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.selectMultiCustomer=0,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUBTOTAL:0,REPMODE:0,SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTOMERNAME:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForCustomer=new m.im,this.multiselectPopupSettings=new F.oe,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{if(("DRILL"!=r.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.CreditNoteSalesReturnObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,"AD")}else this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,"AD")):(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,"AD")),this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV="%",this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=0,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){if(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV&&"%"==this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV)this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME="All";else if(this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV&&"%"!=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV){let l=this.divisionList.filter(c=>c.Division==this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV);this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME=l&&l.length>0&&l[0]?l[0].NAME:""}else this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE,this.repObj.reportparam.DIV=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER?this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="Credit Note Sales Return Register ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="Credit Note Sales Return Register ReportNONDMS_1"),""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="Credit Note (Sales Return) Register Report",this._reportFilterService.CreditNoteSalesReturnObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=this.masterService.toADDate(r)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),0==this.selectMultiCustomer?this.genericGridCustomerPopup.show():(this.multiselectPopupSettings=this.gridPopupSettingsForCustomer,this.multiselectGenericGrid.show())}onMultiCustomerSelected(r){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_ACID=r.MCODE,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=r.DESCA}changeMultiCustomer(r){this.selectMultiCustomer=1==r.target.checked?1:0}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:this.masterService.userSetting.FilterIndexForCustomer,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]}}dblClickPopupParty(r){this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTID=r.CUSTID,this._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=r.CUSTNAME}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}preventInput(r){return r.preventDefault(),!1}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["creditnote-sales-return-register-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Hm,5),e.Gf(Qm,5),e.Gf(zm,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first),e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:70,vars:23,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleCustomer",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],["type","checkbox",2,"margin-left","45px",3,"ngModel","checked","ngModelChange","change"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"Credit Note (Sales Return) Register"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV=i})("change",function(){return t.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,Km,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",19),e._uU(44,"Customer Selection :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA(),e.TgZ(46,"div",1)(47,"input",21),e.NdJ("ngModelChange",function(i){return t.selectMultiCustomer=i})("change",function(i){return t.changeMultiCustomer(i)}),e.qZA(),e._uU(48," \xa0 "),e.TgZ(49,"a",22),e._uU(50," Select Multiple Customers"),e.qZA()()(),e.TgZ(51,"fieldset")(52,"div",1)(53,"div",14)(54,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i})("change",function(i){return t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(55,"label",24),e._uU(56,"Show Report Without Round Off "),e.qZA()(),e.TgZ(57,"div",14)(58,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=i})("change",function(i){return t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(59,"label",24),e._uU(60,"Show Bill Wise Summary Report"),e.qZA()()()(),e.TgZ(61,"div",26)(62,"button",27),e.NdJ("click",function(){return t.onload()}),e._uU(63,"RUN"),e.qZA(),e.TgZ(64,"button",28),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(65,"Close"),e.qZA()()()()()()()(),e.TgZ(66,"generic-popup-grid",29,30),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(68,"multiselect-generic-grid",31,32),e.NdJ("onItemsSelected",function(i){return t.onMultiCustomerSelected(i)}),e.qZA()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_CustomerWise_CUSTOMER),e.xp6(2),e.Q6J("ngModel",t.selectMultiCustomer)("checked",1==t.selectMultiCustomer),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING)("checked",1==t._reportFilterService.VATSalesNewObj.VATSalesNew_EXCLUDEROUNDING),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE)("checked",1==t._reportFilterService.CreditNoteSalesReturnObj.CreditNoteSalesReturn_SHOWBILLWISE),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v,F.ky],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Xm=["division"],eO=["genericGridSupplierPopup"],tO=["genericGridCustomerPopup"];function rO(n,a){if(1&n&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function iO(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend"),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",27,28),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV=o)})("change",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.divisionChanged())}),e.TgZ(5,"option",29),e._uU(6,"ALL"),e.qZA(),e.YNc(7,rO,2,2,"option",30),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV),e.xp6(4),e.Q6J("ngForOf",r.divisionList)}}let oO=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._trnMainService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUBTOTAL:0,REPMODE:0,SHOWSUMMARYREPORT:0,PHISCALID:"",DIVISIONNAME:"",ACID:"",CUSTID:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForCustomer=new m.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this.AppMode=j.N.appMode,this._ActivatedRoute.queryParams.subscribe(r=>{if(("DRILL"!=r.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.VatOtherAdjustmentObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,"AD")}else this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,"AD")):(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,"AD")),this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV="%",this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){if(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV&&"%"==this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV)this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME="All";else if(this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV&&"%"!=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV){let l=this.divisionList.filter(c=>c.Division==this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV);this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME=l&&l.length>0&&l[0]?l[0].NAME:""}else this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE,this.repObj.reportparam.DIV=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID?this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID:"%",this.repObj.reportname="Vat Other Adjustment ReportNONDMS",this.repObj.REPORTDISPLAYNAME="Vat Other Adjustment Report",this._reportFilterService.VatOtherAdjustmentObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=this.masterService.toADDate(r)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(r){return r.preventDefault(),!1}SupplierEnterCommand(r){this.getSupplierList(),this.genericGridSupplierPopup.show()}dblClickSupplierPopupParty(r){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CUSTOMERCODE=r.ACID,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER=r.ACNAME}getSupplierList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer={title:"Customers",apiEndpoints:"/getCustomerFromCustomerProfile",defaultFilterIndex:0,columns:[{key:"CUSTNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"MOBILENO",title:"MOBILE",hidden:!1,noSearch:!1}]},this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTID=r.CUSTID,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER=r.CUSTNAME,this._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_ACID=r.ACID}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["vat-other-adjustment-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Xm,5),e.Gf(eO,5),e.Gf(tO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:62,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12",2,"padding-right","30px"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[4,"ngIf"],[2,"display","flex"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white","margin-top","-3px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox",2,"margin-left","27px",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],["genericGridCustomerPopup",""],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"VAT Other Adjustment Report"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2=i}),e.qZA()()()()()(),e.YNc(34,iO,8,2,"fieldset",15),e.TgZ(35,"fieldset")(36,"legend"),e._uU(37,"Party Selection:"),e.qZA(),e.TgZ(38,"div",16)(39,"label"),e._uU(40,"Customer:"),e.qZA(),e.TgZ(41,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(42,"div",16)(43,"label"),e._uU(44,"Supplier:"),e.qZA(),e.TgZ(45,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER=i})("keydown.enter",function(i){return t.SupplierEnterCommand(i)})("keydown.Tab",function(i){return t.SupplierEnterCommand(i)})("keyup",function(i){return t.SupplierEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(46,"fieldset")(47,"div",1),e._UZ(48,"div",14),e.TgZ(49,"div",14)(50,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=i})("change",function(i){return t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(51,"label",20),e._uU(52,"Show Bill Wise Summary Report"),e.qZA()()()(),e.TgZ(53,"div",21)(54,"button",22),e.NdJ("click",function(){return t.onload()}),e._uU(55,"RUN"),e.qZA(),e.TgZ(56,"button",23),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(57,"Close"),e.qZA()()()()()()()(),e.TgZ(58,"generic-popup-grid",24,25),e.NdJ("onItemDoubleClick",function(i){return t.dblClickSupplierPopupParty(i)}),e.qZA(),e.TgZ(60,"generic-popup-grid",24,26),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_CustomerWise_CUSTOMER),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SUPPLIER),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE)("checked",1==t._reportFilterService.VatOtherAdjustmentObj.VatOther_Adjustment_SHOWBILLWISE),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const nO=["division"],aO=["genericGridSupplierPopup"];function sO(n,a){if(1&n&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let lO=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._trnMainService=t,this._alertService=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this.divisionList=[],this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIV:"",COMPANYID:"",SHOWSUMMARYREPORT:0,EXCLUDEROUNDING:0,PHISCALID:"",DIVISIONNAME:"",V1:"PI",V2:"DN",V3:"",ACID:"",SUPPLIERDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.gridPopupSettingsForSupplier=new m.im,this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._trnMainService.userProfile.username).subscribe(p=>{this.divisionList=p});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d;const h=new Date;this.currDate=(0,u.p6)(h,"yyyy-MM-dd","en-US")}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{if(("DRILL"!=r.mode||!this._reportFilterService.drillParam.returnUrl)&&1!=this._reportFilterService.DebitNotePurchaseReturnObj.assignPreviousValue){if((new Date).toJSON().split("T")[0]>this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0]){var o=new Date;o.setMonth(o.getMonth()-1),this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=o.toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,"AD")}else this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,"AD");(new Date).toJSON().split("T")[0]>this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0]?(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=this.masterService.userProfile.CompanyInfo.FEDATE.split("T")[0],this.changeEndDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,"AD")):(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,"AD")),this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV="%",this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=0,this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=0}})}onload(){this.DialogClosedResult("ok")}DialogClosedResult(r){if(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV&&"%"==this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV)this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME="All";else if(this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV&&"%"!=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV){let l=this.divisionList.filter(c=>c.Division==this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV);this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME=l&&l.length>0&&l[0]?l[0].NAME:""}else this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE,this.repObj.reportparam.DIV=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV:"%",this.repObj.reportparam.COMPANYID=this._trnMainService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID?this.userProfile.PhiscalYearInfo.PhiscalID:"",this.repObj.reportparam.SHOWSUMMARYREPORT=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE:0,this.repObj.reportparam.EXCLUDEROUNDING=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING:0,this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIVISIONNAME:"",this.repObj.reportparam.ACID=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE:"%",this.repObj.reportparam.SUPPLIERDISPLAYNAME=this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER?this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER:"",0==this.repObj.reportparam.SHOWSUMMARYREPORT?this.repObj.reportname="Debit Note Purchase Return Register ReportNONDMS":1==this.repObj.reportparam.SHOWSUMMARYREPORT&&(this.repObj.reportname="Debit Note Purchase Return Register ReportNONDMS_1"),""==this.repObj.reportparam.SUPPLIERDISPLAYNAME&&(this.repObj.reportparam.ACID="%"),this.repObj.REPORTDISPLAYNAME="Debit Note (Purchase Return) Register Report",this._reportFilterService.DebitNotePurchaseReturnObj.assignPreviousValue=!0;let o,t=this.arouter.url.split("/");t&&t.length&&(o=t[t.length-1]);let i=this._reportFilterService.previouslyLoadedReportList.findIndex(l=>l.reportname==this.repObj.REPORTDISPLAYNAME);i>=0&&this._reportFilterService.previouslyLoadedReportList.splice(i,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:o}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}divisionChanged(){this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV=this.division.nativeElement.value}hide(){this.DialogClosedResult("Error")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=this.masterService.toADDate(r)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}preventInput(r){return r.preventDefault(),!1}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}dblClickPopupParty(r){this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_CUSTOMERCODE=r.ACID,this._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER=r.ACNAME}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1},{key:"VATNO",title:"VATNO",hidden:!1,noSearch:!1},{key:"EMAIL",title:"EMAIL",hidden:!1,noSearch:!1}]}}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["debitnote-purchasereturn-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(nO,5),e.Gf(aO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:63,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"modal-title",2,"padding-left","3%","width","110%"],[1,"col-md-4"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"_left_section","col-md-12"],[2,"font-size","11px","font-weight","bold","width","auto"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6"],[1,"form-control",2,"font-size","12px",3,"ngModel","ngModelChange","change"],["division",""],["value","%","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"legend-class"],["type","text","placeholder","Press Enter or Tab for Supplier List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox",2,"margin-left","56px",3,"ngModel","checked","ngModelChange","change"],[2,"font-weight","bold","width","170px","padding-left","5px","padding-top","8px","font-size","11px"],[2,"float","right"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",2)(7,"h5",5),e._uU(8,"Debit Note (Purchase Return) Register"),e.qZA()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()(),e.TgZ(12,"div",8)(13,"fieldset")(14,"legend",9),e._uU(15,"Date Range Selection :"),e.qZA(),e.TgZ(16,"div",1)(17,"div",10)(18,"div",11)(19,"div")(20,"label"),e._uU(21," From:(AD) "),e.qZA()(),e.TgZ(22,"div")(23,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(24,"div")(25,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1=i}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div")(28,"label"),e._uU(29," To:(AD) "),e.qZA()(),e.TgZ(30,"div")(31,"input",12),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(32,"div")(33,"nepali-date-picker",13),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(34,"fieldset")(35,"legend"),e._uU(36,"Division Selection:"),e.qZA(),e.TgZ(37,"select",15,16),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV=i})("change",function(){return t.divisionChanged()}),e.TgZ(39,"option",17),e._uU(40,"ALL"),e.qZA(),e.YNc(41,sO,2,2,"option",18),e.qZA()(),e.TgZ(42,"fieldset")(43,"legend",19),e._uU(44,"Supplier Selection :"),e.qZA(),e.TgZ(45,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(46,"fieldset")(47,"div",1)(48,"div",14)(49,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=i})("change",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE=i.target.checked?1:0}),e.qZA(),e.TgZ(50,"label",22),e._uU(51,"Show Bill Wise Summary Report"),e.qZA()(),e.TgZ(52,"div",14)(53,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=i})("change",function(i){return t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING=i.target.checked?1:0}),e.qZA(),e.TgZ(54,"label",22),e._uU(55,"Show Report Without Round Off"),e.qZA()()()(),e.TgZ(56,"div",23)(57,"button",24),e.NdJ("click",function(){return t.onload()}),e._uU(58,"RUN"),e.qZA(),e.TgZ(59,"button",25),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(60,"Close"),e.qZA()()()()()()()(),e.TgZ(61,"generic-popup-grid",26,27),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_DIV),e.xp6(4),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SUPPLIER),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE)("checked",1==t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_SHOWBILLWISE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING)("checked",1==t._reportFilterService.DebitNotePurchaseReturnObj.DebitNotePurchaseReturn_EXCLUDEROUNDING),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v],styles:[".modal-dialog.modal-md[_ngcontent-%COMP%], .modal-dialog.modal-sm[_ngcontent-%COMP%]{top:45%;margin-top:0}.btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:white;cursor:inherit;display:block}","th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const pO=["genericGridUserListPopup"],cO=["genericGridCounterListPopup"];function _O(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let dO=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",TRNUSER:"",TERMINAL:"",COMPANYID:"",TERMINALNAME:"",DIVISIONAME:"",REPORTOPTIONDISPLAYNAME:"",USERDISPLAYNAME:"",TERMINALDISPLAYNAME:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.gridPopupSettingsForUserList=new m.im,this.gridPopupSettingsForCounterList=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.ShiftCloseObj.assignPreviousValue&&(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ShiftCloseObj.ShiftClose_DATE=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ShiftCloseObj.ShiftClose_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div),this.changeEntryDate(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ShiftCloseObj.ShiftClose_DATE,"AD")})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.ShiftCloseObj.ShiftClose_DATE=this.masterService.toADDate(r)}}onload(){if(this._reportFilterService.ShiftCloseObj.ShiftClose_DIV&&"%"==this._reportFilterService.ShiftCloseObj.ShiftClose_DIV)this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME="All";else if(this._reportFilterService.ShiftCloseObj.ShiftClose_DIV&&"%"!=this._reportFilterService.ShiftCloseObj.ShiftClose_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.ShiftCloseObj.ShiftClose_DIV);this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME="";this.repObj.reportparam.DATE1=this._reportFilterService.ShiftCloseObj.ShiftClose_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.ShiftCloseObj.ShiftClose_DATE,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.ShiftCloseObj.ShiftClose_DIV?this._reportFilterService.ShiftCloseObj.ShiftClose_DIV:"%",this.repObj.reportparam.TRNUSER=this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME:"%",this.repObj.reportparam.TERMINAL=this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL?this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL:"%",this.repObj.reportparam.TERMINALNAME=this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME:"",this.repObj.reportparam.DIVISIONAME=this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME?this._reportFilterService.ShiftCloseObj.ShiftClose_DIVISIONNAME:"",this.repObj.reportparam.USERDISPLAYNAME="%"!=this.repObj.reportparam.TRNUSER?this.repObj.reportparam.TRNUSER:"",this.repObj.reportparam.TERMINALDISPLAYNAME="%"!=this.repObj.reportparam.TERMINAL?this.repObj.reportparam.TERMINALNAME:"",this.repObj.reportname="Shift Close Report",this.repObj.REPORTDISPLAYNAME="Shift Close Report",this._reportFilterService.ShiftCloseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}UserListEnter(r){this.gridPopupSettingsForUserList={title:"UserList",apiEndpoints:"/getSalesUserList",defaultFilterIndex:0,columns:[{key:"UNAME",title:"USERNAME",hidden:!1,noSearch:!1}]},this.genericGridUserListPopup.show()}onUserListSelected(r){this._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME=r.UNAME}CounterListEnter(r){this.gridPopupSettingsForCounterList={title:"Counter List",apiEndpoints:"/getSalesCounterList",defaultFilterIndex:0,columns:[{key:"INITIAL",title:"INITIAL",hidden:!1,noSearch:!1},{key:"NAME",title:"NAME",hidden:!1,noSearch:!1}]},this.genericGridCounterListPopup.show()}onCounterListSelected(r){this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERINITIAL=r.INITIAL,this._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME=r.NAME}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["shift-close-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(pO,5),e.Gf(cO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridUserListPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridCounterListPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:71,vars:18,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"col-md-3"],[2,"margin-left","-10%"],[1,"col",2,"margin-left","-22px"],[2,"display","flex"],["type","text","placeholder","Press Enter for User List",1,"form-control","input-text",2,"background","white","margin-left","26px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col-md-4",2,"margin-left","-56px"],[2,"margin-left","54%","margin-top","5px"],[1,"col"],["type","text","placeholder","Press Enter for Counter List",1,"form-control","input-text",2,"background","white","margin-left","31px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridUserListPopup",""],["genericGridCounterListPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Shift Close Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ShiftCloseObj.ShiftClose_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ShiftCloseObj.ShiftClose_DATE=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ShiftCloseObj.ShiftClose_DIV=i}),e.TgZ(41,"option",16),e._uU(42,"ALL"),e.qZA(),e.YNc(43,_O,2,2,"option",17),e.qZA()()(),e.TgZ(44,"div",18)(45,"fieldset")(46,"legend",10),e._uU(47,"Filter Option :"),e.qZA(),e.TgZ(48,"div",1)(49,"div",19)(50,"label",20),e._uU(51,"User Name :"),e.qZA()(),e.TgZ(52,"div",21)(53,"div",22)(54,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME=i})("keydown.enter",function(i){return t.UserListEnter(i)})("keydown.Tab",function(i){return t.UserListEnter(i)})("keyup",function(i){return t.UserListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(55,"div",1)(56,"div",24)(57,"label",25),e._uU(58,"Counter Name :"),e.qZA()(),e.TgZ(59,"div",26)(60,"div",22)(61,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME=i})("keydown.enter",function(i){return t.CounterListEnter(i)})("keydown.Tab",function(i){return t.CounterListEnter(i)})("keyup",function(i){return t.CounterListEnter(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()()()()(),e.TgZ(62,"div",28)(63,"button",29),e.NdJ("click",function(){return t.onload()}),e._uU(64,"RUN"),e.qZA(),e.TgZ(65,"button",30),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(66,"Close"),e.qZA()()()()()(),e.TgZ(67,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return t.onUserListSelected(i)}),e.qZA(),e.TgZ(69,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return t.onCounterListSelected(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ShiftCloseObj.ShiftClose_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.ShiftCloseObj.ShiftClose_DATE),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.ShiftCloseObj.ShiftClose_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ShiftCloseObj.ShiftClose_DIV),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.ShiftCloseObj.ShiftClose_USERNAME),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.ShiftCloseObj.ShiftClose_COUNTERNAME),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForUserList),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForCounterList))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();var hO=C(53158);function uO(n,a){1&n&&(e.TgZ(0,"option",15),e._uU(1,"ALL"),e.qZA())}function gO(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function SO(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.NAME),e.xp6(1),e.hij(" ",r.NAME," ")}}function mO(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.BATCH),e.xp6(1),e.hij(" ",r.BATCH," ")}}let OO=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE:"",PHISCALID:"",COMPANYID:"",DIV:"",VARIANCEMODE:0,WAREHOUSE:"",DIVISIONNAME:"",WAREHOUSENAME:"",BATCH:"",REPORTOPTIONDISPLAYNAME:"",DIVISION:"",WARE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.warehouseList=[],this.majorGroupList=[],this.showVariantPopup=!1,this.userSetting=_.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(d=>{this.divisionList=d}),this.masterService.getWarehouseList().subscribe(d=>{this.warehouseList=d})}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl||1!=this._reportFilterService.StockVarianceObj.assignPreviousValue&&(this._reportFilterService.StockVarianceObj.StockVariance_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,1==this.userSetting.UserWiseWarehouse&&(this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE=this.userProfile.userWarehouse),this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE="0")}),this.getBatchList(this.masterService.PhiscalObj.Div)}getBatchList(r){this.masterService.getbatchSelectionList(r).subscribe(t=>{this.batchSelectionList=t})}onChangeDivision(){console.log("div",this._reportFilterService.StockVarianceObj.StockVariance_DIV),this.getBatchList(this._reportFilterService.StockVarianceObj.StockVariance_DIV)}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){if(this._reportFilterService.StockVarianceObj.StockVariance_DIV&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_DIV)this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME="All";else if(this._reportFilterService.StockVarianceObj.StockVariance_DIV&&"%"!=this._reportFilterService.StockVarianceObj.StockVariance_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.StockVarianceObj.StockVariance_DIV);this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME="";this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSENAME=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?"All":this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE&&"%"==this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIVISION=this._reportFilterService.StockVarianceObj.StockVariance_DIV?this._reportFilterService.StockVarianceObj.StockVariance_DIV:"%",this.repObj.reportparam.VARIANCEMODE=this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE?this._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE:0,this.repObj.reportparam.WARE=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"%",this.repObj.reportparam.BATCH=this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION?this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION:"%",this.repObj.reportparam.DATE=this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE?this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE:"",this.repObj.reportparam.WAREHOUSENAME=this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE?this._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME?this._reportFilterService.StockVarianceObj.StockVariance_DIVISIONNAME:"%",this.repObj.reportname=0==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report":1==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_1":2==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_2":3==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_3":4==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_4":5==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_5":6==this.repObj.reportparam.VARIANCEMODE?"Stock Variance Report_6":"Stock Variance Report",this.repObj.REPORTDISPLAYNAME="Stock Variance Report",this._reportFilterService.StockVarianceObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}onChangeBatch(){let r=this.batchSelectionList.filter(t=>t.BATCH==this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION);r&&r.length>0&&r[0]&&(this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE=r[0].TRNDATE.substring(0,10),console.log("BATCH SELECTION",this._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE))}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["stock-variance-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:92,vars:18,consts:[[1,"container",2,"width","800px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","change","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","input-text",3,"ngModel","disabled","ngModelChange"],["value","%"],[1,"form-control","input-text",3,"ngModel","ngModelChange","change"],["type","text",1,"form-control","input-text",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[1,"variance-font",2,"width","100%"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[2,"width","100%"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","5",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","6",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Stock Variance Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Division Selection:"),e.qZA(),e.TgZ(19,"select",11),e.NdJ("change",function(){return t.onChangeDivision()})("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_DIV=i}),e.YNc(20,uO,2,0,"option",12),e.YNc(21,gO,2,2,"option",13),e.qZA()(),e.TgZ(22,"fieldset")(23,"fieldset")(24,"legend",10),e._uU(25,"Warehouse Selection:"),e.qZA(),e.TgZ(26,"select",14),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE=i}),e.ALo(27,"disableField"),e._UZ(28,"option",15),e.YNc(29,SO,2,2,"option",13),e.qZA()(),e.TgZ(30,"fieldset")(31,"legend",10),e._uU(32,"Batch Selection:"),e.qZA(),e.TgZ(33,"select",16),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION=i})("change",function(){return t.onChangeBatch()}),e._UZ(34,"option",15),e.YNc(35,mO,2,2,"option",13),e.qZA()(),e.TgZ(36,"fieldset")(37,"legend",10),e._uU(38,"Batch Date:"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE=i}),e.qZA()()()(),e.TgZ(40,"div",18)(41,"fieldset")(42,"legend",10),e._uU(43,"Report Option :"),e.qZA(),e.TgZ(44,"div",19)(45,"div",20)(46,"div",21)(47,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(48,"div",23)(49,"label",24),e._uU(50,"Show All"),e.qZA()()(),e.TgZ(51,"div",20)(52,"div",21)(53,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(54,"div",23)(55,"label",26),e._uU(56,"Show Difference Stock"),e.qZA()()(),e.TgZ(57,"div",20)(58,"div",21)(59,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(60,"div",23)(61,"label",26),e._uU(62,"Show Excess Stock Only"),e.qZA()()(),e.TgZ(63,"div",20)(64,"div",21)(65,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(66,"div",23)(67,"label",26),e._uU(68,"Show Shortage Only"),e.qZA()()(),e.TgZ(69,"div",20)(70,"div",21)(71,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(72,"div",23)(73,"label",26),e._uU(74,"Show Items That Counted But Not In Stock"),e.qZA()()(),e.TgZ(75,"div",20)(76,"div",21)(77,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(78,"div",23)(79,"label",26),e._uU(80,"Show Items That Not Come In Counting"),e.qZA()()(),e.TgZ(81,"div",20)(82,"div",21)(83,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE=i}),e.qZA()(),e.TgZ(84,"div",23)(85,"label",26),e._uU(86,"Show Equal Stock Only"),e.qZA()()()()()()()(),e.TgZ(87,"div",32)(88,"button",33),e.NdJ("click",function(){return t.onload()}),e._uU(89,"RUN"),e.qZA(),e.TgZ(90,"button",34),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(91,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(19),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_WAREHOUSE)("disabled",e.lcZ(27,16,"disableWareHouse")),e.xp6(3),e.Q6J("ngForOf",t.warehouseList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION),e.xp6(2),e.Q6J("ngForOf",t.batchSelectionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_BATCHSELECTION_DATE),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.StockVarianceObj.StockVariance_VARIANCEMODE))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,q.u],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const bO=["genericGridCusCategoryPopup"],TO=["genericGridCusGroupPopup"];function vO(n,a){1&n&&(e.TgZ(0,"option",34),e._uU(1," ALL"),e.qZA())}function fO(n,a){if(1&n&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let CO=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",DIV:"",REPORT_TYPE:0,COMID:"%",CATEGORY:"%",PARTYGROUP:"%",CCENTER:"%"},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.gridPopupSettingsForCusCategory=new m.im,this.gridPopupSettingsForCusGroup=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.SalesRevenueAnalysisObj.assignPreviousValue&&(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE="2"),this.changeEntryDate(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2,this.repObj.reportparam.COMID="%",this.repObj.reportparam.DIV=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV:"%",this.repObj.reportparam.CCENTER="%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.CATEGORY=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE:0,this.repObj.reportparam.PARTYGROUP=this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE?this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE:"%",0==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Revenue Analysis Report":1==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Revenue Analysis Report_1":2==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportname="Sales Revenue Analysis Report_2"),this.repObj.REPORTDISPLAYNAME="Sales Revenue Analysis Report",this._reportFilterService.SalesRevenueAnalysisObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}CusCategoryEnterCommand(r){this.getCustomerCategoryList(),this.genericGridCusCategoryPopup.show()}dblClickPopupCusCategory(r){this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY=r.ORGTYPENAME,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORYCODE=r.ORGTYPECODE}getCustomerCategoryList(){this.gridPopupSettingsForCusCategory=this.masterService.getGenericGridPopUpSettings("CustomerCategoryList")}CusGroupEnterCommand(r){this.getCustomerGroupList(),this.genericGridCusGroupPopup.show()}dblClickPopupCusGroup(r){this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUPCODE=r.ACID,this._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP=r.ACNAME}getCustomerGroupList(){this.gridPopupSettingsForCusGroup=this.masterService.getGenericGridPopUpSettings("CustomerGroupList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-revenueanalysis-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(bO,5),e.Gf(TO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCusCategoryPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridCusGroupPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:73,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part",2,"width","315px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Customer Category List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","text","placeholder","Press Enter or Tab for Customer Group List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCusCategoryPopup",""],["genericGridCusGroupPopup",""],["value","%"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Revenue Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"As On Dated : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()()(),e.TgZ(24,"div",5)(25,"div")(26,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(27,"fieldset")(28,"legend",10),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV=i}),e.YNc(31,vO,2,0,"option",16),e.YNc(32,fO,2,2,"option",17),e.qZA()()(),e.TgZ(33,"div",18)(34,"fieldset")(35,"legend",10),e._uU(36,"Report Option :"),e.qZA(),e.TgZ(37,"div")(38,"div",19)(39,"div",20)(40,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43,"Party Category Wise Report"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20)(46,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(47,"div",22)(48,"label",23),e._uU(49,"Party Group Wise Report"),e.qZA()()(),e.TgZ(50,"div",19)(51,"div",20)(52,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(53,"div",22)(54,"label",23),e._uU(55,"Party Wise Report"),e.qZA()()()()(),e.TgZ(56,"fieldset")(57,"legend",10),e._uU(58,"Customer Category Selection:"),e.qZA(),e.TgZ(59,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY=i})("keydown.enter",function(i){return t.CusCategoryEnterCommand(i)})("keydown.Tab",function(i){return t.CusCategoryEnterCommand(i)})("keyup",function(i){return t.CusCategoryEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(60,"fieldset")(61,"legend",10),e._uU(62,"Customer Group Selection:"),e.qZA(),e.TgZ(63,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP=i})("keydown.enter",function(i){return t.CusGroupEnterCommand(i)})("keydown.Tab",function(i){return t.CusGroupEnterCommand(i)})("keyup",function(i){return t.CusGroupEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()(),e.TgZ(64,"div",28)(65,"button",29),e.NdJ("click",function(){return t.onload()}),e._uU(66,"RUN"),e.qZA(),e.TgZ(67,"button",30),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(68,"Close"),e.qZA()()()()()(),e.TgZ(69,"generic-popup-grid",31,32),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupCusCategory(i)}),e.qZA(),e.TgZ(71,"generic-popup-grid",31,33),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupCusGroup(i)}),e.qZA()),2&r&&(e.xp6(23),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DATE2),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_REPORTTYPE),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSCATEGORY),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesRevenueAnalysisObj.SalesRevenueAnalysis_CUSGROUP),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForCusCategory),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForCusGroup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const AO=["genericGridSalesMan"];function PO(n,a){1&n&&(e.TgZ(0,"option",20),e._uU(1," ALL"),e.qZA())}function MO(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function RO(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function EO(n,a){if(1&n&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.AREAID),e.xp6(1),e.hij(" ",r.AREANAME," ")}}let DO=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._alertService=l,this._authService=c,this._ActivatedRoute=_,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETALREPORT:0,SALESMAN:0,SALESMANNAME:"",REPORT_TYPE:1,AREA:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.areaList=[],this.gridPopupSettingsForSalesMan=new m.im,this.userSetting=c.getSetting(),this.userProfile=c.getUserProfile(),this.masterService.getAllCostCenter().subscribe(h=>{this.costCenterList=h&&h||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(h=>{this.divisionList=h});var d=this.userProfile.PhiscalYearInfo.BeginDate;d=d.substring(0,10),this.date2=d,this.masterService.getAccDivList(),this.masterService.getAreaDetail().subscribe(h=>{"ok"==h.status&&(this.areaList=h.result,console.log("arealist=",this.areaList))})}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl?("Sales Report Salesman Wise_1"==this._reportFilterService.drillParam.reportname||"Sales Report Salesman Wise_2"==this._reportFilterService.drillParam.reportname||"Sales Report Salesman Wise_3"==this._reportFilterService.drillParam.reportname)&&(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=this._reportFilterService.drillParam.reportparam.SHOWDETALREPORT,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=this._reportFilterService.drillParam.reportparam.REPORT_TYPE,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID=this._reportFilterService.drillParam.reportparam.SALESMAN,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=this._reportFilterService.drillParam.reportparam.SALESMANNAME,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_AREA=this._reportFilterService.drillParam.reportparam.AREA,this.changeEntryDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,"AD")):(1!=this._reportFilterService.SalesReportSalesmanWiseObj.assignPreviousValue&&(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE="1",this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL="0"),this.changeEntryDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER||null==this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV:"%",this.repObj.reportparam.REPORT_TYPE=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE:1,this.repObj.reportparam.SHOWDETALREPORT=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL:0,this.repObj.reportparam.SALESMAN=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID:0,this.repObj.reportparam.SALESMANNAME=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN?this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN:"",this.repObj.reportparam.AREA=this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_AREA,""==this.repObj.reportparam.SALESMANNAME&&(this.repObj.reportparam.SALESMAN=0),1==this.repObj.reportparam.REPORT_TYPE&&(this.repObj.reportparam.SHOWDETALREPORT=0),1==this.repObj.reportparam.REPORT_TYPE?this.repObj.reportname="Sales Report Salesman Wise":2==this.repObj.reportparam.REPORT_TYPE&&0==this.repObj.reportparam.SHOWDETALREPORT?this.repObj.reportname="Sales Report Salesman Wise_1":2==this.repObj.reportparam.REPORT_TYPE&&1==this.repObj.reportparam.SHOWDETALREPORT&&(0==this.userSetting.EnableVariantCategory?this.repObj.reportname="Sales Report Salesman Wise_2":1==this.userSetting.EnableVariantCategory&&(this.repObj.reportname="Sales Report Salesman Wise_3")),this.repObj.REPORTDISPLAYNAME="Sales Report Salesman Wise",this._reportFilterService.SalesReportSalesmanWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}salesmanEnterCommand(r){this.getSalesmanList(),this.genericGridSalesMan.show()}dblClickPopupSalesman(r){this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMANID=r.SALESMANID,this._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=r.NAME}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(R.c),e.Y36(P.e),e.Y36(S.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-salesman-wise"]],viewQuery:function(r,t){if(1&r&&e.Gf(AO,5),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:93,vars:27,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6","mt-2",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"col-md-6","mt-2"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-6","filter-part"],[1,"col-md-5"],[2,"display","flex","align-items","center"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"display","flex","align-items","center","margin-top","10px"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"col-md-7"],[2,"margin-left","1%"],["type","radio","name","detailoption","value","0",3,"ngModel","disabled","ngModelChange"],[2,"width","120px !important"],["type","radio","name","detailoption","value","1",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSalesMan",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Salesman Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",15)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",16),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV=i}),e.YNc(41,PO,2,0,"option",17),e.YNc(42,MO,2,2,"option",18),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",16),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER=i}),e._UZ(47,"option",19),e.TgZ(48,"option",20),e._uU(49," ALL "),e.qZA(),e.YNc(50,RO,2,2,"option",18),e.qZA()()(),e.TgZ(51,"div",21)(52,"fieldset")(53,"legend",10),e._uU(54,"Report Type :"),e.qZA(),e.TgZ(55,"div",11)(56,"div",22)(57,"div",23)(58,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=i}),e.qZA(),e.TgZ(59,"label"),e._uU(60,"Summary Report"),e.qZA()(),e.TgZ(61,"div",25)(62,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE=i}),e.qZA(),e.TgZ(63,"label"),e._uU(64,"Detail Report"),e.qZA()()(),e.TgZ(65,"div",27)(66,"fieldset")(67,"legend"),e._uU(68,"Detail Report Option"),e.qZA(),e.TgZ(69,"div",28)(70,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(71,"label",30),e._uU(72,"Voucher Wise Report "),e.qZA()(),e.TgZ(73,"div",28)(74,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL=i}),e.qZA(),e.TgZ(75,"label",30),e._uU(76,"Item Wise Report "),e.qZA()()()()()(),e.TgZ(77,"fieldset")(78,"legend",10),e._uU(79,"Salesman Selection :"),e.qZA(),e.TgZ(80,"input",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN=i})("keydown.enter",function(i){return t.salesmanEnterCommand(i)})("keydown.Tab",function(i){return t.salesmanEnterCommand(i)})("keyup",function(i){return t.salesmanEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(81,"fieldset")(82,"legend",10),e._uU(83,"Area :"),e.qZA(),e.TgZ(84,"select",16),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_AREA=i}),e.YNc(85,EO,2,2,"option",18),e.qZA()()()()(),e.TgZ(86,"div",33)(87,"button",34),e.NdJ("click",function(){return t.onload()}),e._uU(88,"RUN"),e.qZA(),e.TgZ(89,"button",35),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(90,"Close"),e.qZA()()()()()(),e.TgZ(91,"generic-popup-grid",36,37),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupSalesman(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL)("disabled",1==t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SHOWDETAIL)("disabled",1==t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_SALESMAN),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesReportSalesmanWiseObj.SalesReportSalesmanWise_AREA),e.xp6(1),e.Q6J("ngForOf",t.areaList),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSalesMan))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const IO=["genericGridItemPopup"],NO=["genericGridMemberPopup"];function kO(n,a){1&n&&(e.TgZ(0,"option",23),e._uU(1," ALL"),e.qZA())}function jO(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function yO(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.SCHEMEID),e.xp6(1),e.hij("",r.NAME," ")}}let FO=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._alertService=c,this._ActivatedRoute=_,this._authService=d,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",SHOWDETAIL:0,MCODE:"",TRANSACTIONAMOUNT:0,TOPNSORT:0,MEMID:"%",SHOWBILLDETAIL:0,SCHEME:"%",MEMBERNAME:"",ITEMNAME:"",MEMBERPOINT:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.costCenterList=[],this.divisionList=[],this.MemberSchemeList=[],this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForMember=new m.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMemberSchemeList().subscribe(p=>{this.MemberSchemeList=p&&p||[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl&&"Sales Report Membership Wise_1"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=this._reportFilterService.drillParam.reportparam.DIV,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER=this._reportFilterService.drillParam.reportparam.CCENTER,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID=this._reportFilterService.drillParam.reportparam.MEMID,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=this._reportFilterService.drillParam.reportparam.TRANSACTIONAMOUNT,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=this._reportFilterService.drillParam.reportparam.TOPNSORT,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE=this._reportFilterService.drillParam.reportparam.MCODE,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM=this._reportFilterService.drillParam.reportparam.ITEMNAME,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=this._reportFilterService.drillParam.reportparam.MEMBERNAME,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL="1",this.changeEntryDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,"AD")):(1!=this._reportFilterService.SalesMembershipWiseObj.assignPreviousValue&&(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL="0",this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWBILLDETAIL=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME="%"),this.changeEntryDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV:"%",this.repObj.reportparam.MEMID=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID:"%",this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL:0,this.repObj.reportparam.MCODE=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE:"%",this.repObj.reportparam.TRANSACTIONAMOUNT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT:0,this.repObj.reportparam.TOPNSORT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT:0,this.repObj.reportparam.SCHEME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME:"%",this.repObj.reportparam.MEMBERNAME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER:"",this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM:"",this.repObj.reportparam.MEMBERPOINT=this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT?this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT:0,""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.MEMBERNAME&&(this.repObj.reportparam.MEMID="%"),1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportparam.TOPNSORT=0,this.repObj.reportparam.TRANSACTIONAMOUNT=0,this.repObj.reportparam.MEMBERPOINT=0),0==this.repObj.reportparam.SHOWDETAIL?this.repObj.reportname="Sales Report Membership Wise":1==this.repObj.reportparam.SHOWDETAIL&&(this.repObj.reportname="Sales Report Membership Wise_1"),this.repObj.REPORTDISPLAYNAME="Sales Report Membership Wise",this._reportFilterService.SalesMembershipWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}dblClickPopupItem(r){this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MCODE=r.MCODE,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ITEM=r.DESCA}dblClickPopupParty(r){this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_ACID=r.MEMID,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=r.FNAME}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}memberEnterCommand(r){this.getMermbersList(),this.genericGridMemberPopup.show()}getMermbersList(){this.gridPopupSettingsForMember=this.masterService.getGenericGridPopUpSettings("AllMemberList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}onChangeDetail(){1==this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL&&(this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=0,this._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT=0)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(R.c),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-report-membership-wise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(IO,5),e.Gf(NO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridMemberPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:98,vars:29,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col",2,"padding-left","5px"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[2,"font-size","11px","margin-top","2%","margin-left","5%","font-weight","bold","width","85%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Member List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["value","%"],[1,"col-md-4"],[2,"margin-left","-10%","width","135px !important"],["type","number",1,"form-control",2,"height","30px","margin-top","5px","width","120%",3,"ngModel","disabled","ngModelChange"],[1,"col-md-2"],[2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridMemberPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Report - Membership Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV=i}),e.YNc(41,kO,2,0,"option",16),e.YNc(42,jO,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",1)(44,"div",18)(45,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=i})("change",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT=i.target.checked?1:0}),e.qZA(),e.TgZ(46,"label",20),e._uU(47,"Sort in Top N Basis"),e.qZA()()()(),e.TgZ(48,"div",21)(49,"fieldset")(50,"legend",10),e._uU(51,"Member Selection :"),e.qZA(),e.TgZ(52,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER=i})("keydown.enter",function(i){return t.memberEnterCommand(i)})("keydown.Tab",function(i){return t.memberEnterCommand(i)})("keyup",function(i){return t.memberEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(53,"fieldset")(54,"legend",10),e._uU(55,"Membership Scheme Selection :"),e.qZA(),e.TgZ(56,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME=i}),e._UZ(57,"option",23),e.YNc(58,yO,2,2,"option",17),e.qZA()(),e.TgZ(59,"fieldset")(60,"legend",10),e._uU(61,"Report Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",11)(64,"div",24)(65,"label",25),e._uU(66,"Transaction Amount >= :"),e.qZA()(),e.TgZ(67,"div",24)(68,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT=i}),e.qZA()(),e._UZ(69,"div",27),e.qZA()(),e.TgZ(70,"div",1)(71,"div",11)(72,"div",24)(73,"label",25),e._uU(74,"Member Point >= :"),e.qZA()(),e.TgZ(75,"div",24)(76,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT=i}),e.qZA()(),e._UZ(77,"div",27),e.qZA()()(),e.TgZ(78,"fieldset")(79,"legend",10),e._uU(80,"Report Type :"),e.qZA(),e.TgZ(81,"div",28)(82,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL=i})("change",function(){return t.onChangeDetail()}),e.qZA(),e.TgZ(83,"label"),e._uU(84,"Summary Report"),e.qZA()(),e.TgZ(85,"div",28)(86,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL=i})("change",function(){return t.onChangeDetail()}),e.qZA(),e.TgZ(87,"label"),e._uU(88,"Detail Report"),e.qZA()()()()()(),e.TgZ(89,"div",31)(90,"button",32),e.NdJ("click",function(){return t.onload()}),e._uU(91,"RUN"),e.qZA(),e.TgZ(92,"button",33),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(93,"Close"),e.qZA()()()()()(),e.TgZ(94,"generic-popup-grid",34,35),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(96,"generic-popup-grid",34,36),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT)("checked",1==t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TOPNSORT)("disabled",1==t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(7),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBER),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SCHEME),e.xp6(2),e.Q6J("ngForOf",t.MemberSchemeList),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_TRANSACTIONAMOUNT)("disabled",1==t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_MEMBERPOINT)("disabled",1==t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesMembershipWiseObj.SalesMembershipWise_SHOWDETAIL),e.xp6(8),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForMember))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const wO=["genericGridCustomerPopup"],WO=["genericGridSalesMan"];function LO(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",16),e._uU(2,"Date Range Selection : "),e.qZA(),e.TgZ(3,"div",1)(4,"div",47)(5,"div",48)(6,"div")(7,"label"),e._uU(8," From:(AD) "),e.qZA()(),e.TgZ(9,"div")(10,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEntryDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(11,"div")(12,"nepali-date-picker",50),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEntryDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1=o)}),e.qZA()()(),e.TgZ(13,"div",5)(14,"div")(15,"label"),e._uU(16," To:(AD) "),e.qZA()(),e.TgZ(17,"div")(18,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()(),e.TgZ(19,"div")(20,"nepali-date-picker",50),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=o)}),e.qZA()()()()()()}if(2&n){const r=e.oxw();e.xp6(10),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1),e.xp6(6),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2)}}function ZO(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",16),e._uU(2,"As On Dated : "),e.qZA(),e.TgZ(3,"div",1)(4,"div",47)(5,"div",48)(6,"div")(7,"input",49),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=o)})("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEndDate(o.target.value,"AD"))}),e.qZA()()(),e.TgZ(8,"div",5)(9,"div")(10,"nepali-date-picker",50),e.NdJ("change",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i.changeEndDate(o.detail.value,"BS"))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=o)}),e.qZA()()()()()()}if(2&n){const r=e.oxw();e.xp6(7),e.s9C("max",r.currDate),e.s9C("min",r.date2),e.Q6J("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2),e.xp6(3),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",r._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2)}}function xO(n,a){1&n&&(e.TgZ(0,"option",20),e._uU(1,"ALL"),e.qZA())}function UO(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function VO(n,a){if(1&n&&(e.TgZ(0,"option",51),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}let BO=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMPANYID:"",DIV:"",CCENTER:"",DETAILSREPORT:0,ASONDATED:0,PROFORMAMODE:0,AGE:0,ACID:"",CUSTOMERNAME:"",CUSTOMERDISPLAYNAME:"",CUSTID:"",SHOWITEMWISEREPORT:0,SALESMANID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.variantmaster=[],this.variantvaluesList=[],this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForSalesMan=new m.im,this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.ProformaInvoiceWiseObj.assignPreviousValue&&(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT="0",this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED="0",this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE="2"),this.changeEntryDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,"AD"),this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=1==this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2:this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,this.repObj.reportparam.SHOWITEMWISEREPORT=!0===this._reportFilterService.ProformaInvoiceWiseObj.SHOWITEMWISEREPORT?1:0,this.repObj.reportparam.SALESMANID=this._reportFilterService.ProformaInvoiceWiseObj.SALESMANID,this.repObj.reportparam.DATE2=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.COMPANYID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER:"%",this.repObj.reportparam.ASONDATED=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED:0,this.repObj.reportparam.DIV=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV:"%",this.repObj.reportparam.DETAILSREPORT=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT:0,this.repObj.reportparam.PROFORMAMODE=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE:0,this.repObj.reportparam.AGE=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE:0,this.repObj.reportparam.ACID=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID:"%",this.repObj.reportparam.CUSTID=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID:"%",this.repObj.reportparam.CUSTOMERNAME=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER:"",this.repObj.reportparam.CUSTOMERDISPLAYNAME=this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER?this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER:"",""==this.repObj.reportparam.CUSTOMERNAME&&(this.repObj.reportparam.ACID="%"),0==this.repObj.reportparam.DETAILSREPORT?this.repObj.reportname="Proforma Invoice Report":1==this.repObj.reportparam.DETAILSREPORT&&(this.repObj.reportname="Proforma Invoice Report_1"),this.repObj.REPORTDISPLAYNAME="Proforma Invoice Report",this._reportFilterService.ProformaInvoiceWiseObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}salesmanEnterCommand(){this.getSalesmanList(),this.genericGridSalesMan.show()}getSalesmanList(){this.gridPopupSettingsForSalesMan=this.masterService.getGenericGridPopUpSettings("SalesManList")}dblClickPopupSalesman(r){this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_SALESMAN=r.NAME,this._reportFilterService.ProformaInvoiceWiseObj.SALESMANID=r.SALESMANID}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}dblClickPopupParty(r){this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ACID=r.ACID,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER=r.CUSTNAME,this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTID=r.CUSTID}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}asOnDefaultDate(){console.log("as on date click event checked"),this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=(new Date).toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD")}dateRangeDefaultDate(){console.log("date range date click event checked"),this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2=(new Date).toJSON().split("T")[0],this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this.changeEndDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE2,"AD"),this.changeEntryDate(this._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DATE1,"AD")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["proformainvoicereport"]],viewQuery:function(r,t){if(1&r&&(e.Gf(wO,5),e.Gf(WO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSalesMan=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:99,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"col-md-5"],["type","radio","name","dateType","value","0",2,"margin-left","-10px",3,"ngModel","ngModelChange","click"],[2,"width","80%","margin-left","5px"],["type","radio","name","dateType","value","1",3,"ngModel","ngModelChange","click"],[2,"width","85%","margin-left","5px"],[4,"ngIf"],[1,"legend-class"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","%"],[1,"col-md-6","filter-part"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col",2,"margin-left","4%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],[2,"display","flex"],[1,"col-sm-4"],["type","radio","value","2",3,"ngModel","ngModelChange"],[2,"width","75px","margin-left","5px"],["type","radio","value","1",3,"ngModel","ngModelChange"],["type","radio","value","0",3,"ngModel","ngModelChange"],[1,"row",2,"padding-top","5px","width","90%"],[2,"width","50%"],[2,"width","100%"],[2,"width","20%"],["type","text",1,"form-control","input-text",2,"width","100%","margin-left","-15px",3,"ngModel","ngModelChange"],[2,"width","100%","margin-left","10px"],[1,"row",2,"padding-top","10px","width","90%"],["type","checkbox",3,"ngModel","ngModelChange"],["type","text","placeholder","Press Enter or Tab for Salesman List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridSalesMan",""],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Proforma Invoice Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"div",1)(17,"div",10)(18,"input",11),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED=i})("click",function(){return t.dateRangeDefaultDate()}),e.qZA(),e.TgZ(19,"label",12),e._uU(20,"Date Range Wise"),e.qZA()(),e.TgZ(21,"div",5)(22,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED=i})("click",function(){return t.asOnDefaultDate()}),e.qZA(),e.TgZ(23,"label",14),e._uU(24,"As On Date Wise Report"),e.qZA()()(),e.YNc(25,LO,21,12,"fieldset",15),e.YNc(26,ZO,11,6,"fieldset",15),e.TgZ(27,"fieldset")(28,"legend",16),e._uU(29,"Division Selection:"),e.qZA(),e.TgZ(30,"select",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV=i}),e.YNc(31,xO,2,0,"option",18),e.YNc(32,UO,2,2,"option",19),e.qZA()(),e.TgZ(33,"fieldset")(34,"legend",16),e._uU(35,"Cost Center:"),e.qZA(),e.TgZ(36,"select",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER=i}),e._UZ(37,"option",20),e.YNc(38,VO,2,2,"option",19),e.qZA()()(),e.TgZ(39,"div",21)(40,"fieldset")(41,"legend",16),e._uU(42,"Customer Selection :"),e.qZA(),e.TgZ(43,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()(),e.TgZ(44,"fieldset")(45,"legend",16),e._uU(46,"Report Type :"),e.qZA(),e.TgZ(47,"div",1)(48,"div",23)(49,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT=i}),e.qZA(),e.TgZ(50,"label"),e._uU(51,"Summary Report"),e.qZA()(),e.TgZ(52,"div",23)(53,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT=i}),e.qZA(),e.TgZ(54,"label"),e._uU(55,"Detail Report"),e.qZA()()()(),e.TgZ(56,"fieldset")(57,"legend",16),e._uU(58,"Proforma Invoice Status :"),e.qZA(),e.TgZ(59,"div",26)(60,"div",27)(61,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(62,"label",29),e._uU(63,"Billed"),e.qZA()(),e.TgZ(64,"div",27)(65,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(66,"label",29),e._uU(67,"Non-Billed"),e.qZA()(),e.TgZ(68,"div",27)(69,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE=i}),e.qZA(),e.TgZ(70,"label",29),e._uU(71,"Both"),e.qZA()()()(),e.TgZ(72,"div",32)(73,"div",33)(74,"label",34),e._uU(75,"Proforma Invoice Age >= "),e.qZA()(),e.TgZ(76,"div",35)(77,"input",36),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE=i}),e.qZA()(),e.TgZ(78,"div",35)(79,"label",37),e._uU(80,"Days"),e.qZA()()(),e.TgZ(81,"div",38)(82,"div",34)(83,"label",34),e._uU(84,"Show item-wise reports "),e.TgZ(85,"input",39),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.SHOWITEMWISEREPORT=i}),e.qZA()()()(),e.TgZ(86,"fieldset")(87,"legend",16),e._uU(88,"Salesman filter :"),e.qZA(),e.TgZ(89,"input",40),e.NdJ("ngModelChange",function(i){return t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_SALESMAN=i})("keydown.enter",function(){return t.salesmanEnterCommand()})("keydown.Tab",function(){return t.salesmanEnterCommand()})("keyup",function(){return t.salesmanEnterCommand()})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()()(),e.TgZ(90,"div",41)(91,"button",42),e.NdJ("click",function(){return t.onload()}),e._uU(92,"RUN"),e.qZA(),e.TgZ(93,"button",43),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(94,"Close"),e.qZA()()()()()(),e.TgZ(95,"generic-popup-grid",44,45),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(97,"generic-popup-grid",44,46),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupSalesman(i)}),e.qZA()),2&r&&(e.xp6(18),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(3),e.Q6J("ngIf",0==t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(1),e.Q6J("ngIf",1==t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_ASONDATED),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CCENTER),e.xp6(2),e.Q6J("ngForOf",t.costCenterList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_CUSTOMER),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_DETAILSREPORT),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_PROFORMAMODE),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_AGE),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.SHOWITEMWISEREPORT),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.ProformaInvoiceWiseObj.ProformaInvoice_SALESMAN),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForSalesMan))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const YO=["genericGridCustomerPopup"],JO=["genericGridCRescurringPopup"];function qO(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function GO(n,a){if(1&n&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.category),e.xp6(1),e.hij(" ",r.category," ")}}let HO=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DAYS:"",DIV:"",REPORTOPTION:"",ITEM:"",ACID:"",INCLUDEPENDINGTRANSACTION:"",CATEGORY:"",CUSTOMER:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.rCategoryList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.gridPopupSettingsForCustomer=new m.im,this.gridPopupSettingsForRecurring=new m.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getRecurringCategoryList().subscribe(p=>{this.rCategoryList=p,console.log(p)});var h=this.userProfile.PhiscalYearInfo.PhiscalID;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt("7")),this._ActivatedRoute.queryParams.subscribe(o=>{"DRILL"==o.mode&&this._reportFilterService.drillParam.returnUrl?(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this._reportFilterService.drillParam.reportparam.DATE1,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this._reportFilterService.drillParam.reportparam.DATE2,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=this._reportFilterService.drillParam.reportparam.DIVISON):(1!=this._reportFilterService.RecurringTransactionReportObj.assignPreviousValue&&(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION="0",this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=1),this.changeEntryDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1,"AD"),this.changeEndDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,"AD"))})}daysSelection(r){let t=r.target.value;(""==t||null==t||null==t)&&(t=0),this.date=new Date,this.date.setDate(this.date.getDate()+parseInt(t)),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.date.toJSON().split("T")[0],this.changeEndDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,"AD"),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0],this.changeEntryDate(this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1.toString(),"AD")}customerEnterCommand(r){this.getCustomersList(),this.genericGridCustomerPopup.show()}getCustomersList(){this.gridPopupSettingsForCustomer=this.masterService.getGenericGridPopUpSettings("CustomerList")}getRecurringList(){this.gridPopupSettingsForRecurring={title:"Recurring Items",apiEndpoints:"/getRecurringItemPagesList",defaultFilterIndex:0,columns:[{key:"MENUCODE",title:"MENUCODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"ITEM NAME",hidden:!1,noSearch:!1}]},this.genericGridCRescurringPopup.show()}itemEnterCommand1(r){this.getRecurringList()}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.masterService.toADDate(r)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}dblClickPopupParty(r){console.log("memebr list",r),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID=r.ACID,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER=r.CUSTNAME}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2,this.repObj.reportparam.DIV=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION:"%",this.repObj.reportparam.CATEGORY=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY:"%",this.repObj.reportparam.ACID=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ACID:"%",this.repObj.reportparam.ITEM=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE:"%",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION:0,this.repObj.reportparam.INCLUDEPENDINGTRANSACTION=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION:0,this.repObj.reportparam.CUSTOMER=this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER?this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER:"",""==this.repObj.reportparam.CUSTOMER&&(this.repObj.reportparam.ACID="%"),""==this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM&&(this.repObj.reportparam.ITEM="%"),console.log(this.repObj),this.repObj.reportname="Recurring Transaction Report",this.repObj.REPORTDISPLAYNAME="Recurring Transaction Report",this._reportFilterService.RecurringTransactionReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}dblClickPopupRecurring(r){console.log("Recurring Transaction List",r),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM=r.DESCA,this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_MCODE=r.MCODE}showCurrentDateOnClick(){this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=(new Date).toJSON().split("T")[0]}showDateAfterWeek(){this.date=new Date,this.date.setDate(this.date.getDate()+parseInt("7")),this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=this.date.toJSON().split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=(new Date).toJSON().split("T")[0]}showFiscalStartDateOnClick(){this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=this.masterService.PhiscalObj.BeginDate.split("T")[0],this._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=(new Date).toJSON().split("T")[0]}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["recurring-transaction-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(YO,5),e.Gf(JO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridCustomerPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridCRescurringPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:132,vars:28,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[3,"disabled"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"row","checkbox",2,"padding-top","5px","width","200px"],[1,"col-sm-1"],["type","checkbox",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","225%","margin-top","0%","font-weight","bold"],[1,"col-md-6","filter-part"],[1,"col",2,"margin-left","4%"],[2,"margin-left","3%","width","100%"],["type","number",2,"width","50px","margin-left","10px",3,"ngModel","ngModelChange","input"],[1,"col-md-4"],[2,"margin-left","-10%","white-space","nowrap"],["type","text","placeholder","Press Enter or Tab for Customer List",1,"form-control","input-text",2,"background","white","margin-top","-5px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"white-space","nowrap","margin-left","-10%"],["type","text","placeholder","Press Enter or Tab for Recurring Transaction List",1,"form-control","input-text",2,"background","white","margin-top","8px",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange","click","change"],["type","radio","name","reportOption","value","4",3,"ngModel","ngModelChange","click","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridCustomerPopup",""],["genericGridCRescurringPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Recurring Transaction Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset",11)(17,"legend",12),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",13)(21,"div",14)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",16),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",16),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",12),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION=i}),e.TgZ(41,"option",19),e._uU(42,"ALL"),e.qZA(),e.YNc(43,qO,2,2,"option",20),e.qZA()(),e.TgZ(44,"div",21)(45,"div",22)(46,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=i})("change",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION=i.target.checked?1:0}),e.qZA()(),e.TgZ(47,"div",24)(48,"label",25),e._uU(49,"Include Pending Recurring Transaction Also"),e.qZA()()()(),e.TgZ(50,"div",26)(51,"fieldset")(52,"legend",12),e._uU(53,"Days Selection :"),e.qZA(),e.TgZ(54,"div",1)(55,"div",27)(56,"label",28),e._uU(57,"Days :"),e.TgZ(58,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DAYS=i})("input",function(i){return t.daysSelection(i)}),e.qZA()()()()(),e.TgZ(59,"fieldset")(60,"legend",12),e._uU(61,"Report Filter Option :"),e.qZA(),e.TgZ(62,"div",1)(63,"div",30)(64,"label",31),e._uU(65,"Customer Selection :"),e.qZA()(),e.TgZ(66,"div",24)(67,"input",32),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",30)(70,"label",33),e._uU(71,"Recurring Transaction "),e._UZ(72,"br"),e._uU(73,"Category : "),e.qZA()(),e.TgZ(74,"div",24)(75,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY=i}),e.TgZ(76,"option",19),e._uU(77,"ALL"),e.qZA(),e.YNc(78,GO,2,2,"option",20),e.qZA()()(),e.TgZ(79,"div",1)(80,"div",30)(81,"label",33),e._uU(82,"Recurring Transaction "),e._UZ(83,"br"),e._uU(84," Item :"),e.qZA()(),e.TgZ(85,"div",24)(86,"input",34),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM=i})("keydown.enter",function(i){return t.itemEnterCommand1(i)})("keydown.Tab",function(i){return t.itemEnterCommand1(i)})("keyup",function(i){return t.itemEnterCommand1(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()()(),e.TgZ(87,"fieldset")(88,"legend",12),e._uU(89,"Report Option :"),e.qZA(),e.TgZ(90,"div",13)(91,"div",7)(92,"div",35)(93,"div",1)(94,"div",36)(95,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return t.showDateAfterWeek()})("change",function(){return t.showDateAfterWeek()}),e.qZA()(),e.TgZ(96,"div",38)(97,"label",39),e._uU(98,"Show Upcoming Recurring Transaction Report"),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",36)(101,"input",40),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return t.showFiscalStartDateOnClick()})("change",function(){return t.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(102,"div",38)(103,"label",39),e._uU(104,"Show Processed Recurring Transaction Report"),e.qZA()()(),e.TgZ(105,"div",1)(106,"div",36)(107,"input",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return t.showFiscalStartDateOnClick()})("change",function(){return t.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(108,"div",38)(109,"label",39),e._uU(110,"Show Hold Recurring Transaction Report"),e.qZA()()(),e.TgZ(111,"div",1)(112,"div",36)(113,"input",42),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return t.showCurrentDateOnClick()})("change",function(){return t.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(114,"div",38)(115,"label",39),e._uU(116,"Show Newly Added Recurring Transaction Report"),e.qZA()()(),e.TgZ(117,"div",1)(118,"div",36)(119,"input",43),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION=i})("click",function(){return t.showFiscalStartDateOnClick()})("change",function(){return t.showFiscalStartDateOnClick()}),e.qZA()(),e.TgZ(120,"div",38)(121,"label",39),e._uU(122,"Show Pending Recurring Transaction Report"),e.qZA()()()()()()()()()(),e.TgZ(123,"div",44)(124,"button",45),e.NdJ("click",function(){return t.onload()}),e._uU(125,"RUN"),e.qZA(),e.TgZ(126,"button",46),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(127,"Close"),e.qZA()()()()()(),e.TgZ(128,"generic-popup-grid",47,48),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA(),e.TgZ(130,"generic-popup-grid",47,49),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupRecurring(i)}),e.qZA()),2&r&&(e.xp6(16),e.Q6J("disabled",3==t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(10),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DIVISION),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION)("checked",1==t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_INCLUDEPENDINGTRANSACTION&&0==t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION)("disabled",0!=t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(12),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_DAYS),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CUSTOMER),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_CATEGORY),e.xp6(3),e.Q6J("ngForOf",t.rCategoryList),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_ITEM),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionReportObj.RecurringTransaction_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",t.gridPopupSettingsForCustomer),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForRecurring))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const QO=["genericGridSupplierPopup"],zO=["genericGridItemPopup"];let KO=(()=>{class n{constructor(r,t,o,i,l){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this.isActive=!1,this.repObj={reportname:"",reportparam:{REPORTOPTION:"",REPORTYPE:"",RECURRINGMODE:"",CATNAME:"",ITEM:"",PHISCALID:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im}ngOnInit(){this._ActivatedRoute.queryParams.subscribe(r=>{"DRILL"==r.mode&&this._reportFilterService.drillParam.returnUrl&&"Recurring Transaction Analysis Report_2"==this._reportFilterService.drillParam.reportname?(this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=this._reportFilterService.drillParam.reportparam.REPORTOPTION,this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE=this._reportFilterService.drillParam.reportparam.RECURRINGMODE,this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE="2"):1!=this._reportFilterService.RecurringTransactionAnalysisObj.assignPreviousValue&&(this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION="0",this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE="0",this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE="0")})}onload(){this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.REPORTOPTION=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION:"",this.repObj.reportparam.REPORTYPE=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE:"",this.repObj.reportparam.RECURRINGMODE=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE:"",this.repObj.reportparam.CATNAME=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_CATNAME?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_CATNAME:"%",this.repObj.reportparam.ITEM=this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_ITEM?this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_ITEM:"%",0==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report":1==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report_1":2==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE?this.repObj.reportname="Recurring Transaction Analysis Report_2":3==this._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE&&(this.repObj.reportname="Recurring Transaction Analysis Report_3"),this.repObj.REPORTDISPLAYNAME="Recurring Transaction Analysis Report",this._reportFilterService.RecurringTransactionAnalysisObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["recurring-transaction-analysis-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(QO,5),e.Gf(zO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:94,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%","width","500px"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%","margin-bottom","1%"],[2,"width","101%"],[1,"legend-class"],[2,"margin-top","4px"],[1,"row",2,"margin-bottom","-3%"],[1,"col-md-1"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[1,"row",2,"margin-bottom","-3%","visibility","hidden"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],[1,"row",2,"width","107%"],[1,"col"],[2,"margin-left","-5%","width","165px"],[1,"form-control","input-text",2,"width","136%","margin-left","-40%",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Recurring Transaction Analysis Report "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset",10)(17,"legend",11),e._uU(18,"Report Type :"),e.qZA(),e.TgZ(19,"div",12)(20,"div",13)(21,"div",14)(22,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(23,"div",16)(24,"label",17),e._uU(25,"Recurring Transaction Category Wise Report"),e.qZA()()(),e.TgZ(26,"div",13)(27,"div",14)(28,"input",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(29,"div",16)(30,"label",17),e._uU(31,"Recurring Transaction Item Wise Report"),e.qZA()()(),e.TgZ(32,"div",13)(33,"div",14)(34,"input",19),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(35,"div",16)(36,"label",17),e._uU(37,"Customer Wise Report"),e.qZA()()(),e.TgZ(38,"div",20)(39,"div",14)(40,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE=i}),e.qZA()(),e.TgZ(41,"div",16)(42,"label",17),e._uU(43,"Recurring Transaction Yearly Comparision Report"),e.qZA()()()()()(),e.TgZ(44,"div",5)(45,"fieldset",10)(46,"legend",11),e._uU(47,"Report Option :"),e.qZA(),e.TgZ(48,"div",12)(49,"div",13)(50,"div",14)(51,"input",22),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(52,"div",16)(53,"label",17),e._uU(54,"Show All Recurring Transaction"),e.qZA()()(),e.TgZ(55,"div",13)(56,"div",14)(57,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(58,"div",16)(59,"label",17),e._uU(60,"Show Processed Recurring Transaction Only"),e.qZA()()(),e.TgZ(61,"div",13)(62,"div",14)(63,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(64,"div",16)(65,"label",17),e._uU(66,"Show Non-Processed Recurring Transaction Only"),e.qZA()()(),e.TgZ(67,"div",13)(68,"div",14)(69,"input",25),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION=i}),e.qZA()(),e.TgZ(70,"div",16)(71,"label",17),e._uU(72,"Show Newly Added Recurring Transaction Only"),e.qZA()()()()(),e.TgZ(73,"div",26)(74,"div",27)(75,"label",28),e._uU(76,"Recurring Transaction Mode :"),e.qZA()(),e.TgZ(77,"div",27)(78,"select",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE=i}),e.TgZ(79,"option",30),e._uU(80,"ALL"),e.qZA(),e.TgZ(81,"option",31),e._uU(82,"Each Month"),e.qZA(),e.TgZ(83,"option",32),e._uU(84,"Each 3 Months"),e.qZA(),e.TgZ(85,"option",33),e._uU(86,"Each 6 Months"),e.qZA(),e.TgZ(87,"option",34),e._uU(88,"Each Year"),e.qZA()()()()()()(),e.TgZ(89,"div",35)(90,"button",36),e.NdJ("click",function(){return t.onload()}),e._uU(91,"RUN"),e.qZA(),e.TgZ(92,"button",37),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(93,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(22),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.RecurringTransactionAnalysisObj.RecurringTransactionAnalysis_MODE))},dependencies:[s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const $O=["genericGridItemPopup"],XO=["multiselectGenericGrid"];function eb(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function tb(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function rb(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function ib(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function ob(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function nb(n,a){if(1&n&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function ab(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE=o)}),e._UZ(6,"option",38),e.YNc(7,nb,2,2,"option",17),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList)}}function sb(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",73)(1,"ng-multiselect-dropdown",74),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function lb(n,a){if(1&n&&(e.TgZ(0,"div",69)(1,"div",70)(2,"label",71),e._uU(3),e.qZA()(),e.YNc(4,sb,2,4,"div",72),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function pb(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",58)(2,"div",59)(3,"div",60)(4,"h5",61),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",62),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",63),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",64)(10,"div",65),e.YNc(11,lb,5,2,"div",66),e.qZA()(),e.TgZ(12,"div",67)(13,"button",68),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",68),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let cb=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._authService=_,this._alertService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",COMID:"",DIV:"",CCENTER:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMGROUPWISEREPORT:0,ITEMNAME:"",DIVISIONNAME:"",ITEMGROUPNAME:"",CATEGORYNAME:"",VATMODE:"",MANUFACTURER:"%",SALESTYPE:"",REPORTOPTION:0,SHOWDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.SalesReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.ManufacturerList=[],this.gridPopupSettingsForItem=new m.im,this.multiselectPopupSettings=new F.oe,this.showVariantPopup=!1,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.finalParam={},this.userSetting=_.getSetting(),this.userProfile=_.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getManufacturerList().subscribe(p=>{p&&(this.ManufacturerList=p)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.userProfile.PhiscalYearInfo.PhiscalID;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.SalesFlowObj.assignPreviousValue&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISEREPORT="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE="100",this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION="0",this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="0"),this.changeEntryDate(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2,"AD")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER||null==this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV&&"%"==this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV)this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME="All";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV&&"%"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV);this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME="";if(this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP&&"%"==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP)this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME="All";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP&&"%"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP);this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPNAME="";if(this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE&&"100"==this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP)this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME="";else if(this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE&&"100"!=this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE);this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMTYPENAME="";this.repObj.reportparam.DATE1=this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER?this._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV?this._reportFilterService.SalesFlowObj.SalesMonthWise_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP?this._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE:0,this.repObj.reportparam.ITEMGROUPWISEREPORT=this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISEREPORT,this.repObj.reportparam.ITEMNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM?this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME?this._reportFilterService.SalesFlowObj.SalesMonthWise_DIVISIONNAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT?this._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT:"",this.repObj.reportparam.VATMODE=this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE?this._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE:"",this.repObj.reportparam.SALESTYPE=this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE?this._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE:"",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION?this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL?this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL:0,this.repObj.reportparam.MANUFACTURER=this._reportFilterService.SalesFlowObj.SalesMonthWise_MANUFACTURER?this._reportFilterService.SalesFlowObj.SalesMonthWise_MANUFACTURER:"%",0==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISEREPORT&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise":1==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_4":0==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS":1==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_1":2==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_2":3==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Sales Flow Report Month Wise_BS_3":4==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION&&(this.repObj.reportname="Sales Flow Report Month Wise_BS_4"),this.repObj.REPORTDISPLAYNAME="Sales Flow Report Month Wise",this._reportFilterService.SalesFlowObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),console.log("selected itemd",this.selectMultiItems),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}changeMultiSelect(r){console.log("events",r),this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE="",this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM="",this.selectMultiItems=1==r.target.checked?1:0}dblClickPopupItem(r){this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE=r.MCODE,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=r.DESCA}onMultiItemSelected(r){console.log("on multii item select",r),this._reportFilterService.SalesFlowObj.SalesMonthWise_MCODE=r.MCODE,this._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=r.DESCA}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(r){0==r&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="0"),1==r&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="1"),2==r&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="2"),3==r&&(this._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE="3")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.SalesFlowObj.SalesMonthWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1),console.log("rrrrr",this.finalParam[o]);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}onMultiSelect(r){}showCurrentDateOnClick(){this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=(new Date).toJSON().split("T")[0]}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e),e.Y36(R.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-flow-report-monthwise"]],viewQuery:function(r,t){if(1&r&&(e.Gf($O,5),e.Gf(XO,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:173,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-22%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],[1,"row","checkbox",2,"padding-top","5px"],[1,"col-md-1"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],["value","2"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[4,"ngIf"],[3,"value"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Flow Report - Month Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_DIV=i}),e.YNc(41,eb,2,0,"option",16),e.YNc(42,tb,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,rb,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Report Type Selection :"),e.qZA(),e.TgZ(54,"div",11)(55,"div",20)(56,"div",21)(57,"div",1)(58,"div",22)(59,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return t.checkValue(0)}),e.qZA()(),e.TgZ(60,"div",24)(61,"label",25),e._uU(62,"Item Wise Report"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",22)(65,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return t.checkValue(1)}),e.qZA()(),e.TgZ(66,"div",24)(67,"label",25),e._uU(68,"Item Group Wise Report"),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",22)(71,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return t.checkValue(2)}),e.qZA()(),e.TgZ(72,"div",24)(73,"label",25),e._uU(74,"Item Category Wise Report"),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",22)(77,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE=i})("change",function(){return t.checkValue(3)}),e.qZA()(),e.TgZ(78,"div",24)(79,"label",25),e._uU(80,"Cost Center Wise Report"),e.qZA()()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL=i})("change",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",33),e._uU(86,"Show Item List Also"),e.qZA()()()(),e.TgZ(87,"div",34)(88,"fieldset")(89,"legend"),e._uU(90,"Report Filter Option :"),e.qZA(),e.TgZ(91,"div",1)(92,"div",35)(93,"label",36),e._uU(94,"Item Group :"),e.qZA()(),e.TgZ(95,"div",32)(96,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP=i}),e._UZ(97,"option",19),e.YNc(98,ib,2,2,"option",17),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",35)(101,"label",36),e._uU(102,"Item Category :"),e.qZA()(),e.TgZ(103,"div",32)(104,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT=i}),e._UZ(105,"option",19),e.YNc(106,ob,2,2,"option",17),e.qZA()()(),e.YNc(107,ab,8,2,"div",37),e.TgZ(108,"div",1)(109,"div",35)(110,"label",36),e._uU(111,"Vat Mode :"),e.qZA()(),e.TgZ(112,"div",32)(113,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE=i}),e._UZ(114,"option",38),e.TgZ(115,"option",39),e._uU(116,"VATABLE ITEM"),e.qZA(),e.TgZ(117,"option",40),e._uU(118,"NON-VATABLE ITEM"),e.qZA()()()(),e.TgZ(119,"div",1)(120,"div",35)(121,"label",36),e._uU(122,"Sales Type :"),e.qZA()(),e.TgZ(123,"div",32)(124,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE=i}),e.TgZ(125,"option",40),e._uU(126,"ALL"),e.qZA(),e.TgZ(127,"option",39),e._uU(128,"RETAIL SALES"),e.qZA(),e.TgZ(129,"option",41),e._uU(130,"WHOLESALE SALES"),e.qZA()()()()(),e.TgZ(131,"fieldset")(132,"legend",10),e._uU(133,"Item Selection :"),e.qZA(),e.TgZ(134,"div",1)(135,"div",35)(136,"label",36),e._uU(137,"Item Name :"),e.qZA()(),e.TgZ(138,"div",32)(139,"input",42),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(140,"div",1)(141,"input",43),e.NdJ("ngModelChange",function(i){return t.selectMultiItems=i})("change",function(i){return t.changeMultiSelect(i)}),e.qZA(),e._uU(142," \xa0 "),e.TgZ(143,"a",44),e._uU(144," Select Multiple Items"),e.qZA()()(),e.TgZ(145,"fieldset")(146,"legend",10),e._uU(147,"Report Option :"),e.qZA(),e.TgZ(148,"div",11)(149,"div",5)(150,"div",21)(151,"div",1)(152,"div",45)(153,"input",46),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION=i})("click",function(){return t.showCurrentDateOnClick()})("change",function(){return t.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(154,"div",24)(155,"label",47),e._uU(156,"Show Report In English Date"),e.qZA()()(),e.TgZ(157,"div",1)(158,"div",45)(159,"input",48),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION=i}),e.qZA()(),e.TgZ(160,"div",24)(161,"label",47),e._uU(162,"Show Report In Nepali Date"),e.qZA()()()()()()()()()(),e.TgZ(163,"div",49)(164,"button",50),e.NdJ("click",function(){return t.onload()}),e._uU(165,"RUN"),e.qZA(),e.TgZ(166,"button",51),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(167,"Close"),e.qZA()()()()()(),e.TgZ(168,"generic-popup-grid",52,53),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(170,"multiselect-generic-grid",54,55),e.NdJ("onItemsSelected",function(i){return t.onMultiItemSelected(i)}),e.qZA(),e.YNc(172,pb,17,1,"div",56)),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_SHOWDETAIL)("disabled",0==t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_VATMODE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_SALESTYPE),e.xp6(15),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_ITEM),e.xp6(2),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems),e.xp6(12),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesFlowObj.SalesMonthWise_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings),e.xp6(2),e.Q6J("ngIf",1==t.showVariantPopup))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const _b=["multiselectGenericGrid"],db=["genericGridItemPopup"];function hb(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function ub(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function gb(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Sb(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function mb(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Ob(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function bb(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Item Type :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE=o)}),e._UZ(6,"option",38),e.YNc(7,Ob,2,2,"option",17),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE),e.xp6(2),e.Q6J("ngForOf",r.PTypeList)}}function Tb(n,a){if(1&n&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MANUFACTURER),e.xp6(1),e.hij("",r.MANUFACTURER," ")}}function vb(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",1)(1,"div",35)(2,"label",36),e._uU(3,"Manufacturer :"),e.qZA()(),e.TgZ(4,"div",32)(5,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MANUFACTURER=o)}),e._UZ(6,"option",19),e.YNc(7,Tb,2,2,"option",17),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(5),e.Q6J("ngModel",r._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MANUFACTURER),e.xp6(2),e.Q6J("ngForOf",r.ManufacturerList)}}let fb=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",COMID:"",DIV:"",CCENTER:"",MCODE:"",PTYPE:100,MCAT:"",MGROUP:"",ITEMGROUPWISE:0,ITEMCATEGORYWISE:0,ITEMCOSTCENTERWISE:0,ITEMNAME:"",SHOWGROUPING:0,DIVISIONNAME:"",ITEMGROUPNAME:"",CATEGORYNAME:"",VATMODE:"",PURCHASETYPE:"",REPORTOPTION:0,SHOWDETAIL:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.PurchaseReportItemWise={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.finalParam={},this.multiselectPopupSettings=new F.oe,this.gridPopupSettingsForItem=new m.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),i.PurchaseFlowObj.PurchaseMonthWise_VARIANTVALUES||this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.variantmaster=p.result)},p=>{this.variantmaster=[]});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),1!=this._reportFilterService.PurchaseFlowObj.assignPreviousValue&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE="100",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP="100",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="0",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION="0"),this.changeVariant(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VARIANT),this.changeEntryDate(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1,"AD"),this.changeEndDate(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2,"AD")}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=this.masterService.toADDate(r)}}changeMultiSelect(r){console.log("events",r),this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE="",this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM="",this.selectMultiItems=1==r.target.checked?1:0}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER||null==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER))return void this._alertService.info("Please select cost center before loading the report");if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME="All";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV){let i=this.divisionList.filter(l=>l.Division==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME=i&&i.length>0&&i[0]?i[0].NAME:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME="";if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME="All";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP){let i=this.ItemGroupList.filter(l=>l.MCODE==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME=i&&i.length>0&&i[0]?i[0].DESCA:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME="";if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE&&"100"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP)this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME="";else if(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE&&"100"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE){let i=this.PTypeList.filter(l=>l.PTYPEID==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE);this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME=i&&i.length>0&&i[0]?i[0].PTYPENAME:""}else this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMTYPENAME="";this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT&&"%"==this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?"All":this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT&&"%"!=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT:"",this.repObj.reportparam.DATE1=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2,this.repObj.reportparam.COMID=this.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PTYPE:100,this.repObj.reportparam.MCAT=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP:"%",this.repObj.reportparam.ITEMGROUPWISE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE:0,this.repObj.reportparam.ITEMNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM:"",this.repObj.reportparam.DIVISIONNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIVISIONNAME:"",this.repObj.reportparam.ITEMGROUPNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEMGROUPNAME:"",this.repObj.reportparam.CATEGORYNAME=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CATEGORYNAME:"",this.repObj.reportparam.VATMODE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE:"",this.repObj.reportparam.PURCHASETYPE=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP:"",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION:0,this.repObj.reportparam.SHOWDETAIL=this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL?this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL:0,0==this.repObj.reportparam.ITEMGROUPWISE&&(this._reportFilterService.SalesFlowObj.PurchaseMonthWise_ITEMGROUPWISE=0),4==this.repObj.reportparam.ITEMGROUPWISE&&(this._reportFilterService.SalesFlowObj.PurchaseMonthWise_ITEMGROUPWISE=4),""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),0==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise":1==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_1":2==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_2":3==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_3":4==this.repObj.reportparam.ITEMGROUPWISE&&0==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_4":0==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS":1==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_1":2==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_2":3==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION?this.repObj.reportname="Purchase Flow Report Month Wise_BS_3":4==this.repObj.reportparam.ITEMGROUPWISE&&1==this.repObj.reportparam.REPORTOPTION&&(this.repObj.reportname="Purchase Flow Report Month Wise_BS_4"),this.repObj.REPORTDISPLAYNAME="Purchase Flow Report Month Wise",this._reportFilterService.PurchaseFlowObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(r){console.log("on multii item select",r),this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE=r.MCODE,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=r.DESCA}dblClickPopupItem(r){this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCODE=r.MCODE,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=r.DESCA,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}checkValue(r){console.log("value check value",r),0==r&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="0"),1==r&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="1"),2==r&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="2"),3==r&&(this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE="3")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showCurrentDateOnClick(){this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=(new Date).toJSON().split("T")[0],this._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=(new Date).toJSON().split("T")[0]}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["purchase-flow-report-monthwise"]],viewQuery:function(r,t){if(1&r&&(e.Gf(_b,5),e.Gf(db,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:173,vars:38,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-22%"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange","change"],["calss","col"],[2,"width","100%"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange","change"],["type","radio","name","reportType","value","3",3,"ngModel","ngModelChange","change"],[1,"row","checkbox"],[1,"col-sm-1",2,"margin-left","-10px"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["class","row",4,"ngIf"],["value","100"],["value","1"],["value","0"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],["type","checkbox","id","multipleItem",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","13px"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange","click","change"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Purchase Flow Report - Month Wise"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV=i}),e.YNc(41,hb,2,0,"option",16),e.YNc(42,ub,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,gb,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Report Type Selection :"),e.qZA(),e.TgZ(54,"div",11)(55,"div",20)(56,"div",21)(57,"div",1)(58,"div",22)(59,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return t.checkValue(0)}),e.qZA()(),e.TgZ(60,"div",24)(61,"label",25),e._uU(62,"Item Wise Report"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",22)(65,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return t.checkValue(1)}),e.qZA()(),e.TgZ(66,"div",24)(67,"label",25),e._uU(68,"Item Group Wise Report"),e.qZA()()(),e.TgZ(69,"div",1)(70,"div",22)(71,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return t.checkValue(2)}),e.qZA()(),e.TgZ(72,"div",24)(73,"label",25),e._uU(74,"Item Category Wise Report"),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",22)(77,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE=i})("change",function(){return t.checkValue(3)}),e.qZA()(),e.TgZ(78,"div",24)(79,"label",25),e._uU(80,"Cost Center Wise Report"),e.qZA()()()()()()(),e.TgZ(81,"div",29)(82,"div",30)(83,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL=i})("change",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL=i.target.checked?1:0}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",33),e._uU(86,"Show Item List Also"),e.qZA()()()(),e.TgZ(87,"div",34)(88,"fieldset")(89,"legend"),e._uU(90,"Report Filter Option :"),e.qZA(),e.TgZ(91,"div",1)(92,"div",35)(93,"label",36),e._uU(94,"Item Group :"),e.qZA()(),e.TgZ(95,"div",32)(96,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP=i}),e._UZ(97,"option",19),e.YNc(98,Sb,2,2,"option",17),e.qZA()()(),e.TgZ(99,"div",1)(100,"div",35)(101,"label",36),e._uU(102,"Item Category :"),e.qZA()(),e.TgZ(103,"div",32)(104,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT=i}),e._UZ(105,"option",19),e.YNc(106,mb,2,2,"option",17),e.qZA()()(),e.YNc(107,bb,8,2,"div",37),e.YNc(108,vb,8,2,"div",37),e.TgZ(109,"div",1)(110,"div",35)(111,"label",36),e._uU(112,"Vat Mode :"),e.qZA()(),e.TgZ(113,"div",32)(114,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE=i}),e._UZ(115,"option",38),e.TgZ(116,"option",39),e._uU(117,"VATABLE ITEM"),e.qZA(),e.TgZ(118,"option",40),e._uU(119,"NON-VATABLE ITEM"),e.qZA()()()(),e.TgZ(120,"div",1)(121,"div",35)(122,"label",36),e._uU(123,"Purchase Type :"),e.qZA()(),e.TgZ(124,"div",32)(125,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP=i}),e.TgZ(126,"option",38),e._uU(127,"ALL"),e.qZA(),e.TgZ(128,"option",39),e._uU(129,"IMPORT PURCHASE"),e.qZA(),e.TgZ(130,"option",40),e._uU(131,"LOCAL PURCHASE"),e.qZA()()()()(),e.TgZ(132,"fieldset")(133,"legend",10),e._uU(134,"Item Selection :"),e.qZA(),e.TgZ(135,"div",1)(136,"div",35)(137,"label",36),e._uU(138,"Item Name :"),e.qZA()(),e.TgZ(139,"div",32)(140,"input",41),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(141,"div",1)(142,"input",42),e.NdJ("ngModelChange",function(i){return t.selectMultiItems=i})("change",function(i){return t.changeMultiSelect(i)}),e.qZA(),e._uU(143," \xa0 "),e.TgZ(144,"a",43),e._uU(145," Select Multiple Items"),e.qZA()()(),e.TgZ(146,"fieldset")(147,"legend",10),e._uU(148,"Report Option :"),e.qZA(),e.TgZ(149,"div",11)(150,"div",5)(151,"div",21)(152,"div",1)(153,"div",44)(154,"input",45),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION=i})("click",function(){return t.showCurrentDateOnClick()})("change",function(){return t.showCurrentDateOnClick()}),e.qZA()(),e.TgZ(155,"div",24)(156,"label",46),e._uU(157,"Show Report In English Date"),e.qZA()()(),e.TgZ(158,"div",1)(159,"div",44)(160,"input",47),e.NdJ("ngModelChange",function(i){return t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION=i}),e.qZA()(),e.TgZ(161,"div",24)(162,"label",46),e._uU(163,"Show Report In Nepali Date"),e.qZA()()()()()()()()()(),e.TgZ(164,"div",48)(165,"button",49),e.NdJ("click",function(){return t.onload()}),e._uU(166,"RUN"),e.qZA(),e.TgZ(167,"button",50),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(168,"Close"),e.qZA()()()()()(),e.TgZ(169,"generic-popup-grid",51,52),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(171,"multiselect-generic-grid",53,54),e.NdJ("onItemsSelected",function(i){return t.onMultiItemSelected(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_SHOWDETAIL)("disabled",0==t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTTYPE),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.ISPATVERSION),e.xp6(1),e.Q6J("ngIf",1==t.userSetting.ISPATVERSION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_VATMODE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_PURCHASETYP),e.xp6(15),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_ITEM),e.xp6(2),e.Q6J("ngModel",t.selectMultiItems)("checked",1==t.selectMultiItems),e.xp6(12),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.PurchaseFlowObj.PurchaseMonthWise_REPORTOPTION),e.xp6(9),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s._,s.JJ,s.On,m.Zl,M.v,F.ky],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Cb=["division"];function Ab(n,a){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Pb(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"fieldset")(1,"legend",11),e._uU(2,"Division Selection:"),e.qZA(),e.TgZ(3,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(r);const i=e.oxw();return e.KtG(i._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION=o)}),e.TgZ(4,"option",34),e._uU(5,"ALL"),e.qZA(),e.YNc(6,Ab,2,2,"option",35),e.qZA()()}if(2&n){const r=e.oxw();e.xp6(3),e.Q6J("ngModel",r._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION),e.xp6(3),e.Q6J("ngForOf",r.divisionList)}}function Mb(n,a){if(1&n&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.Q6J("ngValue",r.monthlyOrYearlyFormatValue),e.xp6(1),e.hij(" ",r.monthlyOrYearlyFormatName," ")}}let Rb=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",REPORTOPTION:"",PHISCALID:"",MONTHLY:0,DATEMODE:0},REPORTDISPLAYNAME:""},this.monthlyOrYearlyFormatList=[{monthlyOrYearlyFormatName:"Yearly",monthlyOrYearlyFormatValue:0},{monthlyOrYearlyFormatName:"Monthly",monthlyOrYearlyFormatValue:1}],this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.AppMode=j.N.appMode,this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.Annexure13ReportObj.assignPreviousValue&&(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1=this.userProfile.PhiscalYearInfo.BeginDate.split("T")[0],this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.AccoutLedgerObj.Annexure13_REPORTOPTION="0",this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY=0,this._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE="0"),this.changeEntryDate(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1,"AD"),this.changeEndDate(this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2,"AD")})}changeEntryDate(r,t){"AD"==t&&(this._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1=this.masterService.toBSDate(r))}changeEndDate(r,t){if("AD"==t)this._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=this.masterService.toADDate(r)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.Annexure13ReportObj.Annexure13_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.Annexure13ReportObj.Annexure13_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION?this._reportFilterService.Annexure13ReportObj.Annexure13_DIVISION:"%",this.repObj.reportparam.REPORTOPTION=this._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION?this._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION:0,this.repObj.reportparam.MONTHLY=this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY?this._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY:0,this.repObj.reportparam.DATEMODE=this._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE?this._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE:0,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,console.log(this.repObj),this.repObj.reportname="Annexure 13 Report",this.repObj.reportname=0===this.repObj.reportparam.MONTHLY?"Annexure 13 Report":"Annexure 13 Report-Monthly",this.repObj.REPORTDISPLAYNAME="Annexure 13 Report",this._reportFilterService.Annexure13ReportObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["annexure13report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Cb,5),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:91,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[4,"ngIf"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportOption","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportOption","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","2",3,"ngModel","ngModelChange"],["type","radio","name","reportOption","value","3",3,"ngModel","ngModelChange"],["type","radio","name","dateMODE","value","0",3,"ngModel","ngModelChange"],["type","radio","name","dateMODE","value","1",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngValue"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Annexure 13 Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",16),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2=i}),e.qZA()()()()()(),e.YNc(37,Pb,7,2,"fieldset",17),e.TgZ(38,"fieldset")(39,"legend",11),e._uU(40,"Monthly Or Yearly Selection:"),e.qZA(),e.TgZ(41,"select",18),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY=i}),e.YNc(42,Mb,2,2,"option",19),e.qZA()()(),e.TgZ(43,"div",20)(44,"fieldset")(45,"legend",11),e._uU(46,"Report Option :"),e.qZA(),e.TgZ(47,"div",12)(48,"div",7)(49,"div",21)(50,"div",1)(51,"div",22)(52,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(53,"div",24)(54,"label",25),e._uU(55,"Show All "),e.qZA()()(),e.TgZ(56,"div",1)(57,"div",22)(58,"input",26),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(59,"div",24)(60,"label",25),e._uU(61,"Show Sales Transaction Only"),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",22)(64,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(65,"div",24)(66,"label",25),e._uU(67,"Show Purchase Transaction - Others Only"),e.qZA()()(),e.TgZ(68,"div",1)(69,"div",22)(70,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION=i}),e.qZA()(),e.TgZ(71,"div",24)(72,"label",25),e._uU(73,"Show Purchase Transaction - Capital Ony"),e.qZA()()()()()()(),e.TgZ(74,"fieldset")(75,"legend"),e._uU(76,"Date Mode "),e.qZA(),e.TgZ(77,"div",1)(78,"div",7)(79,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE=i}),e.qZA(),e.TgZ(80,"label",25),e._uU(81,"Entry Date Wise"),e.qZA()(),e.TgZ(82,"div",7)(83,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE=i}),e.qZA(),e.TgZ(84,"label",25),e._uU(85,"Invoice Date Wise"),e.qZA()()()()()()(),e.TgZ(86,"div",31)(87,"button",32),e.NdJ("click",function(){return t.onload()}),e._uU(88,"RUN"),e.qZA(),e.TgZ(89,"button",33),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(90,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_BSDATE2),e.xp6(1),e.Q6J("ngIf","pro"==t.AppMode),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_MONTHLY),e.xp6(1),e.Q6J("ngForOf",t.monthlyOrYearlyFormatList),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_REPORTOPTION),e.xp6(9),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.Annexure13ReportObj.Annexure13_DATEMODE))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const Eb=["genericGridItemPopup"],Db=["multiselectGenericGrid"],Ib=["genericGridSupplierPopup"];function Nb(n,a){1&n&&(e.TgZ(0,"option",29),e._uU(1,"ALL"),e.qZA())}function kb(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function jb(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function yb(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Fb(n,a){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}function wb(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",64)(1,"ng-multiselect-dropdown",65),e.NdJ("onSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelectAll",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("onDeSelect",function(o){e.CHM(r);const i=e.oxw(3);return e.KtG(i.onMultiSelect(o))})("ngModelChange",function(o){e.CHM(r);const i=e.oxw().$implicit;return e.KtG(i.SELECTEDMCAT=o)}),e.qZA()()}if(2&n){const r=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("placeholder","Select Variant ")("settings",t.dropdownSettings)("data",r.VARIANTVALUES)("ngModel",r.SELECTEDMCAT)}}function Wb(n,a){if(1&n&&(e.TgZ(0,"div",60)(1,"div",61)(2,"label",62),e._uU(3),e.qZA()(),e.YNc(4,wb,2,4,"div",63),e.qZA()),2&n){const r=a.$implicit;e.xp6(3),e.hij("",null==r?null:r.VARIANTNAME," :"),e.xp6(1),e.Q6J("ngIf",r.VARIANTVALUES.length)}}function Lb(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div")(1,"div",49)(2,"div",50)(3,"div",51)(4,"h5",52),e._uU(5,"Add Category Variants"),e.qZA(),e.TgZ(6,"button",53),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.closeModal())}),e.TgZ(7,"span",54),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",55)(10,"div",56),e.YNc(11,Wb,5,2,"div",57),e.qZA()(),e.TgZ(12,"div",58)(13,"button",59),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.onSaveVariant())}),e._uU(14,"Save"),e.qZA(),e.TgZ(15,"button",59),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.CancelVariant())}),e._uU(16,"Cancel"),e.qZA()()()()()}if(2&n){const r=e.oxw();e.xp6(11),e.Q6J("ngForOf",r.categorywiseConfigurationdetails)}}let Zb=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._alertService=i,this._reportFilterService=l,this.arouter=c,this._ActivatedRoute=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",MGROUP:"%",MCAT:"%",PTYPE:100,SUPCODE:"%",SHOWGROUPING:0,VATMODE:100,WORSTQTY:0,SALESTYPE:0,SUPPLIERNAME:"",IGNOREZEROQTY:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.gridPopupSettingsForItem=new m.im,this.multiselectPopupSettings=new F.oe,this.gridPopupSettingsForSupplier=new m.im,this.categorywiseConfigurationdetails=[],this.matrixSelectSetting={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",enableSearchFilter:!0,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"NAME",primaryKey:"NAME",position:"bottom"},this.showVariantPopup=!1,this.variantparamters2={},this.finalParam={},this.userSetting=d.getSetting(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)}),this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(p=>{p.result&&p.result.length&&(this.categorywiseConfigurationdetails=p.result,this.categorywiseConfigurationdetails.forEach(g=>{if(g.SELECTEDMCAT=[],g.finalSelectedMCAT=[],g.hasOwnProperty("VARIANTVALUES")){let O=JSON.parse(g.VARIANTVALUES);g.VARIANTVALUES="object"==typeof O&&O&&O.length?O:[]}}))},p=>{});var h=this.masterService.PhiscalObj.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){this.dropdownSettings={singleSelection:!1,idField:"VARIANTBARCODE",textField:"NAME",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!1,maxHeight:100};const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(1!=this._reportFilterService.WorstSalesObj.assignPreviousValue&&(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP="%",this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT="%",this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE=100,this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE=100,this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME="",this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE="",this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=0,this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=0),this.changeEntryDate(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1,"AD"),this.changeEndDate(this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=this.masterService.toADDate(r)}}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.DIV=this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION?this._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION:"%",this.repObj.reportparam.MGROUP=this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP?this._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP:"%",this.repObj.reportparam.MCAT=this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT?this._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT:"%",this.repObj.reportparam.PTYPE=this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE?this._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE:100,this.repObj.reportparam.VATMODE=this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE?this._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE:100,this.repObj.reportparam.SALESTYPE=this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE?this._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE:0,this.repObj.reportparam.SUPCODE=this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE?this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE:"%",this.repObj.reportparam.SHOWGROUPING=this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING?this._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING:0,this.repObj.reportparam.WORSTQTY=this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY?this._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME?this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME:"",this.repObj.reportparam.IGNOREZEROQTY=this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY?this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY:0,""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),this.repObj.reportname="Worst Sales Analysis Report",this.repObj.REPORTDISPLAYNAME="Worst Sales Analysis Report",this._reportFilterService.WorstSalesObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}ItemEnterCommand(r){this.getItemList(),0==this.selectMultiItems?this.genericGridItemPopup.show():this.multiselectGenericGrid.show()}onMultiItemSelected(r){console.log("on multii item select",r),this._reportFilterService.WorstSalesObj.StockLedger_MCODE=r.MCODE,this._reportFilterService.WorstSalesObj.StockLedger_ITEM=r.DESCA}dblClickPopupItem(r){this._reportFilterService.WorstSalesObj.StockLedger_MCODE=r.MCODE,this._reportFilterService.WorstSalesObj.StockLedger_ITEM=r.DESCA,this._reportFilterService.WorstSalesObj.StockLedger_MENUCODE=r.MENUCODE}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList"),this.multiselectPopupSettings=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}changeVariant(r){0==this.variantmaster.length?this.masterService.masterPostmethod("/getcategorywiseconfiguration",{}).subscribe(t=>{t.result&&t.result.length&&(this.variantmaster=t.result,this.variantmaster.forEach(o=>{if(o.hasOwnProperty("VARIANTVALUES")&&o.VARIANTNAME==r){let i=JSON.parse(o.VARIANTVALUES);"object"==typeof i&&i&&i.length?(this.variantvaluesList=i,this._reportFilterService.WorstSalesObj.StockLedger_VARIANT=r):this.variantvaluesList=[]}}))},t=>{this.variantmaster=[]}):this.variantmaster.forEach(t=>{if(t.hasOwnProperty("VARIANTVALUES")&&t.VARIANTNAME==r){let o=JSON.parse(t.VARIANTVALUES);this.variantvaluesList="object"==typeof o&&o&&o.length?o:[]}})}showVariantFilter(r){console.log("show variant filter",r.target.checked),1==r.target.checked?(this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=1,this.showVariantPopup=!0):this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=0}closeModal(){this.showVariantPopup=!1}CancelVariant(){this.showVariantPopup=!1,this._reportFilterService.WorstSalesObj.StockLedger_SHOWVARIANT=0}onSaveVariant(){this.showVariantPopup=!1;let r="",t=[];for(var o in this.abc=this.categorywiseConfigurationdetails.filter(i=>i.SELECTEDMCAT.length>0),this.abc.forEach(i=>{t.push(i.VARIANTNAME)}),this.abc.forEach(i=>{r="",t.forEach(l=>{i.VARIANTNAME==l&&i.SELECTEDMCAT.forEach(c=>{r+=`${c.NAME},`,this.finalParam[l]=r})})}),this.finalParam)this.finalParam[o]=this.finalParam[o].slice(0,-1);console.log("final param",this.finalParam),console.log(JSON.stringify(this.finalParam))}supplierEnter(r){this.getCustomerList(),this.genericGridSupplierPopup.show()}getCustomerList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(r){this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPCODE=r.ACID,this._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME=r.ACNAME}changeWorstqty(r){console.log("event",r.target.value),(r.target.value<1||null==r.target.value||null==r.target.value||""==r.target.value)&&(this._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=0)}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["worsesales-analysisreport"]],viewQuery:function(r,t){if(1&r&&(e.Gf(Eb,5),e.Gf(Db,5),e.Gf(Ib,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:129,vars:34,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","13px","width","100%","margin-top","0%","font-weight","500"],[1,"col-sm-6"],["type","number",2,"position","relative","top","9px","height","2rem","width","12rem",3,"ngModel","ngModelChange","change"],[1,"row","checkbox",2,"padding-top","5px","margin-top","14px"],[1,"col-sm-1"],["type","checkbox",2,"width","1rem",3,"ngModel","checked","disabled","ngModelChange","change"],[1,"col"],[2,"font-size","13px","width","100%","margin-top","0%","margin-left","-3%"],[1,"col-md-6","filter-part"],[1,"col-md-4"],[2,"margin-left","-10%"],["value","%"],["value","100"],["value","1"],["value","0"],["value","2"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keypress","keydown.Enter","keydown.Tab"],[1,"row","checkbox",2,"padding-top","5px"],["type","checkbox",3,"ngModel","checked","ngModelChange","change"],[2,"font-size","12px","width","100%","margin-top","0%","margin-left","-3%"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[4,"ngIf"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],["genericGridSupplierPopup",""],[3,"value"],[1,"modal-sticky",2,"overflow","auto","right","13%","width","50%","z-index","9999999","top","20%"],[1,"modal-content","modal-content-main-area"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container",2,"height","15rem","overflow-y","auto"],["class","form-group row",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"click"],[1,"form-group","row"],[1,"col-sm-3"],[1,"form-control-label"],["class","col-sm-7",4,"ngIf"],[1,"col-sm-7"],[1,"custom-asset-dropdown",3,"placeholder","settings","data","ngModel","onSelect","onSelectAll","onDeSelectAll","onDeSelect","ngModelChange"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Worse Sales Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION=i}),e.YNc(41,Nb,2,0,"option",16),e.YNc(42,kb,2,2,"option",17),e.qZA()(),e.TgZ(43,"div",1)(44,"div",5)(45,"label",18),e._uU(46,"Show Report of item having sales Qty less than Equal to:"),e.qZA()(),e.TgZ(47,"div",19)(48,"input",20),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY=i})("change",function(i){return t.changeWorstqty(i)}),e.qZA()()(),e.TgZ(49,"div",21)(50,"div",22)(51,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=i})("change",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY=i.target.checked?1:0}),e.qZA()(),e.TgZ(52,"div",24)(53,"label",25),e._uU(54,"Exclude Zero Quantity "),e.qZA()()()(),e.TgZ(55,"div",26)(56,"fieldset")(57,"legend"),e._uU(58,"Report Filter Option :"),e.qZA(),e.TgZ(59,"div",8)(60,"div",27)(61,"label",28),e._uU(62,"Item Group :"),e.qZA()(),e.TgZ(63,"div",24)(64,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP=i}),e._UZ(65,"option",29),e.YNc(66,jb,2,2,"option",17),e.qZA()()(),e.TgZ(67,"div",1)(68,"div",27)(69,"label",28),e._uU(70,"Item Category :"),e.qZA()(),e.TgZ(71,"div",24)(72,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT=i}),e._UZ(73,"option",29),e.YNc(74,yb,2,2,"option",17),e.qZA()()(),e.TgZ(75,"div",1)(76,"div",27)(77,"label",28),e._uU(78,"Item Type :"),e.qZA()(),e.TgZ(79,"div",24)(80,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE=i}),e._UZ(81,"option",30),e.YNc(82,Fb,2,2,"option",17),e.qZA()()(),e.TgZ(83,"div",1)(84,"div",27)(85,"label",28),e._uU(86,"Vat Mode :"),e.qZA()(),e.TgZ(87,"div",24)(88,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE=i}),e._UZ(89,"option",30),e.TgZ(90,"option",31),e._uU(91,"VATABLE "),e.qZA(),e.TgZ(92,"option",32),e._uU(93,"NON VATABLE "),e.qZA()()()(),e.TgZ(94,"div",1)(95,"div",27)(96,"label",28),e._uU(97,"Sales type :"),e.qZA()(),e.TgZ(98,"div",24)(99,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE=i}),e._UZ(100,"option",32),e.TgZ(101,"option",31),e._uU(102,"Retail only "),e.qZA(),e.TgZ(103,"option",33),e._uU(104,"Wholesale only "),e.qZA()()()(),e.TgZ(105,"div",34)(106,"div",27)(107,"label",28),e._uU(108,"Supplier Name :"),e.qZA()(),e.TgZ(109,"div",24)(110,"input",35),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME=i})("keypress",function(i){return t.keyPress(i)})("keydown.Enter",function(i){return t.supplierEnter(i)})("keydown.Tab",function(i){return t.supplierEnter(i)}),e.qZA()()()(),e.TgZ(111,"div",36)(112,"div",22)(113,"input",37),e.NdJ("ngModelChange",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=i})("change",function(i){return t._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING=i.target.checked?1:0}),e.qZA()(),e.TgZ(114,"div",24)(115,"label",38),e._uU(116,"Show Item Grouping Hierarchy"),e.qZA()()()()()(),e.TgZ(117,"div",39)(118,"button",40),e.NdJ("click",function(){return t.onload()}),e._uU(119,"RUN"),e.qZA(),e.TgZ(120,"button",41),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(121,"Close"),e.qZA()()()()()(),e.YNc(122,Lb,17,1,"div",42),e.TgZ(123,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(125,"multiselect-generic-grid",45,46),e.NdJ("onItemsSelected",function(i){return t.onMultiItemSelected(i)}),e.qZA(),e.TgZ(127,"generic-popup-grid",43,47),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_DIVISION),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY)("checked",1==t._reportFilterService.WorstSalesObj.WorstSalesObj_IGNOREZEROQTY)("disabled",t._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY<=0||null==t._reportFilterService.WorstSalesObj.WorstSalesObj_WORSTQTY),e.xp6(13),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_VATMODE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_SALESTYPE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_SUPNAME),e.xp6(3),e.Q6J("ngModel",t._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING)("checked",1==t._reportFilterService.WorstSalesObj.WorstSalesObj_SHOWGROUPING),e.xp6(9),e.Q6J("ngIf",1==t.showVariantPopup),e.xp6(1),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.multiselectPopupSettings),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.On,m.Zl,M.v,F.ky,W.O],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})();const xb=["genericGridItemPopup"],Ub=["genericGridSupplierPopup"];function Vb(n,a){1&n&&(e.TgZ(0,"option",19),e._uU(1,"ALL"),e.qZA())}function Bb(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}function Yb(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.CCID),e.xp6(1),e.hij("",r.COSTCENTERNAME," ")}}function Jb(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MCODE),e.xp6(1),e.hij("",r.DESCA," ")}}function qb(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.MENUCAT),e.xp6(1),e.hij("",r.MENUCAT," ")}}function Gb(n,a){if(1&n&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.PTYPEID),e.xp6(1),e.hij("",r.PTYPENAME," ")}}let Hb=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._alertService=i,this._reportFilterService=l,this.arouter=c,this._ActivatedRoute=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",PHISCALID:"",COMID:"",DIV:"",CCENTER:"",REPORTTYPE:0,MCODE:"%",ITEMGROUP:"%",ITEMCAT:"%",ITEMTYPE:0,SUPPLIER:"%",SUPPLIERNAME:"",TOPNMODE:0,TOPNRANGE:0,VATMODE:100,SALESTYPE:0},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe,this.ReportParameters={},this.costCenterList=[],this.divisionList=[],this.MCatList=[],this.PTypeList=[],this.ItemGroupList=[],this.warehouseList=[],this.variantmaster=[],this.variantvaluesList=[],this.selectMultiItems=0,this.gridPopupSettingsForItem=new m.im,this.gridPopupSettingsForSupplier=new m.im,this.userSetting=d.getSetting(),this.masterService.getAllCostCenter().subscribe(p=>{this.costCenterList=p&&p||[]}),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p}),this.masterService.getItemGroup().subscribe(p=>{p&&(this.ItemGroupList=p)}),this.masterService.getMCatList().subscribe(p=>{this.MCatList=p}),this.masterService.getPTypeList().subscribe(p=>{p&&(this.PTypeList=p)});var h=this.masterService.PhiscalObj.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{"DRILL"==t.mode&&this._reportFilterService.drillParam.returnUrl||(console.log("ng on init"),1!=this._reportFilterService.TopNSalesObj.assignPreviousValue&&(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=this.currDate>this.masterService.PhiscalObj.EndDate?this.masterService.PhiscalObj.EndDate.split("T")[0]:this.currDate,this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=1==this.userSetting.DEFAULT_ALL_DIV_INREPORT?"%":this.masterService.PhiscalObj.Div,this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE="0",this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT="%",this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE=100,this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME="",this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE="",this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE="0",this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE=0,this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE=100,this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE=0),this.changeEntryDate(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1,"AD"),this.changeEndDate(this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2,"AD"))})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=this.masterService.toADDate(r)}}changeEndDate(r,t){if("AD"==t)this._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=this.masterService.toADDate(r)}}onload(){if(1==this.masterService.userSetting.EnableCostCenterWiseAccounting&&(""==this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER||null==this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER))return void this._alertService.info("Please select cost center before loading the report");this.repObj.reportparam.DATE1=this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2,this.repObj.reportparam.PHISCALID=this.masterService.userProfile.CompanyInfo.PhiscalID,this.repObj.reportparam.COMID=this.masterService.userProfile.CompanyInfo.COMPANYID,this.repObj.reportparam.CCENTER=this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER?this._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER:"%",this.repObj.reportparam.DIV=this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV?this._reportFilterService.TopNSalesObj.TopNSalesObj_DIV:"%",this.repObj.reportparam.MCODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_MCODE:"%",this.repObj.reportparam.ITEMGROUP=this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP?this._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP:"%",this.repObj.reportparam.ITEMCAT=this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT?this._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT:"%",this.repObj.reportparam.ITEMTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE:0,this.repObj.reportparam.VATMODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE:100,this.repObj.reportparam.SALESTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE:0,this.repObj.reportparam.SUPPLIER=this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE:"%",this.repObj.reportparam.TOPNMODE=this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE?this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE:0,this.repObj.reportparam.TOPNRANGE=this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE?this._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE:0,this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME?this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME:"",this.repObj.reportparam.REPORTTYPE=this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE?this._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE:0,""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPPLIER="%"),0==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Top N Sales Analysis Report":1==this.repObj.reportparam.REPORTTYPE?this.repObj.reportname="Top N Sales Analysis Report_1":2==this.repObj.reportparam.REPORTTYPE&&(this.repObj.reportname="Top N Sales Analysis Report_2"),this.repObj.REPORTDISPLAYNAME="Top N Sales Analysis Report",this._reportFilterService.TopNSalesObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}supplierEnter(r){this.getCustomerList(),this.genericGridSupplierPopup.show()}getCustomerList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(r){this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPCODE=r.ACID,this._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME=r.ACNAME}onMultiSelect(r){}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(R.c),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["topsales-analysisreport"]],viewQuery:function(r,t){if(1&r&&(e.Gf(xb,5),e.Gf(Ub,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:146,vars:33,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value",""],["value","%"],[2,"margin-left","4%"],["type","radio","name","topNmode","value","0",3,"ngModel","ngModelChange"],[2,"width","85%"],["type","radio","name","topNmode","value","1",3,"ngModel","ngModelChange"],[1,"col-md-4"],[2,"font-size","13px","width","100%","margin-top","0%","font-weight","500"],[1,"col-sm-6"],["type","number",2,"width","10rem",3,"ngModel","ngModelChange"],[1,"col-md-6","filter-part"],["type","radio","name","reportType","value","0",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportType","value","2",3,"ngModel","ngModelChange"],[2,"margin-left","-10%"],[1,"col"],["value","100"],["value","1"],["value","0"],["value","2"],[1,"row",2,"margin-bottom","-1%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keypress","keydown.Enter","keydown.Tab"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Top N Sales Analysis Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"div",5)(16,"fieldset")(17,"legend",10),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",11)(21,"div",12)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",5)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",10),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_DIV=i}),e.YNc(41,Vb,2,0,"option",16),e.YNc(42,Bb,2,2,"option",17),e.qZA()(),e.TgZ(43,"fieldset")(44,"legend",10),e._uU(45,"Cost Center:"),e.qZA(),e.TgZ(46,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER=i}),e._UZ(47,"option",18),e.TgZ(48,"option",19),e._uU(49," ALL "),e.qZA(),e.YNc(50,Yb,2,2,"option",17),e.qZA()(),e.TgZ(51,"fieldset")(52,"legend",10),e._uU(53,"Top N Mode:"),e.qZA(),e.TgZ(54,"div",20)(55,"input",21),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE=i}),e.qZA(),e.TgZ(56,"label",22),e._uU(57,"As per Sales Qty"),e.qZA()(),e.TgZ(58,"div",20)(59,"input",23),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE=i}),e.qZA(),e.TgZ(60,"label",22),e._uU(61,"As per Sales Value"),e.qZA()()(),e.TgZ(62,"div",1)(63,"div",24)(64,"label",25),e._uU(65,"Top N Range:"),e.qZA()(),e.TgZ(66,"div",26)(67,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE=i}),e.qZA()()()(),e.TgZ(68,"div",28)(69,"fieldset")(70,"legend",10),e._uU(71,"Report Type Selection:"),e.qZA(),e.TgZ(72,"div",20)(73,"input",29),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(74,"label",22),e._uU(75,"Item Wise Stock Report"),e.qZA()(),e.TgZ(76,"div",20)(77,"input",30),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(78,"label",22),e._uU(79,"Item Group Wise Stock Report"),e.qZA()(),e.TgZ(80,"div",20)(81,"input",31),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE=i}),e.qZA(),e.TgZ(82,"label",22),e._uU(83,"Item Category Wise Stock Report"),e.qZA()()(),e.TgZ(84,"fieldset")(85,"legend"),e._uU(86,"Report Filter Option :"),e.qZA(),e.TgZ(87,"div",8)(88,"div",24)(89,"label",32),e._uU(90,"Item Group :"),e.qZA()(),e.TgZ(91,"div",33)(92,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP=i}),e._UZ(93,"option",19),e.YNc(94,Jb,2,2,"option",17),e.qZA()()(),e.TgZ(95,"div",1)(96,"div",24)(97,"label",32),e._uU(98,"Item Category :"),e.qZA()(),e.TgZ(99,"div",33)(100,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT=i}),e._UZ(101,"option",19),e.YNc(102,qb,2,2,"option",17),e.qZA()()(),e.TgZ(103,"div",1)(104,"div",24)(105,"label",32),e._uU(106,"Item Type :"),e.qZA()(),e.TgZ(107,"div",33)(108,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE=i}),e._UZ(109,"option",34),e.YNc(110,Gb,2,2,"option",17),e.qZA()()(),e.TgZ(111,"div",1)(112,"div",24)(113,"label",32),e._uU(114,"Vat Mode :"),e.qZA()(),e.TgZ(115,"div",33)(116,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE=i}),e._UZ(117,"option",34),e.TgZ(118,"option",35),e._uU(119,"VATABLE "),e.qZA(),e.TgZ(120,"option",36),e._uU(121,"NON VATABLE "),e.qZA()()()(),e.TgZ(122,"div",1)(123,"div",24)(124,"label",32),e._uU(125,"Sales type :"),e.qZA()(),e.TgZ(126,"div",33)(127,"select",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE=i}),e._UZ(128,"option",36),e.TgZ(129,"option",35),e._uU(130,"Retail only "),e.qZA(),e.TgZ(131,"option",37),e._uU(132,"Wholesale only "),e.qZA()()()(),e.TgZ(133,"div",38)(134,"div",24)(135,"label",32),e._uU(136,"Supplier Name :"),e.qZA()(),e.TgZ(137,"div",33)(138,"input",39),e.NdJ("ngModelChange",function(i){return t._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME=i})("keypress",function(i){return t.keyPress(i)})("keydown.Enter",function(i){return t.supplierEnter(i)})("keydown.Tab",function(i){return t.supplierEnter(i)}),e.qZA()()()()()()(),e.TgZ(139,"div",40)(140,"button",41),e.NdJ("click",function(){return t.onload()}),e._uU(141,"RUN"),e.qZA(),e.TgZ(142,"button",42),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(143,"Close"),e.qZA()()()()()(),e.TgZ(144,"generic-popup-grid",43,44),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE1),e.xp6(6),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_DIV),e.xp6(1),e.Q6J("ngIf",0==t.userSetting.UserwiseDivision||t.masterService.showAll),e.xp6(1),e.Q6J("ngForOf",t.divisionList),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_CCENTER),e.xp6(4),e.Q6J("ngForOf",t.costCenterList),e.xp6(5),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNMODE),e.xp6(8),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_TOPNRANGE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_REPORTTYPE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_MGROUP),e.xp6(2),e.Q6J("ngForOf",t.ItemGroupList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_MCAT),e.xp6(2),e.Q6J("ngForOf",t.MCatList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_PTYPE),e.xp6(2),e.Q6J("ngForOf",t.PTypeList),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_VATMODE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_SALESTYPE),e.xp6(11),e.Q6J("ngModel",t._reportFilterService.TopNSalesObj.TopNSalesObj_SUPNAME),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[u.sg,u.O5,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s._,s.JJ,s.On,m.Zl,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),Qb=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[$.c],imports:[u.ez,Se.xc]}),n})();var zb=C(47766);const Kb=["division"];function $b(n,a){if(1&n&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.s9C("value",r.Division),e.xp6(1),e.hij(" ",r.NAME," ")}}let Xb=(()=>{class n{constructor(r,t,o,i,l,c,_,d){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.isActive=!1,this.repObj={reportname:"",reportparam:{DATE1:"",DATE2:"",DIVISION:"",REPORTMODE:"",PHISCALID:""},REPORTDISPLAYNAME:""},this.divisionList=[],this.reportdataEmit=new e.vpe,this.ReportParameters={},this.userSetting=d.getSetting(),this.userProfile=this._authService.getUserProfile(),this.masterService.getDivisionByUser(this._transactionService.userProfile.username).subscribe(p=>{this.divisionList=p});var h=this.userProfile.PhiscalYearInfo.BeginDate;h=h.substring(0,10),this.date2=h,this.masterService.getAccDivList()}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{1!=this._reportFilterService.SalesRevenueMetricsObj.assignPreviousValue&&(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=this.currDate>this.userProfile.PhiscalYearInfo.EndDate?this.userProfile.PhiscalYearInfo.EndDate.split("T")[0]:(new Date).toJSON().split("T")[0],this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION=this.masterService.PhiscalObj.Div,this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE="0"),this.changeEntryDate(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1,"AD"),this.changeEndDate(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2,"AD")})}changeEntryDate(r,t){"AD"==t&&(this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1=this.masterService.toBSDate(r))}changeEndDate(r,t){if("AD"==t)this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=this.masterService.toADDate(r)}}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE1=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1,this.repObj.reportparam.DATE2=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2,this.repObj.reportparam.DIVISION=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION?this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION:"%",this.repObj.reportparam.REPORTMODE=this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE?this._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE:0,this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,console.log(this.repObj),this.repObj.reportname="Sales Revenue Metrics Report",this.repObj.REPORTDISPLAYNAME="Sales Revenue Metrics Report",this._reportFilterService.SalesRevenueMetricsObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["sales-revenue-metrics-report"]],viewQuery:function(r,t){if(1&r&&e.Gf(Kb,5),2&r){let o;e.iGM(o=e.CRH())&&(t.division=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:74,vars:15,consts:[[1,"container"],[1,"row"],[1,"col-12","co-md-12"],[2,"background-color","#ffffff","width","50vw"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"co-md-6"],[1,"modal-title",2,"padding-left","3%","white-space","nowrap"],[1,"col-md-6"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12"],[1,"col-md-6",2,"margin-left","-4%"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","ngModelChange","change"],[1,"form-control","input-text",3,"ngModel","ngModelChange"],["value","%"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","filter-part"],[1,"col-md-8"],[2,"margin-top","2%","margin-bottom","2%"],[1,"col-md-1",2,"margin-left","-20%"],["type","radio","name","reportMode","value","0",3,"ngModel","ngModelChange"],["calss","col"],[2,"white-space","nowrap"],["type","radio","name","reportMode","value","1",3,"ngModel","ngModelChange"],["type","radio","name","reportMode","value","2",3,"ngModel","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"value"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Sales Revenue Metrics Report"),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",9)(14,"div",10)(15,"div",7)(16,"fieldset")(17,"legend",11),e._uU(18,"Date Range Selection : "),e.qZA(),e.TgZ(19,"div",1)(20,"div",12)(21,"div",13)(22,"div")(23,"label"),e._uU(24," From:(AD) "),e.qZA()(),e.TgZ(25,"div")(26,"input",14),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(27,"div")(28,"nepali-date-picker",15),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1=i}),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"label"),e._uU(32," To:(AD) "),e.qZA()(),e.TgZ(33,"div")(34,"input",16),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2=i})("change",function(i){return t.changeEndDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(35,"div")(36,"nepali-date-picker",15),e.NdJ("change",function(i){return t.changeEndDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2=i}),e.qZA()()()()()(),e.TgZ(37,"fieldset")(38,"legend",11),e._uU(39,"Division Selection:"),e.qZA(),e.TgZ(40,"select",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION=i}),e.TgZ(41,"option",18),e._uU(42,"ALL"),e.qZA(),e.YNc(43,$b,2,2,"option",19),e.qZA()()(),e.TgZ(44,"div",20)(45,"fieldset")(46,"legend",11),e._uU(47,"Report Mode :"),e.qZA(),e.TgZ(48,"div",12)(49,"div",21)(50,"div",22)(51,"div",1)(52,"div",23)(53,"input",24),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(54,"div",25)(55,"label",26),e._uU(56,"Daily "),e.qZA()()(),e.TgZ(57,"div",1)(58,"div",23)(59,"input",27),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(60,"div",25)(61,"label",26),e._uU(62,"Weekly"),e.qZA()()(),e.TgZ(63,"div",1)(64,"div",23)(65,"input",28),e.NdJ("ngModelChange",function(i){return t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE=i}),e.qZA()(),e.TgZ(66,"div",25)(67,"label",26),e._uU(68,"Monthly"),e.qZA()()()()()()()()()(),e.TgZ(69,"div",29)(70,"button",30),e.NdJ("click",function(){return t.onload()}),e._uU(71,"RUN"),e.qZA(),e.TgZ(72,"button",31),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(73,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(26),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE1),e.xp6(2),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE1),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DATE2),e.xp6(2),e.Q6J("id","nepaliDateto")("label","From")("ngModel",t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_BSDATE2),e.xp6(4),e.Q6J("ngModel",t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_DIVISION),e.xp6(3),e.Q6J("ngForOf",t.divisionList),e.xp6(10),e.Q6J("ngModel",t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.SalesRevenueMetricsObj.SalesRevMetrics_REPORTMODE))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s._,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}"]}),n})(),eT=(()=>{class n{constructor(r,t,o,i,l,c,_){this.masterService=r,this._transactionService=t,this._reportFilterService=o,this.arouter=i,this._ActivatedRoute=l,this._alertService=c,this._authService=_,this.repObj={reportname:"",reportparam:{DATE:""},REPORTDISPLAYNAME:""},this.reportdataEmit=new e.vpe}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US")}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.DATE=this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1,this.repObj.reportname="Hourly Sales Report",this.repObj.REPORTDISPLAYNAME="Hourly Sales Report",this.reportdataEmit.emit({status:"ok",data:this.repObj})}changeEntryDate(r,t){if("AD"==t)this._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=this.masterService.toBSDate(r);else if("BS"==t){var o=this.masterService.toADDate(r);if(1!=this.masterService.ValidateNepaliDate(o))return void this._alertService.error("Date Exceed to Current Phiscal Year !");this._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=this.masterService.toADDate(r)}}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-hourly-sales-report"]],outputs:{reportdataEmit:"reportdataEmit"},decls:34,vars:6,consts:[[1,"container",2,"width","690px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header","col-md-12",2,"border","0px"],[1,"col-md-6"],[1,"modal-title",2,"padding-left","3%"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"row",2,"margin-top","-2%"],[1,"row","col-md-12",2,"padding-top","2%"],[1,"legend-class"],[1,"row","col-md-12",2,"margin-left","-4%"],[1,"input"],["type","date","placeholder","Year Start Date",1,"date-input","form-control",3,"ngModel","max","min","ngModelChange","change"],["name","nepaliDateFrom",3,"id","label","ngModel","change","ngModelChange"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"h5",6),e._uU(8,"Hourly Sales Report"),e.qZA()(),e.TgZ(9,"div",5)(10,"button",7),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(11,"\xd7"),e.qZA()()()(),e._UZ(12,"hr"),e.TgZ(13,"div",8)(14,"div",9)(15,"fieldset")(16,"legend",10),e._uU(17,"Date Selection : "),e.qZA(),e.TgZ(18,"div",1)(19,"div",11)(20,"div")(21,"label"),e._uU(22," AD: "),e.qZA()(),e.TgZ(23,"div",12)(24,"input",13),e.NdJ("ngModelChange",function(i){return t._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1=i})("change",function(i){return t.changeEntryDate(i.target.value,"AD")}),e.qZA()(),e.TgZ(25,"div",1)(26,"label"),e._uU(27,"BS: "),e.qZA(),e.TgZ(28,"nepali-date-picker",14),e.NdJ("change",function(i){return t.changeEntryDate(i.detail.value,"BS")})("ngModelChange",function(i){return t._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1=i}),e.qZA()()()()()()(),e.TgZ(29,"div",15)(30,"button",16),e.NdJ("click",function(){return t.onload()}),e._uU(31,"RUN"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(33,"Close"),e.qZA()()()()()()),2&r&&(e.xp6(24),e.s9C("max",t.currDate),e.s9C("min",t.date2),e.Q6J("ngModel",t._reportFilterService.HourlySalesReportObj.HourlySalesReport_DATE1),e.xp6(4),e.Q6J("id","nepaliDatefrom")("label","From")("ngModel",t._reportFilterService.HourlySalesReportObj.HourlySalesReport_BSDATE1))},dependencies:[s.Fj,s.JJ,s.On,M.v],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}","label[_ngcontent-%COMP%]{\n        width: 50px;\n    }\n\n    .input[_ngcontent-%COMP%]{\n        width: 168px;\n    }\n\n    hr[_ngcontent-%COMP%]{\n        margin-top: 5px;\n    }"]}),n})();var Ee=C(63746);const tT=["multiselectGenericGrid"],rT=["reportPopup"],iT=["genericGridSupplierPopup"],oT=["genericGridItemPopup"];let nT=(()=>{class n{constructor(r,t,o,i,l,c,_,d,h){this.masterService=r,this._transactionService=t,this.fb=o,this._reportFilterService=i,this.arouter=l,this._ActivatedRoute=c,this._alertService=_,this._authService=d,this.brandService=h,this.reportdataEmit=new e.vpe,this.repObj={reportname:"",reportparam:{MCODE:"%",SUPCODE:"%",PHISCALID:"",DEPT:"",ITEMNAME:"",SUPPLIERNAME:"",ACID:"",DEPTNAME:""},REPORTDISPLAYNAME:""},this.ReportParameters={},this.divisionList=[],this.DeptList=[],this.selectMultiItems=0,this.resultList=[],this.multiselectPopupSettings=new F.oe,this.gridPopupSettingsForSupplier=new m.im,this.gridPopupSettingsForItem=new m.im,this.userSetting=d.getSetting(),this.userProfile=d.getUserProfile();var p=this.userProfile.PhiscalYearInfo.BeginDate;p=p.substring(0,10),this.masterService.getDepartmentList().subscribe(g=>{g&&(this.DeptList=g,console.log("deptlist",g,this.DeptList))})}ngOnInit(){const r=new Date;this.currDate=(0,u.p6)(r,"yyyy-MM-dd","en-US"),this._ActivatedRoute.queryParams.subscribe(t=>{})}closeReportBox(){this.reportdataEmit.emit({status:"Error!",data:this.repObj})}onload(){this.repObj.reportparam.MCODE=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE:"%",this.repObj.reportparam.SUPCODE=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE:"%",this.repObj.reportparam.PHISCALID=this.userProfile.PhiscalYearInfo.PhiscalID,this.repObj.reportparam.ITEMNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM:"",this.repObj.reportparam.SUPPLIERNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER:"",this.repObj.reportparam.DEPT=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT:"",this.repObj.reportparam.DEPTNAME=this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT?this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT:"",""==this.repObj.reportparam.ITEMNAME&&(this.repObj.reportparam.MCODE="%"),""==this.repObj.reportparam.SUPPLIERNAME&&(this.repObj.reportparam.SUPCODE="%"),""==this.repObj.reportparam.DEPTNAME&&(this.repObj.reportparam.DEPT="%"),this.repObj.reportname="REQUISITION APPROVAL REPORT",this.repObj.REPORTDISPLAYNAME="Requisition Approval Report",this._reportFilterService.RequisitionApprovalObj.assignPreviousValue=!0;let t,r=this.arouter.url.split("/");r&&r.length&&(t=r[r.length-1]);let o=this._reportFilterService.previouslyLoadedReportList.findIndex(i=>i.reportname==this.repObj.REPORTDISPLAYNAME);o>=0&&this._reportFilterService.previouslyLoadedReportList.splice(o,1),this._reportFilterService.previouslyLoadedReportList.push({reportname:this.repObj.REPORTDISPLAYNAME,activeurlpath:this.arouter.url,activerurlpath2:t}),this.reportdataEmit.emit({status:"ok",data:this.repObj})}getItemList(){this.gridPopupSettingsForItem=this.masterService.getGenericGridPopUpSettings("ItemsList")}ItemEnterCommand(r){this.getItemList(),this.genericGridItemPopup.show()}keyPress(r){const o=String.fromCharCode(r.charCode);/[\b]/.test(o)||r.preventDefault()}dblClickPopupItem(r){this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_MCODE=r.MCODE,this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM=r.DESCA}customerEnterCommand(r){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier=this.masterService.getGenericGridPopUpSettings("SupplierList")}dblClickPopupParty(r){this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPCODE=r.ACID,this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER=r.ACNAME}selectedValue(r){console.log("selectedValueEvent",r),this._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPARTMENT=r.DepartmentName}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(b.P),e.Y36(v.p),e.Y36(s.qu),e.Y36(A),e.Y36(S.F0),e.Y36(S.gz),e.Y36(R.c),e.Y36(P.e),e.Y36($.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["requisition-approval-report"]],viewQuery:function(r,t){if(1&r&&(e.Gf(tT,5),e.Gf(rT,5),e.Gf(iT,5),e.Gf(oT,5)),2&r){let o;e.iGM(o=e.CRH())&&(t.multiselectGenericGrid=o.first),e.iGM(o=e.CRH())&&(t.reportPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridSupplierPopup=o.first),e.iGM(o=e.CRH())&&(t.genericGridItemPopup=o.first)}},inputs:{reportType:"reportType"},outputs:{reportdataEmit:"reportdataEmit"},decls:40,vars:8,consts:[[1,"container",2,"width","690px"],[1,"row"],[1,"col-12","col-md-12"],[2,"background-color","#ffffff"],[1,"modal-header",2,"border","0px","padding-top","20px"],[1,"col-md-10"],[1,"modal-title"],[1,"col-md-2"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],[1,"form-wrapper",2,"padding","17px"],[1,"row",2,"margin-top","-1%"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Item List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[2,"margin-left","-10%","width","100%"],["type","text","placeholder","Press Enter or Tab for Account List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"col",2,"display","flex","align-items","center"],[2,"width","100%","margin-left","4%",3,"options","labelKey","valueKey","ngModel","selectOption","ngModelChange","change"],[1,"modal-footer",2,"width","97%","margin","0px auto"],["type","button",1,"btn","btn-info","confirm-btn",3,"click"],["type","button","title","Cancel",1,"btn","btn-info",3,"click"],[3,"popupsettings","onItemDoubleClick"],["genericGridItemPopup",""],["genericGridSupplierPopup",""]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Requisition Approval Report"),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(10,"\xd7"),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"Item Name:"),e.qZA()(),e.TgZ(17,"div",14)(18,"input",15),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM=i})("keydown.enter",function(i){return t.ItemEnterCommand(i)})("keydown.Tab",function(i){return t.ItemEnterCommand(i)})("keyup",function(i){return t.ItemEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(19,"div",1)(20,"div",12)(21,"label",16),e._uU(22,"Supplier Name:"),e.qZA()(),e.TgZ(23,"div",14)(24,"input",17),e.NdJ("ngModelChange",function(i){return t._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER=i})("keydown.enter",function(i){return t.customerEnterCommand(i)})("keydown.Tab",function(i){return t.customerEnterCommand(i)})("keyup",function(i){return t.customerEnterCommand(i)})("keypress",function(i){return t.keyPress(i)}),e.qZA()()(),e.TgZ(25,"div",1)(26,"div",12)(27,"label",13),e._uU(28,"Department Name:"),e.qZA()(),e.TgZ(29,"div",18)(30,"app-simple-suggest",19),e.NdJ("selectOption",function(i){return t.selectedValue(i)})("ngModelChange",function(i){return t._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT=i})("change",function(i){return t.selectedValue(i)}),e.qZA()()()()(),e.TgZ(31,"div",20)(32,"button",21),e.NdJ("click",function(){return t.onload()}),e._uU(33,"RUN"),e.qZA(),e.TgZ(34,"button",22),e.NdJ("click",function(){return t.closeReportBox()}),e._uU(35,"Close"),e.qZA()()()()()(),e.TgZ(36,"generic-popup-grid",23,24),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupItem(i)}),e.qZA(),e.TgZ(38,"generic-popup-grid",23,25),e.NdJ("onItemDoubleClick",function(i){return t.dblClickPopupParty(i)}),e.qZA()),2&r&&(e.xp6(18),e.Q6J("ngModel",t._reportFilterService.RequisitionApprovalObj.RequisitionApproval_ITEM),e.xp6(6),e.Q6J("ngModel",t._reportFilterService.RequisitionApprovalObj.RequisitionApproval_SUPPLIER),e.xp6(6),e.Q6J("options",t.DeptList)("labelKey","DepartmentName")("valueKey","DepartmentName")("ngModel",t._reportFilterService.RequisitionApprovalObj.RequisitionApproval_DEPT),e.xp6(6),e.Q6J("popupsettings",t.gridPopupSettingsForItem),e.xp6(2),e.Q6J("popupsettings",t.gridPopupSettingsForSupplier))},dependencies:[s.Fj,s.JJ,s.On,m.Zl,K.c],styles:["th[_ngcontent-%COMP%]{background:skyblue;border:1px solid #dbd7d7}td[_ngcontent-%COMP%]{height:30px;border:1px solid #dbd7d7}.borderdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15)}.rowdiv[_ngcontent-%COMP%]{border:1px solid rgba(119,119,119,.15);text-align:center}.smalllabeldiv[_ngcontent-%COMP%]{height:16px}.smallHeader[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0}.scrolldiv[_ngcontent-%COMP%]{max-height:75px;padding-right:30px;overflow:auto;scrollbar-3dlight-color:#ffffff;scrollbar-arrow-color:#000000;scrollbar-base-color:#ff9999;scrollbar-darkshadow-color:#000000;scrollbar-face-color:#000000;scrollbar-highlight-color:#000000;scrollbar-shadow-color:#0033cc}.multiboxspan[_ngcontent-%COMP%]{font-size:11px;font-weight:700;position:relative;float:left;display:block;margin:2px;border:1px solid silver;border-radius:5px;background-color:#fff0f5}.smallBoldLabel[_ngcontent-%COMP%]{font-size:11px;font-weight:700;margin:0;float:left;color:#222}.table-container[_ngcontent-%COMP%]{height:83vh}table[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:95%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(100% - .9em)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{flex:1 1 auto;display:block;overflow-y:scroll}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:99.6%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;table-layout:fixed}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.reportTabel[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#abdcfb!important;color:#fff}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.reportTabel[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fff}legend[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#222;width:auto}fieldset[_ngcontent-%COMP%]{margin-bottom:1%;border:1px solid #dbd7d7}.action-btn[_ngcontent-%COMP%]{width:80%;height:80%;display:block;margin:0 auto;background-color:inherit;border:none}.input-text[_ngcontent-%COMP%]{width:95%;margin-left:4%;margin-top:2%;margin-bottom:2%;height:30px!important;font-size:12px}.td-class[_ngcontent-%COMP%]{border:none!important}.date-input[_ngcontent-%COMP%]{width:110%;font-size:12px!important;height:30px!important;margin-bottom:3%}.legend-class[_ngcontent-%COMP%]{font-size:13px;font-weight:700;width:auto;margin-bottom:-4px}.close[_ngcontent-%COMP%]{padding:5px;margin:0}.ageing[_ngcontent-%COMP%]{width:15%;float:left;margin-right:5%;font-weight:700;font-size:14px!important}.division-input[_ngcontent-%COMP%]{font-size:11px}","input[_ngcontent-%COMP%]{\n        font-size: 13px !important;\n    }\n    select[_ngcontent-%COMP%]{\n        font-size: 13px !important;\n\n    }\n    label[_ngcontent-%COMP%] {\n    width: auto !important;\n    margin: 2px;\n    font-size: 13px !important;\n    padding-top: 0 !important;\n}\n.form-wrapper[_ngcontent-%COMP%]{\n    padding: 10px;\n}"]}),n})(),aT=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[T.C,v.p,A,{provide:de.TP,useClass:Ee.zu,multi:!0},{provide:de.TP,useClass:Ee.aQ,multi:!0}],imports:[Gn,he.zk.forRoot(),ue.JX,Wa.m,U.n1.forRoot(),L.Is,s.u5,s.UX,Kc._.forRoot(),Wh.AngularMultiSelectModule,Uh.J,hO.i.forRoot(),Qb.forRoot(),zb.e,W.Z,D.l6,D._7,D.ZS,D.Bj,D.Hb,D.gX,ae.Jo,Mr]}),n})();e.B6R(me,function(){return[u.O5,Kn,ea,zn,ia,aa,sa,ca,ha,Sa,ba,fa,Pa,Ea,Na,ka,ja,wa,xa,Ba,qa,Qa,Ka,Xa,Ss,Es,ws,Ic,Hs,Cl,cb,Fl,up,Dp,Yp,Gl,Xp,hc,fc,jc,zc,Uc,E_,nT,K_,sd,_d,hd,Od,Rd,Ld,zd,lh,Th,wh,xh,au,cu,Su,Pu,ku,Lu,Xu,og,pg,fg,Eg,HO,Gg,rS,pS,VS,gS,vS,ES,FS,KS,um,Cm,Im,wm,Vm,Rb,Gm,$m,lO,oO,dO,OO,CO,DO,FO,BO,KO,fb,Zb,Hb,Xb,eT]},[])},72661:(re,Z,C)=>{C.d(Z,{c:()=>le});var S=C(79765),e=C(88002),V=C(78345),L=C(92340),G=C(64537),x=C(35732),ne=C(67297),ie=C(71180);let le=(()=>{class Q{constructor(y,w,k){this.http=y,this.authService=w,this.state=k,this._brandTree=[]}get apiUrl(){let y=L.N.apiUrl,w="";return!!y&&y.length>0&&(w=y),w}getBrand(y){let w={status:"error",result:""},k=new S.xQ;return this.http.post(this.apiUrl+"/getBrand",{mode:"query",data:{BID:y}}).subscribe(B=>{k.next(B),k.unsubscribe()},B=>{w.status="error",w.result=B,k.next(w),k.unsubscribe()}),k}getParentbrandList(){return this.http.get(this.apiUrl+"/getAllBrandParentList")}getBrandTypeList(){return this.http.get(this.apiUrl+"/getAllBrandCategoryList")}getProductBrandParent(y){let w={status:"error",result:""},k=new S.xQ;return this.http.post(this.apiUrl+"/getAllBrandParentList",{mode:"query",data:{BID:y}}).subscribe(B=>{k.next(B),k.unsubscribe()},B=>{w.status="error",w.result=B,k.next(w),k.unsubscribe()}),k}getProductBrandLevel(y){let w={status:"error",result:""},k=new S.xQ;return this.http.post(this.apiUrl+"/getAllBrandLevelList",{mode:"query",data:{BID:y}}).subscribe(B=>{k.next(B),k.unsubscribe()},B=>{w.status="error",w.result=B,k.next(w),k.unsubscribe()}),k}getBrandTree(){this.getBrandTreeObservable=null;var y=[];return this.getBrandTreeObservable=this.http.get(this.apiUrl+"/getProductGroupTree").pipe((0,e.U)(w=>(this.getBrandTreeObservable=null,y.push(w),this._brandTree=y,y)),(0,V.B)()),this.getBrandTreeObservable}getBrandTreeAsset(){this.getBrandTreeObservable=null;var y=[];return this.getBrandTreeObservable=this.http.get(this.apiUrl+"/getAssetProductGroupTree").pipe((0,e.U)(w=>(this.getBrandTreeObservable=null,y.push(w),this._brandTree=y,y)),(0,V.B)()),this.getBrandTreeObservable}}return Q.\u0275fac=function(y){return new(y||Q)(G.LFG(x.eN),G.LFG(ne.e),G.LFG(ie.q))},Q.\u0275prov=G.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()}}]);