"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[63],{62106:(O,m,s)=>{s.d(m,{A:()=>_});var t=s(46543),d=s(64537);let _=(()=>{class l{}return l.\u0275fac=function(f){return new(f||l)},l.\u0275mod=d.oAB({type:l}),l.\u0275inj=d.cJS({imports:[t.m]}),l})()},49137:(O,m,s)=>{s.d(m,{C:()=>d});var t=s(64537);let d=(()=>{class _{transform(h,f,T){if(h)return f?h.filter(b=>{let v=b[T];const x=f.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(v?v.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(x))return b}):h}}return _.\u0275fac=function(h){return new(h||_)},_.\u0275pipe=t.Yjl({name:"searchData",type:_,pure:!1}),_})()},8577:(O,m,s)=>{s.d(m,{O:()=>lt});var t=s(64537),d=s(88692),_=s(20092),l=s(53074),h=s(87584),f=s(67311),T=s(14970),b=s(7976),v=s(67297),x=s(74417),P=s(31722),g=s(49137);function Z(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"label",17),t._uU(2,"Type: "),t.qZA(),t.TgZ(3,"select",18),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.requisitionType=o)})("change",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onChangeReqType(o.target.value))}),t.TgZ(4,"option",19),t._uU(5,"Open"),t.qZA(),t.TgZ(6,"option",20),t._uU(7,"Approve"),t.qZA(),t.TgZ(8,"option",21),t._uU(9,"Intransit"),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngModel",e.requisitionType)}}function M(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",22)(1,"label",23),t._uU(2,"Division: "),t.qZA(),t.TgZ(3,"app-simple-suggest",24),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.division=o)})("selectOption",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onChangeDivision(o))}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("options",e.divisionList)("labelKey","NAME")("valueKey","INITIAL")("ngModel",e.division)}}function q(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"label",23),t._uU(2,"Supplier: "),t.qZA(),t.TgZ(3,"app-simple-suggest",26),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.filter=o)})("selectOption",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onChangeSupplier(o))}),t.qZA(),t.TgZ(4,"input",27),t.NdJ("change",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.Change())})("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.checkAllSupplier=o)}),t.qZA(),t.TgZ(5,"label",28),t._uU(6,"All Supplier"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("options",e.supplierList)("labelKey","ACNAME")("valueKey","ACID")("ngModel",e.filter),t.xp6(1),t.Q6J("ngModel",e.checkAllSupplier)}}function w(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",22)(1,"label"),t._uU(2,"Department: "),t.qZA(),t.TgZ(3,"app-simple-suggest",29),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.department=o)})("selectOption",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onChangeDepartment())}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("options",e.masterService.departmentList)("labelKey","DepartmentName")("valueKey","ID")("ngModel",e.department)}}function E(i,a){1&i&&(t.TgZ(0,"th",38),t._uU(1,"Supplier"),t.qZA())}function I(i,a){if(1&i&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.SUPNAME)}}function U(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.TOTOP_CASE)}}function R(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.TOTOP_QTY)}}function L(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.TOTAPP_CASE)}}function y(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.TOTAPP_QTY)}}function S(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.INT_CASE)}}function N(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.INT_QTY)}}function Y(i,a){if(1&i&&(t.ynx(0),t.YNc(1,U,2,1,"td",45),t.YNc(2,R,2,1,"td",45),t.YNc(3,L,2,1,"td",45),t.YNc(4,y,2,1,"td",45),t.YNc(5,S,2,1,"td",45),t.YNc(6,N,2,1,"td",45),t.BQk()),2&i){const e=t.oxw(5);t.xp6(1),t.Q6J("ngIf","open"==e.requisitionType),t.xp6(1),t.Q6J("ngIf","open"==e.requisitionType),t.xp6(1),t.Q6J("ngIf","approve"==e.requisitionType),t.xp6(1),t.Q6J("ngIf","approve"==e.requisitionType),t.xp6(1),t.Q6J("ngIf","intransit"==e.requisitionType),t.xp6(1),t.Q6J("ngIf","intransit"==e.requisitionType)}}function k(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.TOTOP_CASE)}}function Q(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.TOTOP_QTY)}}function J(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.TOTAPP_CASE)}}function K(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.TOTAPP_QTY)}}function B(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.TOTEX_CASE)}}function W(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.TOTEX_QTY)}}function V(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.CLS_QTY)}}function F(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"tr",40)(2,"td",41),t._uU(3),t.qZA(),t.TgZ(4,"td",42),t._uU(5),t.qZA(),t.TgZ(6,"td",43),t._uU(7),t.qZA(),t.YNc(8,I,2,1,"td",44),t.YNc(9,Y,7,6,"ng-container",37),t.YNc(10,k,2,1,"td",45),t.YNc(11,Q,2,1,"td",45),t.YNc(12,J,2,1,"td",45),t.YNc(13,K,2,1,"td",45),t.YNc(14,B,2,1,"td",45),t.YNc(15,W,2,1,"td",45),t.YNc(16,V,2,1,"td",45),t.qZA(),t._UZ(17,"hr"),t.BQk()),2&i){const e=a.$implicit,n=a.index,o=t.oxw(4);t.xp6(3),t.Oqu(n+1),t.xp6(2),t.Oqu(e.ITEMCODE),t.xp6(2),t.Oqu(e.ITEMDESC),t.xp6(1),t.Q6J("ngIf","Open Requisition Detail"==o.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Requisition Status"==o.DashboardTitle||"Branch Wise Requisition Data"==o.DashboardTitle||"Department Wise Requisition Data"==o.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Open Requisition Detail"==o.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Open Requisition Detail"==o.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Approved Requisition Detail"==o.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Approved Requisition Detail"==o.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Total Excess Detail"==o.DashboardTitle||"Total Shortage Detail"==o.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Total Excess Detail"==o.DashboardTitle||"Total Shortage Detail"==o.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Closed Requisition Detail"==o.DashboardTitle)}}function H(i,a){if(1&i&&(t.ynx(0),t.YNc(1,F,18,12,"ng-container",39),t.ALo(2,"searchData"),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("cdkVirtualForOf",t.Dn7(2,1,e.dashboardDetailList,e.filter,"ACID"))}}function z(i,a){1&i&&(t.ynx(0),t.TgZ(1,"tr",48)(2,"td",49)(3,"div",50),t._uU(4,"Data unavailable."),t.qZA()()(),t.BQk())}function $(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"cdk-virtual-scroll-viewport",30)(2,"table",31)(3,"thead")(4,"tr")(5,"th",32),t._uU(6,"S.No"),t.qZA(),t.TgZ(7,"th",33),t._uU(8,"Item Code"),t.qZA(),t.TgZ(9,"th",34),t._uU(10,"Item Description"),t.qZA(),t.YNc(11,E,2,0,"th",35),t.TgZ(12,"th",36),t._uU(13,"Quantity"),t._UZ(14,"br"),t._uU(15,"(Case)"),t.qZA(),t.TgZ(16,"th",36),t._uU(17,"Quantity"),t._UZ(18,"br"),t._uU(19,"(Base Unit)"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,H,3,5,"ng-container",37),t.YNc(22,z,5,0,"ng-container",37),t.ALo(23,"searchData"),t.qZA()()(),t.BQk()),2&i){const e=t.oxw(2);let n;t.xp6(1),t.Q6J("itemSize",25),t.xp6(10),t.Q6J("ngIf","Open Requisition Detail"==e.DashboardTitle),t.xp6(10),t.Q6J("ngIf",e.dashboardDetailList&&(null==e.dashboardDetailList?null:e.dashboardDetailList.length)>0),t.xp6(1),t.Q6J("ngIf",e.dashboardDetailList&&0===(null==(n=t.Dn7(23,4,e.dashboardDetailList,e.filter,"ACID"))?null:n.length))}}function G(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"td",65),t._uU(2),t.qZA(),t.TgZ(3,"td",56),t._uU(4),t.qZA(),t.TgZ(5,"td",66),t._uU(6),t.qZA(),t.TgZ(7,"td",67),t._uU(8),t.qZA(),t.TgZ(9,"td",67),t._uU(10),t.qZA()()),2&i){const e=a.$implicit,n=a.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.ITEMCODE),t.xp6(2),t.Oqu(e.ITEMDESC),t.xp6(2),t.Oqu(e.REALQTY_IN_CASE),t.xp6(2),t.Oqu(e.REALQTY_IN)}}function X(i,a){if(1&i&&(t.TgZ(0,"div",60)(1,"tr",61)(2,"th",62),t._uU(3,"S.No"),t.qZA(),t.TgZ(4,"th",52),t._uU(5,"Item Code"),t.qZA(),t.TgZ(6,"th",63),t._uU(7,"Item Description"),t.qZA(),t.TgZ(8,"th",36),t._uU(9,"Quantity"),t._UZ(10,"br"),t._uU(11,"(Case)"),t.qZA(),t.TgZ(12,"th",36),t._uU(13,"Quantity"),t._UZ(14,"br"),t._uU(15,"(Base Unit)"),t.qZA()(),t.YNc(16,G,11,5,"tr",64),t.qZA()),2&i){const e=t.oxw(5);t.xp6(16),t.Q6J("ngForOf",e.intransitDataDetails)}}function j(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",54),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.onIntransitVCHRclick(r))}),t.TgZ(2,"td",55),t._uU(3),t.qZA(),t.TgZ(4,"td",56),t._uU(5),t.qZA(),t.TgZ(6,"td",57),t._uU(7),t.qZA(),t.TgZ(8,"td",56),t._uU(9),t.qZA(),t.TgZ(10,"td",56),t._uU(11),t.qZA(),t.TgZ(12,"td",58),t._uU(13),t.qZA()(),t._UZ(14,"hr"),t.YNc(15,X,17,1,"div",59),t.BQk()}if(2&i){const e=a.$implicit,n=a.index,o=t.oxw(4);t.xp6(3),t.Oqu(n+1),t.xp6(2),t.Oqu(e.VCHRNO),t.xp6(2),t.Oqu(e.DRIVERNAME),t.xp6(2),t.Oqu(e.DRIVERLISCENSENO),t.xp6(2),t.Oqu(e.VEHICLENO),t.xp6(2),t.Oqu(e.VCTS),t.xp6(2),t.Q6J("ngIf",(null==o.intransitVoucherDetail?null:o.intransitVoucherDetail.VCHRNO)==e.VCHRNO)}}function tt(i,a){if(1&i&&(t.ynx(0),t.YNc(1,j,16,7,"ng-container",39),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("cdkVirtualForOf",e.intransitData)}}function et(i,a){if(1&i&&(t.TgZ(0,"cdk-virtual-scroll-viewport",30)(1,"table",31)(2,"thead")(3,"tr")(4,"th",51),t._uU(5,"S.No"),t.qZA(),t.TgZ(6,"th",52),t._uU(7,"Voucher No."),t.qZA(),t.TgZ(8,"th",53),t._uU(9,"Driver Name"),t.qZA(),t.TgZ(10,"th",52),t._uU(11,"Driver Liscense No."),t.qZA(),t.TgZ(12,"th",52),t._uU(13,"Vehicle No."),t.qZA(),t.TgZ(14,"th",32),t._uU(15,"VCTS"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,tt,2,1,"ng-container",37),t.qZA()()()),2&i){const e=t.oxw(2);t.Q6J("itemSize",25),t.xp6(17),t.Q6J("ngIf",e.intransitData&&(null==e.intransitData?null:e.intransitData.length)>0)}}const it=function(){return{"background-color":"#69cf70",color:"white"}},nt=function(){return{"background-color":"#6cbeda",color:"white"}},ot=function(){return{"background-color":"#64cf8b",color:"white"}},at=function(){return{"background-color":"#943636",color:"white"}},st=function(){return{"background-color":"#888811",color:"white"}},rt=function(){return{"background-color":"#c64329",color:"white"}};function _t(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5"),t._uU(6),t.qZA()(),t.TgZ(7,"div",6)(8,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeDialog())}),t.TgZ(9,"span",8),t._uU(10,"\xd7"),t.qZA()()()()(),t.TgZ(11,"div")(12,"div",9)(13,"div",10),t.YNc(14,Z,10,1,"div",11),t.YNc(15,M,4,4,"div",12),t.YNc(16,q,7,5,"div",13),t.YNc(17,w,4,4,"div",12),t.qZA(),t.YNc(18,$,24,8,"ng-container",14),t.YNc(19,et,18,2,"ng-template",null,15,t.W1O),t.qZA()()()()}if(2&i){const e=t.MAs(20),n=t.oxw();t.xp6(2),t.Q6J("ngStyle",("Open Requisition Detail"==n.DashboardTitle?t.DdM(8,it):null)||("Approved Requisition Detail"==n.DashboardTitle?t.DdM(9,nt):null)||("Total Excess Detail"==n.DashboardTitle?t.DdM(10,ot):null)||("Total Shortage Detail"==n.DashboardTitle?t.DdM(11,at):null)||("Intransit Requisition Detail"==n.DashboardTitle?t.DdM(12,st):null)||("Closed Requisition Detail"==n.DashboardTitle?t.DdM(13,rt):null)),t.xp6(4),t.Oqu(n.DashboardTitle),t.xp6(8),t.Q6J("ngIf","Requisition Status"==n.DashboardTitle||"Branch Wise Requisition Data"==n.DashboardTitle&&"CentralRqDashboard"==n.activeurlpath||"Department Wise Requisition Data"==n.DashboardTitle&&"BranchwiseRqDashboard"==n.activeurlpath),t.xp6(1),t.Q6J("ngIf","Branch Wise Requisition Data"==n.DashboardTitle&&"CentralRqDashboard"==n.activeurlpath),t.xp6(1),t.Q6J("ngIf","Open Requisition Detail"==n.DashboardTitle),t.xp6(1),t.Q6J("ngIf","Department Wise Requisition Data"==n.DashboardTitle&&"BranchwiseRqDashboard"==n.activeurlpath),t.xp6(1),t.Q6J("ngIf","Intransit Requisition Detail"!=n.DashboardTitle)("ngIfElse",e)}}let lt=(()=>{class i{constructor(e,n,o,r,c,D,p,u,C){this.fb=e,this.masterService=n,this._trnMainService=o,this.alertService=r,this.spinnerService=c,this.arouter=D,this.authService=p,this.location=u,this.changeDetectorRef=C,this.okClicked=new t.vpe,this.isActive=!1,this.userProfile={},this.divisionList=[],this.DashboardTitle="",this.dashboardDetailList=[],this.supplierList=[],this.dashboardDetailList1=[],this.dashboardDetailList2=[],this.dashboardDetailList3=[],this.intransitData=[],this.intransitDataDetails=[],this.department=0,this.checkAllSupplier=!0,this.intransitVoucherDetail=[],this.requisitionType="open",this.masterService.getAllDivisionList().subscribe(A=>{this.divisionList=A,this.divisionList.splice(0,0,{INITIAL:"",NAME:"All"}),console.log("division",this.divisionList),this.division=this.divisionList[0]?.NAME}),this.masterService.getAllSuppliersForDashboard().subscribe(A=>{this.supplierList=A.result});const ct=new Date;this.userProfile=this.authService.getUserProfile(),this.Currdate=(0,d.p6)(ct,"yyy-MM-dd","en-US"),this.activeurlpath=this.location.path().split("/").pop(),this.department=this.masterService.departmentList[0]?.DepartmentName}ngOnInit(){}closeDialog(){this.isActive=!1,this.dashboardDetailList=[],this.dashboardDetailList1=[],this.dashboardDetailList2=[],this.dashboardDetailList3=[]}show(e,n,o,r,c){return this.isActive=!0,this.DashboardTitle=e,"Requisition Status"==e&&(this.requisitionType="open"),"Branch Wise Requisition Data"==e&&"CentralRqDashboard"==this.activeurlpath?(this.division="",this.branchWiseReqEventDetails(""),void(this.division="All")):"Department Wise Requisition Data"==e&&"BranchwiseRqDashboard"==this.activeurlpath?(this.department=0,this.departmentWiseReqEventDetails(0),void(this.department="All")):"Intransit Requisition Detail"==e?(console.log("ya kk aaucha herum hai",n,o,r,c),this.department=o,this.division=r,this.insideOutside=c,void this.intransitDetail(n)):(this.dashboardDetailList1=n,this.dashboardDetailList2=o,this.dashboardDetailList3=r,this.spinnerService.show("Loading..."),void(n?.length>0?(this.dashboardDetailList=n,this.spinnerService.hide()):this.spinnerService.hide()))}intransitDetail(e){this.intransitData=e}onIntransitVCHRclick(e){(0==this.intransitVoucherDetail?.length||e.VCHRNO!=this.intransitVoucherDetail?.VCHRNO)&&(this.spinnerService.show("Loading..."),this.intransitDataDetails=[],this.intransitVoucherDetail=e,"CentralRqDashboard"==this.activeurlpath?this.masterService.getCentralDashboardIntransitData(this.Currdate,this.division,this.userProfile.PhiscalYearInfo.PhiscalID,this.insideOutside,this.department,!0,e.VCHRNO).subscribe(n=>{"ok"==n.status&&(this.spinnerService.hide(),this.intransitDataDetails=n.result)},n=>{this.spinnerService.hide(),this.alertService.error(n.error)}):"BranchwiseRqDashboard"==this.activeurlpath&&this.masterService.getBranchDashboardIntransitData(this.Currdate,this.division,this.userProfile.PhiscalYearInfo.PhiscalID,this.department,!0,e.VCHRNO).subscribe(n=>{"ok"==n.status&&(this.spinnerService.hide(),this.intransitDataDetails=n.result)},n=>{this.spinnerService.hide(),this.alertService.error(n.error)}))}onChangeReqType(e){"approve"==e?this.dashboardDetailList=this.dashboardDetailList2:"intransit"==e?this.dashboardDetailList=this.dashboardDetailList3:"open"==e&&(this.dashboardDetailList=this.dashboardDetailList1),this.changeDetectorRef.detectChanges()}departmentWiseReqEventDetails(e){let o,r,c;this.spinnerService.show("Loading..."),this.changeDetectorRef.detectChanges(),this.masterService.getDashboardApprovedRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,!1,e,2,!0).subscribe(D=>{"ok"==D.status&&(o=D.result,this.masterService.getBranchDashboardIntransitItemDetails(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,e).subscribe(p=>{"ok"==p.status&&(r=p.result,this.masterService.getDashboardOpenRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,!1,e,2,!0).subscribe(u=>{"ok"==u.status&&(this.spinnerService.hide(),c=u.result,this.dashboardDetailList=c,this.dashboardDetailList1=c,this.dashboardDetailList2=o,this.dashboardDetailList3=r,this.onChangeReqType(this.requisitionType))},u=>{this.alertService.error(u.error)}))},p=>{this.alertService.error(p.error)}))},D=>{this.alertService.error(D.error)})}onChangeSupplier(e){(null!=this.filter||""!=this.filter)&&(this.checkAllSupplier=!1)}branchWiseReqEventDetails(e){let r,c,D;this.spinnerService.show("Loading..."),this.changeDetectorRef.detectChanges(),this.masterService.getCentralDashboardNonVoucherIntransitData(this.Currdate,e,this.userProfile.PhiscalYearInfo.PhiscalID,2,0).subscribe(p=>{console.log("intransit ko data ma k aaucha - 1",p.result),"ok"==p.status&&(c=p.result,console.log("intransit ko data ma k aaucha",p.result),this.masterService.getDashboardApprovedRequisitionData(this.Currdate,e,this.userProfile.PhiscalYearInfo.PhiscalID,!0,0,2,!0).subscribe(u=>{"ok"==u.status&&(r=u.result,this.masterService.getDashboardOpenRequisitionData(this.Currdate,e,this.userProfile.PhiscalYearInfo.PhiscalID,!0,0,2,!0).subscribe(C=>{"ok"==C.status&&(this.spinnerService.hide(),D=C.result,this.dashboardDetailList=D,this.dashboardDetailList1=D,this.dashboardDetailList2=r,this.dashboardDetailList3=c,this.onChangeReqType(this.requisitionType))},C=>{this.alertService.error(C.error)}))},u=>{this.alertService.error(u.error)}))},p=>{this.alertService.error(p.error)})}onChangeDivision(e){this.branchWiseReqEventDetails(this.division)}onChangeDepartment(){this.departmentWiseReqEventDetails(this.department)}hide(){this.isActive=!1,this.dashboardDetailList=[]}Change(){this.checkAllSupplier&&(this.filter="",this.dashboardDetailList=this.dashboardDetailList1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.qu),t.Y36(l.P),t.Y36(h.p),t.Y36(f.c),t.Y36(T.V),t.Y36(b.gz),t.Y36(v.e),t.Y36(d.Ye),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["dashboard-detail-popup"]],outputs:{okClicked:"okClicked"},decls:1,vars:1,consts:[["class","dashboard-details-container",4,"ngIf"],[1,"dashboard-details-container"],[1,"card"],[1,"card-header",3,"ngStyle"],[1,"row"],[1,"col-md-8"],[1,"col-md-4"],["aria-label","Close",1,"close","pull-right",2,"margin-bottom","5px","margin-left","40vw",3,"click"],["aria-hidden","true"],[1,"modal-sticky"],[1,"row","mb-3",2,"margin-top","6px"],["class","col-lg-7",4,"ngIf"],["class","row col-lg-5",4,"ngIf"],["class","row col-lg-8",4,"ngIf"],[4,"ngIf","ngIfElse"],["intransit",""],[1,"col-lg-7"],[2,"width","39px","height","18px"],[2,"width","123px","height","30px","border-radius","5px",3,"ngModel","ngModelChange","change"],["value","open"],["value","approve"],["value","intransit"],[1,"row","col-lg-5"],[2,"width","58px","height","18px"],["id","divisionPopup",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[1,"row","col-lg-8"],["id","supplierFilter",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],["type","checkbox",2,"margin-left","21px","margin-top","2px",3,"ngModel","change","ngModelChange"],[2,"font-size","12px"],["id","departmentFilter",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[3,"itemSize"],[2,"width","100%"],["scope","col",2,"width","10%"],["scope","col",2,"width","15%"],["scope","col",2,"width","60%"],["scope","col","style","width: 35%;",4,"ngIf"],["scope","col",2,"width","15%","text-align","center"],[4,"ngIf"],["scope","col",2,"width","35%"],[4,"cdkVirtualFor","cdkVirtualForOf"],[2,"width","100%","line-height","25px"],["scope","row",1,"tblCol",2,"width","10%"],[1,"tblCol",2,"width","15%"],[1,"tblCol",2,"width","65%"],["class","tblCol","style","width: 40%;font-size: 11px;left:0px",4,"ngIf"],["class","qtyCol",4,"ngIf"],[1,"tblCol",2,"width","40%","font-size","11px","left","0px"],[1,"qtyCol"],[1,"noData"],["colspan","3"],[1,"font-weight-bold"],["scope","col",2,"width","5%"],["scope","col",2,"width","20%"],["scope","col",2,"width","25%"],["data-toggle","collapse","data-target","#accordion",1,"clickable","collapse-body",2,"width","100%","line-height","22px",3,"click"],["scope","row",2,"width","5%"],[2,"width","20%"],[2,"width","25%"],[2,"width","10%"],["id","accordion","class","collapse collapse-table mx-auto",4,"ngIf"],["id","accordion",1,"collapse","collapse-table","mx-auto"],[2,"border-bottom","1px solid #ebebeb","position","sticky","top","0","background","white"],["scope","col",1,"first-row",2,"width","10%"],["scope","col",2,"width","55%"],[4,"ngFor","ngForOf"],["scope","row",1,"first-row",2,"width","10%"],[2,"width","55%"],[2,"width","15%","text-align","center"]],template:function(e,n){1&e&&t.YNc(0,_t,21,14,"div",0),2&e&&t.Q6J("ngIf",n.isActive)},dependencies:[d.sg,d.O5,d.PC,_.YN,_.Kr,_.Wl,_.EJ,_.JJ,_.On,x.xd,x.x0,x.N7,P.c,g.C],styles:[".dashboard-details-container[_ngcontent-%COMP%]{position:fixed!important;transform:translate(-50px,-50px);background:#ffffff;z-index:99999;width:60%;top:20%;left:23.5vw}.page-title[_ngcontent-%COMP%]{text-align:center}.form-control[_ngcontent-%COMP%]{font-size:12px;height:25px}.form-control[_ngcontent-%COMP%]:focus{border:2px solid #6aafd6}.button-group[_ngcontent-%COMP%]{position:absolute;right:3%;top:3%}.card[_ngcontent-%COMP%]{height:75vh;width:60vw;box-shadow:#0000003d 0 3px 8px}.number-button[_ngcontent-%COMP%]{border:1px solid black;width:65px}.large-button[_ngcontent-%COMP%]{border:1px solid black;width:100%}.fieldset-class[_ngcontent-%COMP%]{background:#f7f7f7;margin-right:-40px;margin-left:-35px;margin-top:12px;height:25rem;border:2px solid #999999}.payment-button[_ngcontent-%COMP%]{width:8em;margin-left:-45px;background-color:#fff;border-color:#117a8b;font-size:15px;color:#138496;transition-duration:.3s}.payment-button[_ngcontent-%COMP%]:hover, .clickedbutton[_ngcontent-%COMP%]{background-color:#138496;border-color:#117a8b;color:#fff}.table-class[_ngcontent-%COMP%]{height:10px;overflow-y:scroll;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:14px}.bodytable[_ngcontent-%COMP%]{display:block;height:15rem;overflow-y:scroll;overflow-x:hidden}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#ececec}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e1eaea}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:14px;line-height:18px;color:#000;width:101%;height:50px;background:#EBF1FB;display:inline-flex;padding:10px 5px}.amountLabel[_ngcontent-%COMP%]{font-weight:700;font-size:16px;width:auto}.amountValue[_ngcontent-%COMP%]{width:auto;font-size:16px;color:#8b0000;font-weight:700}.totalLabel[_ngcontent-%COMP%]{font-weight:700}.totalValue[_ngcontent-%COMP%]{text-align:right;padding-right:7px;font-weight:700}.total[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:7px;padding-right:10px}.modal-sticky[_ngcontent-%COMP%]{width:55vw;right:0;left:28px;margin-left:2%;bottom:30px}h5[_ngcontent-%COMP%]{text-decoration:underline}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;width:55vw;height:52vh;border:1px solid #CFCFCF}  #divisionPopup input{width:181px;height:30px;border-radius:5px}  #supplierFilter input{width:290px;height:30px;border-radius:5px}  #departmentFilter input{width:181px;height:30px;border-radius:5px}  #supplierFilter .simpleSelect .optionsContainer{width:19vw}.noData[_ngcontent-%COMP%]{position:relative;width:100%;height:35px;left:0;top:0;background:#F3F3F3;border-radius:5px;margin-top:30px}hr[_ngcontent-%COMP%]{margin:0}.font-weight-bold[_ngcontent-%COMP%]{padding:0 310px}.qtyCol[_ngcontent-%COMP%]{width:15%;position:relative;text-align:center;right:0;white-space:pre-wrap;font-size:12px}.tblCol[_ngcontent-%COMP%]{position:relative;text-align:left;left:15px;white-space:pre-wrap;font-size:12px}.collapse-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;text-align:left;left:5px;white-space:pre-wrap;font-size:12px}.collapse-table[_ngcontent-%COMP%]{max-height:253px;overflow:auto;width:90%;border-bottom:1px solid #ebebeb;border-right:1px solid #ebebeb;border-left:1px solid #ebebeb}.collapse-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px}.first-row[_ngcontent-%COMP%]{padding:0 5px}"]}),i})()},4024:(O,m,s)=>{s.d(m,{x:()=>P});var t=s(88692),d=s(71800),_=s(72533),l=s(20092),h=s(71259),f=s(46543),T=s(74417),b=s(47766),v=s(62106),x=s(64537);let P=(()=>{class g{static forRoot(){return{ngModule:g}}}return g.\u0275fac=function(M){return new(M||g)},g.\u0275mod=x.oAB({type:g}),g.\u0275inj=x.cJS({imports:[t.ez,d.zk.forRoot(),_.JX,l.u5,l.UX,h.Z.forRoot(),f.m,T.Cl,b.e,v.A]}),g})()}}]);