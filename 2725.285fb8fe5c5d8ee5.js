"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[2725],{77879:(_,g,i)=>{i.d(g,{H:()=>c});var s=i(64537),d=i(53074);let c=(()=>{class e{constructor(p){this.masterRepo=p}ngOnInit(){}isOldFYearDB(){return 1===this.masterRepo.userSetting.IsOldFyearDB}}return e.\u0275fac=function(p){return new(p||e)(s.Y36(d.P))},e.\u0275dir=s.lG2({type:e,selectors:[["","appOldFYearDB",""]],exportAs:["appOldFYearDB"]}),e})()},82725:(_,g,i)=>{i.r(g),i.d(g,{GatewayInfoModule:()=>A});var s=i(88692),d=i(7976),c=i(20092),e=i(64537),y=i(14970),p=i(35732),M=i(67297),C=i(71180);let m=(()=>{class n{constructor(o,t,r){this.http=o,this.authService=t,this.state=r;const a=this.state.getGlobalSetting("apiUrl");a&&a.length>0&&(this.apiUrl=a)}saveGatewayInfo(o){return this.http.post(this.apiUrl+"/saveGatewayInfo",o)}getGatewayInfo(o){return this.http.get(`${this.apiUrl}/getGatewayInfo?PaymentMode=${o}`)}}return n.\u0275fac=function(o){return new(o||n)(e.LFG(p.eN),e.LFG(M.e),e.LFG(C.q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var P=i(67311),h=i(77879);function O(n,l){1&n&&(e.TgZ(0,"div",19)(1,"div",20)(2,"label",21),e._uU(3,"SmartQrUser"),e.qZA(),e._UZ(4,"input",22),e.qZA(),e.TgZ(5,"div",20)(6,"label",21),e._uU(7,"SmartQrPwd"),e.qZA(),e._UZ(8,"input",23),e.qZA(),e.TgZ(9,"div",20)(10,"label",21),e._uU(11,"MerchantCode"),e.qZA(),e._UZ(12,"input",24),e.qZA(),e.TgZ(13,"div",20)(14,"label",21),e._uU(15,"ClientSecretKey"),e.qZA(),e._UZ(16,"input",25),e.qZA(),e.TgZ(17,"div",16)(18,"button",26),e._uU(19," Add "),e.qZA()()())}function b(n,l){1&n&&(e.TgZ(0,"small",38),e._uU(1," FonepayUser is required ! "),e.qZA())}function v(n,l){1&n&&(e.TgZ(0,"small",38),e._uU(1," FonepayPwd is required ! "),e.qZA())}function w(n,l){1&n&&(e.TgZ(0,"small",38),e._uU(1," MerchantCode is required ! "),e.qZA())}function x(n,l){1&n&&(e.TgZ(0,"small",38),e._uU(1," ClientSecretKey is required ! "),e.qZA())}const u=function(){return{standalone:!0}};function I(n,l){if(1&n){const o=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"div",27)(3,"label",28),e._uU(4,"FonepayUser"),e.qZA(),e._UZ(5,"input",29),e.qZA(),e.YNc(6,b,2,0,"small",30),e.qZA(),e.TgZ(7,"div",20)(8,"div",27)(9,"label",31),e._uU(10,"FonepayPwd"),e.qZA(),e._UZ(11,"input",23),e.qZA(),e.YNc(12,v,2,0,"small",30),e.qZA(),e.TgZ(13,"div",20)(14,"div",27)(15,"label",32),e._uU(16,"MerchantCode"),e.qZA(),e.TgZ(17,"input",33,34),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.gatewayinfoservice.MerchantCode=r)}),e.qZA()(),e.YNc(19,w,2,0,"small",30),e.qZA(),e.TgZ(20,"div",20)(21,"div",27)(22,"label",35),e._uU(23,"ClientSecretKey"),e.qZA(),e.TgZ(24,"input",36,37),e.NdJ("ngModelChange",function(r){e.CHM(o);const a=e.oxw();return e.KtG(a.gatewayinfoservice.ClientSecretKey=r)}),e.qZA()(),e.YNc(26,x,2,0,"small",30),e.qZA()()}if(2&n){const o=e.MAs(18),t=e.MAs(25),r=e.oxw();e.xp6(6),e.Q6J("ngIf",r.gatewayInfoForm.controls.FonepayUSer.invalid&&r.gatewayInfoForm.controls.FonepayUSer.touched&&(null==r.gatewayInfoForm.controls.FonepayUSer.errors?null:r.gatewayInfoForm.controls.FonepayUSer.errors.required)),e.xp6(6),e.Q6J("ngIf",r.gatewayInfoForm.controls.FonepayPwd.invalid&&r.gatewayInfoForm.controls.FonepayPwd.touched&&(null==r.gatewayInfoForm.controls.FonepayPwd.errors?null:r.gatewayInfoForm.controls.FonepayPwd.errors.required)),e.xp6(5),e.Q6J("ngModelOptions",e.DdM(8,u))("ngModel",r.gatewayinfoservice.MerchantCode),e.xp6(2),e.Q6J("ngIf",o.touched&&o.invalid&&(null==o.errors?null:o.errors.required)),e.xp6(5),e.Q6J("ngModelOptions",e.DdM(9,u))("ngModel",r.gatewayinfoservice.ClientSecretKey),e.xp6(2),e.Q6J("ngIf",t.touched&&t.invalid&&(null==t.errors?null:t.errors.required))}}function Z(n,l){1&n&&(e.TgZ(0,"div",19)(1,"div",20)(2,"label",21),e._uU(3,"KhaltiUser"),e.qZA(),e._UZ(4,"input",39),e.qZA(),e.TgZ(5,"div",20)(6,"label",40),e._uU(7,"KhaltiPwd"),e.qZA(),e._UZ(8,"input",41),e.qZA(),e.TgZ(9,"div",20)(10,"label",42),e._uU(11,"MerchantCode"),e.qZA(),e._UZ(12,"input",24),e.qZA(),e.TgZ(13,"div",20)(14,"label",43),e._uU(15,"ClientSecretKey"),e.qZA(),e._UZ(16,"input",25),e.qZA()())}const f=function(n){return{selected:n}},F=[{path:"",component:(()=>{class n{constructor(o,t,r,a,G){this.router=o,this.fb=t,this.spinnerService=r,this.gatewayinfoservice=a,this.alertService=G,this.status=!1,this.mode="new",this.Paymentmode=""}updown(o){"Escape"===o.code&&(o.preventDefault(),this.router.navigate(["./pages/dashboard"]))}ngOnInit(){this.gatewayInfoForm=this.fb.group({FonepayUSer:["",[c.kI.required]],FonepayPwd:["",[c.kI.required]],GatewayInfo:[],PaymentMode:[]})}back(){this.router.navigate(["./pages/dashboard"])}PaymentMode(o){return(this.Paymentmode=o)&&this.gatewayinfoservice.getGatewayInfo(this.Paymentmode).subscribe(t=>{if(console.log("data ma k aaucha",t),"ok"===t.status){console.log("parsedvalue",JSON.parse(t.result.GatewayInfo)),console.log("parsedvalue2",JSON.stringify(t.result.GatewayInfo));let r=JSON.parse(t.result.GatewayInfo);this.spinnerService.hide(),this.gatewayInfoForm.patchValue({MODE:t.result.MODE,FonepayUSer:t.result.FonepayUSer,FonepayPwd:t.result.FonepayPwd,PAYMODE:t.result.PAYMODE}),console.log("gatewayInfodata.merchantCode",r.merchantCode),this.gatewayinfoservice.MerchantCode=r.merchantCode,this.gatewayinfoservice.ClientSecretKey=r.ClientSecretKey}else this.alertService.error(t.result)},t=>{this.spinnerService.hide(),this.alertService.error(t._body)}),this.Paymentmode=o}onSubmit(o){if(console.log("event",o),!this.gatewayInfoForm.valid)return void this.alertService.info("Invalid Request, Please enter all required fields.");console.log("valuesss",this.gatewayinfoservice.MerchantCode,this.gatewayinfoservice.ClientSecretKey);let t=new Map;t.Template="FONEPAY",t.Url1="https://merchantapi.fonepay.com/api/merchant/merchantDetailsForThirdParty/thirdPartyDynamicQrDownload",t.merchantCode=this.gatewayinfoservice.MerchantCode,t.ClientSecretKey=this.gatewayinfoservice.ClientSecretKey;let r=JSON.stringify(t);console.log("jsondatassss",r),this.gatewayInfoForm.patchValue({GatewayInfo:r,PaymentMode:this.Paymentmode}),console.log("Gateawayformdata",this.gatewayInfoForm.value),this.spinnerService.show("Data is Saving ..."),this.gatewayinfoservice.saveGatewayInfo(this.gatewayInfoForm.value).subscribe(a=>{console.log("response catch",a),"ok"==a.status?(this.spinnerService.hide(),this.alertService.success(a.result),setTimeout(()=>{this.alertService.hide()},5e3),this.gatewayInfoForm.reset(),console.log("response catch",a)):(this.alertService.error(a.result),this.spinnerService.hide())},a=>{this.spinnerService.hide()})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(d.F0),e.Y36(c.qu),e.Y36(y.V),e.Y36(m),e.Y36(P.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gateway-info-master"]],hostBindings:function(o,t){1&o&&e.NdJ("keydown",function(a){return t.updown(a)},!1,e.evT)},decls:36,vars:14,consts:[[1,"card"],[1,"backBtn"],["routerlink","./pages/dashboard",1,"btn","pull-right",2,"padding","4px 15px","font-size","13px","background-color","#17A2B8","color","#fff",3,"click"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"card-body"],[1,"payment-type"],[1,"types","flex","justify-space-between"],["id","FonePay",1,"type",3,"ngClass","click"],[1,"logo"],["src","../../../../../assets/Images/FonePay.png","alt","",2,"width","150px"],[1,"text"],["id","SmartQr",1,"type",3,"ngClass","click"],["src","../../../../../assets/Images/Smart QR.png","alt","",2,"width","150px"],["src","../../../../../assets/Images/Khalti.png","alt","",2,"width","150px"],["class","row",4,"ngIf"],[1,"col-lg-12"],["type","submit","appOldFYearDB","",1,"btn",2,"padding","4px 15px","font-size","13px","background-color","#17A2B8","color","#fff",3,"disabled"],["isOldFYearDB","appOldFYearDB"],[1,"row"],[1,"form-group","col-lg-6"],["for","exampleFormControlInput1"],["type","text","formControlName","FonepayUSer","id","FonepayUSer","placeholder","",1,"form-control"],["type","password","formControlName","FonepayPwd","id","FonepayPwd","placeholder","",1,"form-control"],["type","text","id","MerchantCode","placeholder","",1,"form-control"],["type","text","id","ClientSecretKey","placeholder","",1,"form-control"],["type","submit",1,"btn",2,"padding","4px 15px","font-size","13px","background-color","#17A2B8","color","#fff"],[1,"inputFieldWrapper"],["for","exampleFormControlInput1",1,"required"],["type","number","formControlName","FonepayUSer","id","FonepayUSer","placeholder","",1,"form-control"],["class","form-text text-danger text-left msgtext",4,"ngIf"],["for","exampleFormControlInput2",1,"required"],["for","exampleFormControlInput3",1,"required"],["type","text","id","MerchantCode","placeholder","","required","","ngModel","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],["MerchantCode","ngModel"],["for","exampleFormControlInput4",1,"required"],["type","text","id","ClientSecretKey","placeholder","","required","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],["ClientSecretKey","ngModel"],[1,"form-text","text-danger","text-left","msgtext"],["type","text","formControlName","KhaltiUser","id","KhaltiUser","placeholder","",1,"form-control"],["for","exampleFormControlInput2"],["type","password","formControlName","KhaltiPwd","id","KhaltiPwd","placeholder","",1,"form-control"],["for","exampleFormControlInput3"],["for","exampleFormControlInput4"]],template:function(o,t){if(1&o&&(e.TgZ(0,"article",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return t.back()}),e._uU(3," Back "),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4),e.NdJ("ngSubmit",function(a){return t.onSubmit(a)}),e.TgZ(6,"div",5)(7,"div",6)(8,"h4"),e._uU(9,"GateWay Infos"),e.qZA(),e.TgZ(10,"div",7)(11,"div",8),e.NdJ("click",function(){return t.PaymentMode("FonePay")}),e.TgZ(12,"div",9),e._UZ(13,"img",10),e.qZA(),e.TgZ(14,"div",11)(15,"p"),e._uU(16,"Pay with Fonepay"),e.qZA()()(),e.TgZ(17,"div",12),e.NdJ("click",function(){return t.PaymentMode("SmartQr")}),e.TgZ(18,"div",9),e._UZ(19,"img",13),e.qZA(),e.TgZ(20,"div",11)(21,"p"),e._uU(22,"Pay with Smart QR"),e.qZA()()(),e.TgZ(23,"div",12),e.NdJ("click",function(){return t.PaymentMode("Khalti")}),e.TgZ(24,"div",9),e._UZ(25,"img",14),e.qZA(),e.TgZ(26,"div",11)(27,"p"),e._uU(28,"Pay with Khalti"),e.qZA()()()()()(),e.YNc(29,O,20,0,"div",15),e.YNc(30,I,27,10,"div",15),e.YNc(31,Z,17,0,"div",15),e.TgZ(32,"div",16)(33,"button",17,18),e._uU(35,"Save"),e.qZA()()()()()),2&o){const r=e.MAs(34);e.xp6(5),e.Q6J("formGroup",t.gatewayInfoForm),e.xp6(6),e.Q6J("ngClass",e.VKq(8,f,"FonePay"==t.Paymentmode)),e.xp6(6),e.Q6J("ngClass",e.VKq(10,f,"SmartQr"==t.Paymentmode)),e.xp6(6),e.Q6J("ngClass",e.VKq(12,f,"Khalti"==t.Paymentmode)),e.xp6(6),e.Q6J("ngIf","SmartQr"==t.Paymentmode),e.xp6(1),e.Q6J("ngIf","FonePay"==t.Paymentmode),e.xp6(1),e.Q6J("ngIf","Khalti"==t.Paymentmode),e.xp6(2),e.Q6J("disabled",!t.gatewayInfoForm.valid||r.isOldFYearDB())}},dependencies:[s.mk,s.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.sg,c.u,c.On,h.H],styles:['.field[_ngcontent-%COMP%]{margin-bottom:25px}.field.full[_ngcontent-%COMP%]{width:100%}.field.half[_ngcontent-%COMP%]{width:calc(50% - 12px)}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-transform:uppercase;font-size:12px;margin-bottom:8px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px;border-radius:6px;border:2px solid #e8ebed;display:block;font-size:14px;width:100%;box-sizing:border-box}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:placeholder{color:#e8ebed!important}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:row wrap;align-items:center}.flex.justify-space-between[_ngcontent-%COMP%]{justify-content:space-between}.card[_ngcontent-%COMP%]{padding:10px;margin:50px auto;max-width:850px;background:#fff;border-radius:6px;box-sizing:border-box;box-shadow:0 24px 60px -1px #252c3624}.card[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:50px}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]{margin-bottom:25px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]{margin:25px 0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{width:30%;position:relative;background:#f2f4f7;border:2px solid #e8ebed;padding:10px;box-sizing:border-box;border-radius:6px;cursor:pointer;text-align:center;transition:all .5s ease}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]:hover{border-color:#28333b}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]:hover   .logo[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#28333b}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type.selected[_ngcontent-%COMP%]{border-color:#40b3ff;background:rgba(64,179,255,.1)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type.selected[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#40b3ff}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type.selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#28333b}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type.selected[_ngcontent-%COMP%]:after{content:"\\f00c";font-family:"Font Awesome 5 Free";font-weight:900;position:absolute;height:40px;width:40px;top:-21px;right:-21px;background:#fff;border:2px solid #40b3ff;border-radius:50%;display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transition:all .5s ease}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:48px;color:#8a959c}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-type[_ngcontent-%COMP%]   .types[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:10px;text-transform:uppercase;font-weight:600;letter-spacing:.5px;color:#8a959c}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{width:calc(50% - 25px)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{height:24px;width:24px;border-radius:50%;border:2px solid #40b3ff;display:flex;align-items:center;justify-content:center;text-align:center;margin-right:12px;font-size:12px}footer[_ngcontent-%COMP%]{margin:50px auto;max-width:850px;text-align:center}.button[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:600;font-size:12px;letter-spacing:.5px;padding:15px 25px;border-radius:50px;cursor:pointer;transition:all .5s ease;background:transparent;border:2px solid transparent}.button.button-link[_ngcontent-%COMP%]{padding:0 0 2px;margin:0 25px;border-bottom:2px solid rgba(64,179,255,.5);border-radius:0;opacity:.75}.button.button-link[_ngcontent-%COMP%]:hover{border-bottom:2px solid #40b3ff;opacity:1}.button.button-primary[_ngcontent-%COMP%]{background:#40b3ff;color:#fff}.button.button-primary[_ngcontent-%COMP%]:hover{background:#218fd9}.button.button-secondary[_ngcontent-%COMP%]{background:transparent;border-color:#e8ebed;color:#8a959c}.button.button-secondary[_ngcontent-%COMP%]:hover{border-color:#28333b;color:#28333b}.required[_ngcontent-%COMP%]:after{content:"*";color:red}.inputFieldWrapper[_ngcontent-%COMP%]   .msgtext[_ngcontent-%COMP%]{position:absolute;bottom:7px;left:35px}']}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(F),d.Bz]}),n})();var U=i(46543);let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[m],imports:[s.ez,S,c.UX,c.u5,U.m]}),n})()}}]);