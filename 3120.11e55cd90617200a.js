"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[3120],{62106:(H,p,r)=>{r.d(p,{A:()=>e});var f=r(46543),u=r(64537);let e=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[f.m]}),c})()},49137:(H,p,r)=>{r.d(p,{C:()=>u});var f=r(64537);let u=(()=>{class e{transform(m,l,d){if(m)return l?m.filter(h=>{let _=h[d];const v=l.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(_?_.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(v))return h}):m}}return e.\u0275fac=function(m){return new(m||e)},e.\u0275pipe=f.Yjl({name:"searchData",type:e,pure:!1}),e})()},23120:(H,p,r)=>{r.r(p),r.d(p,{DocumentHeadingModule:()=>k});var f=r(46543),u=r(88692),e=r(64537),c=r(7976),m=r(67311),l=r(18285),d=r(20092),h=r(72533),_=r(49137);function v(o,i){1&o&&(e.TgZ(0,"div",8),e._UZ(1,"div",9),e._uU(2,"- "),e.qZA())}function C(o,i){if(1&o&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.errorMessage," ")}}function x(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",27),e._uU(2),e.qZA(),e.TgZ(3,"td",28),e._uU(4),e.qZA(),e.TgZ(5,"td",29)(6,"a",30),e.NdJ("click",function(){const s=e.CHM(t).$implicit,g=e.oxw(3);return e.KtG(g.onEditClick(s))}),e._uU(7,"Edit"),e.qZA(),e.TgZ(8,"button",31),e.NdJ("click",function(){const s=e.CHM(t).$implicit,g=e.oxw(3);return e.KtG(g.deleteDocumentHeading(s))}),e._uU(9,"Delete"),e.qZA()()()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(null==t?null:t.DocumentHeading)}}const b=function(o,i,t){return{itemsPerPage:o,currentPage:i,totalItems:t}};function M(o,i){if(1&o&&(e.ynx(0),e.YNc(1,x,10,2,"tr",26),e.ALo(2,"paginate"),e.ALo(3,"searchData"),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.Dn7(3,4,t.documentHeadingLists,t.filter,"DocumentHeading"),e.kEZ(8,b,t.itemsPerPage,t.currentPage,t.totalCount)))}}function T(o,i){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",32)(3,"div",33),e._uU(4,"Document Heading Lists are unavailable."),e.qZA()()(),e.BQk())}function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"pagination-controls",36),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.documentHeadingPagination(a))}),e.qZA()()()}}function L(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"span"),e._uU(4,"Document Heading List"),e.qZA(),e.TgZ(5,"div",13)(6,"input",14),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.filter=a)}),e.qZA()()(),e.TgZ(7,"div",15),e.YNc(8,C,2,1,"div",16),e.TgZ(9,"table",17)(10,"thead")(11,"tr",18)(12,"th",19),e._uU(13,"S.N."),e.qZA(),e.TgZ(14,"th",20),e._uU(15,"Document Title"),e.qZA(),e.TgZ(16,"th",21),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,M,4,12,"ng-container",22),e.YNc(20,T,5,0,"ng-container",22),e.ALo(21,"searchData"),e.qZA()()(),e.TgZ(22,"div",23),e.YNc(23,y,3,0,"div",24),e.ALo(24,"searchData"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.filter),e.xp6(2),e.Q6J("ngIf",t.errorMessage),e.xp6(11),e.Q6J("ngIf",t.documentHeadingLists&&t.documentHeadingLists.length>0),e.xp6(1),e.Q6J("ngIf",t.documentHeadingLists&&0===e.Dn7(21,5,t.documentHeadingLists,t.filter,"DocumentHeading").length),e.xp6(3),e.Q6J("ngIf",t.documentHeadingLists&&e.Dn7(24,9,t.documentHeadingLists,t.filter,"DocumentHeading").length>t.itemsPerPage)}}let Z=(()=>{class o{constructor(t,n,a){this.router=t,this.alertService=n,this.documentHeadMasterService=a,this.isLoader=!0,this.currentPage=1,this.itemsPerPage=20,this.directionLinks=!0}updown(t){"Escape"===t.code&&(t.preventDefault(),this.router.navigate(["./pages/dashboard"]))}ngOnInit(){this.getDocHeadingList()}getDocHeadingList(){this.isLoader=!0,this.documentHeadMasterService.getDocumentHeadingList().subscribe(t=>{console.log("response ma k aaucha",t),"ok"==t.status?(this.isLoader=!1,this.documentHeadingLists=t.result.length>0?t.result:[]):(this.documentHeadingLists=[],this.errorMessage="Something went wrong.")},t=>{this.isLoader=!1,this.documentHeadingLists=[],this.errorMessage="Something went wrong."})}addDocumnetHead(){try{this.router.navigate(["./pages/masters/document-heading/creat-document-heading",{mode:"add",returnUrl:this.router.url}])}catch(t){this.alertService.info(t)}}onEditClick(t){try{this.router.navigate(["./pages/masters/document-heading/creat-document-heading",{id:t.id,mode:"edit",returnUrl:this.router.url}])}catch(n){this.alertService.info(n)}}documentHeadingPagination(t){this.isLoader=!0,this.currentPage=t;const n=this;window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{n.isLoader=!1},500)}deleteDocumentHeading(t){confirm("Are you sure you want to delete "+t.DocumentHeading+" ?")&&this.documentHeadMasterService.deleteDocHeading(t.id).subscribe(n=>{"ok"==n.status?(this.alertService.info(n.message),this.getDocHeadingList()):this.alertService.success(n.result.error)},n=>{this.alertService.info(n.error)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.F0),e.Y36(m.c),e.Y36(l.A))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-unit-list"]],hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(s){return n.updown(s)},!1,e.evT)},decls:12,vars:2,consts:[[1,"row","col-md-12"],[1,"col-md-4"],[1,"col-md-8"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"row",2,"align-items","center"],["class","col-sm-8","style","margin-top: 0.5rem;",4,"ngIf"],["class","col-sm-8 col-md-12",4,"ngIf"],[1,"col-sm-8",2,"margin-top","0.5rem"],[1,"preloader","pds_loader"],[1,"col-sm-8","col-md-12"],[1,"card",2,"margin","auto","width","63rem"],[1,"card-header"],[2,"width","25%"],["type","search","placeholder","Search...","name","filter","autocomplete","off",1,"form-control",2,"height","1.5rem",3,"ngModel","ngModelChange"],[1,"card-body"],["class","alert alert-danger",4,"ngIf"],[1,"table","table-striped"],[2,"position","sticky","top","0","line-height","1.5rem"],["scope","col",2,"width","5%"],["scope","col",2,"width","70%"],["scope","col",2,"text-align","center","width","20%"],[4,"ngIf"],["classs","card-footer"],["class","pagination",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[2,"width","5%"],[2,"width","70%"],[2,"text-align","center","width","20%"],[1,"btn","btn-sm","btn-info","mr-1","btn-sm",2,"width","60px","color","white",3,"click"],["type","button","data-toggle","modal",1,"btn","btn-sm","btn-info","btn-sm",2,"width","60px",3,"click"],["colspan","3"],[1,"font-weight-bold"],[1,"pagination"],[2,"margin","auto"],[1,"my-pagination",3,"pageChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5"),e._uU(3,"Document Heading Master"),e.qZA()(),e.TgZ(4,"div",2)(5,"button",3),e._uU(6,"Back"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return n.addDocumnetHead()}),e._uU(8,"Create Document Heading"),e.qZA()()(),e.TgZ(9,"div",5),e.YNc(10,v,3,0,"div",6),e.YNc(11,L,25,13,"div",7),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",n.isLoader),e.xp6(1),e.Q6J("ngIf",!n.isLoader))},dependencies:[u.sg,u.O5,c.rH,d.Fj,d.JJ,d.On,h.LS,h._s,_.C],styles:[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]:after{display:none}.card-body[_ngcontent-%COMP%]{padding:5px!important;max-height:465px!important}.main-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:60px 0}.scroll-touch[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem!important}.sticky-top[_ngcontent-%COMP%]{margin-top:60px;height:100vh}tbody[_ngcontent-%COMP%]{display:block;height:60vh;overflow:auto}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}th[_ngcontent-%COMP%]{font-size:15px}td[_ngcontent-%COMP%]{font-size:13px}.btn-sm[_ngcontent-%COMP%]{line-height:3px}.card-header[_ngcontent-%COMP%]{padding:10px 20px}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#17a2b8!important;border:transparent!important;border-radius:20px!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover{background:#74d4e2!important;border-radius:20px!important;border:transparent!important}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#c2c2c2;border-radius:20px!important}"]}),o})();var S=r(14970),P=r(53074);const w=["docNameEl"];function A(o,i){1&o&&(e.TgZ(0,"small",19),e._uU(1," Document name is required! "),e.qZA())}const O=[{path:"",component:Z},{path:"creat-document-heading",component:(()=>{class o{constructor(t,n,a,s,g,J,U){this.fb=t,this.spinnerService=n,this.alertService=a,this.documentHeadMasterService=s,this.router=g,this.masterService=J,this._activatedRoute=U,this.documentHeadingList=[],this.mode="add",this.viewMode=!1,this.modeTitle="",this.initialTextReadOnly=!1}updown(t){if("Escape"===t.code&&(t.preventDefault(),this.router.navigate(["./pages/masters/document-heading"])),"F6"===t.code){if(t.preventDefault(),!this.documnetHeadingForm.valid)return;this.onSubmit()}}ngOnInit(){try{if(this.documnetHeadingForm=this.fb.group({docName:["",[d.kI.required]],status:[1],id:[0]}),this._activatedRoute.snapshot.params.returnUrl&&(this.returnUrl=this._activatedRoute.snapshot.params.returnUrl),this._activatedRoute.snapshot.params.id){let t=null;t=this._activatedRoute.snapshot.params.id,this.spinnerService.show("Getting data, Please wait..."),this.documentHeadMasterService.getDocumentForEdit(t).subscribe(n=>{console.log("data for edit",n),"ok"===n.status?(this.spinnerService.hide(),this.documnetHeadingForm.patchValue({docName:n.result.DocumentHeading,status:n.result.Status,id:n.result.id}),"edit"===this._activatedRoute.snapshot.params.mode&&(this.modeTitle="Edit Document Heading Master"),this.mode="edit",this.initialTextReadOnly=!0):(console.log("UNIT MASTER RROT",n),this.spinnerService.hide(),this.alertService.error(n.result.error),this.router.navigate(["./pages/masters/document-heading"]))},n=>{this.spinnerService.hide(),this.alertService.error(n._body)})}else this.mode="new",this.initialTextReadOnly=!1}catch(t){this.alertService.error(t)}}ngAfterViewInit(){setTimeout(()=>this.docNameEl.nativeElement.focus())}onSubmit(){let t={};t.DocumentHeading=this.documnetHeadingForm.value.docName,t.Status=this.documnetHeadingForm.value.status,t.id=this.documnetHeadingForm.value.id;const n={mode:this.mode,docHeading:t};this.spinnerService.show("Data is Saving ..."),this.documentHeadMasterService.saveDocumentHeading(n).subscribe(a=>{"ok"==a.status?(this.spinnerService.hide(),this.alertService.info("Saved Successfully"),this.documnetHeadingForm.reset(),this.router.navigate(["./pages/masters/document-heading"])):(this.spinnerService.hide(),this.alertService.error(a.result))},a=>{this.spinnerService.hide(),this.alertService.error(a.error)})}onChange(t){console.log("EVENT",t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.qu),e.Y36(S.V),e.Y36(m.c),e.Y36(l.A),e.Y36(c.F0),e.Y36(P.P),e.Y36(c.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-unit-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(w,5),2&t){let a;e.iGM(a=e.CRH())&&(n.docNameEl=a.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(s){return n.updown(s)},!1,e.evT)},decls:25,vars:5,consts:[[1,"sticky-top","row"],[1,"col-md-4"],[1,"col-md-8"],[1,"row","pull-right","mx-2"],[3,"formGroup","ngSubmit"],["type","submit",1,"btn","btn-info",2,"font-size","12px",3,"disabled"],["save",""],["type","button","routerLink","/pages/masters/document-heading","title","Cancel",1,"btn","btn-info",2,"font-size","12px"],[1,"card"],[1,"card-header"],[1,"page-title"],[1,"card-body"],[1,"form-horizontal",2,"margin-top","15px",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-sm-2","form-control-label",2,"margin-left","-12px"],[1,"col-sm-8"],["type","text","id","Parent","placeholder","Enter document name","formControlName","docName","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px",3,"readOnly","keydown.enter","change"],["docNameEl",""],["style","margin-left: 12vw;","class","form-text text-danger ",4,"ngIf"],[1,"form-text","text-danger",2,"margin-left","12vw"]],template:function(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h5"),e._uU(3,"Document Heading Master"),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3)(6,"form",4),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"button",5,6),e._uU(9,"Save"),e.qZA(),e.TgZ(10,"button",7),e._uU(11,"Back"),e.qZA()()()()(),e.TgZ(12,"div",8)(13,"div",9)(14,"h5",10),e._uU(15,"Document Heading "),e.qZA()(),e.TgZ(16,"div",11)(17,"form",12),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(18,"div",13)(19,"label",14),e._uU(20,"Document Title:"),e.qZA(),e.TgZ(21,"div",15)(22,"input",16,17),e.NdJ("keydown.enter",function(){e.CHM(a);const g=e.MAs(8);return e.KtG(g.focus())})("change",function(g){return n.onChange(g)}),e.qZA()()(),e.YNc(24,A,2,0,"small",18),e.qZA()()()}2&t&&(e.xp6(6),e.Q6J("formGroup",n.documnetHeadingForm),e.xp6(1),e.Q6J("disabled",!n.documnetHeadingForm.valid),e.xp6(10),e.Q6J("formGroup",n.documnetHeadingForm),e.xp6(5),e.Q6J("readOnly","view"==n.mode),e.xp6(2),e.Q6J("ngIf",n.documnetHeadingForm.controls.docName.touched&&(null==n.documnetHeadingForm.controls.docName.errors?null:n.documnetHeadingForm.controls.docName.errors.required)))},dependencies:[u.O5,c.rH,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u],styles:[".card[_ngcontent-%COMP%]{margin:36px 30px 0 300px!important;width:60%}input[type=checkbox][_ngcontent-%COMP%]{height:20px;position:absolute;right:42%}.check[_ngcontent-%COMP%]{position:relative}"]}),o})()}];let F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(O),c.Bz]}),o})();var D=r(12640),N=r(62106);const E={suppressScrollX:!1};let k=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[l.A,{provide:D.op,useValue:E}],imports:[u.ez,F,f.m,h.JX,D.Xd,N.A]}),o})()}}]);