"use strict";(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[7214],{17214:(z,P,l)=>{l.r(P),l.d(P,{BranchwiseRqDashboardModule:()=>J});var m=l(88692),u=l(20092),M=l(87584),C=l(35732),b=l(7976),d=l(6823),t=l(64537),I=l(71180),w=l(67297),A=l(69389),q=l(14970),S=l(53074),E=l(67311),x=l(92340);let O=(()=>{class a{constructor(e){this.http=e,this.apiUrl="",this.apiUrl=x.N.apiUrl}getBranchDashboardRequisitionEventsData(e,i,n){return this.http.get(this.apiUrl+`/getBranchDashboardRequisitionEventsData?date=${e}&div=${i}&fyid=${n}`)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(C.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})();var Z=l(8577),R=l(31722);const y=["dashboardPopup"];function k(a,g){1&a&&(t.TgZ(0,"div",58),t._UZ(1,"img",59),t.qZA())}function B(a,g){1&a&&(t.TgZ(0,"div",58),t._UZ(1,"img",59),t.qZA())}function U(a,g){1&a&&(t.TgZ(0,"div",58),t._UZ(1,"img",59),t.qZA())}const N=function(a){return{height:a}};let _=(()=>{class a{constructor(e,i,n,o,c,h,r,s,v){this.state=e,this.router=i,this.http=n,this.authService=o,this.setting=c,this.spinnerService=h,this.masterService=r,this.alertService=s,this.branchwiseRqDashboardService=v,this.userProfile={},this.TOTOPQTY=0,this.TOTOPITEM=0,this.TOTAPPITEM=0,this.TOTAPPQTY=0,this.TOTINTRANSITQTY=0,this.TOTINTRANSITITEM=0,this.TOTEXCESSQTY=0,this.TOTEXCESSITEM=0,this.TOTSHORTAGEQTY=0,this.TOTSHORTAGEITEM=0,this.dataReqEvent=!1,this.INTRANSITDATA=[],this.closedRequisition=[],this.excessRequisition=[],this.shortageRequisition=[],this.reqByAgeFilter="Approved",this.dataReqAge=!1,this.dataReqStatus=!1,this.Department=0,this.Division="",this.InsideOutsideValley=2,this.divisionList=[],this.insideOutsideList=[],this.viewDetails=!1;const p=new Date;this.Currdate=(0,m.p6)(p,"yyy-MM-dd","en-US"),this.reqEventDate=(0,m.p6)(p,"yyy-MM-dd","en-US"),this.userProfile=this.authService.getUserProfile(),this.masterService.getDepartmentList().subscribe(f=>{this.masterService.departmentList=f,this.masterService.departmentList.splice(0,0,{ID:0,DepartmentName:"All"}),console.log("list for department",this.masterService.departmentList)})}ngOnInit(){this.getOverallApiData(),this.Department="All"}getOverallApiData(){this.BranchwiseleadsChart(),this.BranchWiseIntransit(),this.BranchwiserequisitionEvent(),this.BranchwiserequisitionStatus(),this.requisitionAge(),this.excessQuantity(),this.shortageQuantity(),this.closedQuantity()}closedQuantity(){this.reInitialiseDepartmentAndLocation(),this.masterService.getBranchDashboardClosedRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department,this.viewDetails).subscribe(e=>{e&&(this.closedRequisition=e.result[0])},e=>{this.alertService.error(e.error)})}shortageQuantity(){this.reInitialiseDepartmentAndLocation(),this.masterService.getBranchDashboardTotalShortageData(this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department,this.viewDetails).subscribe(e=>{console.log("resssss",e),e&&(this.TOTSHORTAGEITEM=e.result[0].TOTEX_ITEM,this.TOTSHORTAGEQTY=e.result[0].TOTEX_QTY)},e=>{this.alertService.error(e.error)})}excessQuantity(){this.reInitialiseDepartmentAndLocation(),this.masterService.getBranchDashboardTotalExcessData(this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department,this.viewDetails).subscribe(e=>{e&&(this.TOTEXCESSITEM=e.result[0].TOTEX_ITEM,this.TOTEXCESSQTY=e.result[0].TOTEX_QTY)},e=>{this.alertService.error(e.error)})}BranchWiseIntransit(){this.masterService.getBranchDashboardIntransitData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department,this.viewDetails,"%").subscribe(i=>{console.log("intransit response",i),i&&(this.TOTINTRANSITITEM=i.result[0].INT_ITEM,this.TOTINTRANSITQTY=i.result[0].INT_QTY)},i=>{this.alertService.error(i.error)})}BranchwiseleadsChart(){this.reInitialiseDepartmentAndLocation(),this.masterService.getDashboardOpenRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,!1,this.Department,this.InsideOutsideValley,this.viewDetails).subscribe(e=>{e&&(this.TOTOPITEM=e.result[0].TOTOP_ITEM,this.TOTOPQTY=e.result[0].TOTOP_QTY)},e=>{this.alertService.error(e.error)}),this.masterService.getDashboardApprovedRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,!1,this.Department,this.InsideOutsideValley,this.viewDetails).subscribe(e=>{e&&(this.TOTAPPITEM=e.result[0].TOTAPP_ITEM,this.TOTAPPQTY=e.result[0].TOTAPP_QTY)},e=>{this.alertService.error(e.error)})}BranchwiserequisitionEvent(){let e=[],i=[],n=[],o=[],c=[];this.reInitialiseDepartmentAndLocation(),this.masterService.getBranchDashboardRequisitionEventsData(this.reqEventDate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department).subscribe(h=>{h.result.forEach(r=>{h.result2.forEach(s=>{r.DIV==s.DIV&&(r.TOTAPP_ITEM=s.TOTAPP_ITEM>0?s.TOTAPP_ITEM:0)}),h.result3.forEach(s=>{r.DIV==s.DIV&&(r.INT_ITEM=s.INT_ITEM>0?s.INT_ITEM:0)}),h.result4.forEach(s=>{r.DIV==s.DIV&&(r.CLS_ITEM=s.CLS_ITEM>0?s.CLS_ITEM:0)})}),h.result.forEach(r=>{e.push(r.DIV),i.push(r.CLS_ITEM),n.push(r.TOTAPP_ITEM),o.push(r.TOTOP_ITEM),c.push(r.INT_ITEM)}),h.result?.length>0&&(this.dataReqEvent=!0),null!=window.chart&&window.chart.destroy(),window.chart=new d.Chart("BranchwiserequisitionEvent",{type:"horizontalBar",data:{labels:e,datasets:[{label:"Open",data:o,backgroundColor:"#69cf70",barThickness:20,stack:"Stack 0"},{label:"Approved",data:n,backgroundColor:"#6cbeda",barThickness:20,stack:"Stack 0"},{label:"Intransit",data:c,backgroundColor:"#8b8b1e",barThickness:20,stack:"Stack 0"},{label:"Closed",data:i,backgroundColor:"#cb3d21",barThickness:20,stack:"Stack 0",hidden:!0}]},options:{plugins:{legend:{labels:{fontColor:"#fff",fontSize:18}}},scales:{yAxes:[{display:!0,stacked:!0,gridLines:{display:!1},ticks:{suggestedMin:0,beginAtZero:!0}}],xAxes:[{}]},tooltips:{enabled:!0},hover:{animationDuration:0},animation:{duration:1,onComplete:function(){var r=window.chart,s=r.ctx;s.font=d.Chart.helpers.fontString(d.Chart.defaults.global.defaultFontSize,d.Chart.defaults.global.defaultFontStyle,d.Chart.defaults.global.defaultFontFamily),s.textAlign="right",s.textBaseline="center",s.fillStyle="#fff",window.chart.data.datasets.forEach(function(v,p){r.controller.getDatasetMeta(p).data.forEach(function(T,D){s.fillText(v.data[D],T._model.x-3,T._model.y)})})}}}})})}BranchwiserequisitionStatus(){this.reInitialiseDepartmentAndLocation(),this.masterService.getBranchDashboardRequisitionStatusData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department).subscribe(e=>{if("ok"==e.status)if(e.result?.length>0&&e.result&&e.result2?.length>0&&e.result2&&e.result3?.length>0&&e.result3){this.dataReqStatus=!0,this.TOTOPENREQ=e.result[0].TOTOP_ITEM,this.TOTCLOSEDREQ=e.result4[0].CLS_ITEM,this.TOTAPPROVEDREQ=e.result2[0].TOTAPP_ITEM,this.TOTINTRANSITREQ=e.result3[0].INT_ITEM;let n,i=[1,22,1];const o=[];for(n=0;n<i.length;n++){const h=Math.floor(255*Math.random()),r=Math.floor(255*Math.random()),s=Math.floor(255*Math.random());o.push("rgb("+h+","+r+","+s+")")}null!=window.chart2&&window.chart2.destroy(),window.chart2=new d.Chart("BranchwiserequisitionStatus",{type:"bar",data:{labels:["Open Requisition","Approved Requisition","Intransit Requisition","Closed Requisition"],datasets:[{data:[this.TOTOPENREQ,this.TOTAPPROVEDREQ,this.TOTINTRANSITREQ,this.TOTCLOSEDREQ],backgroundColor:["#69cf70","#6cbeda","#8b8b1e","#c64329"],barThickness:50,borderWidth:1,borderColor:"#fff"}]},options:{aspectRatio:1,responsive:!0,maintainAspectRatio:!1,legend:{display:!1},plugins:{legend:{labels:{fontColor:"#fff",fontSize:18}}},scales:{yAxes:[{display:!0,stacked:!0,ticks:{suggestedMin:0,beginAtZero:!0}}],xAxes:[{gridLines:{display:!1}}]},tooltips:{enabled:!0},hover:{animationDuration:0},animation:{duration:1,onComplete:function(){var h=window.chart2,r=h.ctx;r.font=d.Chart.helpers.fontString(d.Chart.defaults.global.defaultFontSize,d.Chart.defaults.global.defaultFontStyle,d.Chart.defaults.global.defaultFontFamily),r.textAlign="center",r.textBaseline="center",r.fillStyle="#fff",window.chart2.data.datasets.forEach(function(s,v){h.controller.getDatasetMeta(v).data.forEach(function(f,T){r.fillText(s.data[T],f._model.x,f._model.y+25)})})}}}});let c=!1;window.chart2.data.labels.splice(3,1),window.chart2.update(),document.getElementById("BranchwiserequisitionStatus").addEventListener("click",function(){c?(window.chart2.data.labels.splice(3,1),c=!1):window.chart2.data.labels.filter(r=>"Closed Requisition"===r).length<=0&&(window.chart2.data.labels.push("Closed Requisition"),c=!0),window.chart2.update()})}else 0==e.result?.length&&0==e.result2?.length&&0==e.result3?.length&&(this.dataReqStatus=!0)})}requisitionAge(){let e=[],i=[];this.reInitialiseDepartmentAndLocation(),this.masterService.getBranchDashboardRequisitionByAge(this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.reqByAgeFilter,this.Department).subscribe(n=>{let o=n[0];if(o){this.dataReqAge=!0,e=Object.keys(o);for(let c=0;c<e.length;c++)i.push(o[e[c]]);null!=window.chart3&&window.chart3.destroy(),window.chart3=new d.Chart("requisitionAge",{type:"horizontalBar",data:{labels:e,datasets:[{data:i,backgroundColor:"#72DA79",barThickness:20,borderColor:"#fff"}]},options:{legend:{display:!1},plugins:{legend:{labels:{fontColor:"#fff",fontSize:18}}},scales:{yAxes:[{display:!0,stacked:!0,gridLines:{display:!1},ticks:{suggestedMin:0,beginAtZero:!0}}],xAxes:[{}]},tooltips:{enabled:!0},hover:{animationDuration:0},animation:{duration:1,onComplete:function(){var c=window.chart3,h=c.ctx;h.font=d.Chart.helpers.fontString(d.Chart.defaults.global.defaultFontSize,d.Chart.defaults.global.defaultFontStyle,d.Chart.defaults.global.defaultFontFamily),h.textAlign="center",h.textBaseline="center",h.fillStyle="#fff",window.chart3.data.datasets.forEach(function(r,s){c.controller.getDatasetMeta(s).data.forEach(function(p,f){h.fillText(r.data[f],p._model.x-35,p._model.y+3)})})}}}})}},n=>{this.alertService.error(n.error)})}onClickOpenDashboardCard(){this.reInitialiseDepartmentAndLocation(),this.viewDetails=!0,this.masterService.getDashboardOpenRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,!1,this.Department,this.InsideOutsideValley,this.viewDetails).subscribe(e=>{"ok"==e.status&&this.dashboardPopup.show("Open Requisition Detail",e.result)},e=>{this.alertService.error(e.error)}),this.initialiseDepartmentAndLocation()}onClickApproveDashboardCard(){this.reInitialiseDepartmentAndLocation(),this.viewDetails=!0,this.masterService.getDashboardApprovedRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,!1,this.Department,this.InsideOutsideValley,this.viewDetails).subscribe(e=>{"ok"==e.status&&this.dashboardPopup.show("Approved Requisition Detail",e.result)},e=>{this.alertService.error(e.error)}),this.initialiseDepartmentAndLocation()}onClickIntransitDashboardCard(){this.viewDetails=!0,this.masterService.getBranchDashboardIntransitData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department,this.viewDetails,"%").subscribe(i=>{"ok"==i.status&&this.dashboardPopup.show("Intransit Requisition Detail",i.result,this.Department,this.Division)},i=>{this.alertService.error(i.error)}),this.initialiseDepartmentAndLocation()}onClickExcessDashboardCard(){this.reInitialiseDepartmentAndLocation(),this.viewDetails=!0,this.masterService.getBranchDashboardTotalExcessData(this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department,this.viewDetails).subscribe(e=>{"ok"==e.status&&this.dashboardPopup.show("Total Excess Detail",e.result)},e=>{this.alertService.error(e.error)}),this.initialiseDepartmentAndLocation()}onClickShortageDashboardCard(){this.reInitialiseDepartmentAndLocation(),this.viewDetails=!0,this.masterService.getBranchDashboardTotalShortageData(this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department,this.viewDetails).subscribe(e=>{"ok"==e.status&&this.dashboardPopup.show("Total Shortage Detail",e.result)},e=>{this.alertService.error(e.error)}),this.initialiseDepartmentAndLocation()}onClickCloseDashboardCard(){this.reInitialiseDepartmentAndLocation(),this.viewDetails=!0,this.masterService.getBranchDashboardClosedRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department,this.viewDetails).subscribe(e=>{"ok"==e.status&&this.dashboardPopup.show("Closed Requisition Detail",e.result)},e=>{this.alertService.error(e.error)}),this.initialiseDepartmentAndLocation()}onClickReqStatusBar(){let e,i;this.reInitialiseDepartmentAndLocation(),this.spinnerService.show("Loading..."),this.viewDetails=!0,this.viewDetails=!0,this.masterService.getDashboardApprovedRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,!1,this.Department,this.InsideOutsideValley,this.viewDetails).subscribe(n=>{"ok"==n.status&&(e=n.result,this.masterService.getBranchDashboardIntransitItemDetails(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,this.Department).subscribe(o=>{"ok"==o.status&&(i=o.result,this.masterService.getDashboardOpenRequisitionData(this.Currdate,this.userProfile.userDivision,this.userProfile.PhiscalYearInfo.PhiscalID,!1,this.Department,this.InsideOutsideValley,this.viewDetails).subscribe(c=>{"ok"==c.status&&(this.spinnerService.hide(),this.dashboardPopup.show("Requisition Status",c.result,e,i))},c=>{this.alertService.error(c.error)}))},o=>{this.alertService.error(o.error)}))},n=>{this.alertService.error(n.error)}),this.initialiseDepartmentAndLocation()}onClickReqEventChart(){this.reInitialiseDepartmentAndLocation(),this.dashboardPopup.show("Department Wise Requisition Data",""),this.initialiseDepartmentAndLocation()}filters(e){this.viewDetails=!1,this.getOverallApiData(),this.initialiseDepartmentAndLocation()}initialiseDepartmentAndLocation(){0==this.Department&&(this.Department="All")}reInitialiseDepartmentAndLocation(){"All"==this.Department&&(this.Department=0)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(I.q),t.Y36(b.F0),t.Y36(C.eN),t.Y36(w.e),t.Y36(A.R),t.Y36(q.V),t.Y36(S.P),t.Y36(E.c),t.Y36(O))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-branchwise-rq-dashboard"]],viewQuery:function(e,i){if(1&e&&t.Gf(y,5),2&e){let n;t.iGM(n=t.CRH())&&(i.dashboardPopup=n.first)}},decls:135,vars:28,consts:[[1,"container-fluid",2,"height","88vh","overflow-y","scroll"],[1,"top-right"],[1,"row",2,"border","1px solid #f5f5dc","border-radius","3px","padding","2px 0","background-color","#f0f8ff","width","100.5%"],[1,"col-lg-4"],[1,"col-lg-8"],[1,"row"],[1,"col-md-8"],[1,"col-md-4"],[2,"width","25%"],["id","department",3,"options","labelKey","valueKey","ngModel","ngModelChange","selectOption"],[1,"top-rectangles"],[1,"row",2,"padding","0 15px"],[1,"rectangle-item"],[1,"rectangle","color-green",3,"click"],[1,"icon"],["src","../../../assets/icons/Open.png","alt","Group"],[1,"rectangle","color-blue",3,"click"],["src","../../../assets/icons/Approved.png","alt","Group"],[1,"rectangle","color-yellow",3,"click"],["src","../../../assets/icons/new-intransit.png","alt","Group"],[1,"rectangle","color-dark-red",3,"click"],["src","../../../assets/icons/Close.png","alt","Group"],[1,"rectangle","color-lightgreen",3,"click"],["src","../../../assets/icons/Excess.png","alt","Group"],[1,"rectangle","color-red",3,"click"],["src","../../../assets/icons/Shortage.png","alt","Group"],[1,"row",2,"margin","0","align-items","end"],[1,"col-lg-7","chart_container",2,"margin-top","20px"],[1,"bar-chart-container",2,"background","#fff","padding","20px","padding-bottom","40px","box-shadow","rgba(99, 99, 99, 0.2) 0px 2px 8px 0px","position","relative"],["class","loadingGraph",4,"ngIf"],[1,"left-title"],["src","../../../assets/icons/leftarrow.svg","alt","",1,"leftarow"],["src","../../../assets/icons/leftarrow.svg","alt","",1,"rightarow"],[1,"bottomMidtext"],[1,"chartsheading"],[1,"left"],[2,"font-style","normal","font-weight","600","font-size","17px","line-height","21px","color","#323B7E"],[1,"dateCard"],["id","Date","type","date",1,"ng-untouched","ng-pristine","ng-valid",2,"margin-right","0",3,"ngModel","max","ngModelChange","change"],[1,"canvas-wrapperDesktop","CanvasrequisitionEvent",3,"dblclick"],["src","../../../assets/icons/uparrow.svg","alt","",1,"leftuparrow"],["id","BranchwiserequisitionEvent",3,"ngStyle"],[1,"col-lg-5","chart_container",2,"margin-top","20px"],[1,"bar-chart-container",2,"background","#fff","padding","20px","box-shadow","rgba(99, 99, 99, 0.2) 0px 2px 8px 0px","position","relative"],[1,"chartsheading",2,"padding-bottom","30px"],[1,"canvas-wrapperDesktop",3,"dblclick"],["src","../../../assets/icons/uparrow.svg","alt",""],["id","BranchwiserequisitionStatus","width","700","height","380"],[1,"row",2,"margin","0"],[1,"col-lg-12","chart_container",2,"margin-top","20px"],[1,"left-title",2,"left","10px"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange","change"],["selected","","value","Approved"],["value","Open"],["value","Closed"],[1,"canvas-wrapperDesktop"],["id","requisitionAge","height","80%"],["dashboardPopup",""],[1,"loadingGraph"],["src","../../../assets/spinner.gif","alt","loading"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4)(5,"div",5),t._UZ(6,"div",6),t.TgZ(7,"div",7)(8,"div",5)(9,"label",8),t._uU(10,"Department: "),t.qZA(),t.TgZ(11,"app-simple-suggest",9),t.NdJ("ngModelChange",function(o){return i.Department=o})("selectOption",function(o){return i.filters(o)}),t.qZA()()()()()()(),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),t.NdJ("click",function(){return i.onClickOpenDashboardCard()}),t.TgZ(16,"u"),t._uU(17,"Open Requisition"),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA(),t.TgZ(20,"p"),t._uU(21),t.qZA(),t.TgZ(22,"div",14),t._UZ(23,"img",15),t.qZA()()(),t.TgZ(24,"div",12)(25,"div",16),t.NdJ("click",function(){return i.onClickApproveDashboardCard()}),t.TgZ(26,"u"),t._uU(27,"Approved Requisition"),t.qZA(),t.TgZ(28,"p"),t._uU(29),t.qZA(),t.TgZ(30,"p"),t._uU(31),t.qZA(),t.TgZ(32,"div",14),t._UZ(33,"img",17),t.qZA()()(),t.TgZ(34,"div",12)(35,"div",18),t.NdJ("click",function(){return i.onClickIntransitDashboardCard()}),t.TgZ(36,"u"),t._uU(37,"Intransit Requisition"),t.qZA(),t.TgZ(38,"p"),t._uU(39),t.qZA(),t.TgZ(40,"p"),t._uU(41),t.qZA(),t.TgZ(42,"div",14),t._UZ(43,"img",19),t.qZA()()(),t.TgZ(44,"div",12)(45,"div",20),t.NdJ("click",function(){return i.onClickCloseDashboardCard()}),t.TgZ(46,"u"),t._uU(47,"Closed Requisition"),t.qZA(),t.TgZ(48,"p"),t._uU(49),t.qZA(),t.TgZ(50,"p"),t._uU(51),t.qZA(),t.TgZ(52,"div",14),t._UZ(53,"img",21),t.qZA()()(),t.TgZ(54,"div",12)(55,"div",22),t.NdJ("click",function(){return i.onClickExcessDashboardCard()}),t.TgZ(56,"u"),t._uU(57,"Total Excess"),t.qZA(),t.TgZ(58,"p"),t._uU(59),t.qZA(),t.TgZ(60,"p"),t._uU(61),t.qZA(),t.TgZ(62,"div",14),t._UZ(63,"img",23),t.qZA()()(),t.TgZ(64,"div",12)(65,"div",24),t.NdJ("click",function(){return i.onClickShortageDashboardCard()}),t.TgZ(66,"u"),t._uU(67,"Total Shortage"),t.qZA(),t.TgZ(68,"p"),t._uU(69),t.qZA(),t.TgZ(70,"p"),t._uU(71),t.qZA(),t.TgZ(72,"div",14),t._UZ(73,"img",25),t.qZA()()()()(),t.TgZ(74,"div",26)(75,"div",27)(76,"div",28),t.YNc(77,k,2,0,"div",29),t.TgZ(78,"span",30),t._uU(79,"Departments"),t.qZA(),t._UZ(80,"img",31)(81,"img",32),t.TgZ(82,"span",33),t._uU(83,"No. of Items"),t.qZA(),t.TgZ(84,"div",34)(85,"div",35)(86,"span",36),t._uU(87,"REQUISITION EVENTS"),t.qZA()(),t.TgZ(88,"div",37)(89,"input",38),t.NdJ("ngModelChange",function(o){return i.reqEventDate=o})("change",function(){return i.BranchwiserequisitionEvent()}),t.qZA()()(),t.TgZ(90,"div",39),t.NdJ("dblclick",function(){return i.onClickReqEventChart()}),t._UZ(91,"img",40),t.TgZ(92,"canvas",41),t._uU(93),t.qZA()()()(),t.TgZ(94,"div",42)(95,"div",43),t.YNc(96,B,2,0,"div",29),t.TgZ(97,"span",30),t._uU(98,"No. of Items"),t.qZA(),t.TgZ(99,"div",44)(100,"div",35)(101,"span",36),t._uU(102,"REQUISITION STATUS"),t.qZA()()(),t.TgZ(103,"div",45),t.NdJ("dblclick",function(){return i.onClickReqStatusBar()}),t._UZ(104,"img",46),t.TgZ(105,"canvas",47),t._uU(106),t.qZA()()()()(),t.TgZ(107,"div",48)(108,"div",49),t.YNc(109,U,2,0,"div",29),t.TgZ(110,"div",28)(111,"span",50),t._uU(112,"Days"),t.qZA(),t._UZ(113,"img",31)(114,"img",32),t.TgZ(115,"span",33),t._uU(116,"No. of Items"),t.qZA(),t.TgZ(117,"div",34)(118,"div",35)(119,"span",36),t._uU(120,"REQUISITION AGE"),t.qZA()(),t.TgZ(121,"div",37)(122,"select",51),t.NdJ("ngModelChange",function(o){return i.reqByAgeFilter=o})("change",function(){return i.requisitionAge()}),t.TgZ(123,"option",52),t._uU(124,"Approved"),t.qZA(),t.TgZ(125,"option",53),t._uU(126,"Open"),t.qZA(),t.TgZ(127,"option",54),t._uU(128,"Closed"),t.qZA()()()(),t.TgZ(129,"div",55),t._UZ(130,"img",40),t.TgZ(131,"canvas",56),t._uU(132),t.qZA()()()()()(),t._UZ(133,"dashboard-detail-popup",null,57)),2&e&&(t.xp6(11),t.Q6J("options",i.masterService.departmentList)("labelKey","DepartmentName")("valueKey","ID")("ngModel",i.Department),t.xp6(8),t.hij("Total Quantity : ",i.TOTOPQTY,""),t.xp6(2),t.hij("No. of Items : ",i.TOTOPITEM,""),t.xp6(8),t.hij("Total Quantity : ",i.TOTAPPQTY,""),t.xp6(2),t.hij("No. of Items : ",i.TOTAPPITEM,""),t.xp6(8),t.hij("Total Quantity : ",i.TOTINTRANSITQTY,""),t.xp6(2),t.hij("No. of Items : ",i.TOTINTRANSITITEM,""),t.xp6(8),t.hij("Total Quantity : ",i.closedRequisition.CLS_QTY,""),t.xp6(2),t.hij("No. of Items : ",i.closedRequisition.CLS_ITEM,""),t.xp6(8),t.hij("Total Quantity : ",i.TOTEXCESSQTY,""),t.xp6(2),t.hij("No. of Items : ",i.TOTEXCESSITEM,""),t.xp6(8),t.hij("Total Quantity : ",i.TOTSHORTAGEQTY,""),t.xp6(2),t.hij("No. of Items : ",i.TOTSHORTAGEITEM,""),t.xp6(6),t.Q6J("ngIf",!i.dataReqEvent),t.xp6(12),t.Q6J("ngModel",i.reqEventDate)("max",i.Currdate),t.xp6(3),t.Q6J("ngStyle",t.VKq(26,N,i.dataReqEvent?"":"380px")),t.xp6(1),t.hij(" ",i.BranchwiserequisitionEvent,""),t.xp6(3),t.Q6J("ngIf",!i.dataReqStatus),t.xp6(10),t.hij(" ",i.BranchwiserequisitionStatus,""),t.xp6(3),t.Q6J("ngIf",!i.dataReqAge),t.xp6(13),t.Q6J("ngModel",i.reqByAgeFilter),t.xp6(10),t.Oqu(i.requisitionAge))},dependencies:[m.O5,m.PC,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.On,Z.O,R.c],styles:['.dashboardContents[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]{padding:15px;margin-left:5px;border-radius:5px;background-color:#fff;box-shadow:#63636333 0 2px 8px}.chart_container.progressChart[_ngcontent-%COMP%]{padding-bottom:144px;box-shadow:#0000003d 0 3px 8px}@media screen and (max-width: 767px){.dashboardContents[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]{margin-left:0}}.dashboardContents[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .chartsheading[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.dashboardContents[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .chartsheading[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#efefef;border-radius:2px;padding:5px;border:none}@media screen and (max-width: 767px){.dashboardContents[_ngcontent-%COMP%]   .bar-chart-container[_ngcontent-%COMP%]   .last7days[_ngcontent-%COMP%]{display:none}}.progressChart[_ngcontent-%COMP%]   .chartsheading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:11px;line-height:13px;color:#00000080}.progressChart[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:17px;line-height:25px;text-transform:uppercase;color:#323b7e}.chartsDetails[_ngcontent-%COMP%]{position:absolute;top:44%;right:15%}.chartsDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:14px;line-height:13px;position:relative;color:#00000080}.chartsDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"";height:10px;width:10px;border-radius:50%;position:absolute;left:-16px;top:18%}.chartsDetails[_ngcontent-%COMP%]   p.firsttype[_ngcontent-%COMP%]:before{background-color:#f84782}.chartsDetails[_ngcontent-%COMP%]   p.sectype[_ngcontent-%COMP%]:before{background-color:#4c4cff}.chartsDetails[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:13px;color:#000000d6;display:block;margin-bottom:15px;margin-top:5px}.canvas-wrapper[_ngcontent-%COMP%]{position:absolute;top:68px;left:0}.dateCard[_ngcontent-%COMP%]{float:right;margin-top:-20px}.canvas-wrapperDesktop[_ngcontent-%COMP%]{position:relative;padding-left:30px}.CanvasrequisitionEvent[_ngcontent-%COMP%]{padding-left:30px}.canvas-wrapperDesktop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:20px;top:50%;height:80%;transform:translate(-50%,-50%)}.left-title[_ngcontent-%COMP%]{position:absolute;left:-8px;top:40%;transform:translate(-50%,-50%);rotate:270deg;font-weight:500;font-size:12px;line-height:15px;color:#0009}.leftarow[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%);bottom:16px;left:30%!important}.bottomMidtext[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%);bottom:10px;left:53%!important;font-weight:500;font-size:12px;line-height:15px;color:#0009}.rightarow[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%);bottom:24px;right:23%!important;rotate:540deg}.loadingGraph[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center}.loadingGraph[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10%;position:absolute;top:42%;left:42%}.top-rectangles[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{justify-content:space-between}.top-rectangles[_ngcontent-%COMP%]   .rectangle-item[_ngcontent-%COMP%]{flex:0 0 18.5%}@media screen and (max-width: 1199px){.top-rectangles[_ngcontent-%COMP%]   .rectangle-item[_ngcontent-%COMP%]{flex:0 0 32.5%}}@media screen and (max-width: 767px){.top-rectangles[_ngcontent-%COMP%]   .rectangle-item[_ngcontent-%COMP%]{flex:0 0 49.5%}}.top-rectangles[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;border-radius:3px;box-shadow:#959da533 0 8px 24px;border:1px solid #ddd;height:84%}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-dark-red[_ngcontent-%COMP%]{background-color:#c64329;color:#fff}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-dark-red[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-blue[_ngcontent-%COMP%]{background-color:#6cbeda;color:#fff}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-blue[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-white[_ngcontent-%COMP%]{color:#000;background-color:#fff}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-pink[_ngcontent-%COMP%]{background-color:#e06dde;color:#fff}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-pink[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-red[_ngcontent-%COMP%]{background-color:#943636;color:#fff}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-red[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-green[_ngcontent-%COMP%]{background-color:#69cf70;color:#fff}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-green[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-lightgreen[_ngcontent-%COMP%]{background-color:#64cf8b;color:#fff}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-lightgreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-yellow[_ngcontent-%COMP%]{background-color:#881;color:#fff}.top-rectangles[_ngcontent-%COMP%]   .rectangle.color-yellow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1)}.top-rectangles[_ngcontent-%COMP%]   .rectangle.border-pink[_ngcontent-%COMP%]{border:1px solid #e06dde;color:#e06dde}.top-rectangles[_ngcontent-%COMP%]   .rectangle.border-green[_ngcontent-%COMP%]{border:1px solid #0c9b6d;color:#0c9b6d}.top-rectangles[_ngcontent-%COMP%]   .rectangle.border-yellow[_ngcontent-%COMP%]{border:1px solid yellow;color:#ff0}.top-rectangles[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{text-align:right;margin-top:-20px}.top-rectangles[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:33px}.top-rectangles[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.1rem;font-size:14px}.top-rectangles[_ngcontent-%COMP%]   .rectangle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.top-right[_ngcontent-%COMP%]{margin-top:15px}.top-right[_ngcontent-%COMP%]   .col-lg-12[_ngcontent-%COMP%]{text-align:right}.top-right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.top-right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{border:1px solid #ddd;padding:14px 8px;margin:0 15px;border-radius:3px}.top-right[_ngcontent-%COMP%]   .print[_ngcontent-%COMP%]{background-color:#0ca171;padding:5px 8px;color:#fff;border-radius:3px}  #department input{width:181px;height:30px;border-radius:5px}']}),a})();const L=[{path:"",component:_,children:[{path:"BranchwiseRqDashboard",component:_}]}];let Q=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[b.Bz.forChild(L),b.Bz]}),a})();var Y=l(4024),F=l(47766);console.log("listarray",[11,1,1,1,1,2]);let J=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[M.p,O,C.JF],imports:[m.ez,u.u5,u.UX,C.JF,Q,Y.x,F.e]}),a})()}}]);