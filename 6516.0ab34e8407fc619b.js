(self.webpackChunkimserp=self.webpackChunkimserp||[]).push([[6516],{49457:function(N,G){var u;void 0!==(u=function(){"use strict";function C(g,l,S){var h=new XMLHttpRequest;h.open("GET",g),h.responseType="blob",h.onload=function(){E(h.response,l,S)},h.onerror=function(){console.error("could not download file")},h.send()}function t(g){var l=new XMLHttpRequest;l.open("HEAD",g,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function p(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(l)}}var A="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,T=A.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),E=A.saveAs||("object"!=typeof window||window!==A?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(g,l,S){var h=A.URL||A.webkitURL,m=document.createElement("a");m.download=l=l||g.name||"download",m.rel="noopener","string"==typeof g?(m.href=g,m.origin===location.origin?p(m):t(m.href)?C(g,l,S):p(m,m.target="_blank")):(m.href=h.createObjectURL(g),setTimeout(function(){h.revokeObjectURL(m.href)},4e4),setTimeout(function(){p(m)},0))}:"msSaveOrOpenBlob"in navigator?function(g,l,S){if(l=l||g.name||"download","string"!=typeof g)navigator.msSaveOrOpenBlob(function M(g,l){return typeof l>"u"?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\ufeff",g],{type:g.type}):g}(g,S),l);else if(t(g))C(g,l,S);else{var h=document.createElement("a");h.href=g,h.target="_blank",setTimeout(function(){p(h)})}}:function(g,l,S,h){if((h=h||open("","_blank"))&&(h.document.title=h.document.body.innerText="downloading..."),"string"==typeof g)return C(g,l,S);var m="application/octet-stream"===g.type,B=/constructor/i.test(A.HTMLElement)||A.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||m&&B||T)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var x=w.result;x=L?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=x:location=x,h=null},w.readAsDataURL(g)}else{var j=A.URL||A.webkitURL,D=j.createObjectURL(g);h?h.location=D:location.href=D,h=null,setTimeout(function(){j.revokeObjectURL(D)},4e4)}});A.saveAs=E.saveAs=E,N.exports=E}.apply(G,[]))&&(N.exports=u)},39773:(N,G,d)=>{"use strict";d.d(G,{X:()=>M});var b=d(88692),u=d(64537);let M=(()=>{class C{static forRoot(){return{ngModule:C}}}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({imports:[b.ez]}),C})()},55618:(N,G,d)=>{"use strict";d.d(G,{c:()=>g});var b=d(88692),u=d(71800),M=d(72533),C=d(18488),t=d(53074),p=d(20092),A=d(47766),T=d(64537);let E=(()=>{class l{static forRoot(){return{ngModule:l}}}return l.\u0275fac=function(h){return new(h||l)},l.\u0275mod=T.oAB({type:l}),l.\u0275inj=T.cJS({imports:[b.ez,p.u5,p.UX,M.JX]}),l})(),g=(()=>{class l{static forRoot(){return{ngModule:l,providers:[t.P,C.G]}}}return l.\u0275fac=function(h){return new(h||l)},l.\u0275mod=T.oAB({type:l}),l.\u0275inj=T.cJS({imports:[b.ez,u.zk.forRoot(),M.JX,b.ez,p.u5,p.UX,A.e,E.forRoot()]}),l})()},16516:(N,G,d)=>{"use strict";d.r(G),d.d(G,{ProductMaster2Module:()=>Fe});var b=d(88692),u=d(20092),M=d(56893),C=d(7976),t=d(64537),p=d(79765),A=d(25917),T=d(64298),E=d(92340),g=d(35732),l=d(71180),S=d(67297),h=d(67311);let m=(()=>{class n{constructor(e,r,o,i,a){this.http=e,this.state=r,this.authservice=o,this.alertService=i,this.arouter=a,this.searchItemList=[],this.EXCEL_TYPE="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.EXCEL_EXTENSION=".xlsx",this.PBarCodeList=[],this.MultiStockList=[],this.productObj={},this.pObj={},this.isrowClicked=!1,this.TempProductObj={},this.groupSelectObj={},this.userProfile={},this.dataForActivityLog=[],this._ItemList=[],this.imsGridSettings=new T.U5,this.imsGridSettingsforProductList=new T.U5,this.imsGridSettingsforGroupList=new T.U5,this.userProfile=o.getUserProfile()}get apiUrl(){let e=E.N.apiUrl,r="";return!!e&&e.length>0&&(r=e),r}getParentWiseProduct(e){return this.http.get(this.apiUrl+"/getParentWiseProduct/"+e)}getSearchProducts(e){return this.http.get(this.apiUrl+"/getSearchProducts/"+e)}getAutoGenerateMenuCode(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getNewMenucodeAssets/"+e).subscribe(i=>{"ok"==i.status&&(o.next(i),o.unsubscribe())},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getUniqueMCode(){let e={status:"error",result:""},r=new p.xQ;return this.http.get(this.apiUrl+"/getUniqueMcode").subscribe(o=>{"ok"==o.status&&(r.next(o),r.unsubscribe())},o=>{e.status="error",e.result=o,r.next(e),r.unsubscribe()}),r}getColorGroup(){return this.http.get(`${this.apiUrl}/getAllProductColorGroup`)}getProduct(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getProduct/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getProductForEdit(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getAssetsMenuitemByMcode/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getProductPriceForView(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getProductPriceByMcode/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getInitialValuesForNewProduct(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getInitialValuesForNewProduct/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}saveBrand(e){let r={status:"error",result:""},o=new p.xQ;return this.http.post(this.apiUrl+"/saveBrand",e).subscribe(a=>{let c=a;"ok"==c.status?(r.status="ok",r.result=c.result,o.next(r),o.unsubscribe()):(r.status="error1",r.result=c.result,o.next(r),o.unsubscribe())},a=>{r.status="error2",r.result=a,o.next(r),o.unsubscribe()}),o}saveModel(e){let r={status:"error",result:""},o=new p.xQ;return this.http.post(this.apiUrl+"/saveModel",e).subscribe(a=>{let c=a;"ok"==c.status?(r.status="ok",r.result=c.result,o.next(r),o.unsubscribe()):(r.status="error1",r.result=c.result,o.next(r),o.unsubscribe())},a=>{r.status="error2",r.result=a,o.next(r),o.unsubscribe()}),o}getListFromKey(e,r){let o={status:"error",result:""},i=new p.xQ;return this.http.get(this.apiUrl+e+r).subscribe(a=>{i.next(a),i.unsubscribe()},a=>{o.status="error",o.result=a,i.next(o),i.unsubscribe()}),i}getUploadFile(e){let r={status:"error",result:"error"},o=new p.xQ;return this.http.post(this.apiUrl+"/SaveImportMenuitemFile",e).subscribe(a=>{o.next(a),o.unsubscribe()},a=>{r.status="error",r.result=a,o.next(r),o.unsubscribe()}),o}GetAllProducts(){try{return this._ItemList.length>0?(0,A.of)(this._ItemList):(this._ItemListObservable$||(this._ItemListObservable$=null,this._ItemListObservable$=this.http.get(this.apiUrl+"/AllProducts").map(e=>(this._ItemList.push(e),this._ItemList))),this._ItemListObservable$)}catch{}}productMasterTableSetting(e){return{mode:"external",add:{addButtonContent:""},view:{viewButtonContent:"View",saveButtonContent:'<i class="ion-checkmark"></i>',cancelButtonContent:'<i class="ion-close"></i>'},edit:{editButtonContent:"Edit",saveButtonContent:'<i class="ion-checkmark"></i>',cancelButtonContent:'<i class="ion-close"></i>'},delete:{deleteButtonContent:" ",confirmDelete:!0},columns:{MENUCODE:{title:"Product Code",type:"number"},DESCA:{title:"Product Name",type:"string"},MotherPack:{title:"Mother Pack",type:"string"},Brand:{title:"Brand",type:"string"},BusinessUnit:{title:"Business Unit",type:"string"},STATUS:{title:"Status",type:"string",width:"9%",valuePrepareFunction:r=>1==r?"Active":"InActive",filter:{type:"list",config:{selectText:"Show all",list:[{value:1,title:"Active"},{value:0,title:"InActive"}]}}}}}}getimsgridSetting(){return this.imsGridSettings={title:"All Product",apiEndpoints:"/GetAllProduct",pageSize:10,showActionButton:!0,columns:[{key:"DESCA",title:"Item Name",hidden:!1,noSearch:!1,type:"string",width:"250px"},{key:"MENUCODE",title:"Item Code",hidden:!1,noSearch:!1,type:"string",width:"112px"},{key:"BASEUNIT",title:"Unit",hidden:!1,noSearch:!1,type:"string",width:"70px"},{key:"PRATE_A",title:"P-Rate",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"RATE_A",title:"S-Rate",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"VAT",title:"Vat",hidden:!1,width:"72px",noSearch:!1,type:"string"},{key:"PARENTS",title:"Parent",hidden:!1,noSearch:!1,type:"string",width:"160px"},{key:"status",title:"Status",width:"104px",valuePrepareFunction:e=>1==e?"Active":"InActive"}],actionKeys:[{text:"view",title:"View",icon:"fa fa-view",type:T.Dw.VIEW},{text:"Edit",title:"Edit",icon:"fa fa-eye",type:T.Dw.EDIT}]}}getProductList(){return this.imsGridSettingsforProductList={title:"All Product",apiEndpoints:"/getAllProductList",pageSize:10,showActionButton:!0,columns:[{key:"DESCA",title:"Item Name",hidden:!1,noSearch:!1,type:"string",width:"250px"},{key:"ITEM_CODE",title:"Item Code",hidden:!1,noSearch:!1,type:"string",width:"112px"},{key:"UNIT",title:"Unit",hidden:!1,noSearch:!1,type:"string",width:"70px"},{key:"PRATE",title:"P-Rate",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"SRATE",title:"S-Rate",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"VAT",title:"Vat",hidden:!1,width:"72px",noSearch:!1,type:"string"},{key:"PARENT",title:"Parent",hidden:!1,noSearch:!1,type:"string",width:"160px"},{key:"SUPPLIER",title:"Supplier",hidden:!1,noSearch:!1,type:"string",width:"160px"},{key:"BARCODE",title:"Barcode",hidden:!1,noSearch:!1,type:"string",width:"160px"},{key:"MCODE",title:"Mcode",hidden:!1,noSearch:!1,type:"string",width:"160px"}],actionKeys:[{text:"view",title:"View",icon:"fa fa-view",type:T.Dw.VIEW},{text:"Edit",title:"Edit",icon:"fa fa-eye",type:T.Dw.EDIT}]}}getGroupList(){return this.imsGridSettingsforGroupList={title:"All Group",apiEndpoints:"/getAllGroupList",pageSize:10,showActionButton:!0,columns:[{key:"DESCA",title:"Group Name",hidden:!1,noSearch:!1,type:"string",width:"250px"},{key:"PARENT_GROUP",title:"Parent Group",hidden:!1,noSearch:!1,type:"string",width:"112px"},{key:"GROUP_CODE",title:"Group Code",hidden:!1,noSearch:!1,type:"string",width:"70px"},{key:"REC_MARGIN",title:"Rec Margin",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"CATEGORY",title:"Category",hidden:!1,noSearch:!1,type:"string",width:"85px"},{key:"EXTRA_CATEGORY",title:"Extra Catagory",hidden:!1,width:"72px",noSearch:!1,type:"string"},{key:"MCODE",title:"Mcode",hidden:!1,noSearch:!1,type:"string",width:"160px"}],actionKeys:[{text:"view",title:"View",icon:"fa fa-view",type:T.Dw.VIEW},{text:"Edit",title:"Edit",icon:"fa fa-eye",type:T.Dw.EDIT}]}}getMCATbyId(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getMCATbyId/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getMCAT1byId(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getMCAT1byId/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getRecMargin(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getRecMargin/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getFCodeFromTreeNode(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getFcodeFromTreeNode/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getECODE(e,r){let o={status:"error",result:""},i=new p.xQ;return this.http.get(this.apiUrl+"/getMaxECode/"+e+"/"+r).subscribe(a=>{i.next(a),i.unsubscribe()},a=>{o.status="error",o.result=a,i.next(o),i.unsubscribe()}),i}deleteMenuitem(e,r){let i=new p.xQ;return this.http.get(this.apiUrl+"/DeleteProductMasterFromMCode/"+e+"/"+r).subscribe(a=>{"ok"==a.status&&(i.next(a),i.unsubscribe())}),i}nullToZeroConverter(e){return void 0===e||null==e||""===e||"Infinity"===e||"NaN"===e||isNaN(parseFloat(e))?0:parseFloat(e)}getProductGroupListByID(e,r,o,i,a,c="",f=""){let v={status:"error",result:""},_=new p.xQ,P=`/getPaginatedAssetProductGroupListByID?ID=${e}&PARENTID=${r}&HASCHILD=${o}&sortBy=${c}&currentPage=${i}&maxResultCount=${a}`;return f&&(P=`/getPaginatedAssetProductGroupListByID?ID=${e}&PARENTID=${r}&HASCHILD=${o}&sortBy=${c}&currentPage=${i}&maxResultCount=${a}&filters=${f}`),this.http.get(this.apiUrl+P).subscribe(O=>{_.next(O),_.unsubscribe()},O=>{v.status="error",v.result=O,_.next(v),_.unsubscribe()}),_}getProductListByID(e,r,o,i,a,c="",f=""){let v={status:"error",result:""},_=new p.xQ,P=`/getPaginatedAssetProductListByID?ID=${e}&PARENTID=${r}&HASCHILD=${o}&sortBy=${c}&currentPage=${i}&maxResultCount=${a}`;return f&&""!=f&&null!=f&&(console.log("filters1",f),P=`/getPaginatedAssetProductListByID?ID=${e}&PARENTID=${r}&HASCHILD=${o}&sortBy=${c}&currentPage=${i}&maxResultCount=${a}&filters=${f}`),this.http.get(this.apiUrl+P).subscribe(O=>{_.next(O),_.unsubscribe()},O=>{v.status="error",v.result=O,_.next(v),_.unsubscribe()}),_}getMCODEusingBCODE(e){let r={status:"error",result:""},o=new p.xQ;return this.http.post(this.apiUrl+"/getMCODEusingBCODE",{ID:e}).subscribe(a=>{o.next(a),o.unsubscribe()},a=>{r.status="error",r.result=a,o.next(r),o.unsubscribe()}),o}getMCODEusingBARCODE(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getMCODEusingBARCODE/"+e).subscribe(a=>{o.next(a),o.unsubscribe()},a=>{r.status="error",r.result=a,o.next(r),o.unsubscribe()}),o}getChildrenGrpAndItem(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getChildrenGrpAndItem/"+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error",r.result=i,o.next(r),o.unsubscribe()}),o}getProductListByIDandDate(e,r,o,i){let a={status:"error",result:""},c=new p.xQ;return this.http.post(this.apiUrl+"/getProductListByID",{ID:e,PARENTID:r,HASCHILD:o,sort:i}).subscribe(v=>{c.next(v),c.unsubscribe()},v=>{a.status="error",a.result=v,c.next(a),c.unsubscribe()}),c}getProductGroupListByIDandDate(e,r,o,i){let a={status:"error",result:""},c=new p.xQ;return this.http.post(this.apiUrl+"/getProductGroupListByID",{ID:e,PARENTID:r,HASCHILD:o,sort:i}).subscribe(v=>{c.next(v),c.unsubscribe()},v=>{a.status="error",a.result=v,c.next(a),c.unsubscribe()}),c}updateBarcodeMapping(e){return this.http.post(this.apiUrl+"/UpdateBarcodeMapping",e)}checkDuplicateBarcode(e,r){null==r&&(r="null");let o={status:"error",result:""},i=new p.xQ;return this.http.get(this.apiUrl+"/checkDuplicateBarcode/"+e+"/"+r).subscribe(a=>{i.next(a),i.unsubscribe()},a=>{o.status="error",o.result=a,i.next(o),i.unsubscribe()}),i}getMainGroupList(){let e={status:"error",result:""},r=new p.xQ;return this.http.get(this.apiUrl+"/getAssetMainGroupList").subscribe(o=>{r.next(o),r.unsubscribe()},o=>{e.status="error",e.result=o,r.next(e),r.unsubscribe()}),r}getSubGroupList(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getAssetSubGroupList?SELECTEDGROUPID="+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error2",r.result=i,o.next(r),o.unsubscribe()}),o}getProductInfo(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getAssetProductInfo?GROUPID="+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error2",r.result=i,o.next(r),o.unsubscribe()}),o}getGroupHierarchy(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/getAssetGroupHierarchy?GROUPID="+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error2",r.result=i,o.next(r),o.unsubscribe()}),o}checkProductTransaction(e){let r={status:"error",result:""},o=new p.xQ;return this.http.get(this.apiUrl+"/checkProductTransaction?GROUPID="+e).subscribe(i=>{o.next(i),o.unsubscribe()},i=>{r.status="error2",r.result=i,o.next(r),o.unsubscribe()}),o}validateAltUnitInProductMaster(e,r,o){return this.http.get(this.apiUrl+`/ValidateAltUnit?mcode=${e}&altunit=${r}&mode=${o}`)}getPriceHistory(e){return this.http.get(this.apiUrl+`/getPriceHistory?mcode=${e}`)}getAssetIdDetails(e){return this.http.get(this.apiUrl+`/getAssetIdDetails?mcode=${e}`)}getUserActivityLogPagedList(e,r){return this.http.get(this.apiUrl+`/getUserActivityLogPagedList?mcode=${e}&AssetID=${r}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.eN),t.LFG(l.q),t.LFG(S.e),t.LFG(h.c),t.LFG(C.gz))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var B=d(47767),L=d(19344),w=d(49457),j=d(38011),D=d(40216),x=d(53074),U=d(69389),I=d(14970),rt=d(72661);function ot(n,s){if(1&n&&(t.TgZ(0,"span",14),t._UZ(1,"img",15),t.TgZ(2,"label",16),t._uU(3),t.qZA()()),2&n){const e=s.$implicit;t.MGl("title","",e.data.subTitle," "),t.xp6(3),t.Oqu(null==e.data?null:e.data.name)}}function it(n,s){if(1&n&&(t.TgZ(0,"span",14),t._UZ(1,"img",15),t._uU(2),t.qZA()),2&n){const e=s.$implicit;t.MGl("title","",e.data.subTitle," "),t.xp6(2),t.hij(" ",e.data.name,"")}}function nt(n,s){1&n&&t._uU(0,"Loading, please hold....")}function st(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"fieldset",5)(1,"input",6,7),t.NdJ("keyup",function(){t.CHM(e);const o=t.MAs(2),i=t.oxw();return t.KtG(i.filterNodes(o.value))}),t.qZA(),t.TgZ(3,"div",8)(4,"div",9)(5,"tree-root",10,11),t.NdJ("onEvent",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onEvent(o))})("activate",function(o){t.CHM(e);const i=t.MAs(6),a=t.oxw();return t.KtG(a.onselect(i,o))}),t.YNc(7,ot,4,2,"ng-template",null,12,t.W1O),t.YNc(9,it,3,2,"ng-template",null,12,t.W1O),t._uU(11,"\\ "),t.YNc(12,nt,1,0,"ng-template",null,13,t.W1O),t.qZA()(),t._UZ(14,"br"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("ngClass",1==e.masterService.isAddFormShown_1?"disableClass":"regularClass"),t.xp6(1),t.Q6J("disabled",1==e.masterService.isAddFormShown_1),t.xp6(4),t.Q6J("nodes",e.nodes)("focused",!0)("options",e.customTemplateStringOptions)}}function at(n,s){if(1&n&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.MCODE),t.xp6(1),t.hij(" ",null==e?null:e.DESCA,"")}}function ct(n,s){if(1&n&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.MCODE),t.xp6(1),t.hij(" ",null==e?null:e.DESCA,"")}}function dt(n,s){if(1&n&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.MCODE),t.xp6(1),t.hij(" ",null==e?null:e.DESCA,"")}}function ut(n,s){if(1&n&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.MCODE),t.xp6(1),t.hij(" ",null==e?null:e.DESCA,"")}}const R=function(){return{standalone:!0}};function lt(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",0)(2,"label",18),t._uU(3,"Sub Group (C) :"),t.qZA(),t.TgZ(4,"div",19),t._UZ(5,"hr"),t.qZA()(),t.TgZ(6,"div",20)(7,"select",27),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.masterService.groupSelectObj.SUBGROUP_C=o)})("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.selectedSubGroupC(o))}),t.YNc(8,ut,2,2,"option",23),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Q6J("ngModel",e.masterService.groupSelectObj.SUBGROUP_C)("ngModelOptions",t.DdM(4,R))("disabled",e.masterService.disabledSubgroupC),t.xp6(1),t.Q6J("ngForOf",e.masterService.subGroupCList)}}function pt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"fieldset",17)(1,"div",0)(2,"label",18),t._uU(3,"Main Group :"),t.qZA(),t.TgZ(4,"div",19),t._UZ(5,"hr"),t.qZA()(),t.TgZ(6,"div",20)(7,"select",21),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.masterService.groupSelectObj.MGROUP=o)})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.focusToNext())})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.getSubGroupA(o))}),t._UZ(8,"option",22),t.YNc(9,at,2,2,"option",23),t.qZA()(),t.TgZ(10,"div",0)(11,"label",18),t._uU(12,"Sub Group (A) :"),t.qZA(),t.TgZ(13,"div",19),t._UZ(14,"hr"),t.qZA()(),t.TgZ(15,"div",20)(16,"select",24),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.masterService.groupSelectObj.SUBGROUP_A=o)})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.focusToNextgroup())})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.getSubGroupB(o))}),t._UZ(17,"option",22),t.YNc(18,ct,2,2,"option",23),t.qZA()(),t.TgZ(19,"div",0)(20,"label",18),t._uU(21,"Sub Group (B) :"),t.qZA(),t.TgZ(22,"div",19),t._UZ(23,"hr"),t.qZA()(),t.TgZ(24,"div",20)(25,"select",25),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.masterService.groupSelectObj.SUBGROUP_B=o)})("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.getSubGroupC(o))}),t._UZ(26,"option",22),t.YNc(27,dt,2,2,"option",23),t.qZA()(),t.YNc(28,lt,9,5,"ng-container",26),t.qZA()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.masterService.groupSelectObj.MGROUP)("ngModelOptions",t.DdM(12,R)),t.xp6(2),t.Q6J("ngForOf",e.masterService.mainGroupList),t.xp6(7),t.Q6J("ngModel",e.masterService.groupSelectObj.SUBGROUP_A)("ngModelOptions",t.DdM(13,R))("disabled",e.masterService.disabledSubgroupA),t.xp6(2),t.Q6J("ngForOf",e.masterService.subGroupAList),t.xp6(7),t.Q6J("ngModel",e.masterService.groupSelectObj.SUBGROUP_B)("ngModelOptions",t.DdM(14,R))("disabled",e.masterService.disabledSubgroupB),t.xp6(2),t.Q6J("ngForOf",e.masterService.subGroupBList),t.xp6(1),t.Q6J("ngIf","pro"==e.masterService.AppMode)}}let V=(()=>{class n{constructor(e,r,o){this.brandService=e,this.masterService=r,this.productMasterService=o,this.nodes=[],this.selectedNode=new t.vpe,this.selectedGroupInfo=new t.vpe,this.brandsortByDateFilter="",this.mainGroupList=[],this.subGroupAList=[],this.subGroupBList=[],this.subGroupCList=[],this.disabledSubgroupA=!0,this.disabledSubgroupB=!0,this.disabledSubgroupC=!0,this.prodObj={},this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={displayField:"name",isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),allowDrag:!1},console.log("brand tree",this.masterService.AppMode),this.masterService.isAddFormShown_1=!1,this.initTree(),this.productMasterService.getMainGroupList().subscribe(i=>{console.log("Main group",i),i.length>0?(this.mainGroupList=i,this.masterService.mainGroupList=i):(this.mainGroupList=[],this.masterService.mainGroupList=[])})}ngOnInit(){this.masterService.updateBrandTreeSubject.subscribe(e=>{this.initTree()})}initTree(){this.nodes=[],this.busy=this.brandService.getBrandTreeAsset().subscribe(e=>{console.log(e),this.nodes=e[0],console.log("checknode",this.nodes),null!=this.tree&&this.tree.treeModel.update()},e=>{var r=this.masterService.resolveError(e,"accountLedger - accountLedger");r&&alert(r)})}filterNodes(e){try{console.log("filrwwe value",e,this.tree.treeModel),this.tree.treeModel.filterNodes(e,!0)}catch(r){console.log("filter not woring",r)}}addNode(e){this.tree.treeModel.getFocusedNode(),this.tree.treeModel.getFocusedNode().data.children.push(e),this.tree.treeModel.update()}childrenCount(e){return e&&e.children?`(${e.children.length})`:""}getChildren(e){return new Promise((r,o)=>{setTimeout(()=>r(this.asyncChildren.map(i=>Object.assign({},i,{hasChildren:e.level<5}))),1e3)})}onselect(e,r){this.selectedNode.emit(e.treeModel.getFocusedNode().data),console.log("selected node",this.selectedNode)}onEvent(e){console.log.bind(console)}updateTree(){this.masterService.ObservableProductTree.subscribe(e=>{console.log("CheckDATAAAWWW",e),this.tree.treeModel.getFocusedNode().data.children.push(e),this.tree.treeModel.update()})}getSubGroupA(e){let r=e.target.value;console.log("main group Id ma k aaucha",r),this.uniqueKey(r),this.productMasterService.getSubGroupList(r).subscribe(o=>{o.result.length>0?(this.subGroupAList=o.result,this.masterService.subGroupAList=o.result,this.masterService.disabledSubgroupA=!1,this.masterService.disabledSubgroupB=!0,this.masterService.disabledSubgroupC=!0,this.masterService.groupSelectObj.SUBGROUP_A="",this.masterService.groupSelectObj.SUBGROUP_B="",this.masterService.groupSelectObj.SUBGROUP_C="",this.masterService.subCategoryAList=[],this.masterService.subCategoryBList=[]):(this.subGroupAList=[],this.masterService.subGroupAList=[],this.masterService.groupSelectObj.SUBGROUP_A="",this.masterService.groupSelectObj.SUBGROUP_B="",this.masterService.groupSelectObj.SUBGROUP_C="",this.masterService.disabledSubgroupA=!0,this.masterService.disabledSubgroupB=!0,this.masterService.disabledSubgroupC=!0)})}focusToNext(){console.log("Disable",this.masterService.disabledSubgroupA),this.masterService.focusAnyControl(this.masterService.disabledSubgroupA?"productName":"subGroupA")}getSubGroupB(e){console.log("hit get sub group B"),this.productMasterService.getSubGroupList(e.target.value).subscribe(o=>{o.result.length>0?(this.subGroupBList=o.result,this.masterService.subGroupBList=o.result,this.masterService.disabledSubgroupB=!1,this.masterService.disabledSubgroupC=!0,this.masterService.subCategoryAList=[],this.masterService.subCategoryBList=[]):(this.subGroupBList=[],this.masterService.groupSelectObj.SUBGROUP_B="",this.masterService.disabledSubgroupB=!0,this.masterService.disabledSubgroupC=!0)})}focusToNextgroup(){this.masterService.disabledSubgroupB?this.masterService.focusAnyControl("productName"):document.getElementById("subGroupB").focus()}getSubGroupC(e){console.log("hit get sb group c");let r=e.target.value;this.productMasterService.getSubGroupList(r).subscribe(o=>{o.result.length>0?(this.subGroupCList=o.result,this.masterService.subGroupCList=o.result,this.masterService.disabledSubgroupC=!1,this.masterService.subCategoryAList=[],this.masterService.subCategoryBList=[]):(this.uniqueKey(r),this.subGroupCList=[],this.masterService.subGroupCList=[],this.masterService.groupSelectObj.SUBGROUP_C="",this.masterService.disabledSubgroupC=!0)})}selectedSubGroupC(e){console.log("sub group selected c",e.target.value)}uniqueKey(e){this.productMasterService.getProductInfo(e).subscribe(r=>{if(console.log("res",r),console.log("result of product info",r.result[0]),0==this.masterService.userSetting.MANUALCODE&&this.productMasterService.getAutoGenerateMenuCode(e).subscribe(o=>{"ok"==o.status&&(console.log("unique key",o.result),this.prodObj.MENUCODE=o.result)}),"ok"==r.status){console.log("response ma k aaucha",r),1==this.masterService.userSetting.AUTOCODEMODE&&(r.result[0].MCAT="",r.result[0].MENUCODE="");let o=r.result[0];o.LEVEL=r.result2[0].ITEM_LEVEL,this.selectedGroupInfo.emit(o)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(rt.c),t.Y36(x.P),t.Y36(m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["brand-asset-tree"]],viewQuery:function(e,r){if(1&e&&t.Gf(M.qr,5),2&e){let o;t.iGM(o=t.CRH())&&(r.tree=o.first)}},inputs:{isAddFormShown:"isAddFormShown",brandsortByDateFilter:"brandsortByDateFilter"},outputs:{selectedNode:"selectedNode",selectedGroupInfo:"selectedGroupInfo"},features:[t._Bn([m])],decls:6,vars:2,consts:[[1,"row"],[1,"col-md-12",2,"padding","0px","height","390px"],[1,"plainBackGround"],[3,"ngClass",4,"ngIf"],["class","regularClass",4,"ngIf"],[3,"ngClass"],["name","filter","placeholder","\xa0Search Item Group",1,"filterclass",2,"width","80%",3,"disabled","keyup"],["filter",""],["id","trecediv"],[2,"overflow","auto","border","black","border-width","2px","height","500px","background","white","margin","10px","font-size","12px"],[3,"nodes","focused","options","onEvent","activate"],["tree",""],["treeNodeTemplate",""],["loadingTemplate",""],[3,"title"],["src","../../../assets/Folder.jpg","alt","Group","height","20","width","20",2,"margin-top","-2px"],[2,"padding-top","0px !important","width","auto !important","height","15px !important"],[1,"regularClass"],[1,"form-control-label","col-md-4",2,"white-space","nowrap"],[1,"col-md-7"],[1,"row","selectrow"],["id","mainGroup",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keydown.tab","change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","subGroupA",1,"form-control",3,"ngModel","ngModelOptions","disabled","ngModelChange","keydown.tab","change"],["id","subGroupB",1,"form-control",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],[4,"ngIf"],[1,"form-control",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form"),t.YNc(4,st,15,5,"fieldset",3),t.YNc(5,pt,29,15,"fieldset",4),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf","Add Product"!=r.masterService.modeIs&&"Edit Product"!=r.masterService.modeIs&&"View Product"!=r.masterService.modeIs),t.xp6(1),t.Q6J("ngIf","Add Product"==r.masterService.modeIs||"Edit Product"==r.masterService.modeIs||"View Product"==r.masterService.modeIs))},dependencies:[b.mk,b.sg,b.O5,u._Y,u.YN,u.Kr,u.EJ,u.JJ,u.JL,u.On,u.F,M.qr],styles:[".form-control[_ngcontent-%COMP%]{height:25px}.form-control[_ngcontent-%COMP%]:focus{border-color:#1c1a1a}.selectrow[_ngcontent-%COMP%]{padding:0 15px}.col-md-4[_ngcontent-%COMP%]{padding-left:15px;padding-right:0}.col-md-7[_ngcontent-%COMP%]{padding:0}hr[_ngcontent-%COMP%]{border-top:2px solid #00000021}select.form-control[_ngcontent-%COMP%]{height:25px;padding:0 5px}",".filterclass[_ngcontent-%COMP%] {\n        margin: 10px;\n        height: 25px;\n        width: 285px;\n        color: #666666;\n        border: 1px solid #cbcbcb;\n        border-radius: 5px;\n        background-color: #ffffff;\n        box-shadow: none;\n        font-size: 14px;\n    }\n\n    .regularClass[_ngcontent-%COMP%] {\n        border: 1px solid;\n        border-color: #dcdcdc;\n        height: 580px;\n    }\n\n    .disableClass[_ngcontent-%COMP%] {\n        border: 1px solid;\n        border-color: #dcdcdc;\n        height: 580px;\n        \n        filter: blur(0.5px);\n        cursor: not-allowed;\n    }\n\n\n    \n    .disableClass[_ngcontent-%COMP%]:active {\n        pointer-events: none;\n    }"]}),n})();const ht=["*"];let H=(()=>{class n{constructor(){this.active=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["hometab"]],inputs:{title:["tabTitle","title"],active:"active"},ngContentSelectors:ht,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(e,r){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&e&&t.Q6J("hidden",!r.active)},styles:[".pane[_ngcontent-%COMP%]{padding:0}"]}),n})();var k=d(91605);function gt(n,s){if(1&n&&(t.TgZ(0,"tab",2),t._UZ(1,"price-history-view",5),t.qZA()),2&n){const e=t.oxw();t.Q6J("tabTitle","Price History View"),t.xp6(1),t.Q6J("productObj",e.productObj)}}function bt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tab",2)(1,"asset-code-details",6),t.NdJ("returnsaveObj",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(o))}),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("tabTitle","Asset Id Details"),t.xp6(1),t.Q6J("productObj",e.productObj)}}function mt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tab",2)(1,"app-asset-activity-log",7),t.NdJ("returnsaveObj",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.returnsaveObj(o))}),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("tabTitle","Activity Log"),t.xp6(1),t.Q6J("dataForActivityLog",e.assetMasterService.dataForActivityLog)("productObj",e.productObj)}}let J=(()=>{class n{constructor(e,r,o){this.setting=e,this.masterService=r,this.assetMasterService=o,this.productObj={},this.AlternateUnits=[],this.RGLIST=[],this.mode="",this.PBarCodeCollection=[],this.PMultipleRetailPrice=[],this.BrandModelList=[],this.subscribeonevalue=0,this.AppMode=E.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(i){alert(i)}}returnsaveObj(e){this.assetMasterService.dataForActivityLog=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.R),t.Y36(x.P),t.Y36(m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["productmastertab"]],inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits",RGLIST:"RGLIST",mode:"mode",PBarCodeCollection:"PBarCodeCollection",PMultipleRetailPrice:"PMultipleRetailPrice",BrandModelList:"BrandModelList",EnableMultiStockLevel:"EnableMultiStockLevel",settingData:"settingData"},decls:7,vars:7,consts:[[1,"col-md-12",2,"margin-left","-10px","margin-top","-15px"],[2,"padding","0px 2px 0px 2px"],[3,"tabTitle"],[3,"productObj","AlternateUnits","mode","returnsaveObj"],[3,"tabTitle",4,"ngIf"],[3,"productObj"],[3,"productObj","returnsaveObj"],[3,"dataForActivityLog","productObj","returnsaveObj"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"tabs",1)(2,"tab",2)(3,"Detail_Information",3),t.NdJ("returnsaveObj",function(i){return r.returnsaveObj(i)}),t.qZA()(),t.YNc(4,gt,2,2,"tab",4),t.YNc(5,bt,2,2,"tab",4),t.YNc(6,mt,2,3,"tab",4),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("tabTitle","Detailed Information"),t.xp6(1),t.Q6J("productObj",r.productObj)("AlternateUnits",r.AlternateUnits)("mode",r.mode),t.xp6(1),t.Q6J("ngIf","lite"!=r.AppMode),t.xp6(1),t.Q6J("ngIf","lite"!=r.AppMode),t.xp6(1),t.Q6J("ngIf","lite"!=r.AppMode))},encapsulation:2}),n})();const ft=["childModal"],_t=["smBrand"],Pt=["smModel"],Ct=["loginModal"],vt=["brandtree"];function Ot(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSave())}),t._uU(1," Save [End] "),t.qZA()}}function St(n,s){1&n&&t._UZ(0,"brand-asset-tree",null,20)}let q=(()=>{class n{constructor(e,r,o,i,a,c,f,v,_){this._loadingService=e,this._alertService=r,this.ProductService=o,this.masterService=i,this.router=a,this.activatedRoute=c,this.setting=f,this.authservice=v,this.fb=_,this.AlternateUnits=[],this.tab={},this.activeTabEmit=new t.vpe,this.productObj={},this.returnsaveObj=new t.vpe,this.mode="add",this.DialogMessage="Saving data please wait ...",this.modeTitle="",this.initialTextReadOnly=!1,this.SetDIChecked=!1,this.Units=[],this.RGLIST=[],this.MCat1List=[],this.MCatList=[],this.SupplierList=[],this.KotCategoryList=[],this.BrandList=[],this.ModelList=[],this.AllModelList=[],this.WarehouseList=[],this.PBarCodeCollection=[],this.PMultipleRetailPrice=[],this.BrandModelList=[],this.SelectedModel={},this.subcriptions=[],this.BrandObject={},this.userProfile={},this.showBrand=!1,this.PBarCode={},this.disableSave=!1,this.disableAll=!1,this.imgUrl="",this.accountList=[],this.appType=this.masterService.appType,this.userProfile=this.authservice.getUserProfile(),this.OrgType=this.userProfile.CompanyInfo.ORG_TYPE,this.settingData=this.authservice.getSetting();try{this.showBrand=!1,this.AppSettings=this.setting.appSetting,this.SelectedModel.ModelId="";let P=this.masterService.apiUrl;this.imgUrl=P.substring(P.length-3,0),this.masterService.productImgURL=""}catch(P){this._alertService.error(P)}}ngOnChanges(e){if(void 0!==e.selectedGroupInfo.currentValue){if("add"==this.tab.mode){if(this.Parent=this.selectedGroupInfo.DESCA,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.MENUCODE=this.selectedGroupInfo?.MENUCODE,this.masterService.userSetting.ITEMGROUPCODELEVEL>this.selectedGroupInfo.LEVEL)return this.disableAll=!0,this.productObj.MENUCODE="",void(this.productObj.DESCA="");console.log("product object watch"),this.disableAll=!1,0==this.masterService.userSetting.AUTOCODEMODE&&this.generateUniqueKey(this.selectedGroupInfo.MGROUP),this.PBarCodeCollection=[]}else if("edit"==this.tab.mode){if(this.masterService.userSetting.ITEMGROUPCODELEVEL>this.selectedGroupInfo.LEVEL)return this.disableAll=!0,this.productObj.MENUCODE="",void(this.productObj.BASEUNIT="");this.disableAll=!1,"AG99999999"==this.selectedGroupInfo.PARENT?this.selectedGroupInfo.MGROUP==this.tempMGROUP?this.productObj.MENUCODE=this.tempMENUCODE:1==this.masterService.userSetting.EnableMenucodeGenerationInEdit&&this.generateUniqueKey(this.selectedGroupInfo.MGROUP):this.masterService.userSetting.ITEMGROUPCODELEVEL>1&&(this.selectedGroupInfo.MCODE==this.tempPARENT?this.productObj.MENUCODE=this.tempMENUCODE:1==this.masterService.userSetting.EnableMenucodeGenerationInEdit&&this.generateUniqueKey(this.selectedGroupInfo.MGROUP)),this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE}}else this.Parent=""}ngAfterViewInit(){this.masterService.getMotherPack().subscribe(e=>{this.BrandList.push(e)}),0===this.AppSettings.GblMultiBrandModel&&this.masterService.getModelList().subscribe(e=>{this.AllModelList.push(e)}),this.masterService.getMCat1List().subscribe(e=>{this.MCat1List.push(e)})}ngOnInit(){0==this.masterService.userSetting.MANUALCODE?setTimeout(()=>{document.getElementById("mainGroup").focus()},500):setTimeout(()=>{document.getElementById("productCode").focus()},500),"add"==this.tab.mode&&this.uniqueKey(),this.form=this.fb.group({MENUCODE:["",u.kI.required]});try{this.mode=this.tab.mode,this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0;let e=this;null!=this.tab.mode&&null!=this.tab.mcode?(this._loadingService.show("Please wait.Loading Data"),this.ProductService.getProductForEdit(this.tab.mcode).subscribe(r=>{if("ok"===r.status){this.masterService.isAddFormShown_1=!0,this.productObj=r.result,this.productObj.MCODE=r.result.MCODE,this.productObj.Description=r.result.DESCRIPTION,this.masterService.ProductMcode=this.productObj.MCODE,this.ProductService.pObj.RecMarginOnPRate=r.result.PRATE_A>0?100*(r.result.RATE_A-r.result.PRATE_A)/r.result.PRATE_A:0,this.ProductService.TempProductObj.RATE_A=Number(r.result.RATE_A).toFixed(2),this.ProductService.TempProductObj.RATE_B=Number(r.result.RATE_B).toFixed(2),this.ProductService.TempProductObj.RATE_C=Number(r.result.RATE_C).toFixed(2),this.ProductService.TempProductObj.PRATE_A=Number(r.result.PRATE_A).toFixed(2),this.ProductService.TempProductObj.IN_RATE_A=Number(r.result.IN_RATE_A).toFixed(2),this.ProductService.TempProductObj.IN_PRATE_A=Number(r.result.IN_PRATE_A).toFixed(2),this.ProductService.TempProductObj.IN_RATE_B=Number(r.result.IN_RATE_B).toFixed(2),this.ProductService.TempProductObj.IN_RATE_C=Number(r.result.IN_RATE_C).toFixed(2),this.ProductService.TempProductObj.ECSRATE=r.result.ECSRATE,this.masterService.isGroup=!1,this.masterService.editMode=!0,this.tempMGROUP=this.productObj.MGROUP,this.tempMENUCODE=this.productObj.MENUCODE,this.tempPARENT=this.productObj.PARENT,1==this.masterService.userSetting.AUTOCODEMODE&&(this.masterService.subCategoryAList=[],this.masterService.subCategoryBList=[],this.masterService.getSubMcatListForAutoCodeMode1("level2").subscribe(i=>{0==this.masterService.subCategoryAList.length&&(this.masterService.subCategoryAList=i)}),this.masterService.getSubMcatListForAutoCodeMode1("level3").subscribe(i=>{0==this.masterService.subCategoryBList.length&&(this.masterService.subCategoryBList=i)})),console.log("product parent",this.productObj.PARENT),this.ProductService.getProductInfo(this.productObj.PARENT).subscribe(i=>{this.selectedGroupInfo=i.result[0]});let o=r.result2[0];this.masterService.groupSelectObj.MGROUP=o.L1,this.masterService.prevMgroup=this.productObj.MGROUP,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.MGROUP).subscribe(i=>{i.result.length>0?(this.masterService.subGroupAList=i.result,this.masterService.groupSelectObj.SUBGROUP_A=o.L2,this.masterService.disabledSubgroupA=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_A).subscribe(a=>{a.result.length>0?(this.masterService.subGroupBList=a.result,this.masterService.groupSelectObj.SUBGROUP_B=o.L3,this.masterService.disabledSubgroupB=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_B).subscribe(c=>{c.result.length>0?(this.masterService.subGroupCList=c.result,this.masterService.groupSelectObj.SUBGROUP_C=o.L4,this.masterService.disabledSubgroupC=!1):this.masterService.disabledSubgroupC=!0})):this.masterService.disabledSubgroupB=!0})):this.masterService.disabledSubgroupA=!0}),this.productObj.SUPCODE&&this.masterService.getCustomerByACID(this.productObj.SUPCODE).subscribe(i=>{i&&(this.ProductService.suppilierName=i[0].ACNAME)}),this.ProductService.checkProductTransaction(this.tab.mcode).subscribe(i=>{this.masterService.disableOnCheckTran="BLOCK"==i}),this.ProductService.isrowClicked=!0,this.BrandObject=this.BrandList.filter(i=>i.BrandId===r.result.BRAND)[0],e.mode="edit",e.modeTitle="Edit Product",e.initialTextReadOnly=!0,this._loadingService.hide()}else this.mode="",this.modeTitle="Edit -Error in Product",this.initialTextReadOnly=!0},r=>{this._loadingService.hide(),this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(r,"addproducts (ProductMaster) - getProductForEdit")}),this.ProductService.getListFromKey("/GetMultiBrandModeByMCode/",this.tab.mcode).subscribe(r=>{if("ok"===r.status){let o=r.result;this.BrandModelList=[],o.forEach(i=>{this.BrandModelList.push(i)})}},r=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(r,"addproducts (ProductMaster) - getMultiBrandModelForEdit")}),this.ProductService.getListFromKey("/GetAlternateUnitList/",this.tab.mcode).subscribe(r=>{"ok"===r.status&&r.result.forEach(i=>{this.AlternateUnits.push(i)})},r=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(r,"addproducts (ProductMaster) - GetAlternateUnitListForEdit")}),this.ProductService.getListFromKey("/GetBarcodeMappingList/",this.tab.mcode).subscribe(r=>{"ok"===r.status&&r.result.forEach(i=>{this.PBarCodeCollection.push(i)})},r=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(r,"addproducts (ProductMaster) - GetBarcodeMappingListForEdit")}),console.log("barcode mapping on edit",this.PBarCodeCollection)):(console.log("product new"),this.productObj.guid=k(),this.mode="add",this.modeTitle="Add Product",this.initialTextReadOnly=!1,this._loadingService.hide())}catch(e){this._alertService.error(e)}}uniqueKey(){(0==this.masterService.userSetting.MANUALCODE||1==this.masterService.userSetting.MANUALCODE)&&(console.log("CheckProfdu",this.masterService.TreeID,this.masterService.SelectedProductGrpID),this.masterService.TreeID&&(0==this.masterService.userSetting.MANUALCODE&&this.ProductService.getAutoGenerateMenuCode(this.masterService.TreeID).subscribe(e=>{"ok"==e.status&&(this.productObj.MENUCODE=e.result)}),this.masterService.SelectedProductGrpID&&(this.ProductService.getProductInfo(this.masterService.SelectedProductGrpID).subscribe(e=>{this.selectedGroupInfo=e.result[0],this.productObj.PARENT=this.selectedGroupInfo.MCODE}),this.ProductService.getGroupHierarchy(this.getTreeNodeValueObj.id).subscribe(e=>{let r=e.result[0];this.masterService.groupSelectObj.MGROUP=r.L1,this.productObj.MGROUP=r.L1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.MGROUP).subscribe(o=>{o.result.length>0?(this.masterService.subGroupAList=o.result,this.masterService.groupSelectObj.SUBGROUP_A=r.L2,this.masterService.disabledSubgroupA=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_A).subscribe(i=>{i.result.length>0?(this.masterService.subGroupBList=i.result,this.masterService.groupSelectObj.SUBGROUP_B=r.L3,this.masterService.disabledSubgroupB=!1,this.ProductService.getSubGroupList(this.masterService.groupSelectObj.SUBGROUP_B).subscribe(a=>{a.result.length>0?(this.masterService.subGroupCList=a.result,this.masterService.groupSelectObj.SUBGROUP_C=r.L4,this.masterService.disabledSubgroupC=!1,this.productObj.PARENT=r.L4):(this.masterService.disabledSubgroupC=!0,this.productObj.PARENT=r.L3)})):(this.masterService.disabledSubgroupB=!0,this.productObj.PARENT=r.L2)})):(this.masterService.disabledSubgroupA=!0,this.productObj.PARENT=r.L1)})}))))}generateUniqueKey(e){this.ProductService.getAutoGenerateMenuCode(e).subscribe(r=>{"ok"==r.status&&(this.productObj.MENUCODE=r.result)})}ngOnDestroy(){try{this.subcriptions.forEach(e=>{e.unsubscribe()})}catch(e){this._alertService.error(e)}}onSave(){try{if(this.masterService.userSetting.ITEMGROUPCODELEVEL>1&&this.masterService.userSetting.ITEMGROUPCODELEVEL>this.masterService.ITEM_LEVEL)return void this._alertService.info("Cannot Add Product In This Level!!");this.onSaveClicked()}catch(e){this._alertService.error(e)}}onSaveClicked(){try{if(this.PBarCodeCollection=this.ProductService.PBarCodeList,this.productObj.PCL="pc002",this.productObj.TYPE="A",this.productObj.PARENT=this.getTreeNodeValueObj.id,"edit"!=this.mode&&(this.productObj.MCODE=this.productObj.MENUCODE),!this.masterService.groupSelectObj.MGROUP)return void this._alertService.warning("Major group is required for the item");if(!this.productObj.MGROUP)return void this._alertService.warning("Major group is required for the item");if(!this.productObj.BASEUNIT)return void this._alertService.warning("Base unit is required");if(!this.productObj.PTYPE)return void this._alertService.warning("Product Type is required");if(this.productObj.ROLEVEL<this.productObj.MINLEVEL)return void this._alertService.warning("Re-Order level cannot be less than Min-stock level");if(this.productObj.ROLEVEL>this.productObj.MAXLEVEL)return void this._alertService.warning("Re-Order level cannot be greater than Max-stock level");if(this.productObj.MINLEVEL>this.productObj.MAXLEVEL)return void this._alertService.warning("Min-stock level cannot be greater than Max-stock level");if("edit"!=this.mode&&(this.productObj.FCODE=1==this.masterService.userSetting.MANUALCODE?0:Number(this.productObj.MENUCODE)),"edit"==this.mode&&this.productObj.MENUCODE!=this.tempMENUCODE){let o={};o.BCODE=this.productObj.MENUCODE,o.MCODE=this.productObj.MCODE,o.UNIT=this.productObj.BASEUNIT,o.DISCONTINUE=0,console.log("new brcode",o);let i=this.PBarCodeCollection.filter(a=>a.BCODE==this.productObj.MENUCODE);console.log("duplicatebc",i),0==i.length&&this.PBarCodeCollection.push(o),this.PBarCodeCollection.forEach(a=>{a.BCODE==this.tempMENUCODE&&(a.DISCONTINUE=1)})}if(this.SetDIChecked=!0,""===this.productObj.MENUCODE||null==this.productObj.MENUCODE||void 0===this.productObj.MENUCODE)return void this._alertService.error("Product Code is required");if(""===this.productObj.DESCA||null==this.productObj.DESCA||void 0===this.productObj.DESCA)return void this._alertService.error("Product Name is required");if(0==this.productObj.PTYPE||null==this.productObj.PTYPE||void 0===this.productObj.PTYPE)return void this._alertService.error("Product Type is required");let e=this.productObj;this._loadingService.show("Please wait! Saving Product"),this.returnsaveObj.emit(this.productObj);let r=this.masterService.saveAssetProduct(this.mode,e).subscribe(o=>{if("ok"===o.status)this.productObj.MENUCODE="",this.productObj.MCODE="",this.productObj.DESCA="",this.productObj.Description="",this.productObj.DESCB="",this.productObj.PTYPE=0,this.productObj.BASEUNIT="",this.productObj.SUPCODE=null,this.productObj.PRATE_A=0,this.productObj.CAL_LIFEBASED_DEP=0,this.productObj.ISACTIVE=1,this.productObj.HASWARRANTY=0,this.productObj.HASINSURANCE=0,this.productObj.HASAMC=0,this.productObj.Description="",this.ProductService.suppilierName="",this.productObj.guid=k(),this.productObj={},this.masterService.isAddFormShown_1=!1,this._loadingService.hide(),this._alertService.success("Saved Successfully"),console.log("PRODOBJ",this.productObj),setTimeout(()=>{confirm("Do you want to continue adding products to this group ?")?(this.mode="add",this.generateUniqueKey(this.selectedGroupInfo.MGROUP),this.ProductService.TempProductObj.RATE_A=null,this.ProductService.TempProductObj.RATE_B=null,this.ProductService.TempProductObj.RATE_C=null,this.ProductService.TempProductObj.PRATE_A=null,this.ProductService.TempProductObj.IN_RATE_A=null,this.ProductService.TempProductObj.IN_PRATE_A=null,this.ProductService.TempProductObj.IN_RATE_B=null,this.ProductService.TempProductObj.IN_RATE_C=null,this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0,this.ProductService.pObj.Dismode=1,this.productObj.MGROUP=this.selectedGroupInfo.MGROUP,this.productObj.PARENT=this.selectedGroupInfo.MCODE,this.productObj.guid=k(),this.masterService.getPTypeListForAsset().subscribe(i=>{i&&(console.log("PTYPE GETT",i),this.productObj.PTYPE=i[0].PTYPEID)})):(this.ProductService.getProductInfo("AG99999999").subscribe(i=>{this.selectedGroupInfo=i.result[0]}),this.routeToHome(),this.ProductService.sortProduct="sortItemDate")},1e3);else{if("The ConnectionString property has not been initialized."===o.result._body)return this._loadingService.hide(),void this.router.navigate(["/login",this.router.url]);this._loadingService.hide(),this._alertService.error(o.result.error)}},o=>{this._loadingService.hide(),this._alertService.info(o.error)});this.subcriptions.push(r)}catch(e){alert(e)}}onCancel(){try{this.routeToHome()}catch(e){this._alertService.error(e)}}routeToHome(e=null,r=null){this.productObj={};let o={name:"productlist",active:!0};o.mode=r,o.from="product",o.savedValue=e,this.activeTabEmit.emit(o),this.masterService.groupSelectObj={},this.masterService.subGroupAList=[],this.masterService.subGroupBList=[],this.masterService.subGroupCList=[],this.selectedGroupInfo=void 0,this.masterService.SelectedProductGrpID="",this.masterService.TreeID="",this.productObj.MENUCODE=""}onSelectColor(e){this.selectedColor=e.target.value}onSelectVolume(e){this.selectedVolume=e.target.value}onSelectSstting(e){this.selectedSetting=e.target.value}SaveModel(e,r){try{this.ProductService.saveModel({ModelName:e,BrandId:r}).subscribe(i=>{"ok"===i.status&&(this.ModelList.push(i.result),this.smModel.hide())})}catch(o){this._alertService.error(o)}}hideloginModal(){try{this.loginModal.hide()}catch(e){this._alertService.error(e)}}hideChildModal(){try{this.childModal.hide()}catch(e){this._alertService.error(e)}}changeDisStat(){}onChangeSellingPrice(e){}onChangeMRP(e){}focusProductName(){setTimeout(()=>{document.getElementById("productName").focus()},0)}handleKeyDownboardEvent(e){"End"==e.code&&(e.preventDefault(),this.onSave())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.V),t.Y36(h.c),t.Y36(m),t.Y36(x.P),t.Y36(C.F0),t.Y36(C.gz),t.Y36(U.R),t.Y36(S.e),t.Y36(u.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["addproductmaster"]],viewQuery:function(e,r){if(1&e&&(t.Gf(ft,5),t.Gf(_t,5),t.Gf(Pt,5),t.Gf(Ct,5),t.Gf(vt,5)),2&e){let o;t.iGM(o=t.CRH())&&(r.childModal=o.first),t.iGM(o=t.CRH())&&(r.smBrand=o.first),t.iGM(o=t.CRH())&&(r.smModel=o.first),t.iGM(o=t.CRH())&&(r.loginModal=o.first),t.iGM(o=t.CRH())&&(r.brandtree=o.first)}},hostBindings:function(e,r){1&e&&t.NdJ("keydown",function(i){return r.handleKeyDownboardEvent(i)},!1,t.evT)},inputs:{AlternateUnits:"AlternateUnits",tab:"tab",ProductHomeTabs:"ProductHomeTabs",getTreeNodeValueObj:"getTreeNodeValueObj",productObj:"productObj",colorLists:"colorLists",isAddFormShown:"isAddFormShown",selectedGroupInfo:"selectedGroupInfo"},outputs:{activeTabEmit:"activeTabEmit",returnsaveObj:"returnsaveObj"},features:[t._Bn([m]),t.TTD],decls:22,vars:17,consts:[[1,"row",2,"margin-left","15px","background","white","margin-top","5px","padding-bottom","15px"],[1,"col-lg-12"],[2,"width","100%","border","none","padding","0","margin","0","overflow","scroll","overflow-x","hidden","height","80vh",3,"disabled"],[1,"row",2,"margin-left","5px","align-items","end"],[1,"col-md-10",2,"padding","5px"],[1,"row",2,"margin-left","5px"],[1,"col-md-5",2,"margin-left","-15px"],[1,"label-class"],["id","productCode","type","text","autocomplete","off",2,"width","150px","margin-left","1.5%",3,"ngModel","readonly","disabled","keydown.tab","ngModelChange"],[1,"col-md-12","row"],[1,"col-md-9","pd0",2,"margin-left","-15px"],["id","productName","type","text","autocomplete","off",2,"width","80%","margin-left","5px",3,"ngModel","disabled","ngModelChange"],[1,"row"],[1,"col-md-2"],["type","button","style","font-size: 12px; width: 83px; ","class","btn btn-info",3,"click",4,"ngIf"],[1,"row",2,"height","120px"],[2,"width","100%"],[3,"productObj","AlternateUnits","RGLIST","PBarCodeCollection","BrandModelList","settingData","PMultipleRetailPrice","mode","EnableMultiStockLevel"],[4,"ngIf"],["type","button",1,"btn","btn-info",2,"font-size","12px","width","83px",3,"click"],["brandTree",""]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"fieldset",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),t._uU(8,"Product Code :"),t.qZA(),t.TgZ(9,"input",8),t.NdJ("keydown.tab",function(){return r.focusProductName()})("ngModelChange",function(i){return r.productObj.MENUCODE=i}),t.qZA()()(),t.TgZ(10,"div",9)(11,"div",10)(12,"label",7),t._uU(13,"Product Name :"),t.qZA(),t.TgZ(14,"input",11),t.NdJ("ngModelChange",function(i){return r.productObj.DESCA=i}),t.qZA()()()(),t.TgZ(15,"div",12)(16,"div",13),t.YNc(17,Ot,2,0,"button",14),t.qZA()()(),t.TgZ(18,"div",15)(19,"div",16),t._UZ(20,"productmastertab",17),t.qZA()()()()(),t.YNc(21,St,2,0,"brand-asset-tree",18)),2&e&&(t.xp6(2),t.Q6J("disabled","view"==r.tab.mode||r.disableAll),t.xp6(7),t.Q6J("ngModel",r.productObj.MENUCODE)("readonly",0==r.masterService.userSetting.MANUALCODE)("disabled","edit"==r.mode&&0==r.masterService.userSetting.MANUALCODE||"view"==r.mode),t.xp6(5),t.Q6J("ngModel",r.productObj.DESCA)("disabled","view"==r.mode),t.xp6(3),t.Q6J("ngIf","view"!=r.tab.mode),t.xp6(3),t.Q6J("productObj",r.productObj)("AlternateUnits",r.AlternateUnits)("RGLIST",r.RGLIST)("PBarCodeCollection",r.PBarCodeCollection)("BrandModelList",r.BrandModelList)("settingData",r.settingData)("PMultipleRetailPrice",r.PMultipleRetailPrice)("mode",r.tab.mode)("EnableMultiStockLevel",r.EnableMultiStockLevel),t.xp6(1),t.Q6J("ngIf",r.showBrand))},dependencies:[b.O5,u.Fj,u.JJ,u.On,V,J],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".label-class[_ngcontent-%COMP%] {\n    width: 96px;\n  }\n\n  .stockLabel[_ngcontent-%COMP%] {\n    width: 5rem;\n    font-weight: bold;\n  }"]}),n})();const Mt=["childModal"];function Tt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSave())}),t._uU(1,"Save"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled","MI"==e.assetGroup.PARENT||null==e.assetGroup.NAME||""==e.assetGroup.NAME||"view"==e.tab.mode)}}function xt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",13),t._uU(2,"Group Code : "),t.qZA(),t.TgZ(3,"div",10)(4,"input",14),t.NdJ("keypress",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.keyPress(o))})("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.assetGroup.MENUCODE=o)}),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("type",2==e.masterService.userSetting.AUTOCODEMODE?"text":"number")("ngModel",e.assetGroup.MENUCODE)("disabled","view"==e.tab.mode||1==e.hasSubGrpOrItem)}}let Q=(()=>{class n{constructor(e,r,o,i,a,c,f){this.ProductService=e,this.masterService=r,this.router=o,this.activatedRoute=i,this.setting=a,this._alertService=c,this.loadingService=f,this.tab={},this.productObj={},this.activeTabEmit=new t.vpe,this.DialogMessage="Saving data please wait ...",this.mode="add",this.modeTitle="",this.WarehouseList=[],this.MCatList=[],this.MCat1List=[],this.assetGroup={},this.AppMode=E.N.appMode;try{this.AppSettings=this.setting.appSetting}catch(v){alert(v)}}ngOnInit(){"group"==this.groupType?0==this.masterService.userSetting.ITEMGROUPCODELEVEL||1==this.masterService.userSetting.ITEMGROUPCODELEVEL?setTimeout(()=>{document.getElementById("GC").focus()},1200):setTimeout(()=>{document.getElementById("GN").focus()},500):this.masterService.ITEM_LEVEL+1==this.masterService.userSetting.ITEMGROUPCODELEVEL?setTimeout(()=>{document.getElementById("GC").focus()},1200):setTimeout(()=>{document.getElementById("GN").focus()},500);try{this.masterService.getWarehouseList().subscribe(e=>{this.WarehouseList=e}),this.masterService.getMCatList().subscribe(e=>{this.MCatList=e}),this.masterService.getMCat1List().subscribe(e=>{this.MCat1List=e}),this.productObj.MajorGroup={},"group"==this.groupType?(this.productObj.MajorGroup.DESCA="Assets",this.assetGroup.PARENT="AG99999999",this.assetGroup.groupType="group",this.getTreeNodeValueObj={},this.getTreeNodeValueObj.id="AG99999999"):(this.productObj.MajorGroup.DESCA=this.getTreeNodeValueObj.name,this.assetGroup.PARENT=this.getTreeNodeValueObj.id,this.assetGroup.groupType="subgroup"),"add"==this.tab.mode?this.getTreeNodeValueObj.id="group"==this.groupType?this.getTreeNodeValueObj.id="AG99999999":this.getTreeNodeValueObj.id:("edit"==this.tab.mode||"view"==this.tab.mode)&&(this.masterService.isGroup=!0,"group"==this.tab.name&&this.ProductService.getChildrenGrpAndItem(this.tab.mcode).subscribe(e=>{"ok"==e.status&&(this.hasSubGrpOrItem=0==e.result.length?0:1)}),this.ProductService.getProductForEdit(this.tab.mcode).subscribe(e=>{"ok"==e.status?(this.productObj=e.result,this.masterService.isAddFormShown_1=!0,this.masterService.ProductMcode=this.productObj.MCODE,this.mode="edit",this.modeTitle="Edit Product"):(this.mode="",this.modeTitle="Edit -Error in Product")},e=>{this.mode="",this.modeTitle="Edit2 -Error in Product",this.masterService.resolveError(e,"addproducts (ProductMaster) - getProductForEdit")}))}catch(e){alert(e)}}onSave(){try{if(console.log("group Type",this.groupType,this.assetGroup.groupType),"group"==this.groupType){if((0==this.masterService.userSetting.ITEMGROUPCODELEVEL||1==this.masterService.userSetting.ITEMGROUPCODELEVEL)&&!this.assetGroup.MENUCODE)return void alert("Please Enter Group Code!")}else if(this.masterService.ITEM_LEVEL+1==this.masterService.userSetting.ITEMGROUPCODELEVEL&&!this.assetGroup.MENUCODE)return void alert("Please Enter Group Code!");this.productObj.Parent=null,"add"==this.tab.mode&&(this.productObj.FCODE=1==this.masterService.userSetting.MANUALCODE?0:Number(this.productObj.MENUCODE)),this.loadingService.show("Saving sub group, Please wait.."),this.masterService.saveAssetProductGroup(this.mode,this.assetGroup).subscribe(o=>{if("ok"===o.status)console.log("r1"),this.masterService.updateBrandTreeSubject.next(this.assetGroup),this.assetGroup.MENUCODE="",this.assetGroup.NAME="",this.assetGroup.groupType="",this.assetGroup.MCODE="",this.assetGroup.PARENT="",this.productObj.DESCA="",this.productObj.Description="",this.productObj.MajorGroup.DESCA="",this.productObj.FCODE=0,this.assetGroup={},this.masterService.isAddFormShown_1=!1,setTimeout(()=>{this.ProductService.getProductGroupListByIDandDate(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children?.length,"sortitemgrpbydate").subscribe(i=>{this.masterService.productGroupLists=i.result}),this.ProductService.getMainGroupList().subscribe(i=>{console.log("Main group adter group save",i),this.masterService.mainGroupList=i.length>0?i:[]}),this.loadingService.hide(),this._alertService.success("Saved Successfully"),this.routeToHome()},1e3);else{if(console.log("r2"),"The ConnectionString property has not been initialized."===o.result._body)return void this.router.navigate(["/login",this.router.url]);this.loadingService.hide()}},o=>{console.log("r3"),this.loadingService.hide()})}catch(e){console.log("r4"),this.loadingService.hide(),alert(e)}}onCancel(){try{this.routeToHome()}catch(e){alert(e)}}routeToHome(e=null,r=null){let o={name:"productlist"};o.selectedNode=this.tab.selectedNode,o.active=!0,o.mode=r,o.from="group",o.savedValue=e,this.activeTabEmit.emit(o)}keyPress(e){if(0==this.masterService.userSetting.MANUALCODE&&2!=this.masterService.userSetting.AUTOCODEMODE){const r=/[0-9]/,o=String.fromCharCode(e.charCode);r.test(o)||e.preventDefault()}else{const r=/[a-zA-Z0-9]/,o=String.fromCharCode(e.charCode);r.test(o)||e.preventDefault()}}validateProduct(){console.log("validate product",this.groupType,this.mode),this.productObj.TYPE="G",this.productObj.MENUCODE&&this.masterService.validateProduct(this.mode,this.productObj,this.groupType).subscribe(e=>{})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m),t.Y36(x.P),t.Y36(C.F0),t.Y36(C.gz),t.Y36(U.R),t.Y36(h.c),t.Y36(I.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["addproductgroup"]],viewQuery:function(e,r){if(1&e&&t.Gf(Mt,5),2&e){let o;t.iGM(o=t.CRH())&&(r.childModal=o.first)}},inputs:{tab:"tab",ProductHomeTabs:"ProductHomeTabs",productObj:"productObj",groupType:"groupType",getTreeNodeValueObj:"getTreeNodeValueObj",isAddFormShown:"isAddFormShown"},outputs:{activeTabEmit:"activeTabEmit"},features:[t._Bn([m])],decls:16,vars:6,consts:[[2,"margin-top","20px"],[1,"form-horizontal"],[1,"form-group","row"],[1,"offset-sm-3","col-sm-9"],["type","submit ","class","btn btn-info pull-right","style","font-size: 12px; width: 89px;",3,"disabled","click",4,"ngIf"],["for","MG",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"col-sm-8","col-md-8"],["type","text","id","MG","name","MG","readonly","","placeholder","Major Group Generate from tree",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["class","form-group row",4,"ngIf"],["for","GN",1,"col-sm-3","form-control-label",2,"width","190px"],[1,"col-sm-8"],["type","text","id","GN","name","GN","placeholder","Group Name","autocomplete","off",2,"width","inherit",3,"ngModel","disabled","ngModelChange"],["type","submit ",1,"btn","btn-info","pull-right",2,"font-size","12px","width","89px",3,"disabled","click"],["for","GC",1,"col-sm-3","form-control-label","LabelSize",2,"width","190px"],["id","GC","name","GC","placeholder","Group Code","autocomplete","off",2,"width","inherit",3,"type","ngModel","disabled","keypress","ngModelChange"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),t.YNc(4,Tt,2,1,"button",4),t.qZA()(),t.TgZ(5,"div",2)(6,"label",5),t._uU(7,"Parent Group : "),t.qZA(),t.TgZ(8,"div",6)(9,"input",7),t.NdJ("ngModelChange",function(i){return r.productObj.MajorGroup.DESCA=i}),t.qZA()()(),t.YNc(10,xt,5,3,"div",8),t.TgZ(11,"div",2)(12,"label",9),t._uU(13,"Group Name : "),t.qZA(),t.TgZ(14,"div",10)(15,"input",11),t.NdJ("ngModelChange",function(i){return r.assetGroup.NAME=i}),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf","view"!=r.tab.mode),t.xp6(5),t.Q6J("ngModel",r.productObj.MajorGroup.DESCA)("disabled","view"==r.tab.mode),t.xp6(1),t.Q6J("ngIf","group"==r.tab.name&&(0==r.masterService.userSetting.ITEMGROUPCODELEVEL||1==r.masterService.userSetting.ITEMGROUPCODELEVEL)||"subgroup"==r.tab.name&&r.masterService.ITEM_LEVEL+1==r.masterService.userSetting.ITEMGROUPCODELEVEL),t.xp6(5),t.Q6J("ngModel",r.assetGroup.NAME)("disabled","view"==r.tab.mode))},dependencies:[b.O5,u._Y,u.Fj,u.JJ,u.JL,u.On,u.F],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}"]}),n})();var Y=d(45435),z=d(54395),K=d(87519),$=d(68307),W=d(22759),Z=d(72533);const At=["childModal"],Et=["genericGrid"],yt=["genericGridForAllProductList"],Gt=["genericGridForAllGroupList"],Lt=["searchInput"],wt=["searchInputGrp"],Dt=["sortItemName"],It=["sortitembydate"];function Nt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",31),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td",32),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",33),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onViewClick(i))}),t._uU(17,"View"),t.qZA(),t.TgZ(18,"td",33),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.onEditClick(i))}),t._uU(19,"Edit"),t.qZA()()}if(2&n){const e=s.$implicit,r=s.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(e.ITEM_NAME),t.xp6(2),t.Oqu(e.ITEM_CODE),t.xp6(2),t.Oqu(e.UNIT),t.xp6(2),t.Oqu(t.xi3(11,7,e.PRATE,"1.2-2")),t.xp6(3),t.Oqu(e.VAT),t.xp6(2),t.Oqu(e.SUPPLIER)}}const jt=function(n,s,e){return{itemsPerPage:n,currentPage:s,totalItems:e}};function Ut(n,s){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,Nt,20,10,"tr",30),t.ALo(2,"paginate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.masterService.productLists,t.kEZ(4,jt,e.itemPerPage,e.masterService.currentPage,e.masterService.productSearchTotalCount)))}}function Rt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",34)(1,"pagination-controls",35),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productListPagination(o))}),t.qZA()()}}let Bt=(()=>{class n{constructor(e,r,o,i,a,c){this._alertService=e,this._authService=r,this.ProductService=o,this.masterService=i,this.arouter=a,this.cdref=c,this.activeTabEmit=new t.vpe,this.productListsortByDateEmit=new t.vpe,this.DialogMessage="You are not authorized",this.userProfile={},this.productGroupList=[],this.productListByID=[],this.imsGridSettings=new T.U5,this.imsGridSettingsforProductList=new T.U5,this.imsGridSettingsforGroupList=new T.U5,this.mcodeFromBcode=[],this.userProfile=r.getUserProfile(),this.settings=this.ProductService.productMasterTableSetting(this.userProfile.CompanyInfo.ORG_TYPE),this.imsGridSettings=this.ProductService.getimsgridSetting(),this.imsGridSettingsforProductList=this.ProductService.getProductList(),this.imsGridSettingsforGroupList=this.ProductService.getGroupList(),this.searchProduct="searchItemName",this.searchProductGrp="searchGrpName",this.ProductService.sortProduct="sortItemName",this.ProductService.sortProductGrp="sortGrpName",console.log("from master rrepo",this.masterService.productLists),this.masterService.modeIs=""}ngOnInit(){console.log(this.pages)}ngAfterViewInit(){this.getTreeNodeValueObj&&this.ItemBar(),(0,W.R)(this.searchInput?.nativeElement,"keyup").pipe((0,Y.h)(Boolean),(0,z.b)(800),(0,K.x)(),(0,$.b)(e=>{this.triggerSearch(e)})).subscribe(),(0,W.R)(this.searchInputGrp?.nativeElement,"keyup").pipe((0,Y.h)(Boolean),(0,z.b)(800),(0,K.x)(),(0,$.b)(e=>{this.triggerGroupSearch(e)})).subscribe()}ngAfterContentChecked(){this.cdref.detectChanges()}onSearchClick(e){if(null==e||""==e)return;let r=[];this.source=new L.nC,this.ProductService.getSearchProducts(e).subscribe(o=>{r.push(o),this.source.load(r)})}AddItem(){}AddGroup(){}ItemBar(){this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct,this.finalFilterValue).subscribe(e=>{console.log("ItemBar",e),this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount}),this.finalFilterValue=""}GrpBar(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}reserGrpValue(){this.finalGroupFilterValue=""}triggerSearch(e){this.masterService.currentPage=1,this.masterService.filter?("searchItemCode"==this.searchProduct&&(this.finalFilterValue=this.getFilterOption("MENUCODE",this.masterService.filter),this.ItemBar()),"searchItemBarcode"==this.searchProduct&&(console.log("search by barcode"),this.finalFilterValue=this.getFilterOption("BARCODE",this.masterService.filter),this.ItemBar()),"searchItemName"==this.searchProduct&&(this.finalFilterValue=this.getFilterOption("DESCA",this.masterService.filter),this.sortProductListByName())):(console.log("filter is eempty",this.masterService.filter),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct).subscribe(r=>{console.log("sort product List by name",r),this.productListByID=r.result,this.masterService.productLists=r.result,this.masterService.productSearchTotalCount=r.totalCount}))}triggerGroupSearch(e){this.masterService.filters?("searchGrpName"==this.searchProductGrp&&(this.finalGroupFilterValue=this.getFilterOption("DESCA",this.masterService.filters),this.sortProductGrpByName()),"searchGrpCode"==this.searchProductGrp&&(this.finalGroupFilterValue=this.getFilterOption("FCODE",this.masterService.filters),this.GrpBar())):(console.log("Group filter is empty",this.masterService.filters),this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp).subscribe(r=>{this.productGroupList=r.result.result,this.masterService.productGroupLists=r.result.result,this.masterService.productGroupSearchTotalCount=r.totalCount}))}onDeleteConfirm(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}onEditClick(e){if(0!=this.masterService.checkIsBranch()){if(this.masterService.checkUserRights("edit","productmaster"))try{let o={name:"addproduct"};o.mcode=e.MCODE,o.mode="edit",o.active=!0,this.activeTabEmit.emit(o)}catch(o){this._alertService.error(o)}}else this._alertService.warning("Cannot edit product from branch office")}onViewClick(e){try{let r={name:"addproduct"};r.mcode=e.MCODE,r.mode="view",r.active=!0,this.activeTabEmit.emit(r)}catch(r){this._alertService.error(r)}}hideChildModal(){try{this.childModal.hide()}catch(e){this._alertService.error(e)}}searchProductList(){if(""==this.masterService.filter||void 0===this.masterService.filter)this.setDefaultList();else if("searchItemName"==this.searchProduct&&""!=this.masterService.filter){let e=this.masterService.filter.toUpperCase();this.productListByID=this.productListByID.filter(function(r){return 0==r.ITEM_NAME.toUpperCase().indexOf(e)}),this.masterService.productLists=this.searchItemName(this.masterService.productLists,this.masterService.filter)}else if("searchItemCode"==this.searchProduct&&""!=this.masterService.filter){let e=this.masterService.filter;this.productListByID=this.productListByID.filter(r=>r.ITEM_CODE==e),this.masterService.productLists=this.masterService.productLists.filter(r=>r.ITEM_CODE==e)}else"searchItemBarcode"==this.searchProduct&&""!=this.masterService.filter&&this.ProductService.getMCODEusingBARCODE(this.masterService.filter).subscribe(e=>{"ok"==e.status?(this.mcodeFromBcode=e.result,this.productListByID=this.productListByID.filter(r=>r.MCODE==this.mcodeFromBcode),this.masterService.productLists=this.masterService.productLists.filter(r=>r.MCODE==this.mcodeFromBcode)):(this._alertService.warning("cannot find product with this barcode"),this.masterService.productLists=this.masterService.productLists)})}searchProductGroup(){if(""==this.masterService.filters||void 0===this.masterService.filters)this.setDefaultList();else if("searchGrpName"==this.searchProductGrp&&""!=this.masterService.filters){let e=this.masterService.filters.toUpperCase();this.productGroupList=this.productGroupList.filter(function(r){return 0==r.GROUP_NAME.toUpperCase().indexOf(e)}),this.masterService.productGroupLists=this.masterService.productGroupLists.filter(function(r){return 0==r.GROUP_NAME.toUpperCase().indexOf(e)})}else if("searchGrpCode"==this.searchProductGrp&&""!=this.masterService.filters){let e=this.masterService.filters;this.productGroupList=this.productGroupList.filter(r=>r.GROUP_CODE==e),this.masterService.productGroupLists=this.masterService.productGroupLists.filter(r=>r.GROUP_CODE==e)}}setDefaultList(){""==this.masterService.filter&&this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct).subscribe(e=>{this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount}),""==this.masterService.filters&&this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}onEditGroup(e){try{let r={};r.name="PRG99999999"==e.PARENT?"group":"subgroup",r.mcode=e.MCODE,r.mode="edit",r.active=!0,this.activeTabEmit.emit(r)}catch(r){this._alertService.error(r)}}onViewGroup(e){try{let r={};r.name="PRG99999999"==e.PARENT?"group":"subgroup",r.mcode=e.MCODE,r.mode="view",r.active=!0,this.activeTabEmit.emit(r)}catch(r){this._alertService.error(r)}}sortProductListByDate(){this.productListsortByDateEmit.emit(this.ProductService.sortProduct),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,"sortitembydate",this.finalFilterValue).subscribe(e=>{this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount})}sortProductListByName(){console.log("sortProductList by name"),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.masterService.currentPage,this.itemPerPage,this.ProductService.sortProduct,this.finalFilterValue).subscribe(e=>{console.log("sort product List by name",e),this.productListByID=e.result,this.masterService.productLists=e.result,this.masterService.productSearchTotalCount=e.totalCount})}sortProductGrpByName(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,this.ProductService.sortProductGrp,this.finalGroupFilterValue).subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.result.totalCount})}sortProductGrpByDate(){this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage,"sortitemgrpbydate").subscribe(e=>{this.productGroupList=e.result.result,this.masterService.productGroupLists=e.result.result,this.masterService.productGroupSearchTotalCount=e.totalCount})}handleKeyDownloadEvent(e){"Enter"==e.code&&(e.preventDefault(),(""!=this.masterService.filter||null!=this.masterService.filter)&&this.searchProductList(),(""!=this.masterService.filters||null!=this.masterService.filters)&&this.searchProductGroup()),"Escape"==e.code&&(e.preventDefault(),(""!=this.masterService.filter||null!=this.masterService.filter)&&(this.masterService.filter="",this.setDefaultList()),(""!=this.masterService.filters||null!=this.masterService.filters)&&(this.masterService.filters="",this.setDefaultList()))}searchItemName(e,r){if(e)return r?e.filter(o=>{const i=r.replace(/[^A-Z0-9]/gi,"").toLowerCase();if(-1!==(o.ITEM_NAME?o.ITEM_NAME.replace(/[^A-Z0-9]/gi,"").toLowerCase():"").indexOf(i))return o}):e}productListPagination(e){this.masterService.currentPage=e,(null==this.masterService.filter||""==this.masterService.filter||null==this.masterService.filter)&&(this.finalFilterValue=null),console.log("getTreeNodeValueObj",this.getTreeNodeValueObj,"pages",this.masterService.currentPage,"item per page",this.itemPerPage,"sortproduct",this.ProductService.sortProduct),console.log("filter",this.finalFilterValue),this.sortProductListByName()}productGroupListPagination(e){this.groupListCurrentPage=e,this.finalGroupFilterValue=null,this.sortProductGrpByName()}getFilterOption(e,r){let o=[];return null==r||null==r||""==r||null==e||null==e||""==e?"":(o.push({Field:e,Value:r}),`${encodeURIComponent(JSON.stringify(o))}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.c),t.Y36(S.e),t.Y36(m),t.Y36(x.P),t.Y36(C.gz),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["productlist"]],viewQuery:function(e,r){if(1&e&&(t.Gf(At,5),t.Gf(Et,5),t.Gf(yt,5),t.Gf(Gt,5),t.Gf(Lt,7),t.Gf(wt,7),t.Gf(Dt,7),t.Gf(It,7)),2&e){let o;t.iGM(o=t.CRH())&&(r.childModal=o.first),t.iGM(o=t.CRH())&&(r.genericGrid=o.first),t.iGM(o=t.CRH())&&(r.genericGridForAllProductList=o.first),t.iGM(o=t.CRH())&&(r.genericGridForAllGroupList=o.first),t.iGM(o=t.CRH())&&(r.searchInput=o.first),t.iGM(o=t.CRH())&&(r.searchInputGrp=o.first),t.iGM(o=t.CRH())&&(r.sortItemName=o.first),t.iGM(o=t.CRH())&&(r.sortitembydate=o.first)}},hostBindings:function(e,r){1&e&&t.NdJ("keydown",function(i){return r.handleKeyDownloadEvent(i)},!1,t.evT)},inputs:{source:"source",productGroupList:"productGroupList",productListByID:"productListByID",getTreeNodeValueObj:"getTreeNodeValueObj",itemPerPage:"itemPerPage",pages:"pages",groupListCurrentPage:"groupListCurrentPage"},outputs:{activeTabEmit:"activeTabEmit",productListsortByDateEmit:"productListsortByDateEmit"},features:[t._Bn([S.e,m])],decls:46,vars:7,consts:[[2,"margin-top","0"],[1,"row"],[1,"col-md-12",2,"width","100%"],["id","warehouse-tabs",1,"tabbable"],[1,"nav","nav-tabs"],[1,"nav-item"],["href","#ProductList","data-toggle","tab",1,"nav-link","active",2,"font-size","14px"],[1,"tab-content","mr5"],["id","ProductList",1,"tab-pane","active"],[2,"display","inline-block","width","100%"],[1,"clearfix"],[1,"col-md-12",2,"margin-bottom","10px","font-size","14px","display","flex","align-items","center"],["type","radio","name","item","value","searchItemName",3,"ngModel","ngModelChange","change","click"],["type","radio","name","item","value","searchItemCode",3,"ngModel","ngModelChange","change","click"],["type","search","id","productSearch","placeholder","Search...","autocomplete","off","name","filter",2,"width","25%",3,"ngModel","ngModelChange"],["searchInput",""],["type","radio","name","sortItem","value","sortItemName",3,"ngModel","ngModelChange","change"],["type","radio","name","sortItem","value","sortitembydate",3,"ngModel","ngModelChange","change"],[1,"col-md-12","productlistTable",2,"overflow-y","auto","height","100%","padding-right","8px !important","margin-left","-4px","white-space","nowrap","padding-left","0"],[1,"table","table-striped"],[1,"stickHead"],["colspan","1",2,"width","3%","padding-left","0px"],["colspan","1",2,"width","15%","padding-left","0px"],["colspan","1",2,"width","8%","padding-left","0px"],["colspan","1",2,"width","5%","padding-left","0px"],["colspan","1",2,"width","6%","padding-left","0px"],["colspan","1",2,"width","5%","padding-left","18px"],["colspan","2",2,"width","5%","padding-left","0px"],[4,"ngIf"],["style","margin-left: 22%;height: 30px; ",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[2,"text-align","center"],[1,"isLink",3,"click"],[2,"margin-left","22%","height","30px"],["directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page",1,"my-pagination",3,"pageChange"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),t._uU(7,"Product List"),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"input",12),t.NdJ("ngModelChange",function(i){return r.searchProduct=i})("change",function(){return r.ItemBar()})("click",function(){return r.masterService.filter=""}),t.qZA(),t._uU(14,"\xa0 Search By Name \xa0\xa0 "),t.TgZ(15,"input",13),t.NdJ("ngModelChange",function(i){return r.searchProduct=i})("change",function(){return r.ItemBar()})("click",function(){return r.masterService.filter=""}),t.qZA(),t._uU(16,"\xa0 Search By Code\xa0\xa0 "),t.TgZ(17,"input",14,15),t.NdJ("ngModelChange",function(i){return r.masterService.filter=i}),t.qZA(),t._uU(19,"\xa0\xa0 "),t.TgZ(20,"input",16),t.NdJ("ngModelChange",function(i){return r.ProductService.sortProduct=i})("change",function(){return r.sortProductListByName()}),t.qZA(),t._uU(21,"\xa0Sort By Name \xa0 \xa0 "),t.TgZ(22,"input",17),t.NdJ("ngModelChange",function(i){return r.ProductService.sortProduct=i})("change",function(){return r.sortProductListByDate()}),t.qZA(),t._uU(23,"\xa0Sort By C-Date "),t.qZA(),t.TgZ(24,"div",18)(25,"table",19)(26,"thead",20)(27,"tr")(28,"th",21),t._uU(29,"SN"),t.qZA(),t.TgZ(30,"th",22),t._uU(31,"Product Name"),t.qZA(),t.TgZ(32,"th",23),t._uU(33,"Product Code"),t.qZA(),t.TgZ(34,"th",24),t._uU(35,"Unit"),t.qZA(),t.TgZ(36,"th",25),t._uU(37,"P-Rate"),t.qZA(),t.TgZ(38,"th",26),t._uU(39,"Vat"),t.qZA(),t.TgZ(40,"th",22),t._uU(41,"Supplier"),t.qZA(),t.TgZ(42,"th",27),t._uU(43,"Actions"),t.qZA()()(),t.YNc(44,Ut,3,8,"tbody",28),t.qZA()(),t.YNc(45,Rt,2,0,"div",29),t.qZA()()()()()()()()),2&e&&(t.xp6(13),t.Q6J("ngModel",r.searchProduct),t.xp6(2),t.Q6J("ngModel",r.searchProduct),t.xp6(2),t.Q6J("ngModel",r.masterService.filter),t.xp6(3),t.Q6J("ngModel",r.ProductService.sortProduct),t.xp6(2),t.Q6J("ngModel",r.ProductService.sortProduct),t.xp6(22),t.Q6J("ngIf",null==r.masterService.productLists?null:r.masterService.productLists.length),t.xp6(1),t.Q6J("ngIf",r.masterService.productLists&&r.masterService.productLists.length))},dependencies:[b.sg,b.O5,u.Fj,u._,u.JJ,u.On,Z.LS,b.JJ,Z._s],styles:[".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}","td[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n    font-size: 13px;\n    padding-left: 5px !important;\n    padding: 3px !important;\n  }\n\n  .isLink[_ngcontent-%COMP%]{\n    cursor: pointer;\n  }\n\n  .isLink[_ngcontent-%COMP%]:hover {\n    text-decoration: underline;\n  }\n\n  .isLink[_ngcontent-%COMP%]:active {\n    text-decoration: underline;\n  }\n\n  th[_ngcontent-%COMP%] {\n    font-size: 15px;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current {\n    background: #17a2b8 !important;\n    border: transparent !important;\n    border-radius: 20px !important;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current:hover {\n    background: #74d4e2 !important;\n    border-radius: 20px !important;\n    border: transparent !important;\n  }\n\n  .my-pagination[_ngcontent-%COMP%]     .ngx-pagination a:hover, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\n    background: #c2c2c2;\n    border-radius: 20px !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{\n    background-color: #336799 !important;\n    border-color: #dee2e6 #dee2e6 #fff;\n    color: #fff !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{\n    color:#fff !important;\n\n  }\n  .stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{\n    padding: 0 !important;\n    padding-left: 6px !important;\n  }\n  .nav-tabs[_ngcontent-%COMP%]{\n  padding:4px !important;\n}\n.productlistTable[_ngcontent-%COMP%]{\n  height: 62vh !important;\n}"]}),n})();function kt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"productlist",7),t.NdJ("searchItemEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.searchItemEmitEvent(o))})("activeTabEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(o))})("productListsortByDateEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onsortByDateClicked(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("source",e.source)("productGroupList",e.productGroupList)("productListByID",e.productListByID)("getTreeNodeValueObj",e.getTreeNodeValueObj)("itemPerPage",e.itemPerPage)("pages",e.pages)("groupListCurrentPage",e.groupListCurrentPage)}}function Zt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"addproductgroup",8),t.NdJ("activeTabEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(o))}),t.qZA()}if(2&n){const e=t.oxw().$implicit,r=t.oxw();t.Q6J("tab",e)("productObj",r.productObj)("groupType",r.groupType)("getTreeNodeValueObj",r.getTreeNodeValueObj)("isAddFormShown",r.isAddFormShown)}}function Ft(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"addproductgroup",8),t.NdJ("activeTabEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(o))}),t.qZA()}if(2&n){const e=t.oxw().$implicit,r=t.oxw();t.Q6J("tab",e)("productObj",r.productObj)("groupType",r.groupType)("getTreeNodeValueObj",r.getTreeNodeValueObj)("isAddFormShown",r.isAddFormShown)}}function Vt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"addproductmaster",9),t.NdJ("activeTabEmit",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.activeTabEmitEvent(o))}),t.qZA()}if(2&n){const e=t.oxw().$implicit,r=t.oxw();t.Q6J("colorLists",r.colorLists)("productObj",r.productObj)("tab",e)("ProductHomeTabs",r.ProductHomeTabs)("getTreeNodeValueObj",r.getTreeNodeValueObj)("isAddFormShown",r.isAddFormShown)("selectedGroupInfo",r.selectedGroupInfo)}}function Ht(n,s){if(1&n&&(t.TgZ(0,"li",2)(1,"hometab",3),t.YNc(2,kt,1,7,"productlist",4),t.YNc(3,Zt,1,5,"addproductgroup",5),t.YNc(4,Ft,1,5,"addproductgroup",5),t.YNc(5,Vt,1,7,"addproductmaster",6),t.qZA()()),2&n){const e=s.$implicit;t.Q6J("hidden",!e.active),t.xp6(1),t.Q6J("active",e.active),t.xp6(1),t.Q6J("ngIf","productlist"==e.name),t.xp6(1),t.Q6J("ngIf","group"==e.name),t.xp6(1),t.Q6J("ngIf","subgroup"==e.name),t.xp6(1),t.Q6J("ngIf","addproduct"==e.name)}}const Jt=["*"];let qt=(()=>{class n{constructor(e,r){this.productMasterService=e,this.cdref=r,this.ProductHomeTabs=[],this.searchItemEmit=new t.vpe,this.activeTabEmit=new t.vpe,this.sortByDateEmit=new t.vpe,this.selectedGroupInfo={},this.pages=1}ngAfterContentInit(){}onsortByDateClicked(e){this.sortByDateEmit.emit(e)}ngOnInit(){0==JSON.parse(localStorage.getItem("setting")).DISPLAY&&(this.productMasterService.getColorGroup().subscribe(r=>{this.colorLists=r&&"ok"===r.status&&null!==r.result&&r&&r.result?r.result:[]},r=>{this.colorLists=[]}),console.log(this.pages))}onTabClose(e){this.ProductHomeTabs.splice(e,1),this.ProductHomeTabs.length>0&&(this.ProductHomeTabs[this.ProductHomeTabs.length-1].active=!0)}searchItemEmitEvent(e){this.searchItemEmit.emit(e)}activeTabEmitEvent(e){this.activeTabEmit.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["hometabs"]],contentQueries:function(e,r,o){if(1&e&&t.Suo(o,H,4),2&e){let i;t.iGM(i=t.CRH())&&(r.tabs=i)}},inputs:{ProductHomeTabs:"ProductHomeTabs",source:"source",tab:"tab",productObj:"productObj",getTreeNodeValueObj:"getTreeNodeValueObj",groupType:"groupType",productGroupList:"productGroupList",productListByID:"productListByID",isAddFormShown:"isAddFormShown",selectedGroupInfo:"selectedGroupInfo",itemPerPage:"itemPerPage",pages:"pages",totalCount:"totalCount",groupListCurrentPage:"groupListCurrentPage"},outputs:{searchItemEmit:"searchItemEmit",activeTabEmit:"activeTabEmit",sortByDateEmit:"sortByDateEmit"},ngContentSelectors:Jt,decls:3,vars:1,consts:[[2,"padding","0px"],["style","float:inherit",3,"hidden",4,"ngFor","ngForOf"],[2,"float","inherit",3,"hidden"],[3,"active"],[3,"source","productGroupList","productListByID","getTreeNodeValueObj","itemPerPage","pages","groupListCurrentPage","searchItemEmit","activeTabEmit","productListsortByDateEmit",4,"ngIf"],[3,"tab","productObj","groupType","getTreeNodeValueObj","isAddFormShown","activeTabEmit",4,"ngIf"],[3,"colorLists","productObj","tab","ProductHomeTabs","getTreeNodeValueObj","isAddFormShown","selectedGroupInfo","activeTabEmit",4,"ngIf"],[3,"source","productGroupList","productListByID","getTreeNodeValueObj","itemPerPage","pages","groupListCurrentPage","searchItemEmit","activeTabEmit","productListsortByDateEmit"],[3,"tab","productObj","groupType","getTreeNodeValueObj","isAddFormShown","activeTabEmit"],[3,"colorLists","productObj","tab","ProductHomeTabs","getTreeNodeValueObj","isAddFormShown","selectedGroupInfo","activeTabEmit"]],template:function(e,r){1&e&&(t.F$t(),t.TgZ(0,"ul",0),t.YNc(1,Ht,6,6,"li",1),t.qZA(),t.Hsn(2)),2&e&&(t.xp6(1),t.Q6J("ngForOf",r.ProductHomeTabs))},dependencies:[b.sg,b.O5,q,Q,H,Bt],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left;list-style:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:5px;text-decoration:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#98b2b7;cursor:pointer;cursor:hand}"]}),n})();const Qt=["multiselectGenericGrid"],Yt=["fileUploadPopup"];function zt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.ExportReportInExcel())}),t._uU(1," Export Product "),t.qZA()}}function Kt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showFileUploadPopUp())}),t._uU(1," Import Product [F2] "),t.qZA()}}function $t(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onMenuClick("addproduct"))}),t._uU(1,"Add Product"),t.qZA()}}function Wt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onMenuClick("subgroup"))}),t._uU(1,"Add Sub Group"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled","productlist"!=e.ProductHomeTabs[0].name||0==e.MasterRepo.isTreeNodeClicked||1==e.isMainParentNodeClicked)}}function Xt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onMenuClick("group"))}),t._uU(1,"Add Main Group"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled","productlist"!=e.ProductHomeTabs[0].name)}}function te(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Delete())}),t._uU(1," Delete "),t.qZA()}}function ee(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCancel())}),t._uU(1," Reset "),t.qZA()}}function re(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",21)(2,"div",22)(3,"div",23)(4,"h5",24),t._uU(5,"Group Selection"),t.qZA(),t.TgZ(6,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeGroupModal())}),t.TgZ(7,"span",26),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",27)(10,"div",28)(11,"div",29)(12,"label",30),t._uU(13,"Group Name :"),t.qZA()(),t.TgZ(14,"div",31)(15,"input",32),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.groupSelectObj.DESCA=o)})("keydown.enter",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(o))})("keydown.Tab",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(o))})("keyup",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.GroupEnterCommand(o))})("keypress",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.keyPress(o))}),t.qZA()()()(),t.TgZ(16,"div",33)(17,"div",34)(18,"span",35)(19,"strong"),t._uU(20,"Note:"),t.qZA(),t._uU(21," All groups are selected if Group Name is left blank."),t.qZA()(),t.TgZ(22,"div",31)(23,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onExport())}),t._uU(24,"Export"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(15),t.Q6J("ngModel",e.groupSelectObj.DESCA)}}const oe={mouse:{dblClick:(n,s,e)=>{s.hasChildren&&M.iM.TOGGLE_EXPANDED(n,s,e)},click:(n,s,e)=>{e.shiftKey?M.iM.TOGGLE_ACTIVE_MULTI(n,s,e):M.iM.TOGGLE_SELECTED(n,s,e)}},keys:{[M.tW.ENTER]:(n,s,e)=>s.setActiveAndVisible()}},ie=[{path:"",component:(()=>{class n extends B.c{constructor(e,r,o,i,a,c,f,v,_,P){super(r),this._alertService=e,this.injector=r,this.MasterRepo=o,this._authService=i,this.ProductService=a,this.setting=c,this._spinnerservice=f,this.alertService=v,this.router=_,this.cdref=P,this._treeEnable=!0,this.sortByDateFilter="",this.nodes=[],this.source=new L.nC,this.isChecked=0,this.ProductHomeTabs=[],this.loadListSubject=new p.xQ,this.loadList$=this.loadListSubject.asObservable(),this.homeTab={},this.menudata=[],this.userProfile={},this.reportHeaders=["Product Code123","Product Name123","Mother Pack","Brand","Business Unit","Base Unit","Weight","Unit","Shelf Life","Description","Status","Alternate Unit","Conversion Factor","MRP","Selling Price","Approval"],this.reportBody=["MENUCODE","DESCA","MotherPack33","Brand","BusinessUnit","BASEUNIT","GWEIGHT","Weighable","SHELFLIFE","Description","STATUS","ALTUNIT","CONFACTOR","MRP","SellingPrice","APPROVAL"],this.reportData=[],this.productGroupList=[],this.productListByID=[],this.selectMultiItems=0,this.itemPerPage=15,this.pages=1,this.groupListCurrentPage=1,this.totalCount=new t.vpe,this.multiselectPopupSettings=new j.oe,this.fileUploadPopupSettings=new D.s,this.selectGroupForExport=!1,this.groupSelectObj={DESCA:"",MCODE:{}},this.listForExport=[],this.items=[],this.asyncChildren=[{name:"child2.1",subTitle:"new and improved"},{name:"child2.2",subTitle:"new and improved2"}],this.customTemplateStringOptions={isExpandedField:"expanded",idField:"uuid",getChildren:this.getChildren.bind(this),actionMapping:oe,allowDrag:!1},this.contextMenuActions=[{html:O=>"Edit",tag:"edit",enabled:O=>!0,visible:O=>!0},{divider:!0,visible:!0},{html:O=>"Delete",tag:"delete",enabled:O=>!0,visible:O=>!0}],this.isMainParentNodeClicked=!0,this.userProfile=this._authService.getUserProfile(),this.orgType=this.userProfile.CompanyInfo.ORG_TYPE,this.AppMode=E.N.appMode;try{this.AppSettings=this.setting.appSetting,this.InilizedProductObj(),this.source=this.source=new L.zV(this._http,{endPoint:`${this.apiUrl}/GetAllProduct`,dataKey:"data",pagerPageKey:"currentPage",pagerLimitKey:"maxResultCount"}),this.onMenuClick("productlist")}catch(O){this._alertService.error(O)}this.MasterRepo.isAddFormShown_1=!1}get treeEnable(){return this._treeEnable}set treeEnable(e){this._treeEnable=e}handleKeyDownloadEvent(e){"F2"==e.code&&(e.preventDefault(),this.showFileUploadPopUp())}onsortByDate(e){this.sortByDateFilter=e}ngOnInit(){this.MasterRepo.isTreeNodeClicked=!1,this.isMainParentNodeClicked=!0,this.MasterRepo.isAddFormShown_1=!1;let e="Product Master";"lite"==this.AppMode&&(e="ProductMaster_Lite"),this.fileUploadPopupSettings=Object.assign(new D.s,{title:"Import Product",sampleFileUrl:`/downloadSampleExcelforMasterMigration?importName=${e}`,uploadEndpoints:`/masterImport/${e}/`,allowMultiple:!1,acceptFormat:".xlsx",filename:"Import Product Sample"})}ngAfterContentInit(){try{this.cdref.detectChanges()}catch(e){alert(e)}}ngOnDestroy(){this.MasterRepo.productLists=[],this.MasterRepo.productGroupLists=[],this.MasterRepo.groupSelectObj={},this.MasterRepo.subGroupAList=[],this.MasterRepo.subGroupBList=[],this.MasterRepo.subGroupCList=[],this.selectedGroupInfo=void 0,this.MasterRepo.groupSelectObj.MGROUP="",this.MasterRepo.SelectedProductGrpID="",this.MasterRepo.TreeID=""}InilizedProductObj(){this.ProductService.productObj={},this.ProductService.productObj.VAT=0}getChildren(e){try{return new Promise((r,o)=>{setTimeout(()=>r(this.asyncChildren.map(i=>Object.assign({},i,{hasChildren:e.level<5}))),1e3)})}catch(r){this._alertService.error(r)}}addNode(e){try{null==this.tree.treeModel.getFocusedNode()?this.tree.treeModel.nodes.push(e):this.tree.treeModel.getFocusedNode().data.children.push(e),this.tree.treeModel.update()}catch(o){this._alertService.error(o)}}childrenCount(e){try{return e&&e.children?`(${e.children.length})`:""}catch(r){this._alertService.error(r)}}filterNodes(e,r){try{r.treeModel.filterNodes(e,!0)}catch(o){this._alertService.error(o)}}activateSubSub(e){try{e.treeModel.getNodeById("PRG57952").setActiveAndVisible()}catch(r){this._alertService.error(r)}}onEvent(e){}searchItemEmitEvent(e){this.activateSubSub(this.tree),null!=this.tree.treeModel.getNodeById("PRG4047P")&&this.tree.treeModel.getNodeById("PRG4047P")}AddItem(){}onselect(e,r){try{this.source=new L.nC,this.selectedNode=e.treeModel.getFocusedNode().data,this.loadListSubject.next(this.selectedNode)}catch(o){console.log(o),this._alertService.error(o)}}go(e){try{e.stopPropagation()}catch(r){this._alertService.error(r)}}onTreeEnable(e){try{this.treeEnable=e}catch(r){this._alertService.error(r)}}onMenuClick(e){if("productlist"!=e){if(0==this.MasterRepo.checkUserRights("add","productmaster"))return;let i=this.MasterRepo.checkIsBranch();if(console.log("isbranch",i),0==i)return void this.alertService.warning("Cannot add product from branch office")}if("addproduct"==e&&console.log("checking item level",this.MasterRepo.userSetting.ITEMGROUPCODELEVEL,this.MasterRepo.ITEM_LEVEL),"subgroup"==e){console.log("masterrepo",this.MasterRepo.subGroupLevel);let o=4;if("lite"==E.N.appMode&&(o=3),this.MasterRepo.subGroupLevel>=o)return void this._alertService.warning("Cannot add sub group in this level")}this.homeTab.name=e,this.homeTab.selectedNode=this.selectedNode,this.homeTab.mode="productlist"==e?"List":"add",this.homeTab.active=!0,this.ProductHomeTabs=[],this.ProductHomeTabs.push(this.homeTab),this.groupType=e,this.MasterRepo.isAddFormShown_1=!0,"group"==e?this.MasterRepo.modeIs="Add Main Group":"subgroup"==e?this.MasterRepo.modeIs="Add Sub Group":"addproduct"==e&&(this.MasterRepo.modeIs="Add Product",this.MasterRepo.disabledSubgroupA=!0,this.MasterRepo.disabledSubgroupB=!0,this.MasterRepo.disabledSubgroupC=!0,this.MasterRepo.disableOnCheckTran=!1,this.MasterRepo.subCategoryAList=[],this.MasterRepo.subCategoryBList=[])}activeTabEmitEvent(e){if(console.log("active tab emit event",e),this.ProductHomeTabs=[],this.modeForHideAddProduct=e.mode,console.log("home mode",this.modeForHideAddProduct),"group"==e.name?this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Main Group":"subgroup"==e.name?this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Sub Group":"addproduct"==e.name&&(this.MasterRepo.modeIs=(e.mode?e.mode.charAt(0).toUpperCase()+e.mode.substr(1).toLowerCase():"")+" Product"),e.mode||(this.MasterRepo.modeIs=""),this.ProductHomeTabs.push(e),null!=e.savedValue&&"add"==e.mode){if("group"==e.from)this.addNode({id:e.savedValue.MCODE,name:e.savedValue.DESCA,menucode:e.savedValue.MENUCODE,children:[]}),this.InilizedProductObj();else if("product"==e.from){this.MasterRepo.PartialProductList.push({MCODE:e.savedValue.MCODE,MENUCODE:e.savedValue.MENUCODE,DESCA:e.savedValue.DESCA,BASEUNIT:e.savedValue.BASEUNIT,PARENT:e.savedValue.PARENT});var r=this.MasterRepo.PartialProductList.filter(i=>i.PARENT==this.selectedNode.id);r.length>0&&this.source.load(r),this.InilizedProductObj()}}else if(null!=e.savedValue&&"edit"==e.mode)if("product"==e.from){let o={MCODE:e.savedValue.MCODE,MENUCODE:e.savedValue.MENUCODE,DESCA:e.savedValue.DESCA,BASEUNIT:e.savedValue.BASEUNIT,PARENT:e.savedValue.PARENT};this.MasterRepo.PartialProductList.splice(this.MasterRepo.PartialProductList.findIndex(i=>i.MCODE==o.MCODE),1),this.MasterRepo.PartialProductList.push(o)}else"group"==e.from&&this.MasterRepo.ProductGroupTree.length>0&&(this.loopingtreeForEdit(this.MasterRepo.ProductGroupTree,e.savedValue.MCODE,e.savedValue.DESCA),this.nodes=this.MasterRepo.ProductGroupTree)}loopingtreeForEdit(e,r,o){for(let i of e){if(i.id==r){i.name=o;break}this.loopingtreeForEdit(i.children,r,o)}}contextMenuClick(e,r){if("edit"==r.tag){let o={name:"group"};o.selectedEditNode=e,o.mode="edit",o.active=!0,this.ProductHomeTabs=[],this.ProductHomeTabs.push(o)}}fileEvent(e){let r=e.target.files;if(r.length>0){let o=r[0],i=new FormData;i.append("uploadFile",o,o.name),this.ProductService.getUploadFile(i)}}getTreeNodeValue(e){this.MasterRepo.pagesubject.next(1),this.MasterRepo.ProdGroupSubject.next(1),this.pages=1,this.MasterRepo.currentPage=1,this.getTreeNodeValueObj=e,console.log("getTreeNOdeValue",this.getTreeNodeValueObj),this.MasterRepo.isTreeNodeClicked=!0,this.MasterRepo.TreeID=e.mgroup,this.MasterRepo.SelectedProductPrarentID=e.parentId,this.MasterRepo.SelectedProductGrpID=e.id,this.MasterRepo.subGroupLevel=e.LEVELS,"AG99999999"==e.menucode?(this.isMainParentNodeClicked=!0,this.MasterRepo.isMainGroup=!0):(this.isMainParentNodeClicked=!1,this.MasterRepo.isMainGroup=!1),console.log(e),this.ProductService.getProductGroupListByID(e.id,e.parentId,e.children.length,this.groupListCurrentPage,this.itemPerPage).subscribe(r=>{this.productGroupList=r.result.result,this.MasterRepo.productGroupLists=r.result.result,this.MasterRepo.productGroupSearchTotalCount=r.result.totalCount,this.totalCount.emit(r.result.totalCount),this.MasterRepo.filter="",this.MasterRepo.filters="",this.MasterRepo.ITEM_LEVEL=r.result2&&r.result2[0].ITEM_LEVEL}),this.ProductService.getProductListByID(e.id,e.parentId,e.children.length,this.MasterRepo.currentPage,this.itemPerPage).subscribe(r=>{this.productListByID=r.result,console.log(this.productListByID),this.MasterRepo.productLists=r.result,this.MasterRepo.productSearchTotalCount=r.totalCount,console.log("list",this.MasterRepo.productSearchTotalCount)})}clickedActive(e){this.isChecked=e}getSelectedGroupInfo(e){console.log("selected group info in product.ts",e),this.selectedGroupInfo=e}excelReportNameProvide(){return"productmaster-report"}ExportReportInExcel(){this.selectGroupForExport=!0}onExport(){this._spinnerservice.show("Downloading product master report, Please wait..."),""==this.groupSelectObj.DESCA&&(this.listForExport=[]),this.MasterRepo.getExcelFile(this.isChecked,this.listForExport,"asset").subscribe(r=>{this._spinnerservice.hide();let o=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});console.log("blob1",o,r),w.saveAs(o,"Product Master.xlsx")},r=>{this.alertService.info("data could not found"),this._spinnerservice.hide()}),this.closeGroupModal(),this.isChecked=0}GroupEnterCommand(e){this.getGroupList(),this.multiselectGenericGrid.show()}getGroupList(){this.multiselectPopupSettings={title:"Group List",apiEndpoints:"/getAssetMainGroupPagedList",defaultFilterIndex:0,columns:[{key:"MENUCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"DESCA",title:"GROUP",hidden:!1,noSearch:!1}]}}onMultiItemSelected(e){console.log("group mulitple selected",e),this.groupSelectObj.DESCA=e.DESCA,this.items=e.MCODE.split(","),this.groupSelectObj.MCODE=this.items,this.items.forEach(r=>{this.listForExport.push({mcode:r})}),console.log(this.items,this.listForExport)}closeGroupModal(){this.selectGroupForExport=!1,this.groupSelectObj.DESCA="",this.listForExport=[]}excelDownloadFromHtml_manualTable(e){try{this.reportData=this.menudata[0];let f='<table style="border: thin solid black;">  <thead>   <tr>';for(let v of this.reportHeaders)f+='<th style="border: thin solid black;">'+v+"</th>";f+="</tr> </thead>",f+="<tbody>";for(let v of this.reportData){f+="<tr>";for(let _ of this.reportBody){var r=v[_];null==r&&(r=""),f+='<td style="border: thin solid black;">'+r+"</td>"}}f+="</tbody></table>";var i=new Blob([f],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),a=URL.createObjectURL(i),c=document.createElement("a");c.href=a,c.download=this.excelReportNameProvide()+".xlsx",document.body.appendChild(c),c.click(),document.body.removeChild(c)}catch(f){alert(f)}}onCancel(){try{this.routeToHome()}catch(e){this._alertService.error(e)}}routeToHome(e=null,r=null){let o={name:"productlist",active:!0};o.mode=r,o.from="product",o.savedValue=e,this.MasterRepo.groupSelectObj={},this.MasterRepo.subGroupAList=[],this.MasterRepo.subGroupBList=[],this.MasterRepo.subGroupCList=[],this.selectedGroupInfo=void 0,this.MasterRepo.groupSelectObj.MGROUP="",this.MasterRepo.SelectedProductGrpID="",this.MasterRepo.TreeID="",this.activeTabEmitEvent(o),this.ProductService.productObj={},this.MasterRepo.isAddFormShown_1=!1,console.log("group select",this.ProductService.groupSelectObj)}Delete(){this.MasterRepo.checkUserRights("delete","productmaster")&&confirm("Do you want to delete?")&&(this.alertService.info("Deleting data, Please wait."),this.ProductService.deleteMenuitem(this.MasterRepo.ProductMcode,this.MasterRepo.isGroup).subscribe(e=>{console.log("@@res",e),"ok"==e.status?(this.MasterRepo.updateBrandTreeSubject.next(e),this.ProductService.productObj={},this.MasterRepo.isAddFormShown_1=!1,setTimeout(()=>{1==this.MasterRepo.isGroup&&this.alertService.hide(),this._alertService.success(e.result),this.routeToHome()},1e3),this.ProductService.getProductListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.MasterRepo.currentPage,this.itemPerPage).subscribe(r=>{this.productListByID=r.result,this.MasterRepo.productLists=r.result}),this.ProductService.getProductGroupListByID(this.getTreeNodeValueObj.id,this.getTreeNodeValueObj.parentId,this.getTreeNodeValueObj.children.length,this.groupListCurrentPage,this.itemPerPage).subscribe(r=>{this.MasterRepo.productGroupLists=r.result.result})):"error"==e.staus&&this.alertService.info(e.result)}))}productListWhileLoad(){let e="PRG99999999";this.ProductService.getProductListByID(e,"MI",53,this.MasterRepo.currentPage,10).subscribe(i=>{this.productListByID=i.result,this.MasterRepo.productLists=i.result,this.MasterRepo.productSearchTotalCount=i.totalCount}),this.ProductService.getProductGroupListByID(e,"MI",53,this.groupListCurrentPage,10).subscribe(i=>{this.MasterRepo.productGroupLists=i.result.result,this.MasterRepo.productGroupSearchTotalCount=i.result.totalCount})}showFileUploadPopUp(){this.fileUploadPopup.show()}fileUploadSuccess(e){console.log("upload success",e,e.result.result,e.result),"ok"==e.status?this.alertService.success(e.result.result):this.alertService.error(e.result)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.c),t.Y36(t.zs3),t.Y36(x.P),t.Y36(S.e),t.Y36(m),t.Y36(U.R),t.Y36(I.V),t.Y36(h.c),t.Y36(C.F0),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["products"]],viewQuery:function(e,r){if(1&e&&(t.Gf(M.qr,5),t.Gf(Qt,5),t.Gf(Yt,5)),2&e){let o;t.iGM(o=t.CRH())&&(r.tree=o.first),t.iGM(o=t.CRH())&&(r.multiselectGenericGrid=o.first),t.iGM(o=t.CRH())&&(r.fileUploadPopup=o.first)}},hostBindings:function(e,r){1&e&&t.NdJ("keydown",function(i){return r.handleKeyDownloadEvent(i)},!1,t.evT)},outputs:{totalCount:"totalCount"},features:[t._Bn([m,S.e]),t.qOj],decls:24,vars:24,consts:[[1,"row"],[1,"col-md-6"],[2,"white-space","nowrap","font-family","Segoe UI Light","font-weight","bold","font-size","18px","padding-left","4%","width","192px"],["routerLink","/pages/dashboard",1,"btn","btn-info","pull-right",2,"font-size","12px"],["class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","margin-left: 5px;font-size: 12px;",3,"click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","margin-left: 5px;font-size: 12px;",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-info pull-right","style","font-size: 12px;",3,"click",4,"ngIf"],[1,"col-md-3",2,"padding","0px"],[3,"brandsortByDateFilter","isAddFormShown","selectedNode","selectedGroupInfo"],[1,"col-md-9",2,"margin-top","-0"],[3,"source","productObj","ProductHomeTabs","groupType","getTreeNodeValueObj","selectedGroupInfo","productGroupList","productListByID","isAddFormShown","itemPerPage","pages","groupListCurrentPage","sortByDateEmit","activeTabEmit"],[4,"ngIf"],[3,"popupsettings","onItemsSelected"],["multiselectGenericGrid",""],[3,"popupsettings","onUploaded"],["fileUploadPopup",""],[1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],["type","button",1,"btn","btn-info","pull-right",2,"margin-left","5px","font-size","12px",3,"click"],["type","button",1,"btn","btn-info","pull-right",2,"margin-left","5px","font-size","12px",3,"disabled","click"],["type","button",1,"btn","btn-info","pull-right",2,"font-size","12px",3,"click"],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row",2,"margin","0.5rem"],[1,"col-md-4"],[2,"margin-left","-10%"],[1,"col"],["type","text","placeholder","Press Enter or Tab for Group List",1,"form-control","input-text",2,"background","white",3,"ngModel","ngModelChange","keydown.enter","keydown.Tab","keyup","keypress"],[1,"modal-footer"],[1,"col-9"],[2,"font-size","12px"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px","margin-right","20px","float","right",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3,"ASSET MASTER"),t.qZA()(),t.TgZ(4,"div",1)(5,"button",3),t._uU(6," Back "),t.qZA(),t.YNc(7,zt,2,0,"button",4),t.YNc(8,Kt,2,0,"button",4),t.YNc(9,$t,2,0,"button",5),t.YNc(10,Wt,2,1,"button",6),t.YNc(11,Xt,2,1,"button",6),t.YNc(12,te,2,0,"button",7),t.YNc(13,ee,2,0,"button",7),t.qZA()(),t.TgZ(14,"div",0)(15,"div",8)(16,"brand-asset-tree",9),t.NdJ("selectedNode",function(i){return r.getTreeNodeValue(i)})("selectedGroupInfo",function(i){return r.getSelectedGroupInfo(i)}),t.qZA()(),t.TgZ(17,"div",10)(18,"hometabs",11),t.NdJ("sortByDateEmit",function(i){return r.onsortByDate(i)})("activeTabEmit",function(i){return r.activeTabEmitEvent(i)}),t.qZA()()(),t.YNc(19,re,25,1,"div",12),t.TgZ(20,"multiselect-generic-grid",13,14),t.NdJ("onItemsSelected",function(i){return r.onMultiItemSelected(i)}),t.qZA(),t.TgZ(22,"file-uploader-popup",15,16),t.NdJ("onUploaded",function(i){return r.fileUploadSuccess(i)}),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngIf","productlist"==r.ProductHomeTabs[0].name),t.xp6(1),t.Q6J("ngIf","productlist"==r.ProductHomeTabs[0].name),t.xp6(1),t.Q6J("ngIf","view"!==r.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","view"!==r.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","view"!==r.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","productlist"!=r.ProductHomeTabs[0].name&&"view"==r.modeForHideAddProduct),t.xp6(1),t.Q6J("ngIf","productlist"!=r.ProductHomeTabs[0].name),t.xp6(3),t.Q6J("brandsortByDateFilter",r.sortByDateFilter)("isAddFormShown",r.isAddFormShown),t.xp6(2),t.Q6J("source",r.source)("productObj",r.ProductService.productObj)("ProductHomeTabs",r.ProductHomeTabs)("groupType",r.groupType)("getTreeNodeValueObj",r.getTreeNodeValueObj)("selectedGroupInfo",r.selectedGroupInfo)("productGroupList",r.productGroupList)("productListByID",r.productListByID)("isAddFormShown",r.isAddFormShown)("itemPerPage",r.itemPerPage)("pages",r.pages)("groupListCurrentPage",r.groupListCurrentPage),t.xp6(1),t.Q6J("ngIf",r.selectGroupForExport),t.xp6(1),t.Q6J("popupsettings",r.multiselectPopupSettings),t.xp6(2),t.Q6J("popupsettings",r.fileUploadPopupSettings))},dependencies:[b.O5,u.Fj,u.JJ,u.On,C.rH,V,j.ky,D.U,qt],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}"]}),n})()},{path:"add-productmaster",component:q},{path:"add-product-group",component:Q}];let ne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.Bz.forChild(ie),C.Bz]}),n})();var se=d(43583),ae=d(63321),ce=d(59629),de=d(93247),ue=d(39773),le=d(54536),pe=d(71259),he=d(53158),ge=d(46543),be=d(55618),X=d(79829),tt=d(5615),me=d(87584);function fe(n,s){if(1&n&&(t.TgZ(0,"option",7),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.AssetID),t.xp6(1),t.Oqu(e.AssetID)}}function _e(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"div",10)(2,"div",11)(3,"p"),t._uU(4,"Updated by : "),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.TgZ(7,"p"),t._uU(8,"Updated on : "),t.TgZ(9,"span"),t._uU(10),t.qZA()()(),t._UZ(11,"input",12),t.qZA(),t.BQk()),2&n){const e=s.$implicit;t.xp6(6),t.Oqu(e.UserID),t.xp6(4),t.Oqu(e.Date)}}function Pe(n,s){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,_e,12,2,"ng-container",9),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.activityLogList)}}function Ce(n,s){1&n&&(t.TgZ(0,"h5",13),t._uU(1,"No log found"),t.qZA())}let ve=(()=>{class n{constructor(e){this.assetService=e,this.productObj={},this.selectedItem="",this.activityLogList=[]}ngOnInit(){}ngOnChanges(){}onSelectAssetID(e){this.selectedItem=e.target.value,this.assetService.getUserActivityLogPagedList(this.productObj.MCODE,this.selectedItem).subscribe(r=>{this.activityLogList=r.result})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-asset-activity-log"]],inputs:{dataForActivityLog:"dataForActivityLog",productObj:"productObj"},features:[t.TTD],decls:10,vars:4,consts:[[1,"row",2,"justify-content","right"],[1,"col-lg-2"],["name","","id","",3,"ngModel","ngModelChange","change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","row mt-3 mr-3",4,"ngIf","ngIfElse"],["messageDisplay",""],[3,"value"],[1,"row","mt-3","mr-3"],[4,"ngFor","ngForOf"],[1,"d-flex",2,"flex-direction","column","width","100%"],[1,"msg","d-flex","justify-content-between"],["type","text","placeholder","Purchase : Added from Voucher No. 88 to 95",2,"background-color","#E9EBF5","color","#686868"],[2,"display","flex","justify-content","center","margin-top","60px"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"select",2),t.NdJ("ngModelChange",function(i){return r.searchList=i})("change",function(i){return r.onSelectAssetID(i)}),t.ynx(3),t.TgZ(4,"option",3),t._uU(5,"Search Asset ID"),t.qZA(),t.YNc(6,fe,2,2,"option",4),t.BQk(),t.qZA()()(),t.YNc(7,Pe,2,1,"div",5),t.YNc(8,Ce,2,0,"ng-template",null,6,t.W1O)),2&e){const o=t.MAs(9);t.xp6(2),t.Q6J("ngModel",r.searchList),t.xp6(4),t.Q6J("ngForOf",r.dataForActivityLog),t.xp6(1),t.Q6J("ngIf",r.activityLogList.length>0)("ngIfElse",o)}},dependencies:[b.sg,b.O5,u.YN,u.Kr,u.EJ,u.JJ,u.On],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{\n        margin-bottom: 3px;\n\n    }\n    .msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{\n        color: #336799;\n    }\n    input[_ngcontent-%COMP%]{\n        height: 35px !important;\n\n    }"]}),n})();function Oe(n,s){if(1&n&&(t.TgZ(0,"tr",13)(1,"td",14),t._uU(2),t.qZA(),t.TgZ(3,"td",15),t._uU(4),t.qZA(),t.TgZ(5,"td",16),t._uU(6),t.qZA(),t.TgZ(7,"td",16),t._uU(8),t.qZA(),t.TgZ(9,"td",16),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td",16),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",16),t._uU(16),t.qZA()()),2&n){const e=s.$implicit,r=s.index;t.xp6(2),t.hij(" ",r+1," "),t.xp6(2),t.Oqu(e.AssetID),t.xp6(2),t.hij(" ",e.BATCH,""),t.xp6(2),t.hij(" ",e.DEPRATE,""),t.xp6(2),t.hij(" ",t.xi3(11,7,e.COSTPRICE,"1.2-2"),""),t.xp6(3),t.hij(" ",t.xi3(14,10,e.BOOKVALUE,"1.2-2"),""),t.xp6(3),t.Oqu(e.Name)}}let Se=(()=>{class n{constructor(e,r,o,i){this.masterService=e,this.productService=r,this.alert=o,this._spinnerservice=i,this.productObj={},this.returnsaveObj=new t.vpe}ngOnInit(){}ngOnChanges(){console.log("@@ItemWisePriceList",this.productObj.MCODE),this.productService.getAssetIdDetails(this.productObj.MCODE).subscribe(e=>{console.log("response for assetIdDetails",e),"ok"==e.status&&(this.assetIdDetails=e.result,this.returnsaveObj.emit(this.assetIdDetails))})}onExport(){this._spinnerservice.show("Downloading, Please wait..."),this.masterService.getExcelFileAssetDetails(this.productObj.MCODE).subscribe(r=>{this._spinnerservice.hide();let o=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});w.saveAs(o,"Asset Id Details.xlsx")},r=>{this.alert.info("data could not found"),this._spinnerservice.hide()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.P),t.Y36(m),t.Y36(h.c),t.Y36(I.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["asset-code-details"]],inputs:{productObj:"productObj"},outputs:{returnsaveObj:"returnsaveObj"},features:[t.TTD],decls:27,vars:1,consts:[[1,"row",2,"width","100%"],[1,"col-8",2,"padding-left","0"],[1,"float-start"],["type","search","placeholder","Search...","autocomplete","off","name","filter",1,"form-control",2,"height","1.5rem","padding-left","12px","margin-bottom","10px","width","30%"],[1,"offset-lg-2","col-lg-2",2,"text-align","right"],["type","button",1,"btn","btn-success",2,"padding","0.1rem 0.75rem",3,"click"],[2,"height","58vh","width","100%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","1%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","3%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","5%","font-weight","bold","text-align","center"],["style","border: 1px; max-height: 25px;",4,"ngFor","ngForOf"],[2,"border","1px","max-height","25px"],["id","sn",2,"line-height","21px","text-align","center","border","1px solid #e6e6e6"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","center"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","right"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"input",3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return r.onExport()}),t._uU(6,"Export to Excel"),t.qZA()(),t.TgZ(7,"div",6)(8,"table",7)(9,"thead")(10,"tr",8)(11,"th",9),t._uU(12,"S.N"),t.qZA(),t.TgZ(13,"th",10),t._uU(14,"Asset ID"),t.qZA(),t.TgZ(15,"th",10),t._uU(16,"Batch"),t.qZA(),t.TgZ(17,"th",11),t._uU(18,"Dep. Rate(%)"),t.qZA(),t.TgZ(19,"th",10),t._uU(20,"Original Cost"),t.qZA(),t.TgZ(21,"th",10),t._uU(22,"Book Value"),t.qZA(),t.TgZ(23,"th",10),t._uU(24,"Location"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,Oe,17,13,"tr",12),t.qZA()()()()),2&e&&(t.xp6(26),t.Q6J("ngForOf",r.assetIdDetails))},dependencies:[b.sg,b.JJ],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n\n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }\n\n    input[_ngcontent-%COMP%]{\n        padding-left: 2px;\n        width:96%;\n    }\n\n.fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n    \n  }\n \n  \n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}\ninput[_ngcontent-%COMP%]{\n    height: 35px !important;\n  }"]}),n})();function Me(n,s){if(1&n&&(t.TgZ(0,"tr",13)(1,"td",14),t._uU(2),t.qZA(),t.TgZ(3,"td",15),t._uU(4),t.qZA(),t.TgZ(5,"td",16),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",16),t._uU(9),t.qZA(),t.TgZ(10,"td",16),t._uU(11),t.qZA()()),2&n){const e=s.$implicit,r=s.index;t.xp6(2),t.hij(" ",r+1," "),t.xp6(2),t.Oqu(e.TRNDATE),t.xp6(2),t.hij(" ",t.xi3(7,5,e.Rate,"1.2-2"),""),t.xp6(3),t.Oqu(e.BILLTO),t.xp6(2),t.Oqu(e.ITEMDESC)}}let Te=(()=>{class n{constructor(e,r,o,i){this.masterService=e,this.productService=r,this.alert=o,this._spinnerservice=i,this.productObj={}}ngOnInit(){}ngOnChanges(){console.log("@@ItemWisePriceList",this.productObj.MCODE),this.productService.getPriceHistory(this.productObj.MCODE).subscribe(e=>{console.log("response for price history",e),"ok"==e.status&&(this.priceHistory=e.result,this.priceHistory.forEach(r=>{r.TRNDATE=r.TRNDATE.toString().substring(0,10)}))})}onExport(){this._spinnerservice.show("Downloading, Please wait..."),this.masterService.getExcelFilePriceHistory(this.productObj.MCODE).subscribe(r=>{this._spinnerservice.hide();let o=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});w.saveAs(o,"Price History.xlsx")},r=>{this.alert.info("data could not found"),this._spinnerservice.hide()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.P),t.Y36(m),t.Y36(h.c),t.Y36(I.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["price-history-view"]],inputs:{productObj:"productObj"},features:[t.TTD],decls:23,vars:1,consts:[[1,"row",2,"width","100%"],[1,"col-8",2,"padding-left","0"],[1,"float-start"],["type","search","placeholder","Search...","autocomplete","off","name","filter",1,"form-control",2,"height","1.5rem","padding-left","12px","margin-bottom","10px","width","30%"],[1,"offset-lg-2","col-lg-2",2,"text-align","right"],["type","button",1,"btn","btn-success",2,"padding","0.1rem 0.75rem",3,"click"],[2,"height","58vh","width","100%","overflow-x","hidden","overflow-y","scroll"],["id","BlueHeaderResizableTable",1,"table","table-striped"],[1,"stickHead",2,"line-height","2rem"],[1,"fontsize",2,"width","1%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","3%","font-weight","bold","text-align","center"],[1,"fontsize",2,"width","5%","font-weight","bold","text-align","center"],["style","border: 1px; max-height: 25px;",4,"ngFor","ngForOf"],[2,"border","1px","max-height","25px"],["id","sn",2,"line-height","21px","text-align","center","border","1px solid #e6e6e6"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","center"],[2,"line-height","21px","border","1px solid #e6e6e6","text-align","right"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"input",3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return r.onExport()}),t._uU(6,"Export to Excel"),t.qZA()(),t.TgZ(7,"div",6)(8,"table",7)(9,"thead")(10,"tr",8)(11,"th",9),t._uU(12,"S.N"),t.qZA(),t.TgZ(13,"th",10),t._uU(14,"Purchase Date"),t.qZA(),t.TgZ(15,"th",10),t._uU(16,"Rate"),t.qZA(),t.TgZ(17,"th",11),t._uU(18,"Supplier Name"),t.qZA(),t.TgZ(19,"th",10),t._uU(20,"Product Description"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,Me,12,8,"tr",12),t.qZA()()()()),2&e&&(t.xp6(22),t.Q6J("ngForOf",r.priceHistory))},dependencies:[b.sg,b.JJ],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",".stickHead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#6599ff!important;line-height:2rem;z-index:2;color:#fff;font-weight:400!important}.tableHeading[_ngcontent-%COMP%]{background-color:#6599ff;color:#fff}.fieldsColumnHeading[_ngcontent-%COMP%]{background-color:#6599ff;margin-bottom:10px;color:#fff;border-radius:5px;padding:3px 0;font-size:14px;text-align:center}.btn-info[_ngcontent-%COMP%]{padding:2px 10px!important;background-color:#336799!important}",".col-md-12[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    .col-md-4[_ngcontent-%COMP%] {\n        padding: 0px !important;\n    }\n\n    table[_ngcontent-%COMP%] {\n        border-collapse: collapse;\n\n    }\n\n    th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr[_ngcontent-%COMP%]:nth-child(even) {\n        background-color: #f2f2f2;\n    }\n\n    input[_ngcontent-%COMP%]{\n        padding-left: 2px;\n        width:96%;\n    }\n\n.fontsize[_ngcontent-%COMP%] {\n    font-size: 12px;\n   \n  }\n \n  input[_ngcontent-%COMP%]{\n    height: 35px !important;\n  }\n\n\n.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    padding: 0.10rem !important;\n}"]}),n})();var F=d(28698);const xe=["genericGridSupplierPopup"],Ae=["genericGrid"];function Ee(n,s){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("ngValue",e.UNITS),t.xp6(1),t.Oqu(e.UNITS)}}function ye(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"label"),t._uU(2,"Landing Price : "),t.qZA(),t.TgZ(3,"input",26),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.CRATE=o)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("disabled",!0)("ngModel",e.productObj.CRATE)}}function Ge(n,s){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("ngValue",e.PTYPEID),t.xp6(1),t.Oqu(e.PTYPENAME)}}function Le(n,s){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("ngValue",e.MENUCAT),t.xp6(1),t.Oqu(e.MENUCAT)}}function we(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"label",27),t._uU(2,"Extra Category : "),t.qZA(),t.TgZ(3,"select",28),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.MCAT1=o)})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickExtraCategory())}),t.YNc(4,Le,2,2,"option",8),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.MCAT1),t.xp6(1),t.Q6J("ngForOf",e.MCat1List)}}function De(n,s){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("ngValue",e.TCatId),t.xp6(1),t.Oqu(e.Category)}}function Ie(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"label"),t._uU(2,"Tax Category : "),t.qZA(),t.TgZ(3,"select",29),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.productObj.TaxCategory=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectTaxCategory())})("keydown.tab",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.TabClickExtraCategory())}),t.YNc(4,De,2,2,"option",8),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.productObj.TaxCategory),t.xp6(1),t.Q6J("ngForOf",e.TaxCatList)}}function Ne(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",30)(2,"div",31)(3,"div",32)(4,"h5",33),t._uU(5,"New Unit"),t.qZA(),t.TgZ(6,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeUnitModal())}),t.TgZ(7,"span",35),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"form",36),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onUnitSubmit())}),t.TgZ(10,"div",37)(11,"div",38)(12,"label",39),t._uU(13,"Unit Name:"),t.qZA(),t.TgZ(14,"div",40),t._UZ(15,"input",41),t.qZA()()(),t.TgZ(16,"div",42)(17,"button",43),t._uU(18,"Save"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.unitForm),t.xp6(8),t.Q6J("disabled",!e.unitForm.valid)}}function je(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",30)(2,"div",31)(3,"div",32)(4,"h5",33),t._uU(5,"New Category"),t.qZA(),t.TgZ(6,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeCatModal())}),t.TgZ(7,"span",35),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"form",36),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCategorySubmit())}),t.TgZ(10,"div",37)(11,"div",44)(12,"label",45),t._uU(13,"Category Name:"),t.qZA(),t.TgZ(14,"div",46),t._UZ(15,"input",47),t.qZA()()(),t.TgZ(16,"div",42)(17,"button",43),t._uU(18,"Save"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.catForm),t.xp6(8),t.Q6J("disabled",!e.catForm.valid)}}let Ue=(()=>{class n{constructor(e,r,o,i,a,c,f,v){this.masterService=e,this.ProductService=r,this.fb=o,this.unitMasterService=i,this.categoryMasterService=a,this.alertService=c,this.spinnerService=f,this.authservice=v,this.productObj={},this.AlternateUnits=[],this.gridPopupSettingsForSupplier=new F.im,this.gridPopupSettings=new F.im,this.Units=[],this.MCatList=[],this.MCat1List=[],this.TaxCatList=[],this.colorGroupList=[],this.PTypeList=[],this.addNewUnit=!1,this.unit=!1,this.addNewCategory=!1,this.category=!1,this.applyPipeInRate=!0,this.mode={},this.userSetting=this.authservice.getSetting(),this.AppMode=E.N.appMode,this.masterService.getUnits().subscribe(P=>{this.Units=P}),this.masterService.getPTypeListForAsset().subscribe(P=>{P?(this.PTypeList=P,console.log("Checkadata",this.PTypeList),"lite"==E.N.appMode&&(this.PTypeList=this.PTypeList.filter(O=>0==O.PTYPEID||10==O.PTYPEID)),1!=this.masterService.editMode&&(this.productObj.PTYPE=this.PTypeList[0].PTYPEID)):this.PTypeList=[]},P=>{this.PTypeList=[]}),1!=this.masterService.userSetting.AUTOCODEMODE?this.masterService.getMCatList().subscribe(P=>{this.MCatList=P}):1==this.masterService.userSetting.AUTOCODEMODE&&this.masterService.getSubMcatListForAutoCodeMode1("level1").subscribe(P=>{this.MCatList=P}),this.masterService.getMCat1List().subscribe(P=>{this.MCat1List=P}),this.masterService.getTaxCategoryList().subscribe(P=>{this.TaxCatList=P}),0==JSON.parse(localStorage.getItem("setting")).DISPLAY&&this.ProductService.getColorGroup().subscribe(P=>{this.colorGroupList=P&&"ok"===P.status&&null!==P.result&&P&&P.result?P.result:[]},P=>{this.colorGroupList=[]}),this.masterService.editMode=!1}updown(e){}ngOnInit(){this.productObj.VAT=0==this.masterService.userSetting.EnablePanBill?1:0,this.productObj.PRATE_A=0,this.unitForm=this.fb.group({unitName:["",[u.kI.required]],notDecimal:[0]}),this.catForm=this.fb.group({CATEGORYNAME:["",[u.kI.required]],STATUS:[""]}),console.log(this.ProductService.TempProductObj)}onChangeEx_PRate_A(){this.ProductService.pObj.PurchasePriceWithoutVAT=this.productObj.PRATE_A,this.CalculateMargin()}CalculateMargin(){0==this.masterService.nullToZeroConverter(this.ProductService.pObj.PurchasePriceWithoutVAT)||0==this.masterService.nullToZeroConverter(this.ProductService.pObj.SalesPriceWithoutVAT)||(this.ProductService.pObj.RecMarginOnPRate=Number(100*(this.ProductService.pObj.SalesPriceWithoutVAT-this.ProductService.pObj.PurchasePriceWithoutVAT)/this.ProductService.pObj.PurchasePriceWithoutVAT).toFixed(5),this.ProductService.pObj.RecMarginOnRate=Number(100*(this.ProductService.pObj.SalesPriceWithoutVAT-this.ProductService.pObj.PurchasePriceWithoutVAT)/this.ProductService.pObj.SalesPriceWithoutVAT).toFixed(5))}RecalculateVATAmount(){1==this.productObj.VAT?(console.log(this.ProductService.TempProductObj.IN_PRATE_A),this.ProductService.TempProductObj.IN_PRATE_A&&0!=this.ProductService.TempProductObj.IN_PRATE_A&&(this.productObj.IN_PRATE_A=this.ProductService.TempProductObj.IN_PRATE_A,this.onChangeEx_PRate_A())):(console.log("@@this.ProductService.TempProductObj.PRATE_A",this.ProductService.TempProductObj.PRATE_A),this.ProductService.TempProductObj.IN_PRATE_A&&(console.log("@@1"),this.abc=this.ProductService.TempProductObj.IN_PRATE_A,this.ProductService.TempProductObj.IN_PRATE_A=this.ProductService.TempProductObj.PRATE_A,this.productObj.IN_PRATE_A=this.ProductService.TempProductObj.PRATE_A,this.onChangeEx_PRate_A()))}RecalculateNonVATAmount_Ex_Prate_A(){if(1==this.productObj.VAT){if(console.log(this.ProductService.TempProductObj.PRATE_A),this.ProductService.TempProductObj.PRATE_A||0==this.ProductService.TempProductObj.PRATE_A){console.log(this.ProductService.TempProductObj.PRATE_A),this.productObj.PRATE_A=this.ProductService.TempProductObj.PRATE_A,console.log(this.productObj.PRATE_A);let e=(this.ProductService.nullToZeroConverter(this.ProductService.TempProductObj.PRATE_A)*this.masterService.nullToZeroConverter(this.userSetting.VatConRate)).toFixed(5);this.ProductService.TempProductObj.IN_PRATE_A=Number(Number(e)).toFixed(2),this.productObj.IN_PRATE_A=Number(e),this.onChangeEx_PRate_A()}}else this.productObj.PRATE_A=this.ProductService.TempProductObj.PRATE_A}dblClickPopupParty(e){this.productObj.SUPCODE=e.ACID,this.ProductService.suppilierName=e.ACNAME,document.getElementById("retailPrice").focus()}customerEnterCommand(e){this.getCustomersList(),this.genericGridSupplierPopup.show()}getCustomersList(){this.gridPopupSettingsForSupplier={title:"Supplier",apiEndpoints:"/getAccountPagedListByPType/PA/V",defaultFilterIndex:0,columns:[{key:"ACNAME",title:"NAME",hidden:!1,noSearch:!1},{key:"ERPPLANTCODE",title:"CODE",hidden:!1,noSearch:!1},{key:"VATNO",title:"PAN NO.",hidden:!1,noSearch:!1},{key:"ADDRESS",title:"ADDRESS",hidden:!1,noSearch:!1}]}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.P),t.Y36(m),t.Y36(u.qu),t.Y36(X.P),t.Y36(tt.u),t.Y36(h.c),t.Y36(I.V),t.Y36(S.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["Detail_Information"]],viewQuery:function(e,r){if(1&e&&(t.Gf(xe,5),t.Gf(Ae,5)),2&e){let o;t.iGM(o=t.CRH())&&(r.genericGridSupplierPopup=o.first),t.iGM(o=t.CRH())&&(r.genericGrid=o.first)}},hostBindings:function(e,r){1&e&&t.NdJ("keydown",function(i){return r.updown(i)},!1,t.evT)},inputs:{productObj:"productObj",AlternateUnits:"AlternateUnits",MCAT:"MCAT",mode:"mode"},decls:50,vars:21,consts:[[1,"row"],[1,"col-lg-8",2,"margin-left","-30px"],[1,"form-group"],[1,"ThirtyTreeLabel",2,"flex","0 0 21%"],["type","text",2,"flex","0 0 77%",3,"ngModel","ngModelChange"],[1,"col-lg-6",2,"margin-left","-15px"],["id","StockUnit",1,"ThirtyTreeLabel"],["id","StockUnit",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"ThirtyTreeLabel"],["id","purchaseprice","type","number",3,"ngModel","ngModelChange","change"],["class","form-group",4,"ngIf"],[1,"col-lg-6"],[2,"width","49.5%",3,"ngModel","disabled","ngModelChange"],[1,"form-check","form-check-inline"],["type","radio","id","vatItem","name","VAT ITEM",2,"flex","0 0 10%",3,"ngModel","value","ngModelChange","change"],[1,"smallBoldLabel",2,"white-space","nowrap"],["type","radio","id","nonvatItem","name","VAT ITEM",2,"flex","0 0 10%",3,"ngModel","value","disabled","ngModelChange","change"],[1,"col-lg-4"],[1,"fourtyfive"],["type","text",3,"ngModel","ngModelChange"],["id","SupplierName","type","text","placeholder","Press Enter for Supplier Selection","autocomplete","off",3,"ngModel","ngModelChange","keydown.enter"],[3,"popupsettings","onItemDoubleClick"],["genericGridSupplierPopup",""],[4,"ngIf"],[3,"ngValue"],["type","number","readonly","",3,"disabled","ngModel","ngModelChange"],[2,"width","29%"],["id","ExtraCategory",3,"ngModel","ngModelChange","keydown.tab"],["id","TaxCategory",3,"ngModel","ngModelChange","change","keydown.tab"],[1,"modal-sticky",2,"display","block","padding","0px","margin-bottom","20px","margin-right","8rem"],[1,"modal-content","modal-content-main-area",2,"width","70%"],[1,"modal-header",2,"padding","0px","background","#c0c0c0"],[1,"modal-title",2,"padding-left","5px"],["aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group","row",2,"margin-top","1rem","margin-bottom","2px"],[1,"col-sm-3","form-control-label",2,"margin-left","-12px"],[1,"col-sm-8"],["type","text","formControlName","unitName","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px"],[1,"modal-footer"],["type","submit",1,"btn","btn-sm","btn-info",2,"font-size","12px",3,"disabled"],[1,"form-group","row",2,"margin-top","1rem"],[1,"col-sm-4","form-control-label",2,"font-size","13px"],[1,"col-sm-7",2,"padding-left","0px"],["type","text","id","Parent","formControlName","CATEGORYNAME","autocomplete","off",1,"form-control",2,"height","4vh","font-size","13px"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),t._uU(4,"Description : "),t.qZA(),t.TgZ(5,"input",4),t.NdJ("ngModelChange",function(i){return r.productObj.Description=i}),t.qZA()(),t.TgZ(6,"div",0)(7,"div",5)(8,"div",2)(9,"label",6),t._uU(10,"Stock Unit : "),t.qZA(),t.TgZ(11,"select",7),t.NdJ("ngModelChange",function(i){return r.productObj.BASEUNIT=i}),t.YNc(12,Ee,2,2,"option",8),t.qZA()(),t.TgZ(13,"div",2)(14,"label",9),t._uU(15,"Purchase Price :"),t.qZA(),t.TgZ(16,"input",10),t.NdJ("ngModelChange",function(i){return r.ProductService.TempProductObj.PRATE_A=i})("change",function(){return r.RecalculateNonVATAmount_Ex_Prate_A()}),t.qZA()(),t.YNc(17,ye,4,2,"div",11),t.qZA(),t.TgZ(18,"div",12)(19,"div",2)(20,"label"),t._uU(21,"Product Type : "),t.qZA(),t.TgZ(22,"select",13),t.NdJ("ngModelChange",function(i){return r.productObj.PTYPE=i}),t.YNc(23,Ge,2,2,"option",8),t.qZA()(),t.TgZ(24,"div",2)(25,"label"),t._uU(26,"VAT Mode :"),t.qZA(),t.TgZ(27,"div",14)(28,"input",15),t.NdJ("ngModelChange",function(i){return r.productObj.VAT=i})("change",function(){return r.RecalculateVATAmount()}),t.qZA(),t.TgZ(29,"label",16),t._uU(30,"VAT"),t.qZA()(),t.TgZ(31,"div",14)(32,"input",17),t.NdJ("ngModelChange",function(i){return r.productObj.VAT=i})("change",function(){return r.RecalculateVATAmount()}),t.qZA(),t.TgZ(33,"label",16),t._uU(34,"Non-VAT"),t.qZA()()(),t.YNc(35,we,5,2,"div",11),t.YNc(36,Ie,5,2,"div",11),t.qZA()()(),t.TgZ(37,"div",18)(38,"div",2)(39,"label",19),t._uU(40,"Short Name:"),t.qZA(),t.TgZ(41,"input",20),t.NdJ("ngModelChange",function(i){return r.productObj.DESCB=i}),t.qZA()(),t.TgZ(42,"div",2)(43,"label",19),t._uU(44,"Supplier Name :"),t.qZA(),t.TgZ(45,"input",21),t.NdJ("ngModelChange",function(i){return r.ProductService.suppilierName=i})("keydown.enter",function(i){return r.customerEnterCommand(i)}),t.qZA()()()(),t.TgZ(46,"generic-popup-grid",22,23),t.NdJ("onItemDoubleClick",function(i){return r.dblClickPopupParty(i)}),t.qZA(),t.YNc(48,Ne,19,2,"div",24),t.YNc(49,je,19,2,"div",24)),2&e&&(t.xp6(5),t.Q6J("ngModel",r.productObj.Description),t.xp6(6),t.Q6J("ngModel",r.productObj.BASEUNIT)("disabled",1==r.masterService.disableOnCheckTran),t.xp6(1),t.Q6J("ngForOf",r.Units),t.xp6(4),t.Q6J("ngModel",r.ProductService.TempProductObj.PRATE_A),t.xp6(1),t.Q6J("ngIf","view"==r.mode),t.xp6(5),t.Q6J("ngModel",r.productObj.PTYPE)("disabled",1==r.masterService.disableOnCheckTran),t.xp6(1),t.Q6J("ngForOf",r.PTypeList),t.xp6(5),t.Q6J("ngModel",r.productObj.VAT)("value",1),t.xp6(4),t.Q6J("ngModel",r.productObj.VAT)("value",0)("disabled",0==r.masterService.userSetting.EnableNonTaxableSales),t.xp6(3),t.Q6J("ngIf",1==r.userSetting.ENABLEEXTRACATEGORY&&"pro"==r.AppMode),t.xp6(1),t.Q6J("ngIf",1==r.userSetting.ENABLETAXCATEGORY),t.xp6(5),t.Q6J("ngModel",r.productObj.DESCB),t.xp6(4),t.Q6J("ngModel",r.ProductService.suppilierName),t.xp6(1),t.Q6J("popupsettings",r.gridPopupSettingsForSupplier),t.xp6(2),t.Q6J("ngIf",r.addNewUnit),t.xp6(1),t.Q6J("ngIf",r.addNewCategory))},dependencies:[b.sg,b.O5,u._Y,u.YN,u.Kr,u.Fj,u.wV,u.EJ,u._,u.JJ,u.JL,u.On,u.sg,u.u,F.Zl],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{height:23px;vertical-align:middle;font-size:13px;color:#000;border-bottom:1px solid #ddd}textarea[_ngcontent-%COMP%]{font-size:13px;border:1px solid #cbcbcb;border-radius:3px;color:#000}.plainBackGround[_ngcontent-%COMP%]{border:2px solid #e6e6e6;margin-bottom:5px;padding:10px}label[_ngcontent-%COMP%]{height:28px;font-weight:400;width:90px;margin:2px;vertical-align:middle;font-size:13px;padding-top:4px}input[_ngcontent-%COMP%]{padding-left:4px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled, textarea[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important;color:#000!important;background-color:#ebebe4!important}button[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-add-focus[_ngcontent-%COMP%]:focus{transform:scale(1.2);-webkit-transform:scale(1.2);-ms-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.tableBorder[_ngcontent-%COMP%]{border:1px solid;border-color:#dcdcdc}.show[_ngcontent-%COMP%]{overflow:visible;height:auto}.alert-danger[_ngcontent-%COMP%]{background-color:none!important;border-color:none!important;color:#a94442}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}.custom-asset-dropdown[_ngcontent-%COMP%]    {line-height:13px;font-size:14px}  .custom-asset-dropdown .multiselect-dropdown .dropdown-btn{padding:2px 11px}.sourceBatchRate[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;background-color:#f9f9f9;width:9%;.batchRateInput{width: 100%; text-align: right}}.sourceBarCode[_ngcontent-%COMP%]{height:23px;border:1px solid #b4b4b4;width:6%;.barCodeInput{width: 100%;}}",'.add[_ngcontent-%COMP%]{\n      color: #2E8B57;\n      \n      margin-left: 9px;\n    }\n    \n    .add[_ngcontent-%COMP%]:hover{\n    transform: scale(0.97);\n    color: #04AA6D;\n    border-color:#04AA6D;\n    }\n    \n    span.add[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{\n      position: absolute;\n      left: 50%;\n      top:50%;\n      transform: translate(-50%, -50%);\n    }\n    \n    span.add[_ngcontent-%COMP%]{\n      display: inline-block;\n      width: 22px;\n      height: 22px;\n      text-align: center;\n      font-size: 20px;\n      font-family: "Roboto";\n      border-radius: 50%;\n      background: #FFF;\n      position: relative;\n      cursor: pointer;\n    }\n    label[_ngcontent-%COMP%]{\n      width:auto !important;\n    }\n    .form-group[_ngcontent-%COMP%]{\n      display:flex;\n      align-items: center;\n      margin-bottom: 0 !important;\n      font-size: 12px !important;\n    }\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\n      flex: 0 0 45%;\n  \n    }\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{\n      flex: 0 0 56%;\n      width:100%;\n      font-size: 11px !important;\n  \n    }\n    .salesPricefieldSet[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\n      flex: 0 0 20%;\n  \n    }\n    .salesPricefieldSet[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\n      flex: 0 0 38%;\n      width:100%;\n      font-size: 11px !important;\n      margin-left: 1%;\n      margin-right: 1%;\n  \n    }\n    fieldset[_ngcontent-%COMP%]{\n      border: 0px solid #ddd;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]{\n      display: flex;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{\n      flex: 0 0 20%;\n    }\n    .SalesPricelabels[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\n      flex: 0 0 38%;\n      text-align: center;\n      font-size: 14px;\n    }']}),n})();const Re=["*"];let et=(()=>{class n{constructor(){this.active=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tab"]],inputs:{title:["tabTitle","title"],active:"active"},ngContentSelectors:Re,decls:2,vars:1,consts:[[1,"pane",3,"hidden"]],template:function(e,r){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&e&&t.Q6J("hidden",!r.active)},styles:[".pane[_ngcontent-%COMP%]{padding:1em}"]}),n})();function Be(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",2),t.NdJ("click",function(){const i=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.selectTab(i))}),t.TgZ(1,"a"),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit;t.ekj("active",e.active),t.xp6(2),t.Oqu(e.title)}}const ke=["*"];let Ze=(()=>{class n{ngAfterContentInit(){try{0===this.tabs.filter(r=>r.active).length&&this.selectTab(this.tabs.first)}catch(e){alert(e)}}selectTab(e){try{this.tabs.toArray().forEach(r=>r.active=!1),e.active=!0}catch(r){alert(r)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tabs"]],contentQueries:function(e,r,o){if(1&e&&t.Suo(o,et,4),2&e){let i;t.iGM(i=t.CRH())&&(r.tabs=i)}},ngContentSelectors:ke,decls:3,vars:1,consts:[[1,"nav","nav-tabs",2,"height","29px","justify-content","space-between","width","100%","padding","0 15px"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,r){1&e&&(t.F$t(),t.TgZ(0,"ul",0),t.YNc(1,Be,3,3,"li",1),t.qZA(),t.Hsn(2)),2&e&&(t.xp6(1),t.Q6J("ngForOf",r.tabs))},dependencies:[b.sg],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:5px;text-decoration:none;font-size:14px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff;cursor:pointer;cursor:hand}.active[_ngcontent-%COMP%]{color:#000;background-color:#336799;height:29px}@media (min-height: 1024px),(min-width: 768px){ul[_ngcontent-%COMP%]{justify-content:none}}"]}),n})(),Fe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[S.e,X.P,tt.u,me.p],imports:[M.xc,b.ez,u.u5,ne,u.UX,se.m.forRoot(),ae._.forRoot(),ce.Z,L.ne,de.D,ue.X.forRoot(),Z.JX,le.Is,pe.Z.forRoot(),he.i.forRoot(),ge.m,be.c.forRoot()]}),n})();t.B6R(J,function(){return[b.O5,et,Ze,Ue,Te,Se,ve]},[])}}]);